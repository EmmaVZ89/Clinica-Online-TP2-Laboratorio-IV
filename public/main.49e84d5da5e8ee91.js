"use strict";(self.webpackChunkClinicaOnline=self.webpackChunkClinicaOnline||[]).push([[179],{2011:(mt,Ce,F)=>{F.d(Ce,{Dh:()=>fe,GT:()=>he,cc:()=>Re,hO:()=>He,on:()=>H,pX:()=>le,xv:()=>pe});var l=F(4650),te=F(127),k=F(5813);mt=F.hmd(mt);const ae=["ngOnDestroy"],le=(ge,it,ft,Me={})=>new Proxy(ge,{get:(be,De)=>ft.runOutsideAngular(()=>{var ze;if(ge[De])return!(null===(ze=Me?.spy)||void 0===ze)&&ze.get&&Me.spy.get(De,ge[De]),ge[De];if(ae.indexOf(De)>-1)return()=>{};const Ze=it.toPromise().then(j=>{const _e=j&&j[De];return"function"==typeof _e?_e.bind(j):_e&&_e.then?_e.then(W=>ft.run(()=>W)):ft.run(()=>_e)});return new Proxy(()=>{},{get:(j,_e)=>Ze[_e],apply:(j,_e,W)=>Ze.then(ee=>{var se;const re=ee&&ee(...W);return!(null===(se=Me?.spy)||void 0===se)&&se.apply&&Me.spy.apply(De,W,re),re})})})}),he=(ge,it)=>{it.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Me=>{Object.defineProperty(ge.prototype,Me,Object.getOwnPropertyDescriptor(ft.prototype||ft,Me))})})};class ce{constructor(it){return it}}const fe=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function H(ge,it,ft){const be="object"==typeof ft&&ft||{};be.name=be.name||"string"==typeof ft&&ft||"[DEFAULT]";const ze=te.Z.apps.filter(Ze=>Ze&&Ze.name===be.name)[0]||it.runOutsideAngular(()=>te.Z.initializeApp(ge,be));try{JSON.stringify(ge)!==JSON.stringify(ze.options)&&$("error",`${ze.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(ze)}const $=(ge,...it)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...it)},Q={provide:ce,useFactory:H,deps:[fe,l.R0b,[new l.FiY,pe]]};let He=(()=>{class ge{constructor(ft){te.Z.registerVersion("angularfire",k.q4.full,"core"),te.Z.registerVersion("angularfire",k.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,ft.toString())}static initializeApp(ft,Me){return{ngModule:ge,providers:[{provide:fe,useValue:ft},{provide:pe,useValue:Me}]}}}return ge.\u0275fac=function(ft){return new(ft||ge)(l.LFG(l.Lbi))},ge.\u0275mod=l.oAB({type:ge}),ge.\u0275inj=l.cJS({providers:[Q]}),ge})();function Re(ge,it,ft,Me,be){const[,De,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===ge)||[];if(De)return function Te(ge,it){try{return ge.toString()===it.toString()}catch{return ge===it}}(be,ze)||(ye("error",`${it} was already initialized on the ${ft} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:be,was:ze})),De;{const Ze=Me();return globalThis.\u0275AngularfireInstanceCache.push([ge,Ze,be]),Ze}}const lt=!!mt.hot,ye=(ge,...it)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Ce,F)=>{F.d(Ce,{q4:()=>nt,iC:()=>Ns,fc:()=>Qn,HU:()=>li,vb:()=>rs,JM:()=>pl});var l=F(4650),te=F(5867),k=F(5861),ae=F(9681),le=F(2090),he=F(4859),ce=F(1877),fe=F(8766);const pe="@firebase/installations",H="0.5.15",Q=`w:${H}`,He="FIS_v2",it=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(I){return I instanceof le.ZR&&I.code.includes("request-failed")}function Me({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function be(I){return{token:I.token,requestStatus:2,expiresIn:ee(I.expiresIn),creationTime:Date.now()}}function De(I,C){return ze.apply(this,arguments)}function ze(){return(ze=(0,k.Z)(function*(I,C){const U=(yield C.json()).error;return it.create("request-failed",{requestName:I,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ze({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function j(I,{refreshToken:C}){const O=Ze(I);return O.append("Authorization",function se(I){return`${He} ${I}`}(C)),O}function _e(I){return W.apply(this,arguments)}function W(){return(W=(0,k.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function ee(I){return Number(I.replace("s","000"))}function re(I,C){return Be.apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:O}){const U=Me(I),J=Ze(I),ie=C.getImmediate({optional:!0});if(ie){const Ct=yield ie.getHeartbeatsHeader();Ct&&J.append("x-firebase-client",Ct)}const Fe={method:"POST",headers:J,body:JSON.stringify({fid:O,authVersion:He,appId:I.appId,sdkVersion:Q})},ut=yield _e(()=>fetch(U,Fe));if(ut.ok){const Ct=yield ut.json();return{fid:Ct.fid||O,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:be(Ct.authToken)}}throw yield De("Create Installation",ut)})).apply(this,arguments)}function Ve(I){return new Promise(C=>{setTimeout(C,I)})}const rn=/^[cdef][\w-]{21}$/;function Xe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function gn(I){return function wt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return rn.test(O)?O:""}catch{return""}}function Cn(I){return`${I.appName}!${I.appId}`}const en=new Map;function sn(I,C){const O=Cn(I);yn(O,C),function ys(I,C){const O=function zr(){return!ki&&"BroadcastChannel"in self&&(ki=new BroadcastChannel("[Firebase] FID Change"),ki.onmessage=I=>{yn(I.data.key,I.data.fid)}),ki}();O&&O.postMessage({key:I,fid:C}),function ti(){0===en.size&&ki&&(ki.close(),ki=null)}()}(O,C)}function yn(I,C){const O=en.get(I);if(O)for(const U of O)U(C)}let ki=null;const Ti="firebase-installations-store";let Ei=null;function Ga(){return Ei||(Ei=(0,fe.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Ti)}})),Ei}function et(I,C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(I,C){const O=Cn(I),J=(yield Ga()).transaction(Ti,"readwrite"),ie=J.objectStore(Ti),Ie=yield ie.get(O);return yield ie.put(C,O),yield J.done,(!Ie||Ie.fid!==C.fid)&&sn(I,C.fid),C})).apply(this,arguments)}function Hs(I){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*(I){const C=Cn(I),U=(yield Ga()).transaction(Ti,"readwrite");yield U.objectStore(Ti).delete(C),yield U.done})).apply(this,arguments)}function Di(I,C){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,k.Z)(function*(I,C){const O=Cn(I),J=(yield Ga()).transaction(Ti,"readwrite"),ie=J.objectStore(Ti),Ie=yield ie.get(O),Fe=C(Ie);return void 0===Fe?yield ie.delete(O):yield ie.put(Fe,O),yield J.done,Fe&&(!Ie||Ie.fid!==Fe.fid)&&sn(I,Fe.fid),Fe})).apply(this,arguments)}function Kn(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,k.Z)(function*(I){let C;const O=yield Di(I.appConfig,U=>{const J=Tn(U),ie=Tt(I,J);return C=ie.registrationPromise,ie.installationEntry});return""===O.fid?{installationEntry:yield C}:{installationEntry:O,registrationPromise:C}})).apply(this,arguments)}function Tn(I){return Pt(I||{fid:Xe(),registrationStatus:0})}function Tt(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(it.create("app-offline"))};const O={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},U=function _t(I,C){return fn.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:U}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Nr(I)}:{installationEntry:C}}function fn(){return(fn=(0,k.Z)(function*(I,C){try{const O=yield re(I,C);return et(I.appConfig,O)}catch(O){throw ft(O)&&409===O.customData.serverCode?yield Hs(I.appConfig):yield et(I.appConfig,{fid:C.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Nr(I){return er.apply(this,arguments)}function er(){return(er=(0,k.Z)(function*(I){let C=yield ni(I.appConfig);for(;1===C.registrationStatus;)yield Ve(100),C=yield ni(I.appConfig);if(0===C.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield Kn(I);return U||O}return C})).apply(this,arguments)}function ni(I){return Di(I,C=>{if(!C)throw it.create("installation-not-found");return Pt(C)})}function Pt(I){return function $s(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ln(I,C){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},O){const U=cn(I,O),J=j(I,O),ie=C.getImmediate({optional:!0});if(ie){const Ct=yield ie.getHeartbeatsHeader();Ct&&J.append("x-firebase-client",Ct)}const Fe={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:I.appId}})},ut=yield _e(()=>fetch(U,Fe));if(ut.ok)return be(yield ut.json());throw yield De("Generate Auth Token",ut)})).apply(this,arguments)}function cn(I,{fid:C}){return`${Me(I)}/${C}/authTokens:generate`}function cr(I){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,k.Z)(function*(I,C=!1){let O;const U=yield Di(I.appConfig,ie=>{if(!jt(ie))throw it.create("not-registered");const Ie=ie.authToken;if(!C&&G(Ie))return ie;if(1===Ie.requestStatus)return O=ot(I,C),ie;{if(!navigator.onLine)throw it.create("app-offline");const Fe=K(ie);return O=At(I,Fe),Fe}});return O?yield O:U.authToken})).apply(this,arguments)}function ot(I,C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,k.Z)(function*(I,C){let O=yield st(I.appConfig);for(;1===O.authToken.requestStatus;)yield Ve(100),O=yield st(I.appConfig);const U=O.authToken;return 0===U.requestStatus?cr(I,C):U})).apply(this,arguments)}function st(I){return Di(I,C=>{if(!jt(C))throw it.create("not-registered");return function we(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function At(I,C){return It.apply(this,arguments)}function It(){return(It=(0,k.Z)(function*(I,C){try{const O=yield ln(I,C),U=Object.assign(Object.assign({},C),{authToken:O});return yield et(I.appConfig,U),O}catch(O){if(!ft(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield et(I.appConfig,U)}else yield Hs(I.appConfig);throw O}})).apply(this,arguments)}function jt(I){return void 0!==I&&2===I.registrationStatus}function G(I){return 2===I.requestStatus&&!function B(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function K(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function Ye(){return(Ye=(0,k.Z)(function*(I){const C=I,{installationEntry:O,registrationPromise:U}=yield Kn(C);return U?U.catch(console.error):cr(C).catch(console.error),O.fid})).apply(this,arguments)}function tn(){return(tn=(0,k.Z)(function*(I,C=!1){const O=I;return yield wn(O),(yield cr(O,C)).token})).apply(this,arguments)}function wn(I){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,k.Z)(function*(I){const{registrationPromise:C}=yield Kn(I);C&&(yield C)})).apply(this,arguments)}function Gs(I){return it.create("missing-app-config-values",{valueName:I})}const sa="installations",Mn=I=>{const C=I.getProvider("app").getImmediate(),O=function Sn(I){if(!I||!I.options)throw Gs("App Configuration");if(!I.name)throw Gs("App Name");const C=["projectId","apiKey","appId"];for(const O of C)if(!I.options[O])throw Gs(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},yo=I=>{const C=I.getProvider("app").getImmediate(),O=(0,ae._getProvider)(C,sa).getImmediate();return{getId:()=>function X(I){return Ye.apply(this,arguments)}(O),getToken:J=>function yt(I){return tn.apply(this,arguments)}(O,J)}};(function Wl(){(0,ae._registerComponent)(new he.wA(sa,Mn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",yo,"PRIVATE"))})(),(0,ae.registerVersion)(pe,H),(0,ae.registerVersion)(pe,H,"esm2017");const Xi="@firebase/remote-config",nr=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gf{constructor(C,O,U,J){this.client=C,this.storage=O,this.storageCache=U,this.logger=J}isCachedDataFresh(C,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,J=U<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${J}.`),J}fetch(C){var O=this;return(0,k.Z)(function*(){const[U,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(C.cacheMaxAgeMillis,U))return J;C.eTag=J&&J.eTag;const ie=yield O.client.fetch(C),Ie=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ie.push(O.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ie),ie})()}}function bo(I=navigator){return I.languages&&I.languages[0]||I.language}class Su{constructor(C,O,U,J,ie,Ie){this.firebaseInstallations=C,this.sdkVersion=O,this.namespace=U,this.projectId=J,this.apiKey=ie,this.appId=Ie}fetch(C){var O=this;return(0,k.Z)(function*(){var U,J,ie;const[Ie,Fe]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},vt={sdk_version:O.sdkVersion,app_instance_id:Ie,app_instance_id_token:Fe,app_id:O.appId,language_code:bo()},Rn={method:"POST",headers:kt,body:JSON.stringify(vt)},Mr=fetch(Ct,Rn),Fo=new Promise((ba,Lo)=>{C.signal.addEventListener(()=>{const Gi=new Error("The operation was aborted.");Gi.name="AbortError",Lo(Gi)})});let so;try{yield Promise.race([Mr,Fo]),so=yield Mr}catch(ba){let Lo="fetch-client-network";throw"AbortError"===(null===(U=ba)||void 0===U?void 0:U.name)&&(Lo="fetch-timeout"),nr.create(Lo,{originalErrorMessage:null===(J=ba)||void 0===J?void 0:J.message})}let Ft=so.status;const ss=so.headers.get("ETag")||void 0;let oo,Ai;if(200===so.status){let ba;try{ba=yield so.json()}catch(Lo){throw nr.create("fetch-client-parse",{originalErrorMessage:null===(ie=Lo)||void 0===ie?void 0:ie.message})}oo=ba.entries,Ai=ba.state}if("INSTANCE_STATE_UNSPECIFIED"===Ai?Ft=500:"NO_CHANGE"===Ai?Ft=304:("NO_TEMPLATE"===Ai||"EMPTY_CONFIG"===Ai)&&(oo={}),304!==Ft&&200!==Ft)throw nr.create("fetch-status",{httpStatus:Ft});return{status:Ft,eTag:ss,config:oo}})()}}class cm{constructor(C,O){this.client=C,this.storage=O}fetch(C){var O=this;return(0,k.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(C,U)})()}attemptFetch(C,{throttleEndTimeMillis:O,backoffCount:U}){var J=this;return(0,k.Z)(function*(){yield function dr(I,C){return new Promise((O,U)=>{const J=Math.max(C-Date.now(),0),ie=setTimeout(O,J);I.addEventListener(()=>{clearTimeout(ie),U(nr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,O);try{const ie=yield J.client.fetch(C);return yield J.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function zd(I){if(!(I instanceof le.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ie))throw ie;const Ie={throttleEndTimeMillis:Date.now()+(0,le.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Ie),J.attemptFetch(C,Ie)}})()}}class Zd{constructor(C,O,U,J,ie){this.app=C,this._client=O,this._storageCache=U,this._storage=J,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Au(I,C){var O;const U=I.target.error||void 0;return nr.create(C,{originalErrorMessage:U&&(null===(O=U)||void 0===O?void 0:O.message)})}const Ws="app_namespace_store";class fm{constructor(C,O,U,J=function hm(){return new Promise((I,C)=>{var O;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=J=>{C(Au(J,"storage-open"))},U.onsuccess=J=>{I(J.target.result)},U.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(U){C(nr.create("storage-open",{originalErrorMessage:null===(O=U)||void 0===O?void 0:O.message}))}})}()){this.appId=C,this.appName=O,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var O=this;return(0,k.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,ie)=>{var Ie;const ut=U.transaction([Ws],"readonly").objectStore(Ws),Ct=O.createCompositeKey(C);try{const kt=ut.get(Ct);kt.onerror=vt=>{ie(Au(vt,"storage-get"))},kt.onsuccess=vt=>{const Rn=vt.target.result;J(Rn?Rn.value:void 0)}}catch(kt){ie(nr.create("storage-get",{originalErrorMessage:null===(Ie=kt)||void 0===Ie?void 0:Ie.message}))}})})()}set(C,O){var U=this;return(0,k.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ie,Ie)=>{var Fe;const Ct=J.transaction([Ws],"readwrite").objectStore(Ws),kt=U.createCompositeKey(C);try{const vt=Ct.put({compositeKey:kt,value:O});vt.onerror=Rn=>{Ie(Au(Rn,"storage-set"))},vt.onsuccess=()=>{ie()}}catch(vt){Ie(nr.create("storage-set",{originalErrorMessage:null===(Fe=vt)||void 0===Fe?void 0:Fe.message}))}})})()}delete(C){var O=this;return(0,k.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,ie)=>{var Ie;const ut=U.transaction([Ws],"readwrite").objectStore(Ws),Ct=O.createCompositeKey(C);try{const kt=ut.delete(Ct);kt.onerror=vt=>{ie(Au(vt,"storage-delete"))},kt.onsuccess=()=>{J()}}catch(kt){ie(nr.create("storage-delete",{originalErrorMessage:null===(Ie=kt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Kd{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const O=C.storage.getLastFetchStatus(),U=C.storage.getLastSuccessfulFetchTimestampMillis(),J=C.storage.getActiveConfig(),ie=yield O;ie&&(C.lastFetchStatus=ie);const Ie=yield U;Ie&&(C.lastSuccessfulFetchTimestampMillis=Ie);const Fe=yield J;Fe&&(C.activeConfig=Fe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Ql(){return qf.apply(this,arguments)}function qf(){return(qf=(0,k.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Ks(){(0,ae._registerComponent)(new he.wA("remote-config",function I(C,{instanceIdentifier:O}){const U=C.getProvider("app").getImmediate(),J=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!(0,le.hl)())throw nr.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ie,appId:Fe}=U.options;if(!ie)throw nr.create("registration-project-id");if(!Ie)throw nr.create("registration-api-key");if(!Fe)throw nr.create("registration-app-id");const ut=new fm(Fe,U.name,O=O||"firebase"),Ct=new Kd(ut),kt=new ce.Yd(Xi);kt.logLevel=ce.in.ERROR;const vt=new Su(J,ae.SDK_VERSION,O,ie,Ie,Fe),Rn=new cm(vt,ut),Mr=new Gf(Rn,ut,Ct,kt),Fo=new Zd(U,Mr,Ct,ut,kt);return function pn(I){const C=(0,le.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Fo),Fo},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Xi,"0.3.14"),(0,ae.registerVersion)(Xi,"0.3.14","esm2017")}();const es="/firebase-messaging-sw.js",bs="/firebase-cloud-messaging-push-scope",ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Za="google.c.a.c_id",Jl="google.c.a.c_l",Nu="google.c.a.ts",zf="google.c.a.e";var Ts=(()=>{return(I=Ts||(Ts={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ts;var I})();function Ii(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ii(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),J=new Uint8Array(U.length);for(let ie=0;ie<U.length;++ie)J[ie]=U.charCodeAt(ie);return J}const oa="fcm_token_details_db",xr="fcm_token_object_Store";function Zf(I){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(oa))return null;let C=null;return(yield(0,fe.X3)(oa,5,{upgrade:(U=(0,k.Z)(function*(J,ie,Ie,Fe){var ut;if(ie<2||!J.objectStoreNames.contains(xr))return;const Ct=Fe.objectStore(xr),kt=yield Ct.index("fcmSenderId").get(I);if(yield Ct.clear(),kt)if(2===ie){const vt=kt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;C={token:vt.fcmToken,createTime:null!==(ut=vt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:Ii(vt.vapidKey)}}}else if(3===ie){const vt=kt;C={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Ii(vt.auth),p256dh:Ii(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Ii(vt.vapidKey)}}}else if(4===ie){const vt=kt;C={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Ii(vt.auth),p256dh:Ii(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Ii(vt.vapidKey)}}}}),function(ie,Ie,Fe,ut){return U.apply(this,arguments)})})).close(),yield(0,fe.Lj)(oa),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Bn(C)?C:null;var U}),Wf.apply(this,arguments)}function Bn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Ci="firebase-messaging-store";let Kr=null;function ec(){return Kr||(Kr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Ci)}})),Kr}function aa(I){return Es.apply(this,arguments)}function Es(){return(Es=(0,k.Z)(function*(I){const C=Vi(I),U=yield(yield ec()).transaction(Ci).objectStore(Ci).get(C);if(U)return U;{const J=yield Zf(I.appConfig.senderId);if(J)return yield Xt(I,J),J}})).apply(this,arguments)}function Xt(I,C){return tc.apply(this,arguments)}function tc(){return(tc=(0,k.Z)(function*(I,C){const O=Vi(I),J=(yield ec()).transaction(Ci,"readwrite");return yield J.objectStore(Ci).put(C,O),yield J.done,C})).apply(this,arguments)}function To(I){return nc.apply(this,arguments)}function nc(){return(nc=(0,k.Z)(function*(I){const C=Vi(I),U=(yield ec()).transaction(Ci,"readwrite");yield U.objectStore(Ci).delete(C),yield U.done})).apply(this,arguments)}function Vi({appConfig:I}){return I.appId}const Ln=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ot(I,C){return ic.apply(this,arguments)}function ic(){return(ic=(0,k.Z)(function*(I,C){var O;const U=yield Mu(I),J=Ne(C),ie={method:"POST",headers:U,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(Ds(I.appConfig),ie)).json()}catch(Fe){throw Ln.create("token-subscribe-failed",{errorInfo:null===(O=Fe)||void 0===O?void 0:O.toString()})}if(Ie.error)throw Ln.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Ln.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Yf(I,C){return sc.apply(this,arguments)}function sc(){return(sc=(0,k.Z)(function*(I,C){var O;const U=yield Mu(I),J=Ne(C.subscriptionOptions),ie={method:"PATCH",headers:U,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(`${Ds(I.appConfig)}/${C.token}`,ie)).json()}catch(Fe){throw Ln.create("token-update-failed",{errorInfo:null===(O=Fe)||void 0===O?void 0:O.toString()})}if(Ie.error)throw Ln.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Ln.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function oc(I,C){return xu.apply(this,arguments)}function xu(){return(xu=(0,k.Z)(function*(I,C){var O;const J={method:"DELETE",headers:yield Mu(I)};try{const Ie=yield(yield fetch(`${Ds(I.appConfig)}/${C}`,J)).json();if(Ie.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(ie){throw Ln.create("token-unsubscribe-failed",{errorInfo:null===(O=ie)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function Ds({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Mu(I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,k.Z)(function*({appConfig:I,installations:C}){const O=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ne({p256dh:I,auth:C,endpoint:O,vapidKey:U}){const J={web:{endpoint:O,auth:C,p256dh:I}};return U!==ws&&(J.web.applicationPubKey=U),J}const Wt=6048e5;function ac(I){return lc.apply(this,arguments)}function lc(){return(lc=(0,k.Z)(function*(I){const C=yield Ru(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:Ii(C.getKey("auth")),p256dh:Ii(C.getKey("p256dh"))},U=yield aa(I.firebaseDependencies);if(U){if(Jd(U.subscriptionOptions,O))return Date.now()>=U.createTime+Wt?la(I,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield oc(I.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Ka(I.firebaseDependencies,O)}return Ka(I.firebaseDependencies,O)})).apply(this,arguments)}function jn(I){return cc.apply(this,arguments)}function cc(){return(cc=(0,k.Z)(function*(I){const C=yield aa(I.firebaseDependencies);C&&(yield oc(I.firebaseDependencies,C.token),yield To(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function la(I,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,k.Z)(function*(I,C){try{const O=yield Yf(I.firebaseDependencies,C),U=Object.assign(Object.assign({},C),{token:O,createTime:Date.now()});return yield Xt(I.firebaseDependencies,U),O}catch(O){throw yield jn(I),O}})).apply(this,arguments)}function Ka(I,C){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,k.Z)(function*(I,C){const U={token:yield Ot(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Xt(I,U),U.token})).apply(this,arguments)}function Ru(I,C){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,k.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ii(C)})})).apply(this,arguments)}function Jd(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function Qa(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Hn(I,C){if(!C.notification)return;I.notification={};const O=C.notification.title;O&&(I.notification.title=O);const U=C.notification.body;U&&(I.notification.body=U);const J=C.notification.image;J&&(I.notification.image=J)}(C,I),function ts(I,C){!C.data||(I.data=C.data)}(C,I),function ku(I,C){var O,U,J,ie,Ie;if(!(C.fcmOptions||null!==(O=C.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const Fe=null!==(J=null===(U=C.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==J?J:null===(ie=C.notification)||void 0===ie?void 0:ie.click_action;Fe&&(I.fcmOptions.link=Fe);const ut=null===(Ie=C.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;ut&&(I.fcmOptions.analyticsLabel=ut)}(C,I),C}function Eo(I){return"object"==typeof I&&!!I&&Za in I}function Is(I,C){const O=[];for(let U=0;U<I.length;U++)O.push(I.charAt(U)),U<C.length&&O.push(C.charAt(U));return O.join("")}function Ja(I){return Ln.create("missing-app-config-values",{valueName:I})}Is("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Is("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gm{constructor(C,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function pm(I){if(!I||!I.options)throw Ja("App Configuration Object");if(!I.name)throw Ja("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const U of C)if(!O[U])throw Ja(U);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:J,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Fu(I){return uc.apply(this,arguments)}function uc(){return(uc=(0,k.Z)(function*(I){var C;try{I.swRegistration=yield navigator.serviceWorker.register(es,{scope:bs}),I.swRegistration.update().catch(()=>{})}catch(O){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:null===(C=O)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function Xa(I,C){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,k.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield Fu(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function el(I,C){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,k.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=ws)})).apply(this,arguments)}function hc(){return(hc=(0,k.Z)(function*(I,C){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield el(I,C?.vapidKey),yield Xa(I,C?.serviceWorkerRegistration),ac(I)})).apply(this,arguments)}function Vu(I,C,O){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,k.Z)(function*(I,C,O){const U=ju(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[Za],message_name:O[Jl],message_time:O[Nu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ju(I){switch(I){case Ts.NOTIFICATION_CLICKED:return"notification_open";case Ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Do(){return(Do=(0,k.Z)(function*(I,C){const O=C.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===Ts.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Qa(O)):I.onMessageHandler.next(Qa(O)));const U=O.data;Eo(U)&&"1"===U[zf]&&(yield Vu(I,O.messageType,U))})).apply(this,arguments)}const Io="@firebase/messaging",fr=I=>{const C=new gm(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Xd(I,C){return Do.apply(this,arguments)}(C,O)),C},si=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:U=>function dc(I,C){return hc.apply(this,arguments)}(C,U)}};function eh(){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,k.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function An(){(0,ae._registerComponent)(new he.wA("messaging",fr,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",si,"PRIVATE")),(0,ae.registerVersion)(Io,"0.9.19"),(0,ae.registerVersion)(Io,"0.9.19","esm2017")}();const ua="analytics",rh="firebase_id",So="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mc="https://www.googletagmanager.com/gtag/js",$n=new ce.Yd("@firebase/analytics");function _c(I){return Promise.all(I.map(C=>C.catch(O=>O)))}function yc(I,C){const O=document.createElement("script");O.src=`${mc}?l=${I}&id=${C}`,O.async=!0,document.head.appendChild(O)}function Jf(I,C,O,U,J,ie){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(I,C,O,U,J,ie){const Ie=U[J];try{if(Ie)yield C[Ie];else{const ut=(yield _c(O)).find(Ct=>Ct.measurementId===J);ut&&(yield C[ut.appId])}}catch(Fe){$n.error(Fe)}I("config",J,ie)})).apply(this,arguments)}function da(I,C,O,U,J){return No.apply(this,arguments)}function No(){return(No=(0,k.Z)(function*(I,C,O,U,J){try{let ie=[];if(J&&J.send_to){let Ie=J.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Fe=yield _c(O);for(const ut of Ie){const Ct=Fe.find(vt=>vt.measurementId===ut),kt=Ct&&C[Ct.appId];if(!kt){ie=[];break}ie.push(kt)}}0===ie.length&&(ie=Object.values(C)),yield Promise.all(ie),I("event",U,J||{})}catch(ie){$n.error(ie)}})).apply(this,arguments)}function sh(I){const C=window.document.getElementsByTagName("script");for(const O of Object.values(C))if(O.src&&O.src.includes(mc)&&O.src.includes(I))return O;return null}const wr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),il=new class ns{constructor(C={},O=1e3){this.throttleMetadata=C,this.intervalMillis=O}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,O){this.throttleMetadata[C]=O}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function ah(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function sl(I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,k.Z)(function*(I){var C;const{appId:O,apiKey:U}=I,J={method:"GET",headers:ah(U)},ie=So.replace("{app-id}",O),Ie=yield fetch(ie,J);if(200!==Ie.status&&304!==Ie.status){let Fe="";try{const ut=yield Ie.json();null!==(C=ut.error)&&void 0!==C&&C.message&&(Fe=ut.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Fe})}return Ie.json()})).apply(this,arguments)}function Yn(I){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,k.Z)(function*(I,C=il,O){const{appId:U,apiKey:J,measurementId:ie}=I.options;if(!U)throw wr.create("no-app-id");if(!J){if(ie)return{measurementId:ie,appId:U};throw wr.create("no-api-key")}const Ie=C.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new Tc;return setTimeout((0,k.Z)(function*(){Fe.abort()}),void 0!==O?O:6e4),bc({appId:U,apiKey:J,measurementId:ie},Ie,Fe,C)})).apply(this,arguments)}function bc(I,C,O){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,k.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:O},U,J=il){var ie,Ie;const{appId:Fe,measurementId:ut}=I;try{yield ol(U,C)}catch(Ct){if(ut)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ie=Ct)||void 0===ie?void 0:ie.message}]`),{appId:Fe,measurementId:ut};throw Ct}try{const Ct=yield sl(I);return J.deleteThrottleMetadata(Fe),Ct}catch(Ct){const kt=Ct;if(!wc(kt)){if(J.deleteThrottleMetadata(Fe),ut)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:Fe,measurementId:ut};throw Ct}const vt=503===Number(null===(Ie=kt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,le.$s)(O,J.intervalMillis,30):(0,le.$s)(O,J.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+vt,backoffCount:O+1};return J.setThrottleMetadata(Fe,Rn),$n.debug(`Calling attemptFetch again in ${vt} millis`),bc(I,Rn,U,J)}})).apply(this,arguments)}function ol(I,C){return new Promise((O,U)=>{const J=Math.max(C-Date.now(),0),ie=setTimeout(O,J);I.addEventListener(()=>{clearTimeout(ie),U(wr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function wc(I){if(!(I instanceof le.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Tc{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Js,ll;function Xs(){return(Xs=(0,k.Z)(function*(I,C,O,U,J){if(J&&J.global)I("event",O,U);else{const ie=yield C;I("event",O,Object.assign(Object.assign({},U),{send_to:ie}))}})).apply(this,arguments)}function Mo(I){ll=I}function zu(I){Js=I}function Ss(){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,k.Z)(function*(){var I;if(!(0,le.hl)())return $n.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(C){return $n.warn(wr.create("indexeddb-unavailable",{errorInfo:null===(I=C)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function pa(){return(pa=(0,k.Z)(function*(I,C,O,U,J,ie,Ie){var Fe;const ut=Yn(I);ut.then(Mr=>{O[Mr.measurementId]=Mr.appId,I.options.measurementId&&Mr.measurementId!==I.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mr=>$n.error(Mr)),C.push(ut);const Ct=Ss().then(Mr=>{if(Mr)return U.getId()}),[kt,vt]=yield Promise.all([ut,Ct]);sh(ie)||yc(ie,kt.measurementId),ll&&(J("consent","default",ll),Mo(void 0)),J("js",new Date);const Rn=null!==(Fe=Ie?.config)&&void 0!==Fe?Fe:{};return Rn.origin="firebase",Rn.update=!0,null!=vt&&(Rn[rh]=vt),J("config",kt.measurementId,Rn),Js&&(J("set",Js),zu(void 0)),kt.measurementId})).apply(this,arguments)}class Cc{constructor(C){this.app=C}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},eo=[];const ga={};let _a,Ro,ma="dataLayer",cl=!1;function Xy(I,C,O){!function mm(){const I=[];if((0,le.ru)()&&I.push("This is a browser extension environment."),(0,le.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((U,J)=>`(${J+1}) ${U}`).join(" "),O=wr.create("invalid-analytics-context",{errorInfo:C});$n.warn(O.message)}}();const U=I.options.appId;if(!U)throw wr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw wr.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[U])throw wr.create("already-exists",{id:U});if(!cl){!function ih(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(ma);const{wrappedGtag:ie,gtagCore:Ie}=function tl(I,C,O,U,J){let ie=function(...Ie){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ie=window[J]),window[J]=function vc(I,C,O,U){function ie(){return(ie=(0,k.Z)(function*(Ie,Fe,ut){try{"event"===Ie?yield da(I,C,O,Fe,ut):"config"===Ie?yield Jf(I,C,O,U,Fe,ut):"consent"===Ie?I("consent","update",ut):I("set",Fe)}catch(Ct){$n.error(Ct)}})).apply(this,arguments)}return function J(Ie,Fe,ut){return ie.apply(this,arguments)}}(ie,I,C,O),{gtagCore:ie,wrappedGtag:window[J]}}(oi,eo,ga,ma,"gtag");Ro=ie,_a=Ie,cl=!0}return oi[U]=function fa(I,C,O,U,J,ie,Ie){return pa.apply(this,arguments)}(I,eo,ga,C,_a,ma,O),new Cc(I)}function tv(){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,k.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const at="@firebase/analytics";!function un(){(0,ae._registerComponent)(new he.wA(ua,(C,{options:O})=>Xy(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function I(C){try{const O=C.getProvider(ua).getImmediate();return{logEvent:(U,J,ie)=>function on(I,C,O,U){I=(0,le.m9)(I),function lh(I,C,O,U,J){return Xs.apply(this,arguments)}(Ro,oi[I.app.options.appId],C,O,U).catch(J=>$n.error(J))}(O,U,J,ie)}}catch(O){throw wr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(at,"0.8.3"),(0,ae.registerVersion)(at,"0.8.3","esm2017")}();var ji=F(4408),Gn=F(7565);const Ac=new class to extends Gn.v{}(class dl extends ji.o{constructor(C,O){super(C,O),this.scheduler=C,this.work=O}schedule(C,O=0){return O>0?super.schedule(C,O):(this.delay=O,this.state=C,this.scheduler.flush(this),this)}execute(C,O){return O>0||this.closed?super.execute(C,O):this._execute(C,O)}requestAsyncId(C,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(C,O,U):(C.flush(this),0)}});var Zu=F(4986),hl=F(8505),Po=F(5363),As=F(9468);const nt=new l.GfV("7.4.1"),fl="__angularfire_symbol__analyticsIsSupportedValue",no="__angularfire_symbol__analyticsIsSupported",ya="__angularfire_symbol__remoteConfigIsSupportedValue",va="__angularfire_symbol__remoteConfigIsSupported",Dn="__angularfire_symbol__messagingIsSupportedValue",Wu="__angularfire_symbol__messagingIsSupported";function pl(I,C,O){if(C){if(1===C.length)return C[0];const ie=C.filter(Ie=>Ie.app===O);if(1===ie.length)return ie[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[no]||(globalThis[no]=tv().then(I=>globalThis[fl]=I).catch(()=>globalThis[fl]=!1)),globalThis[Wu]||(globalThis[Wu]=eh().then(I=>globalThis[Dn]=I).catch(()=>globalThis[Dn]=!1)),globalThis[va]||(globalThis[va]=Ql().then(I=>globalThis[ya]=I).catch(()=>globalThis[ya]=!1));const rs=(I,C)=>{const O=C?[C]:(0,te.C6)(),U=[];return O.forEach(J=>{J.container.getProvider(I).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function Yr(){}class Hi{constructor(C,O=Ac){this.zone=C,this.delegate=O}now(){return this.delegate.now()}schedule(C,O,U){const J=this.zone;return this.delegate.schedule(function(Ie){J.runGuarded(()=>{C.apply(this,[Ie])})},O,U)}}class Yu{constructor(C){this.zone=C,this.task=null}call(C,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)),O.pipe((0,hl.b)({next:U,complete:U,error:U})).subscribe(C).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let li=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Hi(Zone.current)),this.insideAngular=O.run(()=>new Hi(Zone.current,Zu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ci(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Qn(I){return I.pipe((0,Po.Q)(ci().outsideAngular))}function Ns(I){return ci(),function Nn(I){return function(O){return(O=O.lift(new Yu(I.ngZone))).pipe((0,As.R)(I.outsideAngular),(0,Po.Q)(I.insideAngular))}}(ci())(I)}},2090:(mt,Ce,F)=>{F.d(Ce,{$s:()=>st,BH:()=>qt,G6:()=>De,L:()=>fe,LL:()=>en,Pz:()=>rn,Sg:()=>Xe,UG:()=>Te,US:()=>he,ZB:()=>$,ZR:()=>Cn,aH:()=>wt,b$:()=>ge,eu:()=>Ze,hl:()=>ze,jU:()=>lt,m9:()=>jt,ne:()=>Xn,pd:()=>Qi,r3:()=>Fi,ru:()=>ye,tV:()=>pe,uI:()=>Re,vZ:()=>et,w1:()=>ft,xO:()=>lr,xb:()=>Ei,z$:()=>He,zI:()=>j,zd:()=>Di});const ae=function(G){const B=[];let K=0;for(let we=0;we<G.length;we++){let X=G.charCodeAt(we);X<128?B[K++]=X:X<2048?(B[K++]=X>>6|192,B[K++]=63&X|128):55296==(64512&X)&&we+1<G.length&&56320==(64512&G.charCodeAt(we+1))?(X=65536+((1023&X)<<10)+(1023&G.charCodeAt(++we)),B[K++]=X>>18|240,B[K++]=X>>12&63|128,B[K++]=X>>6&63|128,B[K++]=63&X|128):(B[K++]=X>>12|224,B[K++]=X>>6&63|128,B[K++]=63&X|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let X=0;X<G.length;X+=3){const Ye=G[X],yt=X+1<G.length,tn=yt?G[X+1]:0,wn=X+2<G.length,Jt=wn?G[X+2]:0;let Gt=(15&tn)<<2|Jt>>6,vr=63&Jt;wn||(vr=64,yt||(Gt=64)),we.push(K[Ye>>2],K[(3&Ye)<<4|tn>>4],K[Gt],K[vr])}return we.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(ae(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let K=0,we=0;for(;K<G.length;){const X=G[K++];if(X<128)B[we++]=String.fromCharCode(X);else if(X>191&&X<224){const Ye=G[K++];B[we++]=String.fromCharCode((31&X)<<6|63&Ye)}else if(X>239&&X<365){const wn=((7&X)<<18|(63&G[K++])<<12|(63&G[K++])<<6|63&G[K++])-65536;B[we++]=String.fromCharCode(55296+(wn>>10)),B[we++]=String.fromCharCode(56320+(1023&wn))}else{const Ye=G[K++],yt=G[K++];B[we++]=String.fromCharCode((15&X)<<12|(63&Ye)<<6|63&yt)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const K=B?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let X=0;X<G.length;){const Ye=K[G.charAt(X++)],tn=X<G.length?K[G.charAt(X)]:0;++X;const Jt=X<G.length?K[G.charAt(X)]:64;++X;const Ke=X<G.length?K[G.charAt(X)]:64;if(++X,null==Ye||null==tn||null==Jt||null==Ke)throw Error();we.push(Ye<<2|tn>>4),64!==Jt&&(we.push(tn<<4&240|Jt>>2),64!==Ke&&we.push(Jt<<6&192|Ke))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},fe=function(G){return function(G){const B=ae(G);return he.encodeByteArray(B,!0)}(G).replace(/\./g,"")},pe=function(G){try{return he.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const K in B)!B.hasOwnProperty(K)||!Q(K)||(G[K]=$(G[K],B[K]));return G}function Q(G){return"__proto__"!==G}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function ye(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const G=He();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function De(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){return"object"==typeof indexedDB}function Ze(){return new Promise((G,B)=>{try{let K=!0;const we="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(we);X.onsuccess=()=>{X.result.close(),K||self.indexedDB.deleteDatabase(we),G(!0)},X.onupgradeneeded=()=>{K=!1},X.onerror=()=>{var Ye;B((null===(Ye=X.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(K){B(K)}})}function j(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=G&&pe(G[1]);return B&&JSON.parse(B)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},wt=()=>{var G;return null===(G=re())||void 0===G?void 0:G.config},rn=G=>{var B;return null===(B=re())||void 0===B?void 0:B[`_${G}`]};class qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,K)=>{this.resolve=B,this.reject=K})}wrapCallback(B){return(K,we)=>{K?this.reject(K):this.resolve(we),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(K):B(K,we))}}}function Xe(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=B||"demo-project",X=G.iat||0,Ye=G.sub||G.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:X,exp:X+3600,auth_time:X,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},G);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(yt)),""].join(".")}class Cn extends Error{constructor(B,K,we){super(K),this.code=B,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(B,K,we){this.service=B,this.serviceName=K,this.errors=we}create(B,...K){const we=K[0]||{},X=`${this.service}/${B}`,Ye=this.errors[B],yt=Ye?function sn(G,B){return G.replace(qr,(K,we)=>{const X=B[we];return null!=X?String(X):`<${we}?>`})}(Ye,we):"Error";return new Cn(X,`${this.serviceName}: ${yt} (${X}).`,we)}}const qr=/\{\$([^}]+)}/g;function Fi(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function Ei(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function et(G,B){if(G===B)return!0;const K=Object.keys(G),we=Object.keys(B);for(const X of K){if(!we.includes(X))return!1;const Ye=G[X],yt=B[X];if(Lr(Ye)&&Lr(yt)){if(!et(Ye,yt))return!1}else if(Ye!==yt)return!1}for(const X of we)if(!K.includes(X))return!1;return!0}function Lr(G){return null!==G&&"object"==typeof G}function lr(G){const B=[];for(const[K,we]of Object.entries(G))Array.isArray(we)?we.forEach(X=>{B.push(encodeURIComponent(K)+"="+encodeURIComponent(X))}):B.push(encodeURIComponent(K)+"="+encodeURIComponent(we));return B.length?"&"+B.join("&"):""}function Di(G){const B={};return G.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[X,Ye]=we.split("=");B[decodeURIComponent(X)]=decodeURIComponent(Ye)}}),B}function Qi(G){const B=G.indexOf("?");if(!B)return"";const K=G.indexOf("#",B);return G.substring(B,K>0?K:void 0)}function Xn(G,B){const K=new Tn(G,B);return K.subscribe.bind(K)}class Tn{constructor(B,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{B(this)}).catch(we=>{this.error(we)})}next(B){this.forEachObserver(K=>{K.next(B)})}error(B){this.forEachObserver(K=>{K.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,K,we){let X;if(void 0===B&&void 0===K&&void 0===we)throw new Error("Missing Observer.");X=function _t(G,B){if("object"!=typeof G||null===G)return!1;for(const K of B)if(K in G&&"function"==typeof G[K])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:K,complete:we},void 0===X.next&&(X.next=fn),void 0===X.error&&(X.error=fn),void 0===X.complete&&(X.complete=fn);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Ye}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,B)}sendOne(B,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{K(this.observers[B])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function st(G,B=1e3,K=2){const we=B*Math.pow(K,G),X=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+X)}function jt(G){return G&&G._delegate?G._delegate:G}},9959:(mt,Ce,F)=>{var l=F(4650);let te=null;function k(){return te}const ce=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const H=new l.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function He(){return new $((0,l.LFG)(ce))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(it)},providedIn:"root"}),n})();const ge=new l.OlP("appBaseHref");let it=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+lt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+lt(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+lt(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+lt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+lt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(ze(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lt(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Re,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return new Me((0,l.LFG)(ye))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}class qa{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qa(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,u),Zs(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Zs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Zs(n,e){n.context.$implicit=e.item}let pn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Iu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){br("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){br("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Iu{constructor(){this.$implicit=null,this.ngIf=null}}function br(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let hr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function xr(n){return"server"===n}let Xl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Kf((0,l.LFG)(ce),window)}),n})();class Kf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Kr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ci(this.window.history)||Ci(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ci(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Do extends class Xd extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){te||(te=n)}(new Do)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fc(){return Io=Io||document.querySelector("base"),Io?Io.getAttribute("href"):null}();return null==t?null:function si(n){fr=fr||document.createElement("a"),fr.setAttribute("href",n);const e=fr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Kl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let fr,Io=null;const An=new l.OlP("TRANSITION_ID"),Hu=[{provide:l.ip1,useFactory:function eh(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[An,ce,l.zs3],multi:!0}];let $u=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pc=new l.OlP("EventManagerPlugins");let th=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class gc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Co=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ca=(()=>{class n extends Co{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(nh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nh))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function nh(n){k().remove(n)}const ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rh=/%COMP%/g;function yc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yc(n,i,t):(i=i.replace(rh,n),t.push(i))}return t}function ih(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ao=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new da(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new sh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new oh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=yc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(th),l.LFG(ca),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class da{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ua[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(tl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=ua[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ua[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ih(r)):this.eventManager.addEventListener(e,t,ih(r))}}function tl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class sh extends da{constructor(e,t,r,i){super(e),this.component=r;const a=yc(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function $n(n){return"_ngcontent-%COMP%".replace(rh,n)}(i+"-"+r.id),this.hostAttr=function _c(n){return"_nghost-%COMP%".replace(rh,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class oh extends da{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=yc(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wr=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const nl=["alt","control","meta","shift"],rl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ns={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let il=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),nl.forEach(b=>{const E=r.indexOf(b);E>-1&&(r.splice(E,1),u+=b+".")}),u+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=u,_}static matchEventFullKeyCode(t,r){let i=rl[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nl.forEach(u=>{u!==i&&(0,ns[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Tc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function bc(){Do.makeCurrent()},multi:!0},{provide:ce,useFactory:function ol(){return(0,l.RDi)(document),document},deps:[]}]),Js=new l.OlP(""),lh=[{provide:l.rWj,useClass:class Qf{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const h=function(_){u=u||_,a--,0==a&&r(u)};i.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Xs=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Oo(){return new l.qLn},deps:[]},{provide:pc,useClass:wr,multi:!0,deps:[ce,l.R0b,l.Lbi]},{provide:pc,useClass:il,multi:!0,deps:[ce]},{provide:Ao,useClass:Ao,deps:[th,ca,l.AFp]},{provide:l.FYo,useExisting:Ao},{provide:Co,useExisting:ca},{provide:ca,useClass:ca,deps:[ce]},{provide:th,useClass:th,deps:[pc,l.R0b]},{provide:class aa{},useClass:$u,deps:[]},[]];let Ec=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:An,useExisting:l.AFp},Hu]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Js,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Xs,...lh],imports:[hr,l.hGG]}),n})(),Cs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ha(){return new Cs((0,l.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ul=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(vm),r},providedIn:"root"}),n})(),vm=(()=>{class n extends ul{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ym(n){return new vm(n.get(ce))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var on=F(8996),ai=F(3269);function at(...n){const e=(0,ai.yG)(n);return(0,on.D)(n,e)}var nn=F(7579);class un extends nn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const dl=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Gn=F(9751);const{isArray:to}=Array,{getPrototypeOf:Ac,prototype:bm,keys:Zu}=Object;function hl(n){if(1===n.length){const e=n[0];if(to(e))return{args:e,keys:null};if(function Po(n){return n&&"object"==typeof n&&Ac(n)===bm}(e)){const t=Zu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var As=F(4671),nt=F(4004);const{isArray:fl}=Array;function ya(n){return(0,nt.U)(e=>function no(n,e){return fl(e)?n(...e):n(e)}(n,e))}function va(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Dn=F(5403),Wu=F(9672);function ro(...n){const e=(0,ai.yG)(n),t=(0,ai.jO)(n),{args:r,keys:i}=hl(n);if(0===r.length)return(0,on.D)([],e);const a=new Gn.y(function wm(n,e,t=As.y){return r=>{Ku(e,()=>{const{length:i}=n,a=new Array(i);let u=i,h=i;for(let _=0;_<i;_++)Ku(e,()=>{const b=(0,on.D)(n[_],e);let E=!1;b.subscribe((0,Dn.x)(r,S=>{a[_]=S,E||(E=!0,h--),h||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>va(i,u):As.y));return t?a.pipe(ya(t)):a}function Ku(n,e,t){n?(0,Wu.f)(t,n,e):e()}var Nc=F(8189);function rs(...n){return function pl(){return(0,Nc.J)(1)}()((0,on.D)(n,(0,ai.yG)(n)))}var Yr=F(8421);function Hi(n){return new Gn.y(e=>{(0,Yr.Xf)(n()).subscribe(e)})}var Yu=F(9635),li=F(576);function ci(n,e){const t=(0,li.m)(n)?n:()=>n,r=i=>i.error(t());return new Gn.y(e?i=>e.schedule(r,0,i):r)}var $i=F(515),is=F(727),Qn=F(4482);function io(){return(0,Qn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ns extends Gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new is.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=is.w0.EMPTY)}return e}refCount(){return io()(this)}}function Nn(n,e){return(0,Qn.e)((t,r)=>{let i=null,a=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe((0,Dn.x)(r,_=>{i?.unsubscribe();let b=0;const E=a++;(0,Yr.Xf)(n(_,E)).subscribe(i=(0,Dn.x)(r,S=>r.next(e?e(_,S,E,b++):S),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function Kt(n){return n<=0?()=>$i.E:(0,Qn.e)((e,t)=>{let r=0;e.subscribe((0,Dn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ko(...n){const e=(0,ai.yG)(n);return(0,Qn.e)((t,r)=>{(e?rs(n,t,e):rs(n,t)).subscribe(r)})}function I(n,e){return(0,Qn.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var C=F(5577);function O(n){return(0,Qn.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function U(n=J){return(0,Qn.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function J(){return new dl}function ie(n,e){const t=arguments.length>=2;return r=>r.pipe(n?I((i,a)=>n(i,a,r)):As.y,Kt(1),t?O(e):U(()=>new dl))}function Ie(n,e){return(0,li.m)(e)?(0,C.z)(n,e,1):(0,C.z)(n,1)}var Fe=F(8505);function ut(n){return(0,Qn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Dn.x)(t,void 0,void 0,u=>{a=(0,Yr.Xf)(n(u,ut(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Ct(n,e,t,r,i){return(a,u)=>{let h=t,_=e,b=0;a.subscribe((0,Dn.x)(u,E=>{const S=b++;_=h?n(_,E,S):(h=!0,E),r&&u.next(_)},i&&(()=>{h&&u.next(_),u.complete()})))}}function kt(n,e){return(0,Qn.e)(Ct(n,e,arguments.length>=2,!0))}function vt(n){return n<=0?()=>$i.E:(0,Qn.e)((e,t)=>{let r=[];e.subscribe((0,Dn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?I((i,a)=>n(i,a,r)):As.y,vt(1),t?O(e):U(()=>new dl))}function so(n){return(0,Qn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ft="primary",ss=Symbol("RouteTitle");class oo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ai(n){return new oo(n)}function ba(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],h=n[a];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!ep(n[i],e[i]))return!1;return!0}function ep(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Tm(n){return Array.prototype.concat.apply([],n)}function Em(n){return n.length>0?n[n.length-1]:null}function pr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function os(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,on.D)(Promise.resolve(n)):at(n)}const $w={exact:function Im(n,e,t){if(!Vo(n.segments,e.segments)||!Uo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Im(n.children[r],e.children[r],t))return!1;return!0},subset:gl},np={exact:function rp(n,e){return Gi(n,e)},subset:function Cm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ep(n[t],e[t]))},ignored:()=>!0};function rv(n,e,t){return $w[t.paths](n.root,e.root,t.matrixParams)&&np[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gl(n,e,t){return uh(n,e,e.segments,t)}function uh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Vo(i,t)||e.hasChildren()||!Uo(i,t,r))}if(n.segments.length===t.length){if(!Vo(n.segments,t)||!Uo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gl(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Vo(n.segments,i)&&Uo(n.segments,i,r)&&n.children[Ft])&&uh(n.children[Ft],e,a,r)}}function Uo(n,e,t){return e.every((r,i)=>np[t](n[i].parameters,r.parameters))}class ml{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return Bo.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fh(this)}}class dh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ai(this.parameters)),this._parameterMap}toString(){return op(this)}}function Vo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ip=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new hh},providedIn:"root"}),n})();class hh{parse(e){const t=new yl(e);return new ml(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_l(e.root,!0)}`,r=function ov(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ju(t)}=${Ju(i)}`).join("&"):`${Ju(t)}=${Ju(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function iv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Bo=new hh;function fh(n){return n.segments.map(e=>op(e)).join("/")}function _l(n,e){if(!n.hasChildren())return fh(n);if(e){const t=n.children[Ft]?_l(n.children[Ft],!1):"",r=[];return pr(n.children,(i,a)=>{a!==Ft&&r.push(`${a}:${_l(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Sm(n,e){let t=[];return pr(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),pr(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[_l(n.children[Ft],!1)]:[`${i}:${_l(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${fh(n)}/${t[0]}`:`${fh(n)}/(${t.join("//")})`}}function Am(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(n){return Am(n).replace(/%3B/gi,";")}function qi(n){return Am(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jo(n){return decodeURIComponent(n)}function sp(n){return jo(n.replace(/\+/g,"%20"))}function op(n){return`${qi(n.path)}${function sv(n){return Object.keys(n).map(e=>`;${qi(e)}=${qi(n[e])}`).join("")}(n.parameters)}`}const av=/^[^\/()?;=#]+/;function ph(n){const e=n.match(av);return e?e[0]:""}const Nm=/^[^=?&#]+/,lv=/^[^&#]+/;class yl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Yt(e,t)),r}parseSegment(){const e=ph(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new dh(jo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ph(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ph(this.remaining);i&&(r=i,this.capture(r))}e[jo(t)]=jo(r)}parseQueryParam(e){const t=function Om(n){const e=n.match(Nm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Gw(n){const e=n.match(lv);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=sp(t),a=sp(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ph(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ft);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Ft]:new Yt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function Oc(n){return n.segments.length>0?new Yt([],{[Ft]:n}):n}function as(n){const e={};for(const r of Object.keys(n.children)){const a=as(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function vl(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}function wa(n){return n instanceof ml}function zw(n,e,t,r,i){if(0===t.length)return Xu(e.root,e.root,e.root,r,i);const a=function Mm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ap(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return pr(a.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new ap(t,e,r)}(t);return a.toRoot()?Xu(e.root,e.root,new Yt([],{}),r,i):function u(_){const b=function lp(n,e,t,r){if(n.isAbsolute)return new Mc(e.root,!0,0);if(-1===r)return new Mc(t,t===e.root,0);return function cp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new Mc(r,!1,i-a)}(t,r+(bl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),E=b.processChildren?$o(b.segmentGroup,b.index,a.commands):Rc(b.segmentGroup,b.index,a.commands);return Xu(e.root,b.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function bl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ho(n){return"object"==typeof n&&null!=n&&n.outlets}function Xu(n,e,t,r,i){let u,a={};r&&pr(r,(_,b)=>{a[b]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),u=n===e?t:uv(n,e,t);const h=Oc(as(u));return new ml(h,a,i)}function uv(n,e,t){const r={};return pr(n.children,(i,a)=>{r[a]=i===e?t:uv(i,e,t)}),new Yt(n.segments,r)}class ap{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bl(r[0]))throw new l.vHH(4003,!1);const i=r.find(Ho);if(i&&i!==Em(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Rc(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return $o(n,e,t);const r=function dv(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],h=t[r];if(Ho(h))break;const _=`${h}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!mh(_,b,u))return a;r+=2}else{if(!mh(_,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Yt(n.segments.slice(0,r.pathIndex),{});return a.children[Ft]=new Yt(n.segments.slice(r.pathIndex),n.children),$o(a,0,i)}return r.match&&0===i.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?qn(n,e,t):r.match?$o(n,0,i):qn(n,e,t)}function $o(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function gh(n){return Ho(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};return pr(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=Rc(n.children[u],e,a))}),pr(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Yt(n.segments,i)}}function qn(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Ho(a)){const _=ed(a.outlets);return new Yt(r,_)}if(0===i&&bl(t[0])){r.push(new dh(n.segments[e].path,Pm(t[0]))),i++;continue}const u=Ho(a)?a.outlets[Ft]:`${a}`,h=i<t.length-1?t[i+1]:null;u&&h&&bl(h)?(r.push(new dh(u,Pm(h))),i+=2):(r.push(new dh(u,{})),i++)}return new Yt(r,{})}function ed(n){const e={};return pr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=qn(new Yt([],{}),0,t))}),e}function Pm(n){const e={};return pr(n,(t,r)=>e[r]=`${t}`),e}function mh(n,e,t){return n==t.path&&Gi(e,t.parameters)}class ao{constructor(e,t){this.id=e,this.url=t}}class _h extends ao{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wl extends ao{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yh extends ao{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class km extends ao{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hv extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vh extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zw extends ao{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pc extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class up extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Um{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wh{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class td{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Th{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qr(e,this._root).map(t=>t.value)}}function nd(n,e){if(n===e.value)return e;for(const t of e.children){const r=nd(n,t);if(r)return r}return null}function Qr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qr(n,t);if(r.length)return r.unshift(e),r}return[]}class Ni{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bm extends Th{constructor(e,t){super(e),this.snapshot=t,id(this,e)}toString(){return this.snapshot.toString()}}function kc(n,e){const t=function Fc(n,e){const u=new Vr([],{},{},"",{},Ft,e,null,n.root,-1,{});return new Dh("",new Ni(u,[]))}(n,e),r=new un([new dh("",{})]),i=new un({}),a=new un({}),u=new un({}),h=new un(""),_=new Tl(r,i,u,h,a,Ft,e,t.root);return _.snapshot=t.root,new Bm(new Ni(_,[]),t)}class Tl{constructor(e,t,r,i,a,u,h,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,nt.U)(b=>b[ss]))??at(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(e=>Ai(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(e=>Ai(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Eh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vr{constructor(e,t,r,i,a,u,h,_,b,E,S,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.[ss],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=E,this._correctedLastPathIndex=R??E,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dh extends Th{constructor(e,t){super(t),this.url=e,id(this,t)}toString(){return jm(this._root)}}function id(n,e){e.value._routerState=n,e.children.forEach(t=>id(n,t))}function jm(n){const e=n.children.length>0?` { ${n.children.map(jm).join(", ")} } `:"";return`${n.value}${e}`}function dp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gi(e.params,t.params)||n.params.next(t.params),function Lo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sd(n,e){const t=Gi(n.params,e.params)&&function Qu(n,e){return Vo(n,e)&&n.every((t,r)=>Gi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sd(n.parent,e.parent))}function El(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function hp(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return El(n,r,i);return El(n,r)})}(n,e,t);return new Ni(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>El(n,h)),u}}const r=function fv(n){return new Tl(new un(n.url),new un(n.params),new un(n.queryParams),new un(n.fragment),new un(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>El(n,a));return new Ni(r,i)}}const Os="ngNavigationCancelingError";function Ta(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function fp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Os]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ih(n){return Hm(n)&&wa(n.url)}function Hm(n){return n&&n[Os]}class Ch{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sh,this.attachRef=null}}let Sh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ch,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ah=!1;let Dl=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Ah);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Ah);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Ah);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Ah);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new pv(t,h,i.injector);if(r&&function y(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(u);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(u,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sh),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class pv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tl?this.route:e===Sh?this.childContexts:this.parent.get(e,t)}}let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Dl],encapsulation:2}),n})();function m(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bt(n){const e=n.children&&n.children.map(bt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=p),t}function mn(n){return n.outlet||Ft}function Oi(n,e){const t=n.filter(r=>mn(r)===e);return t.push(...n.filter(r=>mn(r)!==e)),t}function Il(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class od{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zi(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),pr(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=zi(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=zi(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=zi(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new wh(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Vm(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(dp(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),dp(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Il(i.snapshot),_=h?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class $m{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nh{constructor(e,t){this.component=e,this.route=t}}function Gm(n,e,t){const r=n._root;return Cl(r,e?e._root:null,t,[r.value])}function Lc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Cl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=zi(e);return n.children.forEach(u=>{(function pp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function gp(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vo(n.url,e.url)||!Gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sd(n,e)||!Gi(n.queryParams,e.queryParams);default:return!sd(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new $m(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Cl(n,e,a.component?h?h.children:null:t,r,i),_&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Nh(h.outlet.component,u))}else u&&Ea(e,h,i),i.canActivateChecks.push(new $m(r)),Cl(n,null,a.component?h?h.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),pr(a,(u,h)=>Ea(u,t.getContext(h),i)),i}function Ea(n,e,t){const r=zi(n),i=n.value;pr(r,(a,u)=>{Ea(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Nh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Uc(n){return"function"==typeof n}function qm(n){return n instanceof dl||"EmptyError"===n?.name}const zm=Symbol("INITIAL_VALUE");function Oh(){return Nn(n=>ro(n.map(e=>e.pipe(Kt(1),ko(zm)))).pipe((0,nt.U)(e=>{for(const t of e)if(!0!==t){if(t===zm)return zm;if(!1===t||t instanceof ml)return t}return!0}),I(e=>e!==zm),Kt(1)))}function xi(n){return(0,Yu.z)((0,Fe.b)(e=>{if(wa(e))throw Ta(0,e)}),(0,nt.U)(e=>!0===e))}const Zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wm(n,e,t,r,i){const a=Jr(n,e,t);return a.matched?function bv(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?at(i.map(u=>{const h=Lc(u,n);return os(function SI(n){return n&&Uc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Oh(),xi()):at(!0)}(r=m(e,r),e,t).pipe((0,nt.U)(u=>!0===u?a:{...Zm})):at(a)}function Jr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Zm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ba)(t,n,e);if(!i)return{...Zm};const a={};pr(i.posParams,(h,_)=>{a[_]=h.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Vc(n,e,t,r,i="corrected"){if(t.length>0&&function LI(n,e,t){return t.some(r=>Km(n,e,r)&&mn(r)!==Ft)}(n,t,r)){const u=new Yt(e,function FI(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&mn(a)!==Ft){const u=new Yt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[mn(a)]=u}return i}(n,e,r,new Yt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Jw(n,e,t){return t.some(r=>Km(n,e,r))}(n,t,r)){const u=new Yt(n.segments,function Qw(n,e,t,r,i,a){const u={};for(const h of r)if(Km(n,t,h)&&!i[mn(h)]){const _=new Yt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[mn(h)]=_}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Yt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Km(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wv(n,e,t,r){return!!(mn(n)===r||r!==Ft&&Km(e,t,n))&&("**"===n.path||Jr(e,n,t).matched)}function Xw(n,e,t){return 0===e.length&&!n.children[t]}const _p=!1;class Ym{constructor(e){this.segmentGroup=e||null}}class eT{constructor(e){this.urlTree=e}}function yp(n){return ci(new Ym(n))}function tT(n){return ci(new eT(n))}class VI{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Vc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ft).pipe((0,nt.U)(a=>this.createUrlTree(as(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ut(a=>{if(a instanceof eT)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ym?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ft).pipe((0,nt.U)(i=>this.createUrlTree(as(i),e.queryParams,e.fragment))).pipe(ut(i=>{throw i instanceof Ym?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,_p)}createUrlTree(e,t,r){const i=Oc(e);return new ml(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,nt.U)(a=>new Yt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,on.D)(i).pipe(Ie(a=>{const u=r.children[a],h=Oi(t,a);return this.expandSegmentGroup(e,h,u,a).pipe((0,nt.U)(_=>({segment:_,outlet:a})))}),kt((a,u)=>(a[u.outlet]=u.segment,a),{}),Rn())}expandSegment(e,t,r,i,a,u){return(0,on.D)(r).pipe(Ie(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,u).pipe(ut(b=>{if(b instanceof Ym)return at(null);throw b}))),ie(h=>!!h),ut((h,_)=>{if(qm(h))return Xw(t,i,a)?at(new Yt([],{})):yp(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,u,h){return wv(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):yp(t):yp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tT(a):this.lineralizeSegments(r,a).pipe((0,C.z)(u=>{const h=new Yt(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:E}=Jr(t,i,a);if(!h)return yp(t);const S=this.applyRedirectCommands(_,i.redirectTo,E);return i.redirectTo.startsWith("/")?tT(S):this.lineralizeSegments(i,S).pipe((0,C.z)(R=>this.expandSegment(e,t,r,R.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=m(r,e),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,nt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Yt(i,{})))):at(new Yt(i,{}))):Wm(t,r,i,e).pipe(Nn(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,C.z)(E=>{const S=E.injector??e,R=E.routes,{segmentGroup:P,slicedSegments:V}=Vc(t,h,_,R),z=new Yt(P.segments,P.children);if(0===V.length&&z.hasChildren())return this.expandChildren(S,R,z).pipe((0,nt.U)(ke=>new Yt(h,ke)));if(0===R.length&&0===V.length)return at(new Yt(h,{}));const Y=mn(r)===a;return this.expandSegment(S,z,R,V,Y?Ft:a,!0).pipe((0,nt.U)(Oe=>new Yt(h.concat(Oe.segments),Oe.children)))})):yp(t)))}getChildConfig(e,t,r){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function kI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?at(!0):at(i.map(u=>{const h=Lc(u,n);return os(function _v(n){return n&&Uc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Oh(),xi())}(e,t,r).pipe((0,C.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Fe.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function xh(n){return ci(fp(_p,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return at(r);if(i.numberOfChildren>1||!i.children[Ft])return ci(new l.vHH(4e3,_p));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ml(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return pr(t.children,(h,_)=>{u[_]=this.createSegmentGroup(e,h,r,i)}),new Yt(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,_p);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ex{}class Da{constructor(e,t,r,i,a,u,h,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const e=Vc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe((0,nt.U)(t=>{if(null===t)return null;const r=new Vr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ni(r,t),a=new Dh(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=rd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(Ie(i=>{const a=r.children[i],u=Oi(t,i);return this.processSegmentGroup(e,u,a,i)}),kt((i,a)=>i&&a?(i.push(...a),i):null),function Mr(n,e=!1){return(0,Qn.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),O(null),Rn(),(0,nt.U)(i=>{if(null===i)return null;const a=Iv(i);return function Ev(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,on.D)(t).pipe(Ie(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),ie(u=>!!u),ut(u=>{if(qm(u))return Xw(r,i,a)?at([]):at(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!wv(t,r,i,a))return at(null);let u;if("**"===t.path){const h=i.length>0?Em(i).parameters:{},_=rT(r)+i.length;u=at({snapshot:new Vr(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qm(t),mn(t),t.component??t._loadedComponent??null,t,Mh(r),_,Jm(t),_),consumedSegments:[],remainingSegments:[]})}else u=Wm(r,t,i,e).pipe((0,nt.U)(({matched:h,consumedSegments:_,remainingSegments:b,parameters:E})=>{if(!h)return null;const S=rT(r)+_.length;return{snapshot:new Vr(_,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qm(t),mn(t),t.component??t._loadedComponent??null,t,Mh(r),S,Jm(t),S),consumedSegments:_,remainingSegments:b}}));return u.pipe(Nn(h=>{if(null===h)return at(null);const{snapshot:_,consumedSegments:b,remainingSegments:E}=h;e=t._injector??e;const S=t._loadedInjector??e,R=function Dv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:V}=Vc(r,b,E,R.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===V.length&&P.hasChildren())return this.processChildren(S,R,P).pipe((0,nt.U)(Y=>null===Y?null:[new Ni(_,Y)]));if(0===R.length&&0===V.length)return at([new Ni(_,[])]);const z=mn(t)===a;return this.processSegment(S,R,P,V,z?Ft:a).pipe((0,nt.U)(Y=>null===Y?null:[new Ni(_,Y)]))}))}}function jI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Iv(n){const e=[],t=new Set;for(const r of n){if(!jI(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Iv(r.children);e.push(new Ni(r.value,i))}return e.filter(r=>!t.has(r))}function Mh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rT(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Qm(n){return n.data||{}}function Jm(n){return n.resolve||{}}function nx(n,e){return(0,C.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return at(t);let a=0;return(0,on.D)(i).pipe(Ie(u=>function Rh(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Xm(i)&&(a[ss]=i.title),function Cv(n,e,t,r){const i=function oT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return at({});const a={};return(0,on.D)(i).pipe((0,C.z)(u=>function $I(n,e,t,r){const i=Il(e)??r,a=Lc(n,i);return os(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(ie(),(0,Fe.b)(h=>{a[u]=h}))),vt(1),function Fo(n){return(0,nt.U)(()=>n)}(a),ut(u=>qm(u)?$i.E:ci(u)))}(a,n,e,r).pipe((0,nt.U)(u=>(n._resolvedData=u,n.data=rd(n,t).resolve,i&&Xm(i)&&(n.data[ss]=i.title),null)))}(u.route,r,n,e)),(0,Fe.b)(()=>a++),vt(1),(0,C.z)(u=>a===i.length?at(t):$i.E))})}function Xm(n){return"string"==typeof n.title||null===n.title}function Sv(n){return Nn(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,nt.U)(()=>e)):at(e)})}let aT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Ft);return r}getResolvedTitleForRoute(t){return t.data[ss]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(lT)},providedIn:"root"}),n})(),lT=(()=>{class n extends aT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GI{}class cT extends class qI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const vp=new l.OlP("",{providedIn:"root",factory:()=>({})}),Nv=new l.OlP("ROUTES");let Ov=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=os(t.loadComponent()).pipe((0,Fe.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),so(()=>{this.componentLoaders.delete(t)})),i=new Ns(r,()=>new nn.x).pipe(io());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,E=!1;Array.isArray(h)?b=h:(_=h.create(t).injector,b=Tm(_.get(Nv,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(bt),injector:_}}),so(()=>{this.childrenLoaders.delete(r)})),u=new Ns(a,()=>new nn.x).pipe(io());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return os(t()).pipe((0,C.z)(r=>r instanceof l.YKP||Array.isArray(r)?at(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uT{}class dT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hT(n){throw n}function fT(n,e,t){return e.parse("/")}const zI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ix={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function pT(){const n=(0,l.f3M)(ip),e=(0,l.f3M)(Sh),t=(0,l.f3M)(Me),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),a=(0,l.f3M)(Nv,{optional:!0})??[],u=(0,l.f3M)(vp,{optional:!0})??{},h=(0,l.f3M)(lT),_=(0,l.f3M)(aT,{optional:!0}),b=(0,l.f3M)(uT,{optional:!0}),E=(0,l.f3M)(GI,{optional:!0}),S=new gr(null,n,e,t,r,i,Tm(a));return b&&(S.urlHandlingStrategy=b),E&&(S.routeReuseStrategy=E),S.titleStrategy=_??h,function t_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let gr=(()=>{class n{constructor(t,r,i,a,u,h,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn.x,this.errorHandler=hT,this.malformedUriErrorHandler=fT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>at(void 0),this.urlHandlingStrategy=new dT,this.routeReuseStrategy=new cT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Ov),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new Lm(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new Fm(R)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const S=u.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Dm(){return new ml(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kc(this.currentUrlTree,this.rootComponentType),this.transitions=new un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(I(i=>0!==i.id),(0,nt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Nn(i=>{let a=!1,u=!1;return at(i).pipe((0,Fe.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nn(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return xv(h.source)&&(this.browserUrlTree=h.extractedUrl),at(h).pipe(Nn(S=>{const R=this.transitions.getValue();return r.next(new _h(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),R!==this.transitions.getValue()?$i.E:Promise.resolve(S)}),function BI(n,e,t,r){return Nn(i=>function Sl(n,e,t,r,i){return new VI(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,nt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fe.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function sT(n,e,t,r,i,a){return(0,C.z)(u=>function tx(n,e,t,r,i,a,u="emptyOnly",h="legacy"){return new Da(n,e,t,r,i,u,h,a).recognize().pipe(Nn(_=>null===_?function nT(n){return new Gn.y(e=>e.error(n))}(new ex):at(_)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,nt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fe.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(P,S)}this.browserUrlTree=S.urlAfterRedirects}const R=new hv(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(R)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:P,source:V,restoredState:z,extras:Y}=h,Ee=new _h(R,this.serializeUrl(P),V,z);r.next(Ee);const Oe=kc(P,this.rootComponentType).snapshot;return at(i={...h,targetSnapshot:Oe,urlAfterRedirects:P,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),$i.E}),(0,Fe.b)(h=>{const _=new vh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,nt.U)(h=>i={...h,guards:Gm(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function NI(n,e){return(0,C.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?at({...t,guardsResult:!0}):function OI(n,e,t,r){return(0,on.D)(n).pipe((0,C.z)(i=>function PI(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?at(a.map(h=>{const _=Il(e)??i,b=Lc(h,_);return os(function mp(n){return n&&Uc(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(ie())})).pipe(Oh()):at(!0)}(i.component,i.route,t,e,r)),ie(i=>!0!==i,!0))}(u,r,i,n).pipe((0,C.z)(h=>h&&function Kw(n){return"boolean"==typeof n}(h)?function vv(n,e,t,r){return(0,on.D)(e).pipe(Ie(i=>rs(function MI(n,e){return null!==n&&e&&e(new Um(n)),at(!0)}(i.route.parent,r),function xI(n,e){return null!==n&&e&&e(new bh(n)),at(!0)}(i.route,r),function Yw(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function mv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Hi(()=>at(u.guards.map(_=>{const b=Il(u.node)??t,E=Lc(_,b);return os(function yv(n){return n&&Uc(n.canActivateChild)}(E)?E.canActivateChild(r,n):b.runInContext(()=>E(r,n))).pipe(ie())})).pipe(Oh())));return at(a).pipe(Oh())}(n,i.path,t),function RI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const i=r.map(a=>Hi(()=>{const u=Il(e)??t,h=Lc(a,u);return os(function CI(n){return n&&Uc(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(ie())}));return at(i).pipe(Oh())}(n,i.route,t))),ie(i=>!0!==i,!0))}(r,a,n,e):at(h)),(0,nt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Fe.b)(h=>{if(i.guardsResult=h.guardsResult,wa(h.guardsResult))throw Ta(0,h.guardsResult);const _=new Zw(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),I(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Sv(h=>{if(h.guards.canActivateChecks.length)return at(h).pipe((0,Fe.b)(_=>{const b=new Pc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Nn(_=>{let b=!1;return at(_).pipe(nx(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fe.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Fe.b)(_=>{const b=new up(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),Sv(h=>{const _=b=>{const E=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Fe.b)(S=>{b.component=S}),(0,nt.U)(()=>{})));for(const S of b.children)E.push(..._(S));return E};return ro(_(h.targetSnapshot.root)).pipe(O(),Kt(1))}),Sv(()=>this.afterPreactivation()),(0,nt.U)(h=>{const _=function Er(n,e,t){const r=El(n,e._root,t?t._root:void 0);return new Bm(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:_}}),(0,Fe.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,nt.U)(r=>(new od(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Fe.b)({next(){a=!0},complete(){a=!0}}),so(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ut(h=>{if(u=!0,Hm(h)){Ih(h)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new yh(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(_),Ih(h)){const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xv(i.source)};this.scheduleNavigation(b,"imperative",null,E,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new km(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(h))}catch(b){i.reject(b)}}return $i.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(bt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:_}=r,b=i||this.routerState.root,E=_?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),zw(b,this.currentUrlTree,t,S,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wa(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function gT(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...zI}:!1===r?{...ix}:r,wa(t))return rv(this.currentUrlTree,t,i);const a=this.parseUrl(t);return rv(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let h,_,b;u?(h=u.resolve,_=u.reject,b=u.promise):b=new Promise((R,P)=>{h=R,_=P});const E=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:E,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new yh(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return pT()},providedIn:"root"}),n})();function xv(n){return"imperative"!==n}let wp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new nn.x,this.subscription=t.events.subscribe(a=>{a instanceof wl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){return!!(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr),l.Y36(Tl),l.Y36(ye))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Mv{}let Rv=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(I(t=>t instanceof wl),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,h=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,on.D)(i).pipe((0,Nc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const a=i.pipe((0,C.z)(u=>null===u?at(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,on.D)([a,u]).pipe((0,Nc.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Mv),l.LFG(Ov))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ad=new l.OlP("");let _T=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _h?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof td&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new td(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ld(n,e){return{\u0275kind:n,\u0275providers:e}}function Ep(n){return[{provide:Nv,multi:!0,useValue:n}]}function KI(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(gr),i=n.get(Pv);1===n.get(kv)&&r.initialNavigation(),n.get(lo,null,l.XFs.Optional)?.setUpPreloading(),n.get(ad,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Pv=new l.OlP("",{factory:()=>new nn.x}),kv=new l.OlP("",{providedIn:"root",factory:()=>1});const lo=new l.OlP("");function JI(n){return ld(0,[{provide:lo,useExisting:Rv},{provide:Mv,useExisting:n}])}const bT=new l.OlP("ROUTER_FORROOT_GUARD"),eC=[Me,{provide:ip,useClass:hh},{provide:gr,useFactory:pT},Sh,{provide:Tl,useFactory:function yT(n){return n.routerState.root},deps:[gr]},Ov];function wT(){return new l.PXZ("Router",gr)}let TT=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[eC,[],Ep(t),{provide:bT,useFactory:ET,deps:[[gr,new l.FiY,new l.tp0]]},{provide:vp,useValue:r||{}},r?.useHash?{provide:ye,useClass:ft}:{provide:ye,useClass:it},{provide:ad,useFactory:()=>{const n=(0,l.f3M)(gr),e=(0,l.f3M)(Xl),t=(0,l.f3M)(vp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new _T(n,e,t)}},r?.preloadingStrategy?JI(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:wT},r?.initialNavigation?DT(r):[],[{provide:Fv,useFactory:KI},{provide:l.tb,multi:!0,useExisting:Fv}]]}}static forChild(t){return{ngModule:n,providers:[Ep(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bT,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[p]}),n})();function ET(n){return"guarded"}function DT(n){return["disabled"===n.initialNavigation?ld(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(gr);return()=>{e.setUpLocationChangeListener()}}},{provide:kv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ld(2,[{provide:kv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(gr),h=e.get(Pv);(function i(a){e.get(gr).events.pipe(I(h=>h instanceof wl||h instanceof yh||h instanceof km),(0,nt.U)(h=>h instanceof wl||h instanceof yh&&(0===h.code||1===h.code)&&null),I(h=>null!==h),Kt(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||h.closed?at(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const Fv=new l.OlP("");var me=F(5861),s_=F(127),IT=F(6451),o_=F(5363),iC=F(6063);class lx extends nn.x{constructor(e=1/0,t=1/0,r=iC.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let h=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)h=_;h&&r.splice(0,h+1)}}}var CT=F(3099);function Lv(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,CT.B)({connector:()=>new lx(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Bc(n,e){return(0,li.m)(e)?Nn(()=>n,e):Nn(()=>n)}var Uv=F(9468),Un=F(5813),ui=F(2011);F(5867);var Go=F(9681),cd=F(4859),zt=F(2090),Al=F(1877);const jv=new Map,Hv={activated:!1,tokenObservers:[]},mx={initialized:!1,enabled:!1};function Rr(n){return jv.get(n)||Hv}function co(n,e){jv.set(n,e)}function $v(){return mx}class cC{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function Gv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const di=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function c_(n){if(!Rr(n).activated)throw di.create("use-before-activation",{appName:n.name})}function MT(n,e){return kh.apply(this,arguments)}function kh(){return(kh=(0,me.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const P=yield u.getHeartbeatsHeader();P&&(a["X-Firebase-Client"]=P)}const h={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,h)}catch(P){throw di.create("fetch-network-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}if(200!==_.status)throw di.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(P){throw di.create("fetch-parse-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}const E=b.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const S=1e3*Number(E[1]),R=Date.now();return{token:b.token,expireTimeMillis:R+S,issuedAtTimeMillis:R}})).apply(this,arguments)}function zv(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Cp="firebase-app-check-store";let d_=null;function PT(){return d_||(d_=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(di.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Cp,{keyPath:"compositeKey"})}}catch(r){e(di.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),d_)}function h_(){return(h_=(0,me.Z)(function*(n,e){const r=(yield PT()).transaction(Cp,"readwrite"),a=r.objectStore(Cp).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var b;h(di.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const f_=new Al.Yd("@firebase/app-check");function UT(n,e){return(0,zt.hl)()?function yx(n,e){return function Wv(n,e){return h_.apply(this,arguments)}(function dC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{f_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hC(){return $v().enabled}function fC(){return BT.apply(this,arguments)}function BT(){return(BT=(0,me.Z)(function*(){const n=$v();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Kv={error:"UNKNOWN_ERROR"};function pC(n){return zt.US.encodeString(JSON.stringify(n),!1)}function Ap(n){return Np.apply(this,arguments)}function Np(){return(Np=(0,me.Z)(function*(n,e=!1){const t=n.app;c_(t);const r=Rr(t);let a,i=r.token;if(i&&!Fh(i)&&(co(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Fh(_)?i=_:yield UT(t,void 0))}if(!e&&i&&Fh(i))return{token:i.token};let h,u=!1;if(hC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MT(zv(t,yield fC()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const _=yield r.exchangeTokenPromise;return yield UT(t,_),co(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?f_.warn(_.message):f_.error(_),a=_}return i?a?h=Fh(i)?{token:i.token,internalError:a}:HT(a):(h={token:i.token},co(t,Object.assign(Object.assign({},r),{token:i})),yield UT(t,i)):h=HT(a),u&&Yv(t,h),h})).apply(this,arguments)}function Op(n,e){const t=Rr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),co(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function jT(n){const{app:e}=n,t=Rr(e);let r=t.tokenRefresher;r||(r=function $c(n){const{app:e}=n;return new cC((0,me.Z)(function*(){let r;if(r=Rr(e).token?yield Ap(n,!0):yield Ap(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Rr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),co(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Yv(n,e){const t=Rr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Fh(n){return n.expireTimeMillis-Date.now()>0}function HT(n){return{token:pC(Kv),error:n}}class $T{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rr(this.app);for(const t of e)Op(this.app,t.next);return Promise.resolve()}}const y_="app-check-internal";!function ZT(){(0,Go._registerComponent)(new cd.wA("app-check",n=>function gC(n,e){return new $T(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(y_).initialize()})),(0,Go._registerComponent)(new cd.wA(y_,n=>function mC(n){return{getToken:e=>Ap(n,e),addTokenListener:e=>function p_(n,e,t,r){const{app:i}=n,a=Rr(i),u={next:t,error:r,type:e};if(co(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&Fh(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),jT(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jT(n))}(n,"INTERNAL",e),removeTokenListener:e=>Op(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Go.registerVersion)("@firebase/app-check","0.5.15")}();class v_{constructor(){return(0,Un.vb)("app-check")}}typeof window<"u"&&window;const QT=new l.OlP("angularfire2.auth.use-emulator"),b_=new l.OlP("angularfire2.auth.settings"),JT=new l.OlP("angularfire2.auth.tenant-id"),XT=new l.OlP("angularfire2.auth.langugage-code"),Rp=new l.OlP("angularfire2.auth.use-device-language"),w_=new l.OlP("angularfire.auth.persistence"),Pp=(n,e,t,r,i,a,u,h)=>(0,ui.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),u)for(const[b,E]of Object.entries(u))_.settings[b]=E;return h&&_.setPersistence(h),_},[t,r,i,a,u,h]);let l0=(()=>{class n{constructor(t,r,i,a,u,h,_,b,E,S,R,P){const V=new nn.x,z=at(void 0).pipe((0,o_.Q)(u.outsideAngular),Nn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9545)))),(0,nt.U)(()=>(0,ui.on)(t,a,r)),(0,nt.U)(Y=>Pp(Y,a,h,b,E,S,_,R)),Lv({bufferSize:1,refCount:!1}));if(xr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{z.pipe(ie()).subscribe();const Ee=z.pipe(Nn(Se=>Se.getRedirectResult().then(je=>je,()=>null)),Un.iC,Lv({bufferSize:1,refCount:!1})),Oe=z.pipe(Nn(Se=>new Gn.y(je=>({unsubscribe:a.runOutsideAngular(()=>Se.onAuthStateChanged(qe=>je.next(qe),qe=>je.error(qe),()=>je.complete()))})))),ke=z.pipe(Nn(Se=>new Gn.y(je=>({unsubscribe:a.runOutsideAngular(()=>Se.onIdTokenChanged(qe=>je.next(qe),qe=>je.error(qe),()=>je.complete()))}))));this.authState=Ee.pipe(Bc(Oe),(0,Uv.R)(u.outsideAngular),(0,o_.Q)(u.insideAngular)),this.user=Ee.pipe(Bc(ke),(0,Uv.R)(u.outsideAngular),(0,o_.Q)(u.insideAngular)),this.idToken=this.user.pipe(Nn(Se=>Se?(0,on.D)(Se.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Nn(Se=>Se?(0,on.D)(Se.getIdTokenResult()):at(null))),this.credential=(0,IT.T)(Ee,V,this.authState.pipe(I(Se=>!Se))).pipe((0,nt.U)(Se=>Se?.user?Se:null),(0,Uv.R)(u.outsideAngular),(0,o_.Q)(u.insideAngular))}return(0,ui.pX)(this,z,a,{spy:{apply:(Y,Ee,Oe)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&Oe.then(ke=>V.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ui.Dh),l.LFG(ui.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Un.HU),l.LFG(QT,8),l.LFG(b_,8),l.LFG(JT,8),l.LFG(XT,8),l.LFG(Rp,8),l.LFG(w_,8),l.LFG(v_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),c0=(()=>{class n{constructor(){s_.Z.registerVersion("angularfire",Un.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[l0]}),n})();var u0=F(4986);function T_(){return(0,Qn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Dn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function eE(n,e){return n===e}F(9545);var pt,E_=F(3942),xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fo={},ud=ud||{},Vt=xl||self;function Vh(){}function Fp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Lp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dd="closure_uid_"+(1e9*Math.random()>>>0),OC=0;function Sx(n,e,t){return n.call.apply(n.bind,arguments)}function xC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Zi(n,e,t){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sx:xC).apply(null,arguments)}function D_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function Gc(){this.s=this.s,this.o=this.o}var d0={};Gc.prototype.s=!1,Gc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function NC(n){return Object.prototype.hasOwnProperty.call(n,dd)&&n[dd]||(n[dd]=++OC)}(this);delete d0[n]}},Gc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Up(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function rE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Fp(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mi.prototype.h=function(){this.defaultPrevented=!0};var MC=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",Vh,e),Vt.removeEventListener("test",Vh,e)}catch{}return n}();function I_(n){return/^[\s\xa0]*$/.test(n)}var iE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function h0(n,e){return n<e?-1:n>e?1:0}function hd(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function Ri(n){return-1!=hd().indexOf(n)}function sE(n){return sE[" "](n),n}sE[" "]=Vh;var Ca,n,RC=Ri("Opera"),Bh=Ri("Trident")||Ri("MSIE"),C_=Ri("Edge"),f0=C_||Bh,qo=Ri("Gecko")&&!(-1!=hd().toLowerCase().indexOf("webkit")&&!Ri("Edge"))&&!(Ri("Trident")||Ri("MSIE"))&&!Ri("Edge"),Bp=-1!=hd().toLowerCase().indexOf("webkit")&&!Ri("Edge");function fi(){var n=Vt.document;return n?n.documentMode:void 0}e:{var jh="",ls=(n=hd(),qo?/rv:([^\);]+)(\)|;)/.exec(n):C_?/Edge\/([\d\.]+)/.exec(n):Bh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bp?/WebKit\/(\S+)/.exec(n):RC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ls&&(jh=ls?ls[1]:""),Bh){var jp=fi();if(null!=jp&&jp>parseFloat(jh)){Ca=String(jp);break e}}Ca=jh}var Hh={};var Gh=Vt.document&&Bh&&(fi()||parseInt(Ca,10))||void 0;function Sa(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qo){e:{try{sE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qh[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sa.X.h.call(this)}}hi(Sa,Mi);var qh={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Aa="closure_listenable_"+(1e6*Math.random()|0),zh=0;function oE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++zh,this.ba=this.ea=!1}function Hp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function S_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function p0(n){const e={};for(const t in n)e[t]=n[t];return e}const g0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m0(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<g0.length;a++)t=g0[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $p(n){this.src=n,this.g={},this.h=0}function A_(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=nE(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Hp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function N_(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}$p.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=N_(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new oE(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var _0="closure_lm_"+(1e6*Math.random()|0),y0={};function v0(n,e,t,r,i){if(r&&r.once)return O_(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)v0(n,e[a],t,r,i);return null}return t=Zh(t),n&&n[Aa]?n.N(e,t,Lp(r)?!!r.capture:!!r,i):aE(n,e,t,!1,r,i)}function aE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Lp(i)?!!i.capture:!!i,h=qp(n);if(h||(n[_0]=h=new $p(n)),(t=h.add(e,t,r,u,a)).proxy)return t;if(r=function lE(){const e=M_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)MC||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Gp(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function O_(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)O_(n,e[a],t,r,i);return null}return t=Zh(t),n&&n[Aa]?n.O(e,t,Lp(r)?!!r.capture:!!r,i):aE(n,e,t,!0,r,i)}function x_(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)x_(n,e[a],t,r,i);else r=Lp(r)?!!r.capture:!!r,t=Zh(t),n&&n[Aa]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=N_(a=n.g[e],t,r,i))&&(Hp(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=qp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=N_(e,t,r,i)),(t=-1<n?e[n]:null)&&b0(t))}function b0(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Aa])A_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Gp(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qp(e))?(A_(t,n),0==t.h&&(t.src=null,e[_0]=null)):Hp(n)}}}function Gp(n){return n in y0?y0[n]:y0[n]="on"+n}function M_(n,e){if(n.ba)n=!0;else{e=new Sa(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&b0(n),n=t.call(r,e)}return n}function qp(n){return(n=n[_0])instanceof $p?n:null}var w0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zh(n){return"function"==typeof n?n:(n[w0]||(n[w0]=function(e){return n.handleEvent(e)}),n[w0])}function Dr(){Gc.call(this),this.i=new $p(this),this.P=this,this.I=null}function Xr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var i=e;m0(e=new Mi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=zp(u,r,!0,e)&&i}if(i=zp(u=e.g=n,r,!0,e)&&i,i=zp(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=zp(u=e.g=t[a],r,!1,e)&&i}function zp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var h=u.listener,_=u.ha||u.src;u.ea&&A_(n.i,u),i=!1!==h.call(_,r)&&i}}return i&&!r.defaultPrevented}hi(Dr,Gc),Dr.prototype[Aa]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){x_(this,n,e,t,r)},Dr.prototype.M=function(){if(Dr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hp(t[r]);delete n.g[e],n.h--}}this.I=null},Dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Zp=Vt.JSON.stringify;function cE(){var n=fE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var P_,R_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dE,n=>n.reset());class dE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PC(n){Vt.setTimeout(()=>{throw n},0)}function T0(n,e){P_||function hE(){var n=Vt.Promise.resolve(void 0);P_=function(){n.then(pE)}}(),k_||(P_(),k_=!0),fE.add(n,e)}var k_=!1,fE=new class uE{constructor(){this.h=this.g=null}add(e,t){const r=R_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function pE(){for(var n;n=cE();){try{n.h.call(n.g)}catch(t){PC(t)}var e=R_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}k_=!1}function Wp(n,e){Dr.call(this),this.h=n||1,this.g=e||Vt,this.j=Zi(this.lb,this),this.l=Date.now()}function Kp(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Wh(n,e,t){if("function"==typeof n)t&&(n=Zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function E0(n){n.g=Wh(()=>{n.g=null,n.i&&(n.i=!1,E0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(Wp,Dr),(pt=Wp.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xr(this,"tick"),this.ca&&(Kp(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){Wp.X.M.call(this),Kp(this),delete this.g};class gE extends Gc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E0(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kh(n){Gc.call(this),this.h=n,this.g={}}hi(Kh,Gc);var D0=[];function I0(n,e,t,r){Array.isArray(t)||(t&&(D0[0]=t.toString()),t=D0);for(var i=0;i<t.length;i++){var a=v0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function C0(n){S_(n.g,function(e,t){this.g.hasOwnProperty(t)&&b0(e)},n),n.g={}}function Yp(){this.g=!0}function Yh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _E(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return Zp(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Kh.prototype.M=function(){Kh.X.M.call(this),C0(this)},Kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yp.prototype.Aa=function(){this.g=!1},Yp.prototype.info=function(){};var pd={},Pr=null;function Qp(){return Pr=Pr||new Dr}function yE(n){Mi.call(this,pd.Pa,n)}function Jp(n){const e=Qp();Xr(e,new yE(e,n))}function S0(n,e){Mi.call(this,pd.STAT_EVENT,n),this.stat=e}function Wi(n){const e=Qp();Xr(e,new S0(e,n))}function A0(n,e){Mi.call(this,pd.Qa,n),this.size=e}function Qh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}pd.Pa="serverreachability",hi(yE,Mi),pd.STAT_EVENT="statevent",hi(S0,Mi),pd.Qa="timingevent",hi(A0,Mi);var Ml={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function N0(){}function bE(){}N0.prototype.h=null;var eg,Jh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wE(){Mi.call(this,"d")}function Xp(){Mi.call(this,"c")}function xs(){}function tg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Kh(this),this.O=Na,this.T=new Wp(n=f0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new x0}function x0(){this.i=null,this.g="",this.h=!1}hi(wE,Mi),hi(Xp,Mi),hi(xs,N0),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},eg=new xs;var Na=45e3,Ms={},cs={};function F_(n,e,t){n.K=1,n.v=og(zo(e)),n.s=t,n.P=!0,M0(n,null)}function M0(n,e){n.F=Date.now(),ng(n),n.A=zo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),xE(t.i,"t",r),n.C=0,t=n.l.H,n.h=new x0,n.g=K0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new gE(Zi(n.La,n,n.g),n.N)),I0(n.S,n.g,"readystatechange",n.ib),e=n.H?p0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Jp(1),function mE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var E=b[0];b=b[1];var S=E.split("_");u=2<=S.length&&"type"==S[1]?u+(E+"=")+b+"&":u+(E+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function TE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function EE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=FC(n,t),i==cs){4==e&&(n.o=4,Wi(14),r=!1),Yh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ms){n.o=4,Wi(15),Yh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yh(n.j,n.m,i,null),R0(n,i)}TE(n)&&i!=cs&&i!=Ms&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),z0(e),e.K=!0,Wi(11))):(Yh(n.j,n.m,t,"[Invalid Chunked Response]"),Zc(n),rg(n))}function FC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?cs:(t=Number(e.substring(t,r)),isNaN(t)?Ms:(r+=1)+t>e.length?cs:(e=e.substr(r,t),n.C=r+t,e))}function ng(n){n.V=Date.now()+n.O,L_(n,n.O)}function L_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qh(Zi(n.gb,n),e)}function zc(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function rg(n){0==n.l.G||n.I||GE(n.l,n)}function Zc(n){zc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Kp(n.T),C0(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function R0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||F0(t.h,n)))if(!n.J&&F0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;H_(t),hg(t)}q0(t),Wi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Qh(Zi(t.cb,t),6e3));if(1>=PE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Oa(t,11)}else if((n.J||t.g==n)&&H_(t),!I_(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const E=b[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const S=b[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const R=b[5];null!=R&&"number"==typeof R&&0<R&&(t.J=r=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const P=n.g;if(P){const V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var a=r.h;a.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(L0(a,a.h),a.h=null))}if(r.D){const z=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.za=z,zn(r.F,r.D,z))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=W0(r,r.H?r.ka:null,r.V),u.J){U0(r.h,u);var h=u,_=r.J;_&&h.setTimeout(_),h.B&&(zc(h),ng(h)),r.g=u}else $E(r);0<t.i.length&&j_(t)}else"stop"!=b[0]&&"close"!=b[0]||Oa(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Oa(t,7):jE(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}Jp(4)}catch{}}function ig(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function IE(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Fp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function DE(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Fp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(pt=tg.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==Rl(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const E=Rl(this.g);var e=this.g.Ea();const S=this.g.aa();if(!(3>E)&&(3!=E||f0||this.g&&(this.h.h||this.g.fa()||md(this.g)))){this.I||4!=E||7==e||Jp(8==e||0>=S?3:2),zc(this);var t=this.g.aa();this.Y=t;t:if(TE(this)){var r=md(this.g);n="";var i=r.length,a=4==Rl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zc(this),rg(this);var u="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function Ax(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I_(h)){var b=h;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Wi(12),Zc(this),rg(this);break e}Yh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,R0(this,t)}this.P?(EE(this,E,u),f0&&this.i&&3==E&&(I0(this.S,this.T,"tick",this.hb),this.T.start())):(Yh(this.j,this.m,u,null),R0(this,u)),4==E&&Zc(this),this.i&&!this.I&&(4==E?GE(this.l,this):(this.i=!1,ng(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Wi(12)):(this.o=0,Wi(13)),Zc(this),rg(this)}}}catch{}},pt.hb=function(){if(this.g){var n=Rl(this.g),e=this.g.fa();this.C<e.length&&(zc(this),EE(this,n,e),this.i&&4!=n&&ng(this))}},pt.cancel=function(){this.I=!0,Zc(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function kC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jp(3),Wi(17)),Zc(this),this.o=2,rg(this)):L_(this,this.V-n)};var CE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wc){this.h=void 0!==e?e:n.h,gd(this,n.j),this.s=n.s,this.g=n.g,sg(this,n.m),this.l=n.l,e=n.i;var t=new ag;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),P0(this,t),this.o=n.o}else n&&(t=String(n).match(CE))?(this.h=!!e,gd(this,t[1]||"",!0),this.s=Xh(t[2]||""),this.g=Xh(t[3]||"",!0),sg(this,t[4]),this.l=Xh(t[5]||"",!0),P0(this,t[6]||"",!0),this.o=Xh(t[7]||"")):(this.h=!!e,this.i=new ag(null,this.h))}function zo(n){return new Wc(n)}function gd(n,e,t){n.j=t?Xh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function P0(n,e,t){e instanceof ag?(n.i=e,function jC(n,e){e&&!n.j&&(Kc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(NE(this,r),xE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ef(e,VC)),n.i=new ag(e,n.h))}function zn(n,e,t){n.i.set(e,t)}function og(n){return zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ef(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,AE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ef(e,k0,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ef(e,k0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ef(t,"/"==t.charAt(0)?UC:LC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ef(t,BC)),n.join("")};var k0=/[#\/\?@]/g,LC=/[#\?:]/g,UC=/[#\?]/g,VC=/[#\?@]/g,BC=/#/g;function ag(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kc(n){n.g||(n.g=new Map,n.h=0,n.i&&function SE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NE(n,e){Kc(n),e=tf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function OE(n,e){return Kc(n),e=tf(n,e),n.g.has(e)}function xE(n,e,t){NE(n,e),0<t.length&&(n.i=null,n.g.set(tf(n,e),Up(t)),n.h+=t.length)}function tf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ME(n){this.l=n||$C,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ga&&Vt.g.Ga()&&Vt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=ag.prototype).add=function(n,e){Kc(this),this.i=null,n=tf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Kc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},pt.oa=function(){Kc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},pt.W=function(n){Kc(this);let e=[];if("string"==typeof n)OE(this,n)&&(e=e.concat(this.g.get(tf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return Kc(this),this.i=null,OE(this,n=tf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var $C=10;function RE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PE(n){return n.h?1:n.g?n.g.size:0}function F0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function L0(n,e){n.g?n.g.add(e):n.h=e}function U0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function V0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Up(n.i)}function U_(){}function kE(){this.g=new U_}function FE(n,e,t){const r=t||"";try{ig(n,function(i,a){let u=i;Lp(i)&&(u=Zp(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function nf(n){this.l=n.ac||null,this.j=n.jb||!1}function cg(n,e){Dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ME.prototype.cancel=function(){if(this.i=V0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},U_.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},U_.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},hi(nf,N0),nf.prototype.g=function(){return new cg(this.l,this.j)},nf.prototype.i=function(n){return function(){return n}}({}),hi(cg,Dr);var ug=0;function V_(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Zo(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dg(n)}function dg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=cg.prototype).open=function(n,e){if(this.readyState!=ug)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dg(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zo(this)),this.readyState=ug},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dg(this)),this.g&&(this.readyState=3,dg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V_(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zo(this):dg(this),3==this.readyState&&V_(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,Zo(this))},pt.Ua=function(n){this.g&&(this.response=n,Zo(this))},pt.ga=function(){this.g&&Zo(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GC=Vt.JSON.parse;function Pn(n){Dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qC,this.K=this.L=!1}hi(Pn,Dr);var qC="",B0=/^https?$/i,Nx=["POST","PUT"];function j0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zC(n),B_(n)}function zC(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function St(n){if(n.h&&typeof ud<"u"&&(!n.C[1]||4!=Rl(n)||2!=n.aa()))if(n.v&&4==Rl(n))Wh(n.Ha,0,n);else if(Xr(n,"readystatechange"),4==Rl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(CE)[1]||null;if(!i&&Vt.self&&Vt.self.location){var a=Vt.self.location.protocol;i=a.substr(0,a.length-1)}r=!B0.test(i?i.toLowerCase():"")}t=r}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var u=2<Rl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",zC(n)}}finally{B_(n)}}}function B_(n,e){if(n.g){VE(n);const t=n.g,r=n.C[0]?Vh:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=r}catch{}}}function VE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Rl(n){return n.g?n.g.readyState:0}function md(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function BE(n){let e="";return S_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function rf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=BE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zn(n,e,t))}function Yc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rr(n){this.Ca=0,this.i=[],this.j=new Yp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yc("baseRetryDelayMs",5e3,n),this.bb=Yc("retryDelaySeedMs",1e4,n),this.$a=Yc("forwardChannelMaxRetries",2,n),this.ta=Yc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new ME(n&&n.concurrentRequestLimit),this.Fa=new kE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function jE(n){if(H0(n),3==n.G){var e=n.U++,t=zo(n.F);zn(t,"SID",n.I),zn(t,"RID",e),zn(t,"TYPE","terminate"),sf(n,t),(e=new tg(n,n.j,e,void 0)).K=2,e.v=og(zo(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=K0(e.l,null),e.g.da(e.v)),e.F=Date.now(),ng(e)}Z0(n)}function hg(n){n.g&&(z0(n),n.g.cancel(),n.g=null)}function H0(n){hg(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),H_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function j_(n){RE(n.h)||n.m||(n.m=!0,T0(n.Ja,n),n.C=0)}function $0(n,e){var t;t=e?e.m:n.U++;const r=zo(n.F);zn(r,"SID",n.I),zn(r,"RID",t),zn(r,"AID",n.T),sf(n,r),n.o&&n.s&&rf(r,n.o,n.s),t=new tg(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=G0(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),L0(n.h,t),F_(t,r,e)}function sf(n,e){n.ia&&S_(n.ia,function(t,r){zn(e,r,t)}),n.l&&ig({},function(t,r){zn(e,r,t)})}function G0(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Zi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let _=0;_<t;_++){let b=i[_].h;const E=i[_].g;if(b-=a,0>b)a=Math.max(0,i[_].h-100),h=!1;else try{FE(E,u,"req"+b+"_")}catch{r&&r(E)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function $E(n){n.g||n.u||(n.Z=1,T0(n.Ia,n),n.A=0)}function q0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Qh(Zi(n.Ia,n),qE(n,n.A)),n.A++,0))}function z0(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function af(n){n.g=new tg(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=zo(n.sa);zn(e,"RID","rpc"),zn(e,"SID",n.I),zn(e,"CI",n.L?"0":"1"),zn(e,"AID",n.T),zn(e,"TYPE","xmlhttp"),sf(n,e),n.o&&n.s&&rf(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=og(zo(e)),t.s=null,t.P=!0,M0(t,n)}function H_(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function GE(n,e){var t=null;if(n.g==e){H_(n),z0(n),n.g=null;var r=2}else{if(!F0(n.h,e))return;t=e.D,U0(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Xr(r=Qp(),new A0(r,t,e,i)),j_(n)}else $E(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function HE(n,e){return!(PE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Qh(Zi(n.Ja,n,e),qE(n,n.C)),n.C++,0)))}(n,e)||2==r&&q0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Oa(n,5);break;case 4:Oa(n,10);break;case 3:Oa(n,6);break;default:Oa(n,2)}}function qE(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Oa(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Zi(n.kb,n);t||(t=new Wc("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||gd(t,"https"),og(t)),function LE(n,e){const t=new Yp;if(Vt.Image){const r=new Image;r.onload=D_(lg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=D_(lg,t,r,"TestLoadImage: error",!1,e),r.onabort=D_(lg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=D_(lg,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Wi(2);n.G=0,n.l&&n.l.va(e),Z0(n),H0(n)}function Z0(n){if(n.G=0,n.la=[],n.l){const e=V0(n.h);(0!=e.length||0!=n.i.length)&&(rE(n.la,e),rE(n.la,n.i),n.h.i.length=0,Up(n.i),n.i.length=0),n.l.ua()}}function W0(n,e,t){var r=t instanceof Wc?zo(t):new Wc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),sg(r,r.m);else{var i=Vt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Wc(null,void 0);r&&gd(a,r),e&&(a.g=e),i&&sg(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&zn(r,t,e),zn(r,"VER",n.ma),sf(n,r),r}function K0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t&&n.Da&&!n.ra?new nf({jb:!0}):n.ra)).Ka(n.H),e}function zE(){}function Qc(){if(Bh&&!(10<=Number(Gh)))throw Error("Environmental error: no available transport.")}function pi(n,e){Dr.call(this),this.g=new rr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!I_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lf(this)}function ZE(n){wE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WE(){Xp.call(this),this.status=1}function lf(n){this.g=n}(pt=Pn.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eg.g(),this.C=function O0(n){return n.h||(n.h=n.i())}(this.u?this.u:eg),this.g.onreadystatechange=Zi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void j0(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Vt.FormData&&n instanceof Vt.FormData,!(0<=nE(Nx,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VE(this),0<this.B&&((this.K=function UE(n){return Bh&&function $h(){return function Vp(n){var e=Hh;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=iE(String(Ca)).split("."),t=iE("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=h0(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||h0(0==i[2].length,0==a[2].length)||h0(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zi(this.qa,this)):this.A=Wh(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){j0(this,a)}},pt.qa=function(){typeof ud<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),B_(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B_(this,!0)),Pn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?St(this):this.fb())},pt.fb=function(){St(this)},pt.aa=function(){try{return 2<Rl(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GC(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=rr.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new tg(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=p0(a),m0(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=G0(this,i,e),zn(t=zo(this.F),"RID",n),zn(t,"CVER",22),this.D&&zn(t,"X-HTTP-Session-Id",this.D),sf(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(BE(a)))+"&"+e:this.o&&rf(t,this.o,a)),L0(this.h,i),this.Ya&&zn(t,"TYPE","init"),this.O?(zn(t,"$req",e),zn(t,"SID","null"),i.Z=!0,F_(i,t,null)):F_(i,t,e),this.G=2}}else 3==this.G&&(n?$0(this,n):0==this.i.length||RE(this.h)||$0(this))},pt.Ia=function(){if(this.u=null,af(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Qh(Zi(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Wi(10),hg(this),af(this))},pt.cb=function(){null!=this.v&&(this.v=null,hg(this),q0(this),Wi(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Wi(2)):(this.j.info("Failed to ping google.com"),Wi(1))},(pt=zE.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},Qc.prototype.g=function(n,e){return new pi(n,e)},hi(pi,Dr),pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Wi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=W0(n,null,n.V),j_(n)},pi.prototype.close=function(){jE(this.g)},pi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Zp(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&j_(e)},pi.prototype.M=function(){this.g.l=null,delete this.j,jE(this.g),delete this.g,pi.X.M.call(this)},hi(ZE,wE),hi(WE,Xp),hi(lf,zE),lf.prototype.xa=function(){Xr(this.g,"a")},lf.prototype.wa=function(n){Xr(this.g,new ZE(n))},lf.prototype.va=function(n){Xr(this.g,new WE(n))},lf.prototype.ua=function(){Xr(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,pi.prototype.send=pi.prototype.u,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,Ml.NO_ERROR=0,Ml.TIMEOUT=8,Ml.HTTP_ERROR=6,vE.COMPLETE="complete",bE.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.Oa,Pn.prototype.getLastErrorCode=Pn.prototype.Ea,Pn.prototype.getStatus=Pn.prototype.aa,Pn.prototype.getResponseJson=Pn.prototype.Sa,Pn.prototype.getResponseText=Pn.prototype.fa,Pn.prototype.send=Pn.prototype.da,Pn.prototype.setWithCredentials=Pn.prototype.Ka;var KE=fo.createWebChannelTransport=function(){return new Qc},YE=fo.getStatEventTarget=function(){return Qp()},$_=fo.ErrorCode=Ml,ZC=fo.EventType=vE,QE=fo.Event=pd,JE=fo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},WC=fo.FetchXmlHttpFactory=nf,Y0=fo.WebChannel=bE,Ox=fo.XhrIo=Pn;const KC="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let _d="9.12.1";const Wo=new Al.Yd("@firebase/firestore");function Q0(){return Wo.logLevel}function Le(n,...e){if(Wo.logLevel<=Al.in.DEBUG){const t=e.map(J0);Wo.debug(`Firestore (${_d}): ${n}`,...t)}}function Zn(n,...e){if(Wo.logLevel<=Al.in.ERROR){const t=e.map(J0);Wo.error(`Firestore (${_d}): ${n}`,...t)}}function yd(n,...e){if(Wo.logLevel<=Al.in.WARN){const t=e.map(J0);Wo.warn(`Firestore (${_d}): ${n}`,...t)}}function J0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${_d}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function xt(n,e){n||dt()}function Je(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gi.UNAUTHENTICATED))}shutdown(){}}class JC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t1{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const b=u;e.enqueueRetryable((0,me.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},_=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new XE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new gi(e)}}class XC{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class n1{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new XC(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X0{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new r1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function i1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=i1(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function cf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function s1(n){return n+"\0"}class Vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Vn(0,0))}static max(){return new Mt(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uf{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===uf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends uf{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends uf{construct(e,t,r){return new mr(e,t,r)}static isValidIdentifier(e){return eS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Pe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Pe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Pe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new Pe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(dn.fromString(e))}static fromName(e){return new Qe(dn.fromString(e).popFirst(5))}static empty(){return new Qe(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new dn(e.slice()))}}class G_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function tb(n){return n.fields.find(e=>2===e.kind)}function vd(n){return n.fields.filter(e=>2!==e.kind)}G_.UNKNOWN_ID=-1;class fg{constructor(e,t){this.fieldPath=e,this.kind=t}}class df{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new df(0,us.min())}}function a1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new Vn(t+1,0):new Vn(t,r));return new us(i,Qe.empty(),e)}function q_(n){return new us(n.readTime,n.key,-1)}class us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new us(Mt.min(),Qe.empty(),-1)}static max(){return new us(Mt.max(),Qe.empty(),-1)}}function nb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const l1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xa(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==l1)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),Z_.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++a,u&&a===i&&t()},_=>r(_))}),u=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(E=>{u[b]=E,++h,h===a&&r(u)},E=>i(E))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class W_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ir,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new pg(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=u1(r.target.error);this.P.reject(new pg(e,i))}}static open(e,t,r,i){try{return new W_(t,e.transaction(i,r))}catch(a){throw new pg(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new hf(t)}}class Ko{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ko.D((0,zt.z$)())&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Jc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,zt.hl)())return!1;if(Ko.N())return!0;const e=(0,zt.z$)(),t=Ko.D(e),r=0<t&&t<10,i=Ko.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,me.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new pg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new Pe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Pe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new pg(e,h))},a.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,me.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const _=W_.open(a.db,e,u?"readonly":"readwrite",r),b=i(_).next(E=>(_.V(),E)).catch(E=>(_.abort(E),oe.reject(E))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,E="FirebaseError"!==b.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),a.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rb{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Jc(this.U.delete())}}class pg extends Pe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pl(n){return"IndexedDbTransactionError"===n.name}class hf{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jc(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Jc(this.store.add(e))}get(e){return Jc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Jc(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Jc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new oe((a,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new oe((r,i)=>{t.onerror=a=>{const u=u1(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}H(e,t){const r=[];return new oe((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const _=new rb(h),b=t(h.primaryKey,h.value,_);if(b instanceof oe){const E=b.catch(S=>(_.done(),oe.reject(S)));r.push(E)}_.isDone?i():null===_.G?h.continue():h.continue(_.G)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jc(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=u1(r.target.error);t(i)}})}let c1=!1;function u1(n){const e=Ko.D((0,zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return c1||(c1=!0,setTimeout(()=>{throw r},0)),r}}return n}class d1{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Pl(r)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xa(r)}yield t.nt(6e4)}))}}class ib{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return oe.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(h=>{i-=h,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(h=>(Le("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=q_(a);nb(u,r)>0&&(r=u)}),new us(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function K_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ds.at=-1;class Jn{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gg(this.root,e,this.comparator,!0)}}class gg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ei.RED,this.left=i??ei.EMPTY,this.right=a??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ei(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ob(this.data.getIterator())}getIteratorFrom(e){return new ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ff(n){return n.hasNext()?n.getNext():void 0}class Rs{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new In(mr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const h1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wd(n){if(xt(!!n),"string"==typeof n){let e=0;const t=h1.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Td(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}function ab(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rS(n){const e=n.mapValue.fields.__previous_value__;return ab(e)?rS(e):e}function Y_(n){const e=wd(n.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}class iS{constructor(e,t,r,i,a,u,h,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Xc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xc&&e.projectId===this.projectId&&e.database===this.database}}function mg(n){return null==n}function pf(n){return 0===n&&1/n==-1/0}function lb(n){return"number"==typeof n&&Number.isInteger(n)&&!pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Q_={nullValue:"NULL_VALUE"};function Ed(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ab(n)?4:g1(n)?9007199254740991:10:dt()}function Ma(n,e){if(n===e)return!0;const t=Ed(n);if(t!==Ed(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Y_(n).isEqual(Y_(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=wd(r.timestampValue),u=wd(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Td(n.bytesValue).isEqual(Td(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return sr(r.geoPointValue.latitude)===sr(i.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return sr(r.integerValue)===sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=sr(r.doubleValue),u=sr(i.doubleValue);return a===u?pf(a)===pf(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return cf(n.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(K_(a)!==K_(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!Ma(a[h],u[h])))return!1;return!0}(n,e);default:return dt()}var i}function _g(n,e){return void 0!==(n.values||[]).find(t=>Ma(t,e))}function eu(n,e){if(n===e)return 0;const t=Ed(n),r=Ed(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=sr(i.integerValue||i.doubleValue),h=sr(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return f1(n.timestampValue,e.timestampValue);case 4:return f1(Y_(n),Y_(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Td(i),h=Td(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),h=a.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Bt(u[_],h[_]);if(0!==b)return b}return Bt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Bt(sr(i.latitude),sr(a.latitude));return 0!==u?u:Bt(sr(i.longitude),sr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],h=a.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=eu(u[_],h[_]);if(b)return b}return Bt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===kl.mapValue&&a===kl.mapValue)return 0;if(i===kl.mapValue)return 1;if(a===kl.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),_=a.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let E=0;E<h.length&&E<b.length;++E){const S=Bt(h[E],b[E]);if(0!==S)return S;const R=eu(u[h[E]],_[b[E]]);if(0!==R)return R}return Bt(h.length,b.length)}(n.mapValue,e.mapValue);default:throw dt()}}function f1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=wd(n),r=wd(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function Ra(n){return J_(n)}function J_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=wd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Td(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=J_(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${J_(r.fields[h])}`;return a+"}"}(n.mapValue):dt();var e}function tu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X_(n){return!!n&&"integerValue"in n}function gf(n){return!!n&&"arrayValue"in n}function cb(n){return!!n&&"nullValue"in n}function p1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ey(n){return!!n&&"mapValue"in n}function ty(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ty(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ty(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function sS(n){return"nullValue"in n?Q_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?tu(Xc.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function oS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?tu(Xc.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?kl:dt()}function m1(n,e){const t=eu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _1(n,e){const t=eu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ey(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ty(t)}setAll(e){let t=mr.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=ty(u):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());ey(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ey(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bd(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ir(ty(this.value))}}function y1(n){const e=[];return bd(n.fields,(t,r)=>{const i=new mr([t]);if(ey(r)){const a=y1(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Rs(e)}class On{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new On(e,0,Mt.min(),Mt.min(),Ir.empty(),0)}static newFoundDocument(e,t,r){return new On(e,1,t,Mt.min(),r,0)}static newNoDocument(e,t){return new On(e,2,t,Mt.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,Mt.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pa{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.ht=null}}function v1(n,e=null,t=[],r=[],i=null,a=null,u=null){return new Pa(n,e,t,r,i,a,u)}function Fl(n){const e=Je(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ra(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),mg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),e.ht=t}return e.ht}function vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!E1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ma(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oy(n.startAt,e.startAt)&&oy(n.endAt,e.endAt)}function ny(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ry(n,e){return n.filters.filter(t=>t instanceof mi&&t.field.isEqual(e))}function bg(n,e,t){let r=Q_,i=!0;for(const a of ry(n,e)){let u=Q_,h=!0;switch(a.op){case"<":case"<=":u=sS(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=Q_}m1({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];m1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function wg(n,e,t){let r=kl,i=!0;for(const a of ry(n,e)){let u=kl,h=!0;switch(a.op){case">=":case">":u=oS(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=kl}_1({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];_1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class mi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new aS(e,t,r):"array-contains"===t?new T1(e,r):"in"===t?new lS(e,r):"not-in"===t?new cS(e,r):"array-contains-any"===t?new Mx(e,r):new mi(e,t,r)}static lt(e,t,r){return"in"===t?new b1(e,r):new w1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(eu(t,this.value)):null!==t&&Ed(this.value)===Ed(t)&&this.ft(eu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aS extends mi{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.ft(t)}}class b1 extends mi{constructor(e,t){super(e,"in",t),this.keys=iy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w1 extends mi{constructor(e,t){super(e,"not-in",t),this.keys=iy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class T1 extends mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gf(t)&&_g(t.arrayValue,this.value)}}class lS extends mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_g(this.value.arrayValue,t)}}class cS extends mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_g(this.value.arrayValue,t)}}class Mx extends mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_g(this.value.arrayValue,r))}}class ka{constructor(e,t){this.position=e,this.inclusive=t}}class nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function E1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function sy(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Qe.comparator(Qe.fromName(u.referenceValue),t.key):eu(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function oy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ma(n.position[t],e.position[t]))return!1;return!0}class Ll{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=_,this._t=null,this.wt=null}}function D1(n,e,t,r,i,a,u,h){return new Ll(n,e,t,r,i,a,u,h)}function mf(n){return new Ll(n)}function I1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ay(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tg(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ly(n){return null!==n.collectionGroup}function Dd(n){const e=Je(n);if(null===e._t){e._t=[];const t=Tg(e),r=ay(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new nu(t)),e._t.push(new nu(mr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nu(mr.keyField(),a))}}}return e._t}function Pi(n){const e=Je(n);if(!e.wt)if("F"===e.limitType)e.wt=v1(e.path,e.collectionGroup,Dd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Dd(e))t.push(new nu(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ka(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ka(e.startAt.position,e.startAt.inclusive):null;e.wt=v1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Eg(n,e,t){return new Ll(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dg(n,e){return vg(Pi(n),Pi(e))&&n.limitType===e.limitType}function ub(n){return`${Fl(Pi(n))}|lt:${n.limitType}`}function cy(n){return`Query(target=${function yg(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ra(r.value)}`;var r}).join(", ")}]`),mg(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ra(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ra(t)).join(",")),`Target(${e})`}(Pi(n))}; limitType=${n.limitType})`}function db(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const h=sy(i,a,u);return i.inclusive?h<=0:h<0}(t.startAt,Dd(t),r)||t.endAt&&!function(i,a,u){const h=sy(i,a,u);return i.inclusive?h>=0:h>0}(t.endAt,Dd(t),r)));var t,r}function hb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fb(n){return(e,t)=>{let r=!1;for(const i of Dd(n)){const a=Ki(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Ki(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(i,a,u){const h=a.data.field(i),_=u.data.field(i);return null!==h&&null!==_?eu(h,_):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function Id(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function C1(n){return{integerValue:""+n}}function S1(n,e){return lb(e)?C1(e):Id(n,e)}class pb{constructor(){this._=void 0}}function Rx(n,e,t){return n instanceof Fa?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Cd?uy(n,e):n instanceof Sd?mb(n,e):function(r,i){const a=gb(r,i),u=N1(a)+N1(r.yt);return X_(a)&&X_(r.yt)?C1(u):Id(r.It,u)}(n,e)}function A1(n,e,t){return n instanceof Cd?uy(n,e):n instanceof Sd?mb(n,e):t}function gb(n,e){return n instanceof _f?X_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Fa extends pb{}class Cd extends pb{constructor(e){super(),this.elements=e}}function uy(n,e){const t=O1(e);for(const r of n.elements)t.some(i=>Ma(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sd extends pb{constructor(e){super(),this.elements=e}}function mb(n,e){let t=O1(e);for(const r of n.elements)t=t.filter(i=>!Ma(i,r));return{arrayValue:{values:t}}}class _f extends pb{constructor(e,t){super(),this.It=e,this.yt=t}}function N1(n){return sr(n.integerValue||n.doubleValue)}function O1(n){return gf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ad{constructor(e,t){this.field=e,this.transform=t}}class M1{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class _b{}function yb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wf(n.key,kn.none()):new Nd(n.key,n.data,kn.none());{const t=n.data,r=Ir.empty();let i=new In(mr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new Yo(n.key,r,new Rs(i.toArray()),kn.none())}}function uS(n,e,t){n instanceof Nd?function(r,i,a){const u=r.value.clone(),h=P1(r.fieldTransforms,i,a.transformResults);u.setAll(h),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Yo?function(r,i,a){if(!yf(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=P1(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(dS(r)),h.setAll(u),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vf(n,e,t,r){return n instanceof Nd?function(i,a,u,h){if(!yf(i.precondition,a))return u;const _=i.value.clone(),b=hS(i.fieldTransforms,h,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yo?function(i,a,u,h){if(!yf(i.precondition,a))return u;const _=hS(i.fieldTransforms,h,a),b=a.data;return b.setAll(dS(i)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(u=t,yf(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function bf(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=gb(r.transform,i||null);null!=a&&(null===t&&(t=Ir.empty()),t.set(r.field,a))}return t||null}function R1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cf(t,r,(i,a)=>function x1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Cd&&r instanceof Cd||t instanceof Sd&&r instanceof Sd?cf(t.elements,r.elements,Ma):t instanceof _f&&r instanceof _f?Ma(t.yt,r.yt):t instanceof Fa&&r instanceof Fa);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Nd extends _b{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yo extends _b{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function P1(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,A1(u,h,t[i]))}return r}function hS(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,Rx(a,u,e))}return r}class wf extends _b{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vb extends _b{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fS{constructor(e){this.count=e}}var Cr,an;function k1(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function bb(n){if(void 0===n)return Zn("GRPC error has no .code"),de.UNKNOWN;switch(n){case Cr.OK:return de.OK;case Cr.CANCELLED:return de.CANCELLED;case Cr.UNKNOWN:return de.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return de.INTERNAL;case Cr.UNAVAILABLE:return de.UNAVAILABLE;case Cr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Cr.NOT_FOUND:return de.NOT_FOUND;case Cr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Cr.ABORTED:return de.ABORTED;case Cr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Cr.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(an=Cr||(Cr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class Ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bd(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return sb(this.inner)}size(){return this.innerSize}}const pS=new Jn(Qe.comparator);function hs(){return pS}const wb=new Jn(Qe.comparator);function Ig(...n){let e=wb;for(const t of n)e=e.insert(t.key,t);return e}function Tb(n){let e=wb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qo(){return Tf()}function Eb(){return Tf()}function Tf(){return new Ul(n=>n.toString(),(n,e)=>n.isEqual(e))}const gS=new Jn(Qe.comparator),mS=new In(Qe.comparator);function Zt(...n){let e=mS;for(const t of n)e=e.add(t);return e}const F1=new In(Bt);function Db(){return F1}class dy{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,hy.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dy(Mt.min(),i,Db(),hs(),Zt())}}class hy{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hy(r,t,Zt(),Zt(),Zt())}}class Ib{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class _S{constructor(e,t){this.targetId=e,this.At=t}}class yS{constructor(e,t,r=Br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vS{constructor(){this.Rt=0,this.bt=bS(),this.Pt=Br.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Zt(),t=Zt(),r=Zt();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new hy(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=bS()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Px{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=hs(),this.qt=Cg(),this.Kt=new In(Bt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(ny(a))if(0===r){const u=new Qe(a.path);this.jt(t,u,On.newNoDocument(u,Mt.min()))}else xt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const h=this.Xt(u);if(h){if(a.current&&ny(h.target)){const _=new Qe(h.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,On.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let r=Zt();this.qt.forEach((a,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new dy(e,t,this.Kt,this.Ut,r);return this.Ut=hs(),this.qt=Cg(),this.Kt=new In(Bt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new vS,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new In(Bt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new vS),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Cg(){return new Jn(Qe.comparator)}function bS(){return new Jn(Qe.comparator)}const L1={asc:"ASCENDING",desc:"DESCENDING"},fy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class U1{constructor(e,t){this.databaseId=e,this.gt=t}}function Ef(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Cb(n,e){return Ef(n,e.toTimestamp())}function jr(n){return xt(!!n),Mt.fromTimestamp(function(e){const t=wd(e);return new Vn(t.seconds,t.nanos)}(n))}function Sb(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ab(n){const e=dn.fromString(n);return xt(H1(e)),e}function py(n,e){return Sb(n.databaseId,e.path)}function La(n,e){const t=Ab(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(B1(t))}function Nb(n,e){return Sb(n.databaseId,e)}function V1(n){const e=Ab(n);return 4===e.length?dn.emptyPath():B1(e)}function ru(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B1(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function TS(n,e,t){return{name:py(n,e),fields:t.value.mapValue.fields}}function ES(n,e,t){const r=La(n,e.name),i=jr(e.updateTime),a=new Ir({mapValue:{fields:e.fields}}),u=On.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Sg(n,e){let t;if(e instanceof Nd)t={update:TS(n,e.key,e.value)};else if(e instanceof wf)t={delete:py(n,e.key)};else if(e instanceof Yo)t={update:TS(n,e.key,e.data),updateMask:SS(e.fieldMask)};else{if(!(e instanceof vb))return dt();t={verify:py(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof Fa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _f)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Cb(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function Ob(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?kn.updateTime(jr(i.updateTime)):void 0!==i.exists?kn.exists(i.exists):kn.none():kn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let h=null;"setToServerValue"in u?(xt("REQUEST_TIME"===u.setToServerValue),h=new Fa):"appendMissingElements"in u?h=new Cd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Sd(u.removeAllFromArray.values||[]):"increment"in u?h=new _f(a,u.increment):dt();const _=mr.fromServerFormat(u.fieldPath);return new Ad(_,h)}(n,i)):[];var i;if(e.update){const i=La(n,e.update.name),a=new Ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Rs((e.updateMask.fieldPaths||[]).map(b=>mr.fromServerFormat(b)));return new Yo(i,a,u,t,r)}return new Nd(i,a,t,r)}if(e.delete){const i=La(n,e.delete);return new wf(i,t)}if(e.verify){const i=La(n,e.verify);return new vb(i,t)}return dt()}function j1(n,e){return{documents:[Nb(n,e.path)]}}function gy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Nb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const b=_.map(E=>function(S){if("=="===S.op){if(p1(S.value))return{unaryFilter:{field:Df(S.field),op:"IS_NAN"}};if(cb(S.value))return{unaryFilter:{field:Df(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(p1(S.value))return{unaryFilter:{field:Df(S.field),op:"IS_NOT_NAN"}};if(cb(S.value))return{unaryFilter:{field:Df(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Df(S.field),op:Mb(S.op),value:S.value}}}(E));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Df((E=b).field),direction:IS(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.gt||mg(b)?b:{value:b});var b,h,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function xb(n){let e=V1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=po(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(E=>{return new nu(_i((S=E).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(E){let S;return S="object"==typeof E?E.value:E,mg(S)?null:S}(t.limit));let _=null;var E;t.startAt&&(_=new ka((E=t.startAt).values||[],!!E.before));let b=null;return t.endAt&&(b=function(E){return new ka(E.values||[],!E.before)}(t.endAt)),D1(e,i,u,a,h,"F",_,b)}function po(n){return n?void 0!==n.unaryFilter?[Rb(n)]:void 0!==n.fieldFilter?[CS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>po(e)).reduce((e,t)=>e.concat(t)):dt():[]}function IS(n){return L1[n]}function Mb(n){return fy[n]}function Df(n){return{fieldPath:n.canonicalString()}}function _i(n){return mr.fromServerFormat(n.fieldPath)}function CS(n){return mi.create(_i(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Rb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=_i(n.unaryFilter.field);return mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_i(n.unaryFilter.field);return mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_i(n.unaryFilter.field);return mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_i(n.unaryFilter.field);return mi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function SS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Pb(e)),e=$1(n.get(t),e);return Pb(e)}function $1(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Pb(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let _;0===i.length?_=h:(i+=h,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:dt()}a=u+2}return new dn(r)}const kb=["userId","batchId"];function Ag(n,e){return[n,yi(e)]}function G1(n,e,t){return[n,yi(e),t]}const q1={},AS=["prefixPath","collectionGroup","readTime","documentId"],Fb=["prefixPath","collectionGroup","documentId"],iu=["collectionGroup","readTime","prefixPath","documentId"],z1=["canonicalId","targetId"],Lb=["targetId","path"],Vl=["path","targetId"],NS=["collectionId","parent"],Ux=["indexId","uid"],OS=["uid","sequenceNumber"],xS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MS=["indexId","uid","orderedDocumentKey"],RS=["userId","collectionPath","documentId"],Z1=["userId","collectionPath","largestBatchId"],Vx=["userId","collectionGroup","largestBatchId"],Ub=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PS=[...Ub,"documentOverlays"],Vb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kS=Vb,Bb=[...kS,"indexConfiguration","indexState","indexEntries"];class my extends z_{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Hr(n,e){const t=Je(n);return Ko.M(t.ie,e)}class _y{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&uS(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Eb();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const _=yb(u,h);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&cf(this.mutations,e.mutations,(t,r)=>R1(t,r))&&cf(this.baseMutations,e.baseMutations,(t,r)=>R1(t,r))}}class yy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=gS;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new yy(e,t,r,i)}}class vy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jo{constructor(e,t,r,i,a=Mt.min(),u=Mt.min(),h=Br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ng{constructor(e){this.re=e}}function K1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Og(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:py(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Ef(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:su(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:su(e.version)}}var i,a;return r}function Og(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function su(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Od(n){const e=new Vn(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function xd(n,e){const t=(e.baseMutations||[]).map(a=>Ob(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Ob(n.re,a)),i=Vn.fromMillis(e.localWriteTimeMs);return new _y(e.batchId,i,t,r)}function by(n){const e=Od(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Od(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=Pi(mf(V1(i.documents[0])))):r=Pi(xb(n.query)),new Jo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Br.fromBase64String(n.resumeToken))}function FS(n,e){const t=su(e.snapshotVersion),r=su(e.lastLimboFreeSnapshotVersion);let i;i=ny(e.target)?j1(n.re,e.target):gy(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wy(n){const e=xb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Eg(e,e.limit,"L"):e}function jb(n,e){return new vy(e.largestBatchId,Ob(n.re,e.overlayMutation))}function Y1(n,e){const t=e.path.lastSegment();return[n,yi(e.path.popLast()),t]}function Q1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:su(r.readTime),documentKey:yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class Bx{getBundleMetadata(e,t){return LS(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Od(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return LS(e).put({bundleId:(r=t).id,createTime:su(jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return US(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:wy(i.bundledQuery),readTime:Od(i.readTime)};var i})}saveNamedQuery(e,t){return US(e).put({name:(r=t).name,readTime:su(jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LS(n){return Hr(n,"bundles")}function US(n){return Hr(n,"namedQueries")}class Hb{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Hb(e,t.uid||"")}getOverlay(e,t){return Ty(e).get(Y1(this.userId,t)).next(r=>r?jb(this.It,r):null)}getOverlays(e,t){const r=Qo();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const h=new vy(t,u);i.push(this.ue(e,h))}),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(yi(u.getCollectionPath())));const a=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(Ty(e).Y("collectionPathOverlayIndex",h))}),oe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Qo(),a=yi(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ty(e).W("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=jb(this.It,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Qo();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ty(e).Z({index:"collectionGroupOverlayIndex",range:h},(_,b,E)=>{const S=jb(this.It,b);a.size()<i||S.largestBatchId===u?(a.set(S.getKey(),S),u=S.largestBatchId):E.done()}).next(()=>a)}ue(e,t){return Ty(e).put(function(r,i,a){const[u,h,_]=Y1(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Sg(r.re,a.mutation)}}(this.It,this.userId,t))}}function Ty(n){return Hr(n,"documentOverlays")}class Md{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),pf(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Td(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?g1(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):dt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Qe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Ey(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function J1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Ey(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Md.Te=new Md;class VS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=J1(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=J1(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class X1{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Rd{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class If{constructor(){this.Be=new VS,this.Le=new X1(this.Be),this.Ue=new Rd(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Bl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Bl(this.indexId,this.documentKey,this.arrayValue,r)}}function jl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=eD(n.arrayValue,e.arrayValue),0!==t?t:(t=eD(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function eD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class $b{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=tb(e);if(void 0!==t&&!this.ze(t))return!1;const r=vd(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Gb{constructor(){this.Ye=new Cf}addToCollectionParentIndex(e,t){return this.Ye.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(us.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Cf{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new In(dn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(dn.comparator)).toArray()}}const qb=new Uint8Array(0);class jx{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Cf,this.Ze=new Ul(r=>Fl(r),(r,i)=>vg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:yi(i)};return BS(e).put(a)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[s1(t),""],!1,!0);return BS(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(Ua(u.parent))}return r})}addFieldIndex(e,t){const r=xg(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=Mg(e);return a.next(h=>{u.put(Q1(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=xg(e),i=Mg(e),a=Dy(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Dy(e);let i=!0;const a=new Map;return oe.forEach(this.tn(t),u=>this.en(e,u).next(h=>{i&&(i=!!h),a.set(u,h)})).next(()=>{if(i){let u=Zt();const h=[];return oe.forEach(a,(_,b)=>{var E;Le("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(ke=>`${ke.fieldPath}:${ke.kind}`).join(",")}`} to execute ${Fl(t)}`);const S=function(ke,Se){const je=tb(Se);if(void 0===je)return null;for(const qe of ry(ke,je.fieldPath))switch(qe.op){case"array-contains-any":return qe.value.arrayValue.values||[];case"array-contains":return[qe.value]}return null}(b,_),R=function(ke,Se){const je=new Map;for(const qe of vd(Se))for(const ht of ry(ke,qe.fieldPath))switch(ht.op){case"==":case"in":je.set(qe.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return je.set(qe.fieldPath.canonicalString(),ht.value),Array.from(je.values())}return null}(b,_),P=function(ke,Se){const je=[];let qe=!0;for(const ht of vd(Se)){const Lt=0===ht.kind?bg(ke,ht.fieldPath,ke.startAt):wg(ke,ht.fieldPath,ke.startAt);je.push(Lt.value),qe&&(qe=Lt.inclusive)}return new ka(je,qe)}(b,_),V=function(ke,Se){const je=[];let qe=!0;for(const ht of vd(Se)){const Lt=0===ht.kind?wg(ke,ht.fieldPath,ke.endAt):bg(ke,ht.fieldPath,ke.endAt);je.push(Lt.value),qe&&(qe=Lt.inclusive)}return new ka(je,qe)}(b,_),z=this.nn(_,b,P),Y=this.nn(_,b,V),Ee=this.sn(_,b,R),Oe=this.rn(_.indexId,S,z,P.inclusive,Y,V.inclusive,Ee);return oe.forEach(Oe,ke=>r.J(ke,t.limit).next(Se=>{Se.forEach(je=>{const qe=Qe.fromSegments(je.documentKey);u.has(qe)||(u=u.add(qe),h.push(qe))})}))}).next(()=>h)}return oe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,u,h){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),b=_/(null!=t?t.length:1),E=[];for(let S=0;S<_;++S){const R=t?this.on(t[S/b]):qb,P=this.un(e,R,r[S%b],i),V=this.cn(e,R,a[S%b],u),z=h.map(Y=>this.un(e,R,Y,!0));E.push(...this.createRange(P,V,z))}return E}un(e,t,r,i){const a=new Bl(e,Qe.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new Bl(e,Qe.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new $b(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const h of a)r.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;return oe.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let h=new In(mr.comparator),_=!1;for(const b of u.filters){const E=b;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?_=!0:h=h.add(E.field))}for(const b of u.orderBy)b.field.isKeyField()||(h=h.add(b.field));return h.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new If;for(const i of vd(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);Md.Te.ce(a,u)}return r.$e()}on(e){const t=new If;return Md.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new If;return Md.Te.ce(tu(this.databaseId,t),r.qe(function(i){const a=vd(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new If);let a=0;for(const u of vd(e)){const h=r[a++];for(const _ of i)if(this.ln(t,u.fieldPath)&&gf(h))i=this.fn(i,u,h);else{const b=_.qe(u.kind);Md.Te.ce(h,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const h of i){const _=new If;_.seed(h.$e()),Md.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof mi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=xg(e),i=Mg(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return oe.forEach(a,h=>i.get([h.indexId,this.uid]).next(_=>{u.push(function(b,E){const S=E?new df(E.sequenceNumber,new us(Od(E.readTime),new Qe(Ua(E.documentKey)),E.largestBatchId)):df.empty(),R=b.fields.map(([P,V])=>new fg(mr.fromServerFormat(P),V));return new G_(b.indexId,b.collectionGroup,R,S)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Bt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=xg(e),a=Mg(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>oe.forEach(h,_=>a.put(Q1(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?oe.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),oe.forEach(h,_=>this.wn(e,i,_).next(b=>{const E=this.mn(a,_);return b.isEqual(E)?oe.resolve():this.gn(e,a,_,b,E)}))))})}yn(e,t,r,i){return Dy(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Dy(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Dy(e);let a=new In(jl);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,h)=>{a=a.add(new Bl(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(e,t){let r=new In(jl);const i=this.an(t,e);if(null==i)return r;const a=tb(t);if(null!=a){const u=e.data.field(a.fieldPath);if(gf(u))for(const h of u.arrayValue.values||[])r=r.add(new Bl(t.indexId,e.key,this.on(h),i))}else r=r.add(new Bl(t.indexId,e.key,qb,i));return r}gn(e,t,r,i,a){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,_,b,E,S){const R=h.getIterator(),P=_.getIterator();let V=ff(R),z=ff(P);for(;V||z;){let Y=!1,Ee=!1;if(V&&z){const Oe=b(V,z);Oe<0?Ee=!0:Oe>0&&(Y=!0)}else null!=V?Ee=!0:Y=!0;Y?(E(z),z=ff(P)):Ee?(S(V),V=ff(R)):(V=ff(R),z=ff(P))}}(i,a,jl,h=>{u.push(this.yn(e,t,r,h))},h=>{u.push(this.pn(e,t,r,h))}),oe.waitFor(u)}_n(e){let t=1;return Mg(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>jl(u,h)).filter((u,h,_)=>!h||0!==jl(u,_[h-1]));const i=[];i.push(e);for(const u of r){const h=jl(u,e),_=jl(u,t);if(0===h)i[0]=e.Ke();else if(h>0&&_<0)i.push(u),i.push(u.Ke());else if(_>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,qb,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,qb,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tD)}getMinOffset(e,t){return oe.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||dt())).next(tD)}}function BS(n){return Hr(n,"collectionParents")}function Dy(n){return Hr(n,"indexEntries")}function xg(n){return Hr(n,"indexConfiguration")}function Mg(n){return Hr(n,"indexState")}function tD(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;nb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new us(e.readTime,e.documentKey,t)}const nD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zb(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const _=r.Z({range:u},(E,S,R)=>(h++,R.delete()));a.push(_.next(()=>{xt(1===h)}));const b=[];for(const E of t.mutations){const S=G1(e,E.key.path,t.batchId);a.push(i.delete(S)),b.push(E.key)}return oe.waitFor(a).next(()=>b)}function Rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class Pg{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Pg(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Pd(e),u=ou(e);return u.add({}).next(h=>{xt("number"==typeof h);const _=new _y(h,t,r,i),b=function(R,P,V){const z=V.baseMutations.map(Ee=>Sg(R.re,Ee)),Y=V.mutations.map(Ee=>Sg(R.re,Ee));return{userId:P,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:z,mutations:Y}}(this.It,this.userId,_),E=[];let S=new In((R,P)=>Bt(R.canonicalString(),P.canonicalString()));for(const R of i){const P=G1(this.userId,R.key.path,h);S=S.add(R.key.path.popLast()),E.push(u.put(b)),E.push(a.put(P,q1))}return S.forEach(R=>{E.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.In[h]=_.keys()}),oe.waitFor(E).next(()=>_)})}lookupMutationBatch(e,t){return ou(e).get(t).next(r=>r?(xt(r.userId===this.userId),xd(this.It,r)):null)}Tn(e,t){return this.In[t]?oe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ou(e).Z({index:"userMutationsIndex",range:i},(u,h,_)=>{h.userId===this.userId&&(xt(h.batchId>=r),a=xd(this.It,h)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ou(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).W("userMutationsIndex",t).next(r=>r.map(i=>xd(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ag(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Pd(e).Z({range:i},(u,h,_)=>{const[b,E,S]=u,R=Ua(E);if(b===this.userId&&t.path.isEqual(R))return ou(e).get(S).next(P=>{if(!P)throw dt();xt(P.userId===this.userId),a.push(xd(this.It,P))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Bt);const i=[];return t.forEach(a=>{const u=Ag(this.userId,a.path),h=IDBKeyRange.lowerBound(u),_=Pd(e).Z({range:h},(b,E,S)=>{const[R,P,V]=b,z=Ua(P);R===this.userId&&a.path.isEqual(z)?r=r.add(V):S.done()});i.push(_)}),oe.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Ag(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new In(Bt);return Pd(e).Z({range:u},(_,b,E)=>{const[S,R,P]=_,V=Ua(R);S===this.userId&&r.isPrefixOf(V)?V.length===i&&(h=h.add(P)):E.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(ou(e).get(a).next(u=>{if(null===u)throw dt();xt(u.userId===this.userId),r.push(xd(this.It,u))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zb(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Pd(e).Z({range:r},(a,u,h)=>{if(a[0]===this.userId){const _=Ua(a[1]);i.push(_)}else h.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return rD(e,this.userId,t)}Rn(e){return Iy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rD(n,e,t){const r=Ag(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Pd(n).Z({range:a,X:!0},(h,_,b)=>{const[E,S,R]=h;E===e&&S===i&&(u=!0),b.done()}).next(()=>u)}function ou(n){return Hr(n,"mutations")}function Pd(n){return Hr(n,"documentMutations")}function Iy(n){return Hr(n,"mutationQueues")}class Sf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Sf(0)}static vn(){return new Sf(-1)}}class iD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Sf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mt.fromTimestamp(new Vn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>au(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return au(e).Z((u,h)=>{const _=by(h);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return au(e).Z((r,i)=>{const a=by(i);t(a)})}Vn(e){return sD(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return sD(e).put("targetGlobalKey",t)}Dn(e,t){return au(e).put(FS(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Fl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return au(e).Z({range:i,index:"queryTargetsIndex"},(u,h,_)=>{const b=by(h);vg(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=lu(e);return t.forEach(u=>{const h=yi(u.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=lu(e);return oe.forEach(t,a=>{const u=yi(a.path);return oe.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=lu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=lu(e);let a=Zt();return i.Z({range:r,X:!0},(u,h,_)=>{const b=Ua(u[1]),E=new Qe(b);a=a.add(E)}).next(()=>a)}containsKey(e,t){const r=yi(t.path),i=IDBKeyRange.bound([r],[s1(r)],!1,!0);let a=0;return lu(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,h],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}se(e,t){return au(e).get(t).next(r=>r?by(r):null)}}function au(n){return Hr(n,"targets")}function sD(n){return Hr(n,"targetGlobal")}function lu(n){return Hr(n,"targetDocuments")}function jS([n,e],[t,r]){const i=Bt(n,t);return 0===i?Bt(e,r):i}class Hx{constructor(e){this.xn=e,this.buffer=new In(jS),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HS{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Pl(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xa(r)}yield t.Fn(3e5)}))}}class $S{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(ds.at);const r=new Hx(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(nD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nD):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,u,h,_,b;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,u=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,h=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(b=Date.now(),Q0()<=Al.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(_-h)+`ms\n\tRemoved ${S} documents in `+(b-_)+`ms\nTotal Duration: ${b-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class GS{constructor(e,t){this.db=e,this.garbageCollector=new $S(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Zb(e,r)}removeReference(e,t,r){return Zb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Zb(e,t)}Gn(e,t){return function(r,i){let a=!1;return Iy(r).tt(u=>rD(r,u,i).next(h=>(h&&(a=!0),oe.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,h)=>{if(h<=t){const _=this.Gn(e,u).next(b=>{if(!b)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Mt.min()),lu(e).delete([0,yi(u.path)])))});i.push(_)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Zb(e,t)}Kn(e,t){const r=lu(e);let i,a=ds.at;return r.Z({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(a!==ds.at&&t(new Qe(Ua(i)),a),a=b,i=_):a=ds.at}).next(()=>{a!==ds.at&&t(new Qe(Ua(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zb(n,e){return lu(n).put((r=n.currentSequenceNumber,{targetId:0,path:yi(e.path),sequenceNumber:r}));var r}class qS{constructor(){this.changes=new Ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $x{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Af(e).put(r)}removeEntry(e,t,r){return Af(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Og(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=On.newInvalidDocument(t);return Af(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cy(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:On.newInvalidDocument(t)};return Af(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cy(t))},(i,a)=>{r={document:this.jn(t,a),size:Rg(a)}}).next(()=>r)}getEntries(e,t){let r=hs();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=hs(),i=new Jn(Qe.comparator);return this.zn(e,t,(a,u)=>{const h=this.jn(a,u);r=r.insert(a,h),i=i.insert(a,Rg(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return oe.resolve();let i=new In(WS);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Cy(i.first()),Cy(i.last())),u=i.getIterator();let h=u.getNext();return Af(e).Z({index:"documentKeyIndex",range:a},(_,b,E)=>{const S=Qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&WS(h,S)<0;)r(h,null),h=u.getNext();h&&h.isEqual(S)&&(r(h,b),h=u.hasNext()?u.getNext():null),h?E.j(Cy(h)):E.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Og(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Af(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let h=hs();for(const _ of u){const b=this.jn(Qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(e,t,r,i){let a=hs();const u=ZS(t,r),h=ZS(t,us.max());return Af(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,E)=>{const S=this.jn(Qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(S.key,S),a.size===i&&E.done()}).next(()=>a)}newChangeBuffer(e){return new Gx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oD(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return oD(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function W1(n,e){let t;if(e.document)t=ES(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),i=Od(e.noDocument.readTime);t=On.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=Qe.fromSegments(e.unknownDocument.path),i=Od(e.unknownDocument.version);t=On.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Vn(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return On.newInvalidDocument(e)}}function zS(n){return new $x(n)}class Gx extends qS{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ul(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new In((a,u)=>Bt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),u.isValidDocument()){const _=K1(this.Yn.It,u);i=i.add(a.path.popLast()),r+=Rg(_)-h.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=h.size,this.trackRemovals){const _=K1(this.Yn.It,u.convertToNoDocument(Mt.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function oD(n){return Hr(n,"remoteDocumentGlobal")}function Af(n){return Hr(n,"remoteDocumentsV14")}function Cy(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZS(n,e){const t=e.documentKey.path.toArray();return[n,Og(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function WS(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Bt(t[a],r[a]),i)return i;return i=Bt(t.length,r.length),i||(i=Bt(t[t.length-2],r[r.length-2]),i||Bt(t[t.length-1],r[r.length-1]))}class KS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YS{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&vf(r.mutation,i,Rs.empty(),Vn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=Qo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Ig();return a.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let a=hs();const u=Tf(),h=Tf();return t.forEach((_,b)=>{const E=r.get(b.key);i.has(b.key)&&(void 0===E||E.mutation instanceof Yo)?a=a.insert(b.key,b):void 0!==E&&(u.set(b.key,E.mutation.getFieldMask()),vf(E.mutation,b,E.mutation.getFieldMask(),Vn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,E)=>u.set(b,E)),t.forEach((b,E)=>{var S;return h.set(b,new KS(E,null!==(S=u.get(b))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Tf();let i=new Jn((u,h)=>u-h),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let E=r.get(_)||Rs.empty();E=h.applyToLocalView(b,E),r.set(_,E);const S=(i.get(h.batchId)||Zt()).add(_);i=i.insert(h.batchId,S)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,E=_.value,S=Eb();E.forEach(R=>{if(!a.has(R)){const P=yb(t.get(R),r.get(R));null!==P&&S.set(R,P),a=a.add(R)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,S))}return oe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ly(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(Qo());let h=-1,_=a;return u.next(b=>oe.forEach(b,(E,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(E)?oe.resolve():this.getBaseDocument(e,E,S).next(R=>{_=_.insert(E,R)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Zt())).next(E=>({batchId:h,changes:Tb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let i=Ig();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Ig();return this.indexManager.getCollectionParents(e,i).next(u=>oe.forEach(u,h=>{const _=(b=t,E=h.child(i),new Ll(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,E;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((E,S)=>{a=a.insert(E,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((h,_)=>{const b=_.getKey();null===i.get(b)&&(i=i.insert(b,On.newInvalidDocument(b)))});let u=Ig();return i.forEach((h,_)=>{const b=a.get(h);void 0!==b&&vf(b.mutation,_,Rs.empty(),Vn.now()),db(t,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):oe.resolve(On.newInvalidDocument(t))}}class s{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:jr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:wy(r.bundledQuery),readTime:jr(r.readTime)}),oe.resolve();var r}}class o{constructor(){this.overlays=new Jn(Qe.comparator),this.es=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qo();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Qo(),a=t.length+1,u=new Qe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Jn((b,E)=>b-E);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let E=a.get(b.largestBatchId);null===E&&(E=Qo(),a=a.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const h=Qo(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,E)=>h.set(b,E)),!(h.size()>=i)););return oe.resolve(h)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new vy(t,r));let a=this.es.get(t);void 0===a&&(a=Zt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class c{constructor(){this.ns=new In(d.ss),this.rs=new In(d.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new d(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new d(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Qe(new dn([])),r=new d(t,e),i=new d(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Qe(new dn([])),r=new d(t,e),i=new d(t,e+1);let a=Zt();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new d(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class d{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Qe.comparator(e.key,t.key)||Bt(e._s,t._s)}static os(e,t){return Bt(e._s,t._s)||Qe.comparator(e.key,t.key)}}class f{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(d.ss)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new _y(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.gs=this.gs.add(new d(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new d(t,0),i=new d(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const h=this.ys(u._s);a.push(h)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Bt);return t.forEach(i=>{const a=new d(i,0),u=new d(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],h=>{r=r.add(h._s)})}),oe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Qe.isDocumentKey(a)||(a=a.child(""));const u=new d(new Qe(a),0);let h=new In(Bt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(h=h.add(_._s)),!0)},u),oe.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return oe.forEach(t.mutations,i=>{const a=new d(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new d(t,0),i=this.gs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class g{constructor(e){this.Es=e,this.docs=new Jn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=hs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():On.newInvalidDocument(i))}),oe.resolve(r)}getAllFromCollection(e,t,r){let i=hs();const a=new Qe(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||nb(q_(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return oe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}As(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new v(this)}getSize(e){return oe.resolve(this.size)}}class v extends qS{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class T{constructor(e){this.persistence=e,this.Rs=new Ul(t=>Fl(t),vg),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new c,this.targetCount=0,this.vs=Sf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),oe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Sf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Dn(t),oe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.Ps.containsKey(t))}}class D{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ds(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new T(this),this.indexManager=new Gb,this.remoteDocumentCache=new g(r=>this.referenceDelegate.xs(r)),this.It=new Ng(t),this.Ns=new s(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new f(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new A(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return oe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class A extends z_{constructor(e){super(),this.currentSequenceNumber=e}}class x{constructor(e){this.persistence=e,this.Fs=new c,this.$s=null}static Bs(e){return new x(e)}get Ls(){if(this.$s)return this.$s;throw dt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ls,r=>{const i=Qe.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,Mt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return oe.or([()=>oe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class L{constructor(e){this.It=e}$(e,t,r,i){const a=new W_("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kb,{unique:!0}),h.createObjectStore("documentMutations"),q(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),q(e)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,_){return _.store("mutations").W().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kb,{unique:!0});const E=_.store("mutations"),S=b.map(R=>E.put(R));return oe.waitFor(S)})}(e,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:RS});_.createIndex("collectionPathOverlayIndex",Z1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Vx,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:AS});_.createIndex("documentKeyIndex",Fb),_.createIndex("collectionGroupIndex",iu)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Ux}).createIndex("sequenceNumberIndex",OS,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:xS}).createIndex("documentKeyIndex",MS,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Rg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>oe.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(h=>oe.forEach(h,_=>{xt(_.userId===a.userId);const b=xd(this.It,_);return zb(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,h)=>{const _=new dn(u),b=[0,yi(_)];a.push(t.get(b).next(E=>E?oe.resolve():t.put({targetId:0,path:yi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:NS});const r=t.store("collectionParents"),i=new Cf,a=u=>{if(i.add(u)){const h=u.lastSegment(),_=u.popLast();return r.put({collectionId:h,parent:yi(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const _=new dn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,_],b)=>{const E=Ua(h);return a(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=by(i),u=FS(this.It,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const h=t.store("remoteDocumentsV14"),_=(b=u,b.document?new Qe(dn.fromString(b.document.name).popFirst(5)):b.noDocument?Qe.fromSegments(b.noDocument.path):b.unknownDocument?Qe.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(E))}).next(()=>oe.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=zS(this.It),a=new D(x.Bs,this.It.re);return r.W().next(u=>{const h=new Map;return u.forEach(_=>{var b;let E=null!==(b=h.get(_.userId))&&void 0!==b?b:Zt();xd(this.It,_).keys().forEach(S=>E=E.add(S)),h.set(_.userId,E)}),oe.forEach(h,(_,b)=>{const E=new gi(b),S=Hb.oe(this.It,E),R=a.getIndexManager(E),P=Pg.oe(E,this.It,R,a.referenceDelegate);return new YS(i,P,S,R).recalculateAndSaveOverlaysForDocumentKeys(new my(t,ds.at),_).next()})})}}function q(n){n.createObjectStore("targetDocuments",{keyPath:Lb}).createIndex("documentTargetsIndex",Vl,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",z1,{unique:!0}),n.createObjectStore("targetGlobal")}const ne="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ve{constructor(e,t,r,i,a,u,h,_,b,E,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=h,this.Js=b,this.Ys=E,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=R=>Promise.resolve(),!ve.C())throw new Pe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GS(this,i),this.ii=t+"main",this.It=new Ng(_),this.ri=new Ko(this.ii,this.Xs,new L(this.It)),this.Cs=new iD(this.referenceDelegate,this.It),this.remoteDocumentCache=zS(this.It),this.Ns=new Bx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(de.FAILED_PRECONDITION,ne);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ds(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,me.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>We(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Pl(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ue(e).get("owner").next(t=>oe.resolve(this.mi(t)))}gi(e){return We(e).delete(this.clientId)}yi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Hr(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),h=a.filter(_=>-1===u.indexOf(_));return oe.forEach(h,_=>i.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?oe.resolve(!0):Ue(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Pe(de.FAILED_PRECONDITION,ne);return!1}}return!(!this.networkEnabled||!this.inForeground)||We(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new my(t,ds.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>We(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Pg.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jx(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Hb.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?Bb:14===u?kS:13===u?Vb:12===u?PS:11===u?Ub:void dt();var u;let h;return this.ri.runTransaction(e,i,a,_=>(h=new my(_,this.Ss?this.Ss.next():ds.at),"readwrite-primary"===t?this.fi(h).next(b=>!!b||this.di(h)).next(b=>{if(!b)throw Zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Pe(de.FAILED_PRECONDITION,l1);return r(h)}).next(b=>this.wi(h).next(()=>b)):this.Vi(h).next(()=>r(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Vi(e){return Ue(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(de.FAILED_PRECONDITION,ne)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ue(e).put("owner",t)}static C(){return Ko.C()}_i(e){const t=Ue(e);return t.get("owner").next(r=>this.mi(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Zn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Zn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ue(n){return Hr(n,"owner")}function We(n){return Hr(n,"clientMetadata")}function ct(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Et{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Zt(),i=Zt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Et(e,t.fromCache,r,i)}}class xe{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(I1(t))return oe.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Eg(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Zt(...a);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Fi(t,h);return this.$i(t,b,u,_.readTime)?this.ki(e,Eg(t,null,"F")):this.Bi(e,b,t,_)}))})))}Oi(e,t,r,i){return I1(t)||i.isEqual(Mt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Mi(e,t):(Q0()<=Al.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cy(t)),this.Bi(e,u,t,a1(i,-1)))})}Fi(e,t){let r=new In(fb(e));return t.forEach((i,a)=>{db(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return Q0()<=Al.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",cy(t)),this.Ni.getDocumentsMatchingQuery(e,t,us.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class Rt{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Jn(Bt),this.qi=new Ul(a=>Fl(a),vg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function _n(n,e,t,r){return new Rt(n,e,t,r)}function Wn(n,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,me.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let _=Zt();for(const b of i){u.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}for(const b of a){h.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}return t.localDocuments.getDocuments(r,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:h}))})})}),Hl.apply(this,arguments)}function Wb(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const E=_.batch,S=E.keys();let R=oe.resolve();return S.forEach(P=>{R=R.next(()=>b.getEntry(h,P)).next(V=>{const z=_.docVersions.get(P);xt(null!==z),V.version.compareTo(z)<0&&(E.applyToRemoteDocument(V,_),V.isValidDocument()&&(V.setReadTime(_.commitVersion),b.addEntry(V)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Zt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Sy(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Kb(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const h=[];e.targetChanges.forEach((E,S)=>{const R=i.get(S);if(!R)return;h.push(t.Cs.removeMatchingKeys(a,E.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(a,E.addedDocuments,S)));let P=R.withSequenceNumber(a.currentSequenceNumber);var V,z,Y;e.targetMismatches.has(S)?P=P.withResumeToken(Br.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),i=i.insert(S,P),z=P,Y=E,(0===(V=R).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,P))});let _=hs(),b=Zt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),h.push(Ay(a,u,e.documentUpdates).next(E=>{_=E.Wi,b=E.zi})),!r.isEqual(Mt.min())){const E=t.Cs.getLastRemoteSnapshotVersion(a).next(S=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(E)}return oe.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=i,a))}function Ay(n,e,t){let r=Zt(),i=Zt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=hs();return t.forEach((h,_)=>{const b=a.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(h)),_.isNoDocument()&&_.version.isEqual(Mt.min())?(e.removeEntry(h,_.readTime),u=u.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(h,_)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:i}})}function Yb(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cu(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new Jo(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function uu(n,e,t){return kg.apply(this,arguments)}function kg(){return kg=(0,me.Z)(function*(n,e,t){const r=Je(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Pl(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),kg.apply(this,arguments)}function Nf(n,e,t){const r=Je(n);let i=Mt.min(),a=Zt();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const E=Je(h),S=E.qi.get(b);return void 0!==S?oe.resolve(E.Ui.get(S)):E.Cs.getTargetData(_,b)}(r,u,Pi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:Mt.min(),t?a:Zt())).next(h=>(Zx(r,hb(e),h),{documents:h,Hi:a})))}function qx(n,e){const t=Je(n),r=Je(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(u=>u?u.target:null))}function zx(n,e){const t=Je(n),r=t.Ki.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,a1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Zx(t,e,i),i))}function Zx(n,e,t){let r=n.Ki.get(e)||Mt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function QS(){return QS=(0,me.Z)(function*(n,e,t,r){const i=Je(n);let a=Zt(),u=hs();for(const b of t){const E=e.Ji(b.metadata.name);b.document&&(a=a.add(E));const S=e.Yi(b);S.setReadTime(e.Xi(b.metadata.readTime)),u=u.insert(E,S)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield cu(i,(b=r,Pi(mf(dn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>Ay(b,h,u).next(E=>(h.apply(b),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,E.Wi,E.zi)).next(()=>E.Wi)))}),QS.apply(this,arguments)}function jL(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,me.Z)(function*(n,e,t=Zt()){const r=yield cu(n,Pi(wy(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=jr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const h=r.withResumeToken(Br.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(h.targetId,h),i.Cs.updateTargetData(a,h).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),JS.apply(this,arguments)}function Wx(n,e){return`firestore_clients_${n}_${e}`}function Kx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function XS(n,e){return`firestore_targets_${n}_${e}`}class aD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Pe(i.error.code,i.error.message))),u?new aD(e,t,i.state,a):(Zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Pe(r.error.code,r.error.message))),a?new Qb(e,r.state,i):(Zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Db();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=lb(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new lD(e,a):(Zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eA(t.clientId,t.onlineState):(Zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tA{constructor(){this.activeTargetIds=Db()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nA{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Jn(Bt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Wx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new tA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(Wx(e.persistenceKey,i));if(a){const u=lD.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(XS(this.persistenceKey,e));if(r){const i=Qb.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(XS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=ds.at;if(null!=a)try{const h=JSON.parse(a);xt("number"==typeof h),u=h}catch(h){Zn("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==ds.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new aD(this.currentUser,e,t,r),a=Kx(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=Kx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=XS(this.persistenceKey,e),a=new Qb(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return lD.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return aD.Zi(new gi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Qb.Zi(i,t)}yr(e){return eA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],h=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||h.push(_)}),this.syncEngine.Br(u,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Db();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Yx{constructor(){this.Lr=new tA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HL{qr(e){}shutdown(){}}class Qx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class qL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const u=this.ho(e,t);Le("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,a),this.fo(e,u,h,r).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw yd("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}_o(e,t,r,i,a,u){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_d,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${$L[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,u)=>{const h=new Ox;h.setWithCredentials(!0),h.listenOnce(ZC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case $_.NO_ERROR:const b=h.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),a(b);break;case $_.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new Pe(de.DEADLINE_EXCEEDED,"Request time out"));break;case $_.HTTP_ERROR:const E=h.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const R=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(V)>=0?V:de.UNKNOWN}(S.status);u(new Pe(R,S.message))}else u(new Pe(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Pe(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);h.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KE(),u=YE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new WC({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const _=i.join("");Le("Connection","Creating WebChannel: "+_,h);const b=a.createWebChannel(_,h);let E=!1,S=!1;const R=new GL({Hr:V=>{S?Le("Connection","Not sending because WebChannel is closed:",V):(E||(Le("Connection","Opening WebChannel transport."),b.open(),E=!0),Le("Connection","WebChannel sending:",V),b.send(V))},Jr:()=>b.close()}),P=(V,z,Y)=>{V.listen(z,Ee=>{try{Y(Ee)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return P(b,Y0.EventType.OPEN,()=>{S||Le("Connection","WebChannel transport opened.")}),P(b,Y0.EventType.CLOSE,()=>{S||(S=!0,Le("Connection","WebChannel transport closed"),R.io())}),P(b,Y0.EventType.ERROR,V=>{S||(S=!0,yd("Connection","WebChannel transport errored:",V),R.io(new Pe(de.UNAVAILABLE,"The operation could not be completed")))}),P(b,Y0.EventType.MESSAGE,V=>{var z;if(!S){const Y=V.data[0];xt(!!Y);const Ee=Y,Oe=Ee.error||(null===(z=Ee[0])||void 0===z?void 0:z.error);if(Oe){Le("Connection","WebChannel received error:",Oe);const ke=Oe.status;let Se=function(qe){const ht=Cr[qe];if(void 0!==ht)return bb(ht)}(ke),je=Oe.message;void 0===Se&&(Se=de.INTERNAL,je="Unknown error status: "+ke+" with message "+Oe.message),S=!0,R.io(new Pe(Se,je)),b.close()}else Le("Connection","WebChannel received:",Y),R.ro(Y)}}),P(u,QE.STAT_EVENT,V=>{V.stat===JE.PROXY?Le("Connection","Detected buffering proxy"):V.stat===JE.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.so()},0),R}}function Jx(){return typeof window<"u"?window:null}function cD(){return typeof document<"u"?document:null}function Jb(n){return new U1(n,!0)}class rA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Xx{constructor(e,t,r,i,a,u,h,_){this.Hs=e,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new rA(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,me.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,me.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Pe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,me.Z)(function*(){e.state=0,e.start()}))}jo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zL extends Xx{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function DS(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),i=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(xt(void 0===b||"string"==typeof b),Br.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),Br.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(_){const b=void 0===_.code?de.UNKNOWN:bb(_.code);return new Pe(b,_.message||"")}(u);t=new yS(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=La(n,r.document.name),a=jr(r.document.updateTime),u=new Ir({mapValue:{fields:r.document.fields}}),h=On.newFoundDocument(i,a,u);t=new Ib(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=La(n,r.document),a=r.readTime?jr(r.readTime):Mt.min(),u=On.newNoDocument(i,a);t=new Ib([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=La(n,r.document);t=new Ib([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,a=new fS(r.count||0);t=new _S(r.targetId,a)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Mt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?jr(a.readTime):Mt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=ru(this.It),t.addTarget=function(i,a){let u;const h=a.target;return u=ny(h)?{documents:j1(i,h)}:{query:gy(i,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=wS(i,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(u.readTime=Ef(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function Lx(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=ru(this.It),t.removeTarget=e,this.Lo(t)}}class ZL extends Xx{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Fx(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let a=jr(r.updateTime?r.updateTime:i);return a.isEqual(Mt.min())&&(a=jr(i)),new M1(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.tu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ru(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Sg(this.It,r))};this.Lo(t)}}class WL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(de.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.So._o(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(de.UNKNOWN,a.toString())})}terminate(){this.su=!0}}class YL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Zn(t),this.uu=!1):Le("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class QL{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr(h=>{r.enqueueAndForget((0,me.Z)(function*(){var _;kd(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,me.Z)(function*(b){const E=Je(b);E.wu.add(4),yield Ny(E),E.yu.set("Unknown"),E.wu.delete(4),yield Xb(E)}),function(b){return _.apply(this,arguments)})(u))}))}),this.yu=new YL(r,i)}}function Xb(n){return sA.apply(this,arguments)}function sA(){return sA=(0,me.Z)(function*(n){if(kd(n))for(const e of n.mu)yield e(!0)}),sA.apply(this,arguments)}function Ny(n){return oA.apply(this,arguments)}function oA(){return oA=(0,me.Z)(function*(n){for(const e of n.mu)yield e(!1)}),oA.apply(this,arguments)}function uD(n,e){const t=Je(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),cA(t)?lA(t):xy(t).Oo()&&aA(t,e))}function ew(n,e){const t=Je(n),r=xy(t);t._u.delete(e),r.Oo()&&eM(t,e),0===t._u.size&&(r.Oo()?r.$o():kd(t)&&t.yu.set("Unknown"))}function aA(n,e){n.pu.Mt(e.targetId),xy(n).Ho(e)}function eM(n,e){n.pu.Mt(e),xy(n).Jo(e)}function lA(n){n.pu=new Px({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),xy(n).start(),n.yu.cu()}function cA(n){return kd(n)&&!xy(n).ko()&&n._u.size>0}function kd(n){return 0===Je(n).wu.size}function tM(n){n.pu=void 0}function JL(n){return uA.apply(this,arguments)}function uA(){return uA=(0,me.Z)(function*(n){n._u.forEach((e,t)=>{aA(n,e)})}),uA.apply(this,arguments)}function XL(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,me.Z)(function*(n,e){tM(n),cA(n)?(n.yu.lu(e),lA(n)):n.yu.set("Unknown")}),dA.apply(this,arguments)}function e2(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,me.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof yS&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(i,a){const u=a.cause;for(const h of a.targetIds)i._u.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i._u.delete(h),i.pu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dD(n,r)}else if(e instanceof Ib?n.pu.Gt(e):e instanceof _S?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Mt.min()))try{const r=yield Sy(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.pu.te(a);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=i._u.get(_);b&&i._u.set(_,b.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const _=i._u.get(h);if(!_)return;i._u.set(h,_.withResumeToken(Br.EMPTY_BYTE_STRING,_.snapshotVersion)),eM(i,h);const b=new Jo(_.target,h,1,_.sequenceNumber);aA(i,b)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield dD(n,r)}var r}),hA.apply(this,arguments)}function dD(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,me.Z)(function*(n,e,t){if(!Pl(e))throw e;n.wu.add(1),yield Ny(n),n.yu.set("Offline"),t||(t=()=>Sy(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Xb(n)}))}),fA.apply(this,arguments)}function nM(n,e){return e().catch(t=>dD(n,t,e))}function Oy(n){return pA.apply(this,arguments)}function pA(){return pA=(0,me.Z)(function*(n){const e=Je(n),t=Of(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;t2(e);)try{const i=yield Yb(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,n2(e,i)}catch(i){yield dD(e,i)}rM(e)&&iM(e)}),pA.apply(this,arguments)}function t2(n){return kd(n)&&n.du.length<10}function n2(n,e){n.du.push(e);const t=Of(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function rM(n){return kd(n)&&!Of(n).ko()&&n.du.length>0}function iM(n){Of(n).start()}function r2(n){return gA.apply(this,arguments)}function gA(){return gA=(0,me.Z)(function*(n){Of(n).nu()}),gA.apply(this,arguments)}function s2(n){return mA.apply(this,arguments)}function mA(){return mA=(0,me.Z)(function*(n){const e=Of(n);for(const t of n.du)e.Zo(t.mutations)}),mA.apply(this,arguments)}function o2(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,me.Z)(function*(n,e,t){const r=n.du.shift(),i=yy.from(r,e,t);yield nM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Oy(n)}),_A.apply(this,arguments)}function a2(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,me.Z)(function*(n,e){var t;e&&Of(n).Xo&&(yield(t=(0,me.Z)(function*(r,i){if(k1(a=i.code)&&a!==de.ABORTED){const u=r.du.shift();Of(r).Fo(),yield nM(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Oy(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),rM(n)&&iM(n)}),yA.apply(this,arguments)}function sM(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,me.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=kd(t);t.wu.add(3),yield Ny(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Xb(t)}),vA.apply(this,arguments)}function bA(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,me.Z)(function*(n,e){const t=Je(n);e?(t.wu.delete(2),yield Xb(t)):e||(t.wu.add(2),yield Ny(t),t.yu.set("Unknown"))}),wA.apply(this,arguments)}function xy(n){return n.Iu||(n.Iu=function(e,t,r){const i=Je(e);return i.iu(),new zL(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:JL.bind(null,n),Zr:XL.bind(null,n),zo:e2.bind(null,n)}),n.mu.push(function(){var e=(0,me.Z)(function*(t){t?(n.Iu.Fo(),cA(n)?lA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),tM(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Of(n){return n.Tu||(n.Tu=function(e,t,r){const i=Je(e);return i.iu(),new ZL(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:r2.bind(null,n),Zr:a2.bind(null,n),eu:s2.bind(null,n),tu:o2.bind(null,n)}),n.mu.push(function(){var e=(0,me.Z)(function*(t){t?(n.Tu.Fo(),yield Oy(n)):(yield n.Tu.stop(),n.du.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class TA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new TA(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),Pl(n))return new Pe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Ry{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Ig(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new Ry(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ry)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ry;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oM{constructor(){this.Eu=new Jn(Qe.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):dt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Py{constructor(e,t,r,i,a,u,h,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Py(e,t,Ry.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class l2{constructor(){this.Ru=void 0,this.listeners=[]}}class c2{constructor(){this.queries=new Ul(e=>ub(e),Dg),this.onlineState="Unknown",this.bu=new Set}}function EA(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,me.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new l2),i)try{a.Ru=yield t.onListen(r)}catch(u){const h=My(u,`Initialization of query '${cy(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.vu(a.Ru)&&SA(t)}),DA.apply(this,arguments)}function IA(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,me.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),CA.apply(this,arguments)}function u2(n,e){const t=Je(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.vu(i)&&(r=!0);u.Ru=i}}r&&SA(t)}function d2(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function SA(n){n.bu.forEach(e=>{e.next()})}class AA{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Py(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Py.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class h2{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class aM{constructor(e){this.It=e}Ji(e){return La(this.It,e)}Yi(e){return e.metadata.exists?ES(this.It,e.document,!1):On.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return jr(e)}}class f2{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new aM(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Zt()).add(a);t.set(u,h)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function BL(n,e,t,r){return QS.apply(this,arguments)}(e.localStore,new aM(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield jL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function lM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cM{constructor(e){this.key=e}}class uM{constructor(e){this.key=e}}class dM{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zt(),this.mutatedKeys=Zt(),this.Gu=fb(e),this.Qu=new Ry(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new oM,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,S)=>{const R=i.get(E),P=db(this.query,S)?S:null,V=!!R&&this.mutatedKeys.has(R.key),z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Y=!1;R&&P?R.data.isEqual(P.data)?V!==z&&(r.track({type:3,doc:P}),Y=!0):this.Hu(R,P)||(r.track({type:2,doc:P}),Y=!0,(_&&this.Gu(P,_)>0||b&&this.Gu(P,b)<0)&&(h=!0)):!R&&P?(r.track({type:0,doc:P}),Y=!0):R&&!P&&(r.track({type:1,doc:R}),Y=!0,(_||b)&&(h=!0)),Y&&(P?(u=u.add(P),a=z?a.add(E):a.delete(E)):(u=u.delete(E),a=a.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),a=a.delete(E.key),r.track({type:1,doc:E})}return{Qu:u,zu:r,$i:h,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((b,E)=>function(S,R){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return P(S)-P(R)}(b.type,E.type)||this.Gu(b.doc,E.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,_=h!==this.qu;return this.qu=h,0!==a.length||_?{snapshot:new Py(this.query,e.Qu,i,a,e.mutatedKeys,0===h,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new uM(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new cM(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Py.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class p2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class g2{constructor(e){this.key=e,this.nc=!1}}class m2{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Ul(h=>ub(h),Dg),this.rc=new Map,this.oc=new Set,this.uc=new Jn(Qe.comparator),this.cc=new Map,this.ac=new c,this.hc={},this.lc=new Map,this.fc=Sf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _2(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,me.Z)(function*(n,e){const t=JA(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield cu(t.localStore,Pi(e));t.isPrimaryClient&&uD(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield OA(t,e,r,"current"===h,u.resumeToken)}return i}),NA.apply(this,arguments)}function OA(n,e,t,r,i){return xA.apply(this,arguments)}function xA(){return xA=(0,me.Z)(function*(n,e,t,r,i){n._c=(S,R,P)=>{return(V=(0,me.Z)(function*(z,Y,Ee,Oe){let ke=Y.view.Wu(Ee);ke.$i&&(ke=yield Nf(z.localStore,Y.query,!1).then(({documents:qe})=>Y.view.Wu(qe,ke)));const Se=Oe&&Oe.targetChanges.get(Y.targetId),je=Y.view.applyChanges(ke,z.isPrimaryClient,Se);return jA(z,Y.targetId,je.Xu),je.snapshot}),function(z,Y,Ee,Oe){return V.apply(this,arguments)})(n,S,R,P);var V};const a=yield Nf(n.localStore,e,!0),u=new dM(e,a.Hi),h=u.Wu(a.documents),_=hy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=u.applyChanges(h,n.isPrimaryClient,_);jA(n,t,b.Xu);const E=new p2(e,t,u);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),xA.apply(this,arguments)}function y2(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,me.Z)(function*(n,e){const t=Je(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Dg(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ew(t.remoteStore,r.targetId),ky(t,r.targetId)}).catch(xa))):(ky(t,r.targetId),yield uu(t.localStore,r.targetId,!0))}),MA.apply(this,arguments)}function RA(){return RA=(0,me.Z)(function*(n,e,t){const r=XA(n);try{const i=yield function(a,u){const h=Je(a),_=Vn.now(),b=u.reduce((R,P)=>R.add(P.key),Zt());let E,S;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=hs(),V=Zt();return h.Gi.getEntries(R,b).next(z=>{P=z,P.forEach((Y,Ee)=>{Ee.isValidDocument()||(V=V.add(Y))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,P)).next(z=>{E=z;const Y=[];for(const Ee of u){const Oe=bf(Ee,E.get(Ee.key).overlayedDocument);null!=Oe&&Y.push(new Yo(Ee.key,Oe,y1(Oe.value.mapValue),kn.exists(!0)))}return h.mutationQueue.addMutationBatch(R,_,Y,u)}).next(z=>{S=z;const Y=z.applyToLocalDocumentSet(E,V);return h.documentOverlayCache.saveOverlays(R,z.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:Tb(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let _=a.hc[a.currentUser.toKey()];_||(_=new Jn(Bt)),_=_.insert(u,h),a.hc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Fd(r,i.changes),yield Oy(r.remoteStore)}catch(i){const a=My(i,"Failed to persist write");t.reject(a)}}),RA.apply(this,arguments)}function hM(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,me.Z)(function*(n,e){const t=Je(n);try{const r=yield Kb(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.cc.get(a);u&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?xt(u.nc):i.removedDocuments.size>0&&(xt(u.nc),u.nc=!1))}),yield Fd(t,r,e)}catch(r){yield xa(r)}}),PA.apply(this,arguments)}function fM(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,u)=>{const h=u.view.Pu(e);h.snapshot&&i.push(h.snapshot)}),function(a,u){const h=Je(a);h.onlineState=u;let _=!1;h.queries.forEach((b,E)=>{for(const S of E.listeners)S.Pu(u)&&(_=!0)}),_&&SA(h)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function b2(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,me.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let u=new Jn(Qe.comparator);u=u.insert(a,On.newNoDocument(a,Mt.min()));const h=Zt().add(a),_=new dy(Mt.min(),new Map,new In(Bt),u,h);yield hM(r,_),r.uc=r.uc.remove(a),r.cc.delete(e),HA(r)}else yield uu(r.localStore,e,!1).then(()=>ky(r,e,t)).catch(xa)}),kA.apply(this,arguments)}function w2(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,me.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield Wb(t.localStore,e);BA(t,r,null),VA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fd(t,i)}catch(i){yield xa(i)}}),FA.apply(this,arguments)}function T2(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,me.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(a,u){const h=Je(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,u).next(E=>(xt(null!==E),b=E.keys(),h.mutationQueue.removeMutationBatch(_,E))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(r.localStore,e);BA(r,e,t),VA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fd(r,i)}catch(i){yield xa(i)}}),LA.apply(this,arguments)}function UA(){return UA=(0,me.Z)(function*(n,e){const t=Je(n);kd(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=Je(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=My(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),UA.apply(this,arguments)}function VA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function BA(n,e,t){const r=Je(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||pM(n,r)})}function pM(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(ew(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),HA(n))}function jA(n,e,t){for(const r of t)r instanceof cM?(n.ac.addReference(r.key,e),D2(n,r)):r instanceof uM?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||pM(n,r.key)):dt()}function D2(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.oc.add(r),HA(n))}function HA(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Qe(dn.fromString(e)),r=n.fc.next();n.cc.set(r,new g2(t)),n.uc=n.uc.insert(t,r),uD(n.remoteStore,new Jo(Pi(mf(t.path)),r,2,ds.at))}}function Fd(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,me.Z)(function*(n,e,t){const r=Je(n),i=[],a=[],u=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,_)=>{u.push(r._c(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const E=Et.Ci(_.targetId,b);a.push(E)}}))}),yield Promise.all(u),r.sc.zo(i),yield(h=(0,me.Z)(function*(_,b){const E=Je(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>oe.forEach(b,R=>oe.forEach(R.Si,P=>E.persistence.referenceDelegate.addReference(S,R.targetId,P)).next(()=>oe.forEach(R.Di,P=>E.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))}catch(S){if(!Pl(S))throw S;Le("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const R=S.targetId;if(!S.fromCache){const P=E.Ui.get(R),z=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);E.Ui=E.Ui.insert(R,z)}}}),function(_,b){return h.apply(this,arguments)})(r.localStore,a))}),$A.apply(this,arguments)}function I2(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,me.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield Wn(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new Pe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fd(t,r.ji)}var i}),GA.apply(this,arguments)}function C2(n,e){const t=Je(n),r=t.cc.get(e);if(r&&r.nc)return Zt().add(r.key);{let i=Zt();const a=t.rc.get(e);if(!a)return i;for(const u of a){const h=t.ic.get(u);i=i.unionWith(h.view.ju)}return i}}function S2(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,me.Z)(function*(n,e){const t=Je(n),r=yield Nf(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&jA(t,e.targetId,i.Xu),i}),qA.apply(this,arguments)}function A2(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,me.Z)(function*(n,e){const t=Je(n);return zx(t.localStore,e).then(r=>Fd(t,r))}),zA.apply(this,arguments)}function N2(n,e,t,r){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,me.Z)(function*(n,e,t,r){const i=Je(n),a=yield function(u,h){const _=Je(u),b=Je(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>b.Tn(E,h).next(S=>S?_.localDocuments.getDocuments(E,S):oe.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield Oy(i.remoteStore):"acknowledged"===t||"rejected"===t?(BA(i,e,r||null),VA(i,e),h=e,Je(Je(i.localStore).mutationQueue).An(h)):dt(),yield Fd(i,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),ZA.apply(this,arguments)}function WA(){return WA=(0,me.Z)(function*(n,e){const t=Je(n);if(JA(t),XA(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield gM(t,r.toArray());t.dc=!0,yield bA(t.remoteStore,!0);for(const a of i)uD(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(ky(t,u),uu(t.localStore,u,!0))),ew(t.remoteStore,u)}),yield i,yield gM(t,r),function(a){const u=Je(a);u.cc.forEach((h,_)=>{ew(u.remoteStore,_)}),u.ac.fs(),u.cc=new Map,u.uc=new Jn(Qe.comparator)}(t),t.dc=!1,yield bA(t.remoteStore,!1)}}),WA.apply(this,arguments)}function gM(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,me.Z)(function*(n,e,t){const r=Je(n),i=[],a=[];for(const u of e){let h;const _=r.rc.get(u);if(_&&0!==_.length){h=yield cu(r.localStore,Pi(_[0]));for(const b of _){const E=r.ic.get(b),S=yield S2(r,E);S.snapshot&&a.push(S.snapshot)}}else{const b=yield qx(r.localStore,u);h=yield cu(r.localStore,b),yield OA(r,mM(b),u,!1,h.resumeToken)}i.push(h)}return r.sc.zo(a),i}),KA.apply(this,arguments)}function mM(n){return D1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function x2(n){const e=Je(n);return Je(Je(e.localStore).persistence).vi()}function M2(n,e,t,r){return YA.apply(this,arguments)}function YA(){return YA=(0,me.Z)(function*(n,e,t,r){const i=Je(n);if(i.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield zx(i.localStore,hb(a[0])),h=dy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Br.EMPTY_BYTE_STRING);yield Fd(i,u,h);break}case"rejected":yield uu(i.localStore,e,!0),ky(i,e,r);break;default:dt()}}),YA.apply(this,arguments)}function R2(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,me.Z)(function*(n,e,t){const r=JA(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const a=yield qx(r.localStore,i),u=yield cu(r.localStore,a);yield OA(r,mM(a),u.targetId,!1,u.resumeToken),uD(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield uu(r.localStore,i,!1).then(()=>{ew(r.remoteStore,i),ky(r,i)}).catch(xa))}}),QA.apply(this,arguments)}function JA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b2.bind(null,e),e.sc.zo=u2.bind(null,e.eventManager),e.sc.wc=d2.bind(null,e.eventManager),e}function XA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T2.bind(null,e),e}class _M{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.It=Jb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return _n(this.persistence,new xe,e.initialUser,this.It)}yc(e){return new D(x.Bs,this.It)}gc(e){return new Yx}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yM extends _M{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield XA(r.Ac.syncEngine),yield Oy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return _n(this.persistence,new xe,e.initialUser,this.It)}Tc(e,t){return new HS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ib(t,this.persistence);return new d1(e.asyncQueue,r)}yc(e){const t=ct(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new ve(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Jx(),cD(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Yx}}class k2 extends yM{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof nA&&(r.sharedClientState.syncEngine={Fr:N2.bind(null,i),$r:M2.bind(null,i),Br:R2.bind(null,i),vi:x2.bind(null,i),Mr:A2.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,me.Z)(function*(u){yield function O2(n,e){return WA.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=Jx();if(!nA.C(t))throw new Pe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ct(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class eN{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,r.syncEngine),yield bA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new c2}createDatastore(e){const t=Jb(e.databaseInfo.databaseId),r=new qL(e.databaseInfo);return new WL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>fM(this.syncEngine,h,0),u=Qx.C()?new Qx:new HL,new QL(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,h,_,b){const E=new m2(r,i,a,u,h,_);return b&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Je(t);Le("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Ny(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tN(n,e,t){if(!t)throw new Pe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vM(n,e,t,r){if(!0===e&&!0===r)throw new Pe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bM(n){if(!Qe.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wM(n){if(Qe.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hD(n);throw new Pe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TM(n,e){if(e<=0)throw new Pe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const EM=new Map;class DM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new e1;switch(t.type){case"gapi":return new n1(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EM.get(e);t&&(Le("ComponentProvider","Removing Datastore"),EM.delete(e),t.terminate())}(this),Promise.resolve()}}class or{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class du extends ps{constructor(e,t,r){super(e,t,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Qe(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function CM(n,e,...t){if(n=(0,zt.m9)(n),tN("collection","path",e),n instanceof tw){const r=dn.fromString(e,...t);return wM(r),new du(n,null,r)}{if(!(n instanceof or||n instanceof du))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return wM(r),new du(n.firestore,null,r)}}function fD(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=eb.R()),tN("doc","path",e),n instanceof tw){const r=dn.fromString(e,...t);return bM(r),new or(n,null,new Qe(r))}{if(!(n instanceof or||n instanceof du))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return bM(r),new or(n.firestore,n instanceof du?n.converter:null,new Qe(r))}}function SM(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),(n instanceof or||n instanceof du)&&(e instanceof or||e instanceof du)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nN(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),n instanceof ps&&e instanceof ps&&n.firestore===e.firestore&&Dg(n._query,e._query)&&n.converter===e.converter}function AM(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class L2{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ir,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new h2(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,me.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class B2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,me.Z)(function*(a,u){const h=Je(a),_=ru(h.It)+"/documents",b={documents:u.map(P=>py(h.It,P))},E=yield h._o("BatchGetDocuments",_,b,u.length),S=new Map;E.forEach(P=>{const V=function kx(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=La(t,r.found.name),a=jr(r.found.updateTime),u=new Ir({mapValue:{fields:r.found.fields}});return On.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=La(t,r.missing),a=jr(r.readTime);return On.newNoDocument(i,a)}(n,e):dt()}(h.It,P);S.set(V.key.toString(),V)});const R=[];return u.forEach(P=>{const V=S.get(P.toString());xt(!!V),R.push(V)}),R}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Qe.fromPath(i);e.mutations.push(new vb(a,e.precondition(a)))}),yield(r=(0,me.Z)(function*(i,a){const u=Je(i),h=ru(u.It)+"/documents",_={writes:a.map(b=>Sg(u.It,b))};yield u.ao("Commit",h,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Pe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?kn.exists(!1):kn.updateTime(t):kn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Pe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kn.updateTime(t)}return kn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class j2{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new rA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,me.Z)(function*(){const t=new B2(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!mg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!k1(t)}return!1}}class H2{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gi.UNAUTHENTICATED,this.clientId=eb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,me.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=My(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function NM(n,e){return rN.apply(this,arguments)}function rN(){return rN=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,me.Z)(function*(a){r.isEqual(a)||(yield Wn(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),rN.apply(this,arguments)}function OM(n,e){return iN.apply(this,arguments)}function iN(){return iN=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sN(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>sM(e.remoteStore,a)),n.onlineComponents=e}),iN.apply(this,arguments)}function sN(n){return oN.apply(this,arguments)}function oN(){return oN=(0,me.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield NM(n,new _M)),n.offlineComponents}),oN.apply(this,arguments)}function gD(n){return aN.apply(this,arguments)}function aN(){return aN=(0,me.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield OM(n,new eN)),n.onlineComponents}),aN.apply(this,arguments)}function xM(n){return sN(n).then(e=>e.persistence)}function mD(n){return sN(n).then(e=>e.localStore)}function lN(n){return gD(n).then(e=>e.remoteStore)}function cN(n){return gD(n).then(e=>e.syncEngine)}function Fy(n){return uN.apply(this,arguments)}function uN(){return uN=(0,me.Z)(function*(n){const e=yield gD(n),t=e.eventManager;return t.onListen=_2.bind(null,e.syncEngine),t.onUnlisten=y2.bind(null,e.syncEngine),t}),uN.apply(this,arguments)}function RM(n,e,t={}){const r=new ir;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,a,u,h,_){const b=new pD({next:S=>{a.enqueueAndForget(()=>IA(i,E));const R=S.docs.has(u);!R&&S.fromCache?_.reject(new Pe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&h&&"server"===h.source?_.reject(new Pe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),E=new AA(mf(u.path),b,{includeMetadataChanges:!0,ku:!0});return EA(i,E)}(yield Fy(n),n.asyncQueue,e,t,r)})),r.promise}function PM(n,e,t={}){const r=new ir;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,a,u,h,_){const b=new pD({next:S=>{a.enqueueAndForget(()=>IA(i,E)),S.fromCache&&"server"===h.source?_.reject(new Pe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),E=new AA(u,b,{includeMetadataChanges:!0,ku:!0});return EA(i,E)}(yield Fy(n),n.asyncQueue,e,t,r)})),r.promise}class Y2{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new rA(this,"async_queue_retry"),this.Wc=()=>{const t=cD();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=cD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=cD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ir;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,me.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Pl(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Zn("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=TA.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&dt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function dN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Q2{constructor(){this._progressObserver={},this._taskCompletionResolver=new ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ar extends tw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Y2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kM(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||kM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kM(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iS(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new H2(n._authCredentials,n._appCheckCredentials,n._queue,r)}function FM(n,e,t){const r=new ir;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield NM(n,t),yield OM(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;yd("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function LM(n){if(n._initialized||n._terminated)throw new Pe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hu(Br.fromBase64String(e))}catch(t){throw new Pe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hu(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fg{constructor(e){this._methodName=e}}class _D{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const aU=/^__.*__$/;class lU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nd(e,this.data,t,this.fieldTransforms)}}class UM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class yD{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new yD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return wD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(VM(this.sa)&&aU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Jb(e)}da(e,t,r,i=!1){return new yD({sa:e,methodName:t,fa:r,path:mr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Lg(n){const e=n._freezeSettings(),t=Jb(n._databaseId);return new cU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vD(n,e,t,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,i);gN("Data must be an object, but it was:",u,r);const h=HM(r,u);let _,b;if(a.merge)_=new Rs(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const E=[];for(const S of a.mergeFields){const R=mN(e,S,t);if(!u.contains(R))throw new Pe(de.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);GM(E,R)||E.push(R)}_=new Rs(E),b=u.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,b=u.fieldTransforms;return new lU(new Ir(h),_,b)}class nw extends Fg{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nw}}function BM(n,e,t){return new yD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class hN extends Fg{_toFieldTransform(e){return new Ad(e.path,new Fa)}isEqual(e){return e instanceof hN}}class uU extends Fg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=BM(this,e,!0),r=this._a.map(a=>Ug(a,t)),i=new Cd(r);return new Ad(e.path,i)}isEqual(e){return this===e}}class dU extends Fg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=BM(this,e,!0),r=this._a.map(a=>Ug(a,t)),i=new Sd(r);return new Ad(e.path,i)}isEqual(e){return this===e}}class hU extends Fg{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new _f(e.It,S1(e.It,this.wa));return new Ad(e.path,t)}isEqual(e){return this===e}}function fN(n,e,t,r){const i=n.da(1,e,t);gN("Data must be an object, but it was:",i,r);const a=[],u=Ir.empty();bd(r,(_,b)=>{const E=bD(e,_,t);b=(0,zt.m9)(b);const S=i.ca(E);if(b instanceof nw)a.push(E);else{const R=Ug(b,S);null!=R&&(a.push(E),u.set(E,R))}});const h=new Rs(a);return new UM(u,h,i.fieldTransforms)}function pN(n,e,t,r,i,a){const u=n.da(1,e,t),h=[mN(e,r,t)],_=[i];if(a.length%2!=0)throw new Pe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)h.push(mN(e,a[R])),_.push(a[R+1]);const b=[],E=Ir.empty();for(let R=h.length-1;R>=0;--R)if(!GM(b,h[R])){const P=h[R];let V=_[R];V=(0,zt.m9)(V);const z=u.ca(P);if(V instanceof nw)b.push(P);else{const Y=Ug(V,z);null!=Y&&(b.push(P),E.set(P,Y))}}const S=new Rs(b);return new UM(E,S,u.fieldTransforms)}function jM(n,e,t,r=!1){return Ug(t,n.da(r?4:3,e))}function Ug(n,e){if($M(n=(0,zt.m9)(n)))return gN("Unsupported field value:",e,n),HM(n,e);if(n instanceof Fg)return function(t,r){if(!VM(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let h=Ug(u,r.aa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return S1(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Vn.fromDate(t);return{timestampValue:Ef(r.It,i)}}if(t instanceof Vn){const i=new Vn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ef(r.It,i)}}if(t instanceof _D)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hu)return{bytesValue:wS(r.It,t._byteString)};if(t instanceof or){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${hD(t)}`)}(n,e)}function HM(n,e){const t={};return sb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bd(n,(r,i)=>{const a=Ug(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function $M(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vn||n instanceof _D||n instanceof hu||n instanceof or||n instanceof Fg)}function gN(n,e,t){if(!$M(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hD(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function mN(n,e,t){if((e=(0,zt.m9)(e))instanceof Ld)return e._internalPath;if("string"==typeof e)return bD(n,e);throw wD("Field path arguments must be of type string or ",n,!1,void 0,t)}const fU=new RegExp("[~\\*/\\[\\]]");function bD(n,e,t){if(e.search(fU)>=0)throw wD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ld(...e.split("."))._internalPath}catch{throw wD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wD(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Pe(de.INVALID_ARGUMENT,h+n+_)}function GM(n,e){return n.some(t=>t.isEqual(e))}class rw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pU extends rw{data(){return super.data()}}function TD(n,e){return"string"==typeof e?bD(n,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}function qM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}function xf(n,...e){for(const t of e)n=t._apply(n);return n}class gU extends iw{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Lg(e.firestore),r=function(i,a,u,h,_,b,E){let S;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){QM(E,b);const P=[];for(const V of E)P.push(YM(h,i,V));S={arrayValue:{values:P}}}else S=YM(h,i,E)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||QM(E,b),S=jM(u,"where",E,"in"===b||"not-in"===b);const R=mi.create(_,b,S);return function(P,V){if(V.dt()){const Y=Tg(P);if(null!==Y&&!Y.isEqual(V.field))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Y.toString()}' and '${V.field.toString()}'`);const Ee=ay(P);null!==Ee&&JM(0,V.field,Ee)}const z=function(Y,Ee){for(const Oe of Y.filters)if(Ee.indexOf(Oe.op)>=0)return Oe.op;return null}(P,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==z)throw new Pe(de.INVALID_ARGUMENT,z===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${z.toString()}' filters.`)}(i,R),R}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ps(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new Ll(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class _U extends iw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new nu(i,a);return function(h,_){if(null===ay(h)){const b=Tg(h);null!==b&&JM(0,b,_.field)}}(r,u),u}(e._query,this.ma,this.pa);return new ps(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ll(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class zM extends iw{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new ps(e.firestore,e.converter,Eg(e._query,this.Ia,this.Ta))}}class ZM extends iw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=KM(e,this.type,this.Ea,this.Aa);return new ps(e.firestore,e.converter,(i=t,new Ll((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class WM extends iw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=KM(e,this.type,this.Ea,this.Aa);return new ps(e.firestore,e.converter,(i=t,new Ll((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function KM(n,e,t,r){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof rw)return function(i,a,u,h,_){if(!h)throw new Pe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const E of Dd(i))if(E.field.isKeyField())b.push(tu(a,h.key));else{const S=h.data.field(E.field);if(ab(S))throw new Pe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const R=E.field.canonicalString();throw new Pe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}b.push(S)}return new ka(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Lg(n.firestore);return function(a,u,h,_,b,E){const S=a.explicitOrderBy;if(b.length>S.length)throw new Pe(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let P=0;P<b.length;P++){const V=b[P];if(S[P].field.isKeyField()){if("string"!=typeof V)throw new Pe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof V}`);if(!ly(a)&&-1!==V.indexOf("/"))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${V}' contains a slash.`);const z=a.path.child(dn.fromString(V));if(!Qe.isDocumentKey(z))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const Y=new Qe(z);R.push(tu(u,Y))}else{const z=jM(h,_,V);R.push(z)}}return new ka(R,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function YM(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ly(e)&&-1!==t.indexOf("/"))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!Qe.isDocumentKey(r))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tu(n,new Qe(r))}if(t instanceof or)return tu(n,t._key);throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hD(t)}.`)}function QM(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function JM(n,e,t){if(!t.isEqual(e))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _N{convertValue(e,t="none"){switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Td(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return bd(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new _D(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Y_(e));default:return null}}convertTimestamp(e){const t=wd(e);return new Vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);xt(H1(r));const i=new Xc(r.get(1),r.get(3)),a=new Qe(r.popFirst(5));return i.isEqual(t)||Zn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function ED(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class IU extends _N{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}class Vg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ud extends rw{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sw extends Ud{data(e={}){return super.data(e)}}class Mf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sw(this._firestore,this._userDataWriter,r.key,r,new Vg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new sw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Vg(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new sw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Vg(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:CU(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function CU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function XM(n,e){return n instanceof Ud&&e instanceof Ud?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mf&&e instanceof Mf&&n._firestore===e._firestore&&nN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Rf extends _N{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function eR(n,e,t){n=hn(n,or);const r=hn(n.firestore,ar),i=ED(n.converter,e,t);return Ly(r,[vD(Lg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,kn.none())])}function tR(n,e,t,...r){n=hn(n,or);const i=hn(n.firestore,ar),a=Lg(i);let u;return u="string"==typeof(e=(0,zt.m9)(e))||e instanceof Ld?pN(a,"updateDoc",n._key,e,t,r):fN(a,"updateDoc",n._key,e),Ly(i,[u.toMutation(n._key,kn.exists(!0))])}function nR(n,...e){var t,r,i;n=(0,zt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||dN(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(dN(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let _,b,E;if(n instanceof or)b=hn(n.firestore,ar),E=mf(n._key.path),_={next:S=>{e[u]&&e[u](yN(b,n,S))},error:e[u+1],complete:e[u+2]};else{const S=hn(n,ps);b=hn(S.firestore,ar),E=S._query;const R=new Rf(b);_={next:P=>{e[u]&&e[u](new Mf(b,R,S,P))},error:e[u+1],complete:e[u+2]},qM(n._query)}return function(S,R,P,V){const z=new pD(V),Y=new AA(R,z,P);return S.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return EA(yield Fy(S),Y)})),()=>{z.bc(),S.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return IA(yield Fy(S),Y)}))}}($r(b),E,h,_)}function Ly(n,e){return function(t,r){const i=new ir;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function v2(n,e,t){return RA.apply(this,arguments)}(yield cN(t),r,i)})),i.promise}($r(n),e)}function yN(n,e,t){const r=t.docs.get(e._key),i=new Rf(n);return new Ud(n,i,e._key,r,new Vg(t.hasPendingWrites,t.fromCache),e.converter)}const FU={maxAttempts:5};class rR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lg(e)}set(e,t,r){this._verifyNotCommitted();const i=Pf(e,this._firestore),a=ED(i.converter,t,r),u=vD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,kn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Pf(e,this._firestore);let u;return u="string"==typeof(t=(0,zt.m9)(t))||t instanceof Ld?pN(this._dataReader,"WriteBatch.update",a._key,t,r,i):fN(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,kn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pf(e,this._firestore);return this._mutations=this._mutations.concat(new wf(t._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pf(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new Pe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class LU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lg(e)}get(e){const t=Pf(e,this._firestore),r=new IU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const a=i[0];if(a.isFoundDocument())return new rw(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new rw(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=Pf(e,this._firestore),a=ED(i.converter,t,r),u=vD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Pf(e,this._firestore);let u;return u="string"==typeof(t=(0,zt.m9)(t))||t instanceof Ld?pN(this._dataReader,"Transaction.update",a._key,t,r,i):fN(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Pf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pf(e,this._firestore),r=new Rf(this._firestore);return super.get(e).then(i=>new Ud(this._firestore,r,t._key,i._document,new Vg(!1,!1),t.converter))}}function vN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sR(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function oR(){if(!function nS(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_d=Go.SDK_VERSION,(0,Go._registerComponent)(new cd.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new ar(new t1(t.getProvider("auth-internal")),new X0(t.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xc(h.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Go.registerVersion)(KC,"3.7.1",n),(0,Go.registerVersion)(KC,"3.7.1","esm2017")}();class ow{constructor(e){this._delegate=e}static fromBase64String(e){return oR(),new ow(hu.fromBase64String(e))}static fromUint8Array(e){return sR(),new ow(hu.fromUint8Array(e))}toBase64(){return oR(),this._delegate.toBase64()}toUint8Array(){return sR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bN(n){return function zU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ZU{enableIndexedDbPersistence(e,t){return function X2(n,e){LM(n=hn(n,ar));const t=$r(n),r=n._freezeSettings(),i=new eN;return FM(t,i,new yM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eU(n){LM(n=hn(n,ar));const e=$r(n),t=n._freezeSettings(),r=new eN;return FM(e,r,new k2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tU(n){if(n._initialized&&!n._terminated)throw new Pe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!Ko.C())return Promise.resolve();const i=r+"main";yield Ko.delete(i)}),function(r){return t.apply(this,arguments)})(ct(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function IM(n,e,t,r={}){var i;const a=(n=hn(n,tw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&yd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=gi.MOCK_USER;else{u=(0,zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Pe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new gi(_)}n._authCredentials=new JC(new XE(u,h))}}(this._delegate,e,t,r)}enableNetwork(){return function rU(n){return function $2(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield xM(n),t=yield lN(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.wu.delete(0),Xb(i)}(t)}))}($r(n=hn(n,ar)))}(this._delegate)}disableNetwork(){return function iU(n){return function G2(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield xM(n),t=yield lN(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(i){const a=Je(i);a.wu.add(0),yield Ny(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=hn(n,ar)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,vM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nU(n){return function(e){const t=new ir;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function E2(n,e){return UA.apply(this,arguments)}(yield cN(e),t)})),t.promise}($r(n=hn(n,ar)))}(this._delegate)}onSnapshotsInSync(e){return function kU(n,e){return function Z2(n,e){const t=new pD(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Fy(n),i=t,Je(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Fy(n),i=t,void Je(r).bu.delete(i);var r,i}))}}($r(n=hn(n,ar)),dN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uy(this,CM(this._delegate,e))}catch(t){throw Ps(t,"collection()","Firestore.collection()")}}doc(e){try{return new Va(this,fD(this._delegate,e))}catch(t){throw Ps(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ks(this,function F2(n,e){if(n=hn(n,tw),tN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(n,null,(t=e,new Ll(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ps(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UU(n,e,t){n=hn(n,ar);const r=Object.assign(Object.assign({},FU),t);return function(i){if(i.maxAttempts<1)throw new Pe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const h=new ir;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const _=yield function MM(n){return gD(n).then(e=>e.datastore)}(i);new j2(i.asyncQueue,_,u,a,h).run()})),h.promise}($r(n),i=>e(new LU(n,i)),r)}(this._delegate,t=>e(new lR(this,t)))}batch(){return $r(this._delegate),new cR(new rR(this._delegate,e=>Ly(this._delegate,e)))}loadBundle(e){return function sU(n,e){const t=$r(n=hn(n,ar)),r=new Q2;return function W2(n,e,t,r){const i=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return AM(_,b);if(_ instanceof ArrayBuffer)return AM(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new L2(_,u);var _}(t,Jb(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function P2(n,e,t){const r=Je(n);var i;(i=(0,me.Z)(function*(a,u,h){try{const _=yield u.getMetadata();if(yield function(R,P){const V=Je(R),z=jr(P.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",Y=>V.Ns.getBundleMetadata(Y,P.id)).then(Y=>!!Y&&Y.createTime.compareTo(z)>=0)}(a.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=_).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(lM(_));const b=new f2(_,a.localStore,u.It);let E=yield u.mc();for(;E;){const R=yield b.Fu(E);R&&h._updateProgress(R),E=yield u.mc()}const S=yield b.complete();return yield Fd(a,S.Lu,void 0),yield function(R,P){const V=Je(R);return V.persistence.runTransaction("Save bundle","readwrite",z=>V.Ns.saveBundleMetadata(z,P))}(a.localStore,_),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(_){return yd("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var R}),function(a,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield cN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function oU(n,e){return function K2(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield mD(n),e)}))}($r(n=hn(n,ar)),e).then(t=>t?new ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ks(this,t):null)}}class DD extends _N{constructor(e){super(),this.firestore=e}convertBytes(e){return new ow(new hu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Va.forKey(t,this.firestore,null)}}class lR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}get(e){const t=jg(e);return this._delegate.get(t).then(r=>new aw(this._firestore,new Ud(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=jg(e);return r?(vN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=jg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}}class cR{constructor(e){this._delegate=e}set(e,t,r){const i=jg(e);return r?(vN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=jg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new sw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Bg(e,new DD(e),t),i.set(t,a)),a}}Bg.INSTANCES=new WeakMap;class Va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Va(t,new or(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Va(t,new or(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Uy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uy(this.firestore,CM(this._delegate,e))}catch(t){throw Ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zt.m9)(e))instanceof or&&SM(this._delegate,e)}set(e,t){t=vN("DocumentReference.set",t);try{return t?eR(this._delegate,e,t):eR(this._delegate,e)}catch(r){throw Ps(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tR(this._delegate,e):tR(this._delegate,e,t,...r)}catch(i){throw Ps(i,"updateDoc()","DocumentReference.update()")}}delete(){return function RU(n){return Ly(hn(n.firestore,ar),[new wf(n._key,kn.none())])}(this._delegate)}onSnapshot(...e){const t=uR(e),r=dR(e,i=>new aw(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function AU(n){n=hn(n,or);const e=hn(n.firestore,ar),t=$r(e),r=new Rf(e);return function q2(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,a,u){try{const h=yield function(_,b){const E=Je(_);return E.persistence.runTransaction("read document","readonly",S=>E.localDocuments.getDocument(S,b))}(i,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Pe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=My(h,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield mD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ud(e,r,n._key,i,new Vg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function NU(n){n=hn(n,or);const e=hn(n.firestore,ar);return RM($r(e),n._key,{source:"server"}).then(t=>yN(e,n,t))}(this._delegate):function SU(n){n=hn(n,or);const e=hn(n.firestore,ar);return RM($r(e),n._key).then(t=>yN(e,n,t))}(this._delegate),t.then(r=>new aw(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function Ps(n,e,t){return n.message=n.message.replace(e,t),n}function uR(n){for(const e of n)if("object"==typeof e&&!bN(e))return e;return{}}function dR(n,e){var t,r;let i;return i=bN(n[0])?n[0]:bN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return XM(this._delegate,e._delegate)}}class lw extends aw{data(e){const t=this._delegate.data(e);return function QC(n,e){n||dt()}(void 0!==t),t}}class ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}where(e,t,r){try{return new ks(this.firestore,xf(this._delegate,function mU(n,e,t){const r=e,i=TD("where",n);return new gU(i,r,t)}(e,t,r)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ks(this.firestore,xf(this._delegate,function yU(n,e="asc"){const t=e,r=TD("orderBy",n);return new _U(r,t)}(e,t)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ks(this.firestore,xf(this._delegate,function vU(n){return TM("limit",n),new zM("limit",n,"F")}(e)))}catch(t){throw Ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ks(this.firestore,xf(this._delegate,function bU(n){return TM("limitToLast",n),new zM("limitToLast",n,"L")}(e)))}catch(t){throw Ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ks(this.firestore,xf(this._delegate,function wU(...n){return new ZM("startAt",n,!0)}(...e)))}catch(t){throw Ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ks(this.firestore,xf(this._delegate,function TU(...n){return new ZM("startAfter",n,!1)}(...e)))}catch(t){throw Ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ks(this.firestore,xf(this._delegate,function EU(...n){return new WM("endBefore",n,!1)}(...e)))}catch(t){throw Ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ks(this.firestore,xf(this._delegate,function DU(...n){return new WM("endAt",n,!0)}(...e)))}catch(t){throw Ps(t,"endAt()","Query.endAt()")}}isEqual(e){return nN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function xU(n){n=hn(n,ps);const e=hn(n.firestore,ar),t=$r(e),r=new Rf(e);return function z2(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,a,u){try{const h=yield Nf(i,a,!0),_=new dM(a,h.Hi),b=_.Wu(h.documents),E=_.applyChanges(b,!1);u.resolve(E.snapshot)}catch(h){const _=My(h,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield mD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Mf(e,r,n,i))}(this._delegate):"server"===e?.source?function MU(n){n=hn(n,ps);const e=hn(n.firestore,ar),t=$r(e),r=new Rf(e);return PM(t,n._query,{source:"server"}).then(i=>new Mf(e,r,n,i))}(this._delegate):function OU(n){n=hn(n,ps);const e=hn(n.firestore,ar),t=$r(e),r=new Rf(e);return qM(n._query),PM(t,n._query).then(i=>new Mf(e,r,n,i))}(this._delegate),t.then(r=>new wN(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uR(e),r=dR(e,i=>new wN(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nR(this._delegate,t,r)}withConverter(e){return new ks(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}class KU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lw(this._firestore,r))})}isEqual(e){return XM(this._delegate,e._delegate)}}class Uy extends ks{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Va(this.firestore,e):null}doc(e){try{return new Va(this.firestore,void 0===e?fD(this._delegate):fD(this._delegate,e))}catch(t){throw Ps(t,"doc()","CollectionReference.doc()")}}add(e){return function PU(n,e){const t=hn(n.firestore,ar),r=fD(n),i=ED(n.converter,e);return Ly(t,[vD(Lg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Va(this.firestore,t))}isEqual(e){return SM(this._delegate,e._delegate)}withConverter(e){return new Uy(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function jg(n){return hn(n,or)}class TN{constructor(...e){this._delegate=new Ld(...e)}static documentId(){return new TN(mr.keyField().canonicalString())}isEqual(e){return(e=(0,zt.m9)(e))instanceof Ld&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function BU(){return new hN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hg(e)}static delete(){const e=function VU(){return new nw("deleteField")}();return e._methodName="FieldValue.delete",new Hg(e)}static arrayUnion(...e){const t=function jU(...n){return new uU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hg(t)}static arrayRemove(...e){const t=function HU(...n){return new dU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hg(t)}static increment(e){const t=function $U(n){return new hU("increment",n)}(e);return t._methodName="FieldValue.increment",new Hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const YU={Firestore:aR,GeoPoint:_D,Timestamp:Vn,Blob:ow,Transaction:lR,WriteBatch:cR,DocumentReference:Va,DocumentSnapshot:aw,Query:ks,QueryDocumentSnapshot:lw,QuerySnapshot:wN,CollectionReference:Uy,FieldPath:TN,FieldValue:Hg,setLogLevel:function WU(n){!function YC(n){Wo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function hR(n,e){return function XU(n,e=u0.z){return new Gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function EN(n,e){return hR(n,e).pipe((0,nt.U)(t=>({payload:t,type:"query"})))}function ID(n,e){return EN(n,e).pipe(ko(void 0),T_(),(0,nt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const _=i.find(E=>E.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(E=>E.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function fR(n,e,t){return ID(n,t).pipe(kt((r,i)=>function tV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function nV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return DN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DN(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function kp(n,e=As.y){return n=n??eE,(0,Qn.e)((t,r)=>{let i,a=!0;t.subscribe((0,Dn.x)(r,u=>{const h=e(u);(a||!n(i,h))&&(a=!1,i=h,r.next(u))}))})}(),(0,nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function DN(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function pR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function JU(n){(function QU(n,e){n.INTERNAL.registerComponent(new cd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},YU)))})(n,(e,t)=>new aR(e,t,new ZU)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(E_.Z);class gR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ID(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ko(void 0),T_(),I(([r,i])=>i.length>0||!r),(0,nt.U)(([r,i])=>i),Un.iC)}auditTrail(e){return this.stateChanges(e).pipe(kt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pR(e);return fR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return EN(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Un.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Un.iC)}add(e){return this.ref.add(e)}doc(e){return new mR(this.ref.doc(e),this.afs)}}class mR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=vR(r,t);return new gR(i,a,this.afs)}snapshotChanges(){return function eV(n,e){return hR(n,e).pipe(ko(void 0),T_(),(0,nt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(Un.iC)}}class rV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ID(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),I(t=>t.length>0),Un.iC):ID(this.query,this.afs.schedulers.outsideAngular).pipe(Un.iC)}auditTrail(e){return this.stateChanges(e).pipe(kt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pR(e);return fR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return EN(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Un.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Un.iC)}}const _R=new l.OlP("angularfire2.enableFirestorePersistence"),yR=new l.OlP("angularfire2.firestore.persistenceSettings"),iV=new l.OlP("angularfire2.firestore.settings"),sV=new l.OlP("angularfire2.firestore.use-emulator");function vR(n,e=(t=>t)){return{query:e(n),ref:n}}let bR=(()=>{class n{constructor(t,r,i,a,u,h,_,b,E,S,R,P,V,z,Y,Ee,Oe){this.schedulers=_;const ke=(0,ui.on)(t,h,r),Se=E;S&&Pp(ke,h,R,V,z,Y,P,Ee),[this.firestore,this.persistenceEnabled$]=(0,ui.cc)(`${ke.name}.firestore`,"AngularFirestore",ke.name,()=>{const je=h.runOutsideAngular(()=>ke.firestore());if(a&&je.settings(a),Se&&je.useEmulator(...Se),i&&!xr(u)){const qe=()=>{try{return(0,on.D)(je.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),at(!1)}};return[je,h.runOutsideAngular(qe)]}return[je,at(!1)]},[a,Se,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=vR(i,r),h=this.schedulers.ngZone.run(()=>a);return new gR(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new rV(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new mR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ui.Dh),l.LFG(ui.xv,8),l.LFG(_R,8),l.LFG(iV,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Un.HU),l.LFG(yR,8),l.LFG(sV,8),l.LFG(l0,8),l.LFG(QT,8),l.LFG(b_,8),l.LFG(JT,8),l.LFG(XT,8),l.LFG(Rp,8),l.LFG(w_,8),l.LFG(v_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oV=(()=>{class n{constructor(){s_.Z.registerVersion("angularfire",Un.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:_R,useValue:!0},{provide:yR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[bR]}),n})();class wR{}const Vd="*";function lV(n,e){return{type:7,name:n,definitions:e,options:{}}}function TR(n,e=null){return{type:4,styles:e,timings:n}}function ER(n,e=null){return{type:2,steps:n,options:e}}function cw(n){return{type:6,styles:n,offset:null}}function IN(n,e,t){return{type:0,name:n,styles:e,options:t}}function DR(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function IR(n){Promise.resolve().then(n)}class uw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){IR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class CR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?IR(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const SR=["toast-component",""];function cV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function uV(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function dV(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,uV,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function hV(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function fV(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function pV(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class wV{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class EV{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new nn.x,this._activate=new nn.x,this._manualClose=new nn.x,this._resetTimeout=new nn.x,this._countDuplicate=new nn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class CD{constructor(e,t,r,i,a,u){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=u,this._onTap=new nn.x,this._onAction=new nn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const NR=new l.OlP("ToastConfig");class DV extends class TV{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class IV{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let CV=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SV=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new DV(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new IV(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(CV),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SN=(()=>{class n{constructor(t,r,i,a,u){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const _=u&&h.title===t;if((!u||_)&&h.message===r)return h.toastRef.onDuplicate(i,a),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=r;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&a.enableHtml&&(b=this.sanitizer.sanitize(l.q3G.HTML,r));const E=new EV(_),S=new CD(this.index,a,b,i,t,E),P=l.zs3.create({providers:[{provide:CD,useValue:S}],parent:this._injector}),V=new wV(a.toastComponent,P),z=_.attach(V,a.newestOnTop);E.componentInstance=z.instance;const Y={toastId:this.index,title:i||"",message:r||"",toastRef:E,onShown:E.afterActivate(),onHidden:E.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:z};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Y.toastRef.activate()})),this.toasts.push(Y),Y}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(NR),l.LFG(SV),l.LFG(l.zs3),l.LFG(ul),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AV={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(SN),l.Y36(CD),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:SR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,cV,3,0,"button",0),l.YNc(1,dV,3,5,"div",1),l.YNc(2,hV,1,3,"div",2),l.YNc(3,fV,2,4,"div",3),l.YNc(4,pV,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[pn],encapsulation:2,data:{animation:[lV("flyInOut",[IN("inactive",cw({opacity:0})),IN("active",cw({opacity:1})),IN("removed",cw({opacity:0})),DR("inactive => active",TR("{{ easeTime }}ms {{ easing }}")),DR("active => removed",TR("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let NV=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:NR,useValue:{default:AV,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Vy=(()=>{class n{constructor(t){this.toastr=t}showSuccess(t,r,i){this.toastr.success(t,r,i||{timeOut:2e3})}showError(t,r,i){this.toastr.error(t,r,i||{timeOut:2e3,positionClass:"toast-top-center"})}showInfo(t,r,i){this.toastr.info(t,r,i||{timeOut:2e3,positionClass:"toast-bottom-right"})}showWarning(t,r,i){this.toastr.warning(t,r,i||{timeOut:2e3,positionClass:"toast-bottom-left"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$g=(()=>{class n{constructor(t,r,i,a){this.angularFireAuth=t,this.angularFirestore=r,this.notifyService=i,this.router=a,this.isAdmin=!1,this.isLogged=!1,this.user$=this.angularFireAuth.authState.pipe(Nn(u=>u?this.angularFirestore.doc(`usuarios/${u.uid}`).valueChanges():at(null)))}registerNewUser(t){this.angularFireAuth.setPersistence(s_.Z.auth.Auth.Persistence.NONE).then(()=>{this.angularFireAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{r.user?.sendEmailVerification(),this.angularFirestore.collection("usuarios").doc(r.user?.uid).set({id:r.user?.uid,perfil:t.perfil,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,especialidad:t.especialidad,email:t.email,password:t.password,imagen1:t.imagen1,imagen2:t.imagen2,aprobado:t.aprobado}).then(()=>{this.notifyService.showInfo("Verifica tu email","Registro exitoso")}).catch(i=>{this.notifyService.showError(this.createMessage(i.code),"Error")})}).catch(r=>{this.notifyService.showError(this.createMessage(r.code),"Error")})})}updateUser(t){this.angularFirestore.doc(`usuarios/${t.id}`).update({id:t.id,perfil:t.perfil,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,especialidad:t.especialidad,email:t.email,password:t.password,imagen1:t.imagen1,imagen2:t.imagen2,aprobado:t.aprobado}).then(()=>{}).catch(r=>{this.notifyService.showError("Ocurrio un error","Administrador")})}userLogin(t,r){var i=this;return(0,me.Z)(function*(){try{return yield i.angularFireAuth.signInWithEmailAndPassword(t,r)}catch(a){return console.log(a.code),i.notifyService.showError("Email y/o contrase\xf1a invalidos","Inicio fallido"),null}})()}userLogout(){this.isAdmin=!1,this.isLogged=!1,this.angularFireAuth.signOut()}createUserLog(t,r){return this.angularFirestore.collection(t).add(r)}createMessage(t){let r="";switch(t){case"auth/internal-error":r="Los campos estan vacios";break;case"auth/operation-not-allowed":r="La operaci\xf3n no est\xe1 permitida.";break;case"auth/email-already-in-use":r="El email ya est\xe1 registrado.";break;case"auth/invalid-email":r="El email no es valido.";break;case"auth/weak-password":r="La contrase\xf1a debe tener al menos 6 caracteres";break;default:r="Error al crear el usuario."}return r}getUserLogged(){return this.angularFireAuth.authState}getUsers(){return this.angularFirestore.collection("usuarios").valueChanges()}getCollection(t){return this.angularFirestore.collection(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l0),l.LFG(bR),l.LFG(Vy),l.LFG(gr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var OV=F(1144);const xV=["addListener","removeListener"],MV=["addEventListener","removeEventListener"],RV=["on","off"];function Fs(n,e,t,r){if((0,li.m)(t)&&(r=t,t=void 0),r)return Fs(n,e,t).pipe(ya(r));const[i,a]=function FV(n){return(0,li.m)(n.addEventListener)&&(0,li.m)(n.removeEventListener)}(n)?MV.map(u=>h=>n[u](e,h,t)):function PV(n){return(0,li.m)(n.addListener)&&(0,li.m)(n.removeListener)}(n)?xV.map(OR(n,e)):function kV(n){return(0,li.m)(n.on)&&(0,li.m)(n.off)}(n)?RV.map(OR(n,e)):[];if(!i&&(0,OV.z)(n))return(0,C.z)(u=>Fs(u,e,t))((0,Yr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Gn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return i(h),()=>a(h)})}function OR(n,e){return t=>r=>n[t](e,r)}var LV=F(3532);const{isArray:VV}=Array;function xR(n){return 1===n.length&&VV(n[0])?n[0]:n}var SD=F(5032);function AD(...n){const e=(0,ai.jO)(n),t=xR(n);return t.length?new Gn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let u=0;!r.closed&&u<t.length;u++)(0,Yr.Xf)(t[u]).subscribe((0,Dn.x)(r,h=>{if(i[u].push(h),i.every(_=>_.length)){const _=i.map(b=>b.shift());r.next(e?e(..._):_),i.some((b,E)=>!b.length&&a[E])&&r.complete()}},()=>{a[u]=!0,!i[u].length&&r.complete()}));return()=>{i=a=null}}):$i.E}function vi(n){return(0,Qn.e)((e,t)=>{(0,Yr.Xf)(n).subscribe((0,Dn.x)(t,()=>t.complete(),SD.Z)),!t.closed&&e.subscribe(t)})}function NN(...n){const e=(0,ai.jO)(n);return(0,Qn.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),h=!1;for(let _=0;_<i;_++)(0,Yr.Xf)(n[_]).subscribe((0,Dn.x)(r,b=>{a[_]=b,!h&&!u[_]&&(u[_]=!0,(h=u.every(As.y))&&(u=null))},SD.Z));t.subscribe((0,Dn.x)(r,_=>{if(h){const b=[_,...a];r.next(e?e(...b):b)}}))})}new Gn.y(SD.Z);let kR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Gg=(()=>{class n extends kR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const fu=new l.OlP("NgValueAccessor"),ZV={provide:fu,useExisting:(0,l.Gpc)(()=>qg),multi:!0},KV=new l.OlP("CompositionEventMode");let qg=(()=>{class n extends kR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WV(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(KV,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([ZV]),l.qOj]}),n})();function kf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function LR(n){return null!=n&&"number"==typeof n.length}const gs=new l.OlP("NgValidators"),Ff=new l.OlP("NgAsyncValidators"),QV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kr{static min(e){return UR(e)}static max(e){return VR(e)}static required(e){return function BR(n){return kf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function jR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function HR(n){return kf(n.value)||QV.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function $R(n){return e=>kf(e.value)||!LR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function GR(n){return e=>LR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function qR(n){if(!n)return ND;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(kf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return QR(e)}static composeAsync(e){return JR(e)}}function UR(n){return e=>{if(kf(e.value)||kf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function VR(n){return e=>{if(kf(e.value)||kf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function ND(n){return null}function zR(n){return null!=n}function ZR(n){return(0,l.QGY)(n)?(0,on.D)(n):n}function WR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function KR(n,e){return e.map(t=>t(n))}function YR(n){return n.map(e=>function JV(n){return!n.validate}(e)?e:t=>e.validate(t))}function QR(n){if(!n)return null;const e=n.filter(zR);return 0==e.length?null:function(t){return WR(KR(t,e))}}function ON(n){return null!=n?QR(YR(n)):null}function JR(n){if(!n)return null;const e=n.filter(zR);return 0==e.length?null:function(t){return function qV(...n){const e=(0,ai.jO)(n),{args:t,keys:r}=hl(n),i=new Gn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const h=new Array(u);let _=u,b=u;for(let E=0;E<u;E++){let S=!1;(0,Yr.Xf)(t[E]).subscribe((0,Dn.x)(a,R=>{S||(S=!0,b--),h[E]=R},()=>_--,void 0,()=>{(!_||!S)&&(b||a.next(r?va(r,h):h),a.complete())}))}});return e?i.pipe(ya(e)):i}(KR(t,e).map(ZR)).pipe((0,nt.U)(WR))}}function xN(n){return null!=n?JR(YR(n)):null}function XR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eP(n){return n._rawValidators}function tP(n){return n._rawAsyncValidators}function MN(n){return n?Array.isArray(n)?n:[n]:[]}function OD(n,e){return Array.isArray(n)?n.includes(e):n===e}function nP(n,e){const t=MN(e);return MN(n).forEach(i=>{OD(t,i)||t.push(i)}),t}function rP(n,e){return MN(e).filter(t=>!OD(n,t))}class iP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ON(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ls extends iP{get formDirective(){return null}get path(){return null}}class Lf extends iP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dw=(()=>{class n extends sP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lf,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),hw=(()=>{class n extends sP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ls,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const fw="VALID",MD="INVALID",By="PENDING",pw="DISABLED";function FN(n){return(RD(n)?n.validators:n)||null}function aP(n){return Array.isArray(n)?ON(n):n||null}function LN(n,e){return(RD(e)?e.asyncValidators:n)||null}function lP(n){return Array.isArray(n)?xN(n):n||null}function RD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function cP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function uP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class PD{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aP(this._rawValidators),this._composedAsyncValidatorFn=lP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fw}get invalid(){return this.status===MD}get pending(){return this.status==By}get disabled(){return this.status===pw}get enabled(){return this.status!==pw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=lP(e)}addValidators(e){this.setValidators(nP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rP(e,this._rawAsyncValidators))}hasValidator(e){return OD(this._rawValidators,e)}hasAsyncValidator(e){return OD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=By,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fw||this.status===By)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pw:fw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=By,this._hasOwnPendingAsyncValidator=!0;const t=ZR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?pw:this.errors?MD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(By)?By:this._anyControlsHaveStatus(MD)?MD:fw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){RD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class gw extends PD{constructor(e,t,r){super(FN(t),LN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uP(this,0,e),Object.keys(e).forEach(r=>{cP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class dP extends gw{}function mw(n,e){UN(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function oB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hP(n,e)})}(n,e),function lB(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function aB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sB(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function FD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),UD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function LD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UN(n,e){const t=eP(n);null!==e.validator?n.setValidators(XR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=tP(n);null!==e.asyncValidator?n.setAsyncValidators(XR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();LD(e._rawValidators,i),LD(e._rawAsyncValidators,i)}function UD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=eP(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=tP(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return LD(e._rawValidators,r),LD(e._rawAsyncValidators,r),t}function hP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _P(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yw=class extends PD{constructor(e=null,t,r){super(FN(t),LN(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),RD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_P(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_P(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const _B={provide:fu,useExisting:(0,l.Gpc)(()=>bw),multi:!0};let bw=(()=>{class n extends Gg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([_B]),l.qOj]}),n})(),TP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const HN=new l.OlP("NgModelWithFormControlWarning"),TB={provide:Ls,useExisting:(0,l.Gpc)(()=>zg)};let zg=(()=>{class n extends Ls{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return mw(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){FD(t.control||null,t,!1),function hB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function gP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(FD(r||null,t),(n=>n instanceof yw)(i)&&(mw(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function fP(n,e){UN(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function cB(n,e){return UD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UN(this.form,this),this._oldForm&&UD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gs,10),l.Y36(Ff,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([TB]),l.qOj,l.TTD]}),n})();const IB={provide:Lf,useExisting:(0,l.Gpc)(()=>jy)};let jy=(()=>{class n extends Lf{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function BN(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===qg?t=a:function dB(n){return Object.getPrototypeOf(n.constructor)===Gg}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function VN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Ls,13),l.Y36(gs,10),l.Y36(Ff,10),l.Y36(fu,10),l.Y36(HN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([IB]),l.qOj,l.TTD]}),n})();const CB={provide:fu,useExisting:(0,l.Gpc)(()=>VD),multi:!0};function SP(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let VD=(()=>{class n extends Gg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=SP(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function SB(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([CB]),l.qOj]}),n})(),AP=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(SP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(VD,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const AB={provide:fu,useExisting:(0,l.Gpc)(()=>qN),multi:!0};function NP(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qN=(()=>{class n extends Gg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const u=a;for(let h=0;h<u.length;h++){const b=this._getOptionValue(u[h].value);i.push(b)}}else{const u=r.options;for(let h=0;h<u.length;h++){const _=u[h];if(_.selected){const b=this._getOptionValue(_.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function NB(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([AB]),l.qOj]}),n})(),OP=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(NP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(NP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(qN,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function MP(n){return"number"==typeof n?n:parseFloat(n)}let Zg=(()=>{class n{constructor(){this._validator=ND}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ND,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const OB={provide:gs,useExisting:(0,l.Gpc)(()=>ww),multi:!0};let ww=(()=>{class n extends Zg{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>MP(t),this.createValidator=t=>VR(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[l._Bn([OB]),l.qOj]}),n})();const xB={provide:gs,useExisting:(0,l.Gpc)(()=>Tw),multi:!0};let Tw=(()=>{class n extends Zg{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>MP(t),this.createValidator=t=>UR(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[l._Bn([xB]),l.qOj]}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[TP]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UP]}),n})(),BP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:HN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UP]}),n})();class jP extends PD{constructor(e,t,r){super(FN(t),LN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){uP(this,0,e),e.forEach((r,i)=>{cP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function HP(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let BD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return HP(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new gw(i,a)}record(t,r=null){const i=this._reduceControls(t);return new dP(i,r)}control(t,r,i){let a={};return this.useNonNullable?(HP(r)?a=r:(a.validators=r,a.asyncValidators=i),new yw(t,{...a,nonNullable:!0})):new yw(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new jP(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof yw||t instanceof PD?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:BP}),n})();Math,Math,Math;const Wj=["*"],hH=["dialog"];function iO(n){return"string"==typeof n}function Yg(n){return null!=n}function zy(n){return(n||document.body).getBoundingClientRect()}const ok={animation:!0,transitionTimerDelayMs:5},a3=()=>{},{transitionTimerDelayMs:l3}=ok,Nw=new Map,Us=(n,e,t,r)=>{let i=r.context||{};const a=Nw.get(e);if(a)switch(r.runningTransition){case"continue":return $i.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Nw.delete(e)}const u=t(e,r.animation,i)||a3;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),at(void 0).pipe(function s3(n){return e=>new Gn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new nn.x,_=new nn.x,b=h.pipe(function jV(...n){return e=>rs(e,at(...n))}(!0));Nw.set(e,{transition$:h,complete:()=>{_.next(),_.complete()},context:i});const E=function o3(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=Fs(e,"transitionend").pipe(vi(b),I(({target:P})=>P===e));(function MR(...n){return 1===(n=xR(n)).length?(0,Yr.Xf)(n[0]):new Gn.y(function BV(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Yr.Xf)(n[r]).subscribe((0,Dn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function AN(n=0,e,t=u0.P){let r=-1;return null!=e&&((0,LV.K)(e)?t=e:r=e),new Gn.y(i=>{let a=function UV(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(E+l3).pipe(vi(b)),S,_).pipe(vi(b)).subscribe(()=>{Nw.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let zD=(()=>{class n{constructor(){this.animation=ok.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var bi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(bi||(bi={})),bi))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const vk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bk(n){const e=Array.from(n.querySelectorAll(vk)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr,VP]}),n})(),dO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class em{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let X3=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Kt(1)).subscribe(()=>{Us(this._zone,this._el.nativeElement,(t,r)=>{r&&zy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Us(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Mk{close(e){}dismiss(e){}}class e${constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new nn.x,this._dismissed=new nn.x,this._hidden=new nn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function sk(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():at(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),AD(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Rw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Rw||(Rw={})),Rw))();let t$=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new nn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new nn.x,this.hidden=new nn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iO(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Kt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=AD(Us(this._zone,t,()=>t.classList.remove("show"),r),Us(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};AD(Us(this._zone,this._elRef.nativeElement,(a,u)=>{u&&zy(a),a.classList.add("show")},t),Us(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Fs(t,"keydown").pipe(vi(this._closed$),I(i=>i.which===bi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Rw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Fs(this._dialogEl.nativeElement,"mousedown").pipe(vi(this._closed$),(0,Fe.b)(()=>r=!1),Nn(()=>Fs(t,"mouseup").pipe(vi(this._closed$),Kt(1))),I(({target:i})=>t===i)).subscribe(()=>{r=!0}),Fs(t,"click").pipe(vi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Rw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=bk(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Us(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ce),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(hH,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Wj,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),n$=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:u}=i;if(t>0){const h=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${h+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r$=(()=>{class n{constructor(t,r,i,a,u,h){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new nn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Fs(e,"focusin").pipe(vi(t),(0,nt.U)(a=>a.target));Fs(e,"keydown").pipe(vi(t),I(a=>a.which===bi.Tab),NN(i)).subscribe(([a,u])=>{const[h,_]=bk(e);(u===h||u===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),u===_&&!a.shiftKey&&(h.focus(),a.preventDefault())}),r&&Fs(e,"click").pipe(vi(t),NN(i),(0,nt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:Yg(i.container)?this._document.querySelector(i.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new Mk,_=this._getContentRef(i.injector||t,r,h,i);let b=!1!==i.backdrop?this._attachBackdrop(a):void 0,E=this._attachWindowComponent(a,_.nodes),S=new e$(E,_,b,i.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(E),S.hidden.pipe(Kt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=R=>{S.close(R)},h.dismiss=R=>{S.dismiss(R)},this._applyWindowOptions(E.instance,i),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,i),b.changeDetectorRef.detectChanges()),E.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(X3,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(t$,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Yg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Yg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,i):iO(r)?this._createFromString(r):this._createFromComponent(t,r,i,a):new em([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(a),new em([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new em([[r]])}_createFromComponent(t,r,i,a){const u=l.zs3.create({providers:[{provide:Mk,useValue:i}],parent:t}),h=(0,l.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:u}),_=h.location.nativeElement;return a.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new em([[_]],h.hostView,h)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(ce),l.LFG(n$),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i$=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s$=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(r$),l.LFG(i$))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[s$]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),Jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function y$(){return 100}});let Xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hr]}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const v$=[hk,fk,mk,_k,Ak,xk,Rk,Lk,eF,qk,Zk,Wk,Kk,Yk,Qk,Jk,Xk];let b$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v$,hk,fk,mk,_k,Ak,xk,Rk,Lk,eF,qk,Zk,Wk,Kk,Yk,Qk,Jk,Xk]}),n})();function w$(n,e){1&n&&(l.TgZ(0,"a",15)(1,"button",10),l._uU(2,"USUARIOS"),l.qZA()())}function T$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToRegister())}),l.TgZ(1,"span"),l._uU(2,"Registro"),l.qZA()()}}function E$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",17),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToLogin())}),l.TgZ(1,"span"),l._uU(2,"Login"),l.qZA()()}}function D$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.logout())}),l.TgZ(1,"span"),l._uU(2,"Logout"),l.qZA()()}}let eI=(()=>{class n{constructor(t,r){this.router=t,this.authService=r,this.user=null}ngOnInit(){this.authService.user$.subscribe(t=>{t&&(this.user=t,this.authService.isLogged=!0,"administrador"==this.user.perfil&&(this.authService.isAdmin=!0))})}goToRegister(){this.router.navigate(["/registro"])}goToLogin(){this.router.navigate(["/login"])}logout(){this.authService.userLogout(),this.user=null,this.authService.isLogged=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr),l.Y36($g))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:17,vars:4,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["src","../../../favicon.ico","alt","icono principal",1,"imagenNav"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-light"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],[1,"btn-nav"],["class","nav-link active","aria-current","page","routerLink","/usuarios-admin",4,"ngIf"],["class","btn-nav btn-registro",3,"click",4,"ngIf"],["class","btn-nav btn-login",3,"click",4,"ngIf"],["class","btn-nav btn-logout",3,"click",4,"ngIf"],["aria-current","page","routerLink","/usuarios-admin",1,"nav-link","active"],[1,"btn-nav","btn-registro",3,"click"],[1,"btn-nav","btn-login",3,"click"],[1,"btn-nav","btn-logout",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9)(10,"button",10),l._uU(11,"Home"),l.qZA()()(),l.TgZ(12,"li",8),l.YNc(13,w$,3,0,"a",11),l.qZA()(),l.YNc(14,T$,3,0,"button",12),l.YNc(15,E$,3,0,"button",13),l.YNc(16,D$,3,0,"button",14),l.qZA()()()),2&t&&(l.xp6(13),l.Q6J("ngIf",r.authService.isAdmin),l.xp6(1),l.Q6J("ngIf",!r.authService.isLogged),l.xp6(1),l.Q6J("ngIf",!r.authService.isLogged),l.xp6(1),l.Q6J("ngIf",r.authService.isLogged))},dependencies:[pn,wp,dO],styles:[".navbar[_ngcontent-%COMP%]{width:100%;font-family:Poppins,sans-serif;background:rgb(0,0,0);background:linear-gradient(164deg,rgb(0,0,0) 0%,rgb(255,2,2) 39%);background-repeat:no-repeat;background-attachment:fixed;background-position:center;box-shadow:2px 2px 4px #444;text-align:center;z-index:1000}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 0.5)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.imagenNav[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:2rem;border:2px dotted #fff;border-radius:50%;box-shadow:2px 2px 4px #000}.userInfo[_ngcontent-%COMP%]{color:#fff;font-size:1rem;padding:5px;margin-right:10px;background:rgba(129,221,93,.623);border-radius:10px;text-shadow:1px 1px 2px #000}.btn-nav[_ngcontent-%COMP%]{font-size:17px;background:transparent;border:none;padding:1em 1.5em;color:#ffedd3;text-transform:uppercase;position:relative;transition:.5s ease}.btn-nav[_ngcontent-%COMP%]:before{content:\"\";position:absolute;left:0;bottom:0;height:2px;width:0;background-color:#fff;transition:.5s ease}.btn-nav[_ngcontent-%COMP%]:hover{color:#990b01;transition-delay:.5s}.btn-nav[_ngcontent-%COMP%]:hover:before{width:100%}.btn-nav[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#f8caca;transition:.4s ease;z-index:-1}.btn-nav[_ngcontent-%COMP%]:hover:after{height:100%;transition-delay:.4s;color:#000}.btn-login[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:#014d0b}.btn-login[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#9af097;transition:.4s ease;z-index:-1}.btn-registro[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:#007272}.btn-registro[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#a8fcfc;transition:.4s ease;z-index:-1}.btn-logout[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:red}.btn-logout[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#fdff84;transition:.4s ease;z-index:-1}"]}),n})(),I$=(()=>{class n{constructor(t,r){this.router=t,this.authService=r,this.user=null}ngOnInit(){this.authService.user$.subscribe(t=>{t&&(this.user=t)})}goToRegister(){this.router.navigate(["/registro"])}goToLogin(){this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr),l.Y36($g))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bienvenida"]],decls:19,vars:0,consts:[[1,"bienvenida"],[1,"tracking-in-expand"],[1,"tracking-in-expand",2,"margin-bottom","1rem"],[2,"margin-bottom","1rem"],[1,"custom-btn","btn-ingresar",3,"click"],[1,"custom-btn","btn-registrarse",3,"click"],[1,"home-container"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div")(2,"div",0)(3,"h1",1),l._uU(4,"Cl\xednica Online"),l.qZA(),l.TgZ(5,"h2",1),l._uU(6,"Trabajo Pr\xe1ctico N\xb0 2"),l.qZA(),l.TgZ(7,"h2",2),l._uU(8," Laboratorio IV "),l.qZA(),l.TgZ(9,"p",3),l._uU(10," Bienvenido, por favor inicia sesi\xf3n para continuar. "),l.qZA(),l.TgZ(11,"div")(12,"button",4),l.NdJ("click",function(){return r.goToLogin()}),l.TgZ(13,"span"),l._uU(14,"Ingresar"),l.qZA()(),l.TgZ(15,"button",5),l.NdJ("click",function(){return r.goToRegister()}),l.TgZ(16,"span"),l._uU(17,"Registrarse"),l.qZA()()()(),l._UZ(18,"div",6),l.qZA())},dependencies:[eI],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.home-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:84vh;filter:blur(2px)}.bienvenida[_ngcontent-%COMP%]{position:absolute;top:8rem;left:3rem;z-index:100;padding:3rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.452)}.bienvenida[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;color:#df0000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0)}.bienvenida[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#302f2f;text-shadow:1px 1px 2px rgb(0,0,0)}.bienvenida[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#615f5f;text-shadow:1px 1px rgb(0,0,0)}.tracking-in-expand[_ngcontent-%COMP%]{animation:tracking-in-expand 1s cubic-bezier(.215,.61,.355,1) both}@keyframes tracking-in-expand{0%{letter-spacing:-.5em;opacity:0}40%{opacity:.6}to{opacity:1}}.custom-btn[_ngcontent-%COMP%]{width:220px;height:40px;color:#fff;border-radius:5px;padding:10px 25px;font-family:Lato,sans-serif;font-weight:500;background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;box-shadow:inset 2px 2px 2px #ffffff80,7px 7px 20px #0000001a,4px 4px 5px #0000001a;outline:none}.btn-ingresar[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgb(30,255,0) 0%,rgb(0,105,9) 100%);line-height:42px;padding:0;border:none;margin-right:3rem;font-weight:bolder;text-transform:uppercase}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%}.btn-ingresar[_ngcontent-%COMP%]:before, .btn-ingresar[_ngcontent-%COMP%]:after{position:absolute;content:"";right:0;bottom:0;background:rgb(23,251,2);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-ingresar[_ngcontent-%COMP%]:before{height:0%;width:2px}.btn-ingresar[_ngcontent-%COMP%]:after{width:0%;height:2px}.btn-ingresar[_ngcontent-%COMP%]:hover{color:#07c700;background:transparent;font-weight:bolder}.btn-ingresar[_ngcontent-%COMP%]:hover:before{height:100%}.btn-ingresar[_ngcontent-%COMP%]:hover:after{width:100%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;background:rgb(6,194,0);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:2px;height:0%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:2px;width:0%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:before{height:100%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{width:100%}.btn-registrarse[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgb(0,195,230) 0%,rgb(0,110,124) 100%);line-height:42px;padding:0;border:none;font-weight:bolder;text-transform:uppercase}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%}.btn-registrarse[_ngcontent-%COMP%]:before, .btn-registrarse[_ngcontent-%COMP%]:after{position:absolute;content:"";right:0;bottom:0;background:rgb(0,191,216);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-registrarse[_ngcontent-%COMP%]:before{height:0%;width:2px}.btn-registrarse[_ngcontent-%COMP%]:after{width:0%;height:2px}.btn-registrarse[_ngcontent-%COMP%]:hover{color:#0097bd;background:transparent}.btn-registrarse[_ngcontent-%COMP%]:hover:before{height:100%}.btn-registrarse[_ngcontent-%COMP%]:hover:after{width:100%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;background:rgb(0,162,173);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:2px;height:0%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:2px;width:0%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:before{height:100%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{width:100%}']}),n})();class tm{constructor(){this.id=0,this.perfil="",this.nombre="",this.apellido="",this.edad=0,this.dni=0,this.obraSocial="",this.especialidad="",this.email="",this.password="",this.imagen1="",this.imagen2="",this.aprobado=!1}}function C$(n,e){1&n&&(l.TgZ(0,"div",19)(1,"div",20),l._UZ(2,"div",21)(3,"div",21)(4,"div",21)(5,"div",22)(6,"div",22)(7,"div",22),l.qZA()())}function S$(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1," El Email es requerido "),l.qZA())}function A$(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let N$=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.notificationService=r,this.authService=i,this.router=a,this.userLogin=new tm,this.spinner=!1,this.formLogin=this.formBuilder.group({email:["",[kr.required]],password:["",[kr.required]]})}ngOnInit(){}loginUser(){this.formLogin.valid?(this.spinner=!0,this.userLogin.email=this.formLogin.getRawValue().email,this.userLogin.password=this.formLogin.getRawValue().password,this.authService.userLogin(this.userLogin.email,this.userLogin.password).then(t=>{this.authService.user$.subscribe(r=>{r&&(r.test||t?.user?.emailVerified?"especialista"==r.perfil&&0==r.aprobado?(this.notificationService.showWarning("Tu Cuenta no esta aprobada por un Administrador","Inicio de Sesi\xf3n"),this.spinner=!1,this.authService.userLogout()):(this.authService.isLogged=!0,this.notificationService.showSuccess("Inicio exitoso, redirigiendo...","Inicio de Sesi\xf3n"),setTimeout(()=>{this.spinner=!1,this.router.navigate([""])},2e3)):(t?.user?.sendEmailVerification(),this.notificationService.showWarning("Debes verificar tu email!","Inicio de Sesi\xf3n"),this.spinner=!1,this.authService.userLogout()))})})):this.notificationService.showWarning("Debes completar todos los campos requeridos","Inicio de Sesi\xf3n")}loadUser(t){switch(t){case 1:this.formLogin.setValue({email:"pacienteTest1@mail.com",password:"pacienteTest1"});break;case 2:this.formLogin.setValue({email:"especialistaTest1@mail.com",password:"especialistaTest1"});break;case 3:this.formLogin.setValue({email:"adminTest1@mail.com",password:"adminTest1"})}this.notificationService.showInfo("Usurario cargado, puedes iniciar sesi\xf3n!","Inicio de Sesi\xf3n")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BD),l.Y36(Vy),l.Y36($g),l.Y36(gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:40,vars:4,consts:[["class","contenedor-spinner",4,"ngIf"],[1,"login-container"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"col-sm","mb-3"],["for","email",1,"form-label"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["class","mensaje-error",4,"ngIf"],["for","password",1,"form-label"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],[1,"btn"],[1,"col",2,"text-align","center","color","#fff","text-shadow","1px 1px #000","background-color","rgba(0, 0, 0, 0.568)","border-radius","10px"],[2,"color","rgb(255, 255, 255)"],[2,"color","rgb(207, 204, 204)"],[1,"col","img"],["src","../../../assets/paciente1.png","alt","",3,"click"],["src","../../../assets/medico2.png","alt","",3,"click"],["src","../../../assets/admin.png","alt","",3,"click"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.YNc(1,C$,8,0,"div",0),l._UZ(2,"div",1),l.TgZ(3,"form",2),l.NdJ("ngSubmit",function(){return r.loginUser()}),l.TgZ(4,"h2"),l._uU(5,"INICIO DE SESI\xd3N"),l.qZA(),l.TgZ(6,"div",3)(7,"div",4)(8,"div",3)(9,"div",5)(10,"label",6),l._uU(11,"Email"),l.qZA(),l._UZ(12,"input",7),l.YNc(13,S$,2,0,"small",8),l.qZA()(),l.TgZ(14,"div",3)(15,"div",5)(16,"label",9),l._uU(17,"Contrase\xf1a"),l.qZA(),l._UZ(18,"input",10),l.YNc(19,A$,2,0,"small",8),l.qZA()(),l.TgZ(20,"button",11),l._uU(21,"Iniciar Sesi\xf3n"),l.qZA()(),l.TgZ(22,"div",12)(23,"div",3)(24,"h3",13),l._uU(25,"Inicio r\xe1pido"),l.qZA(),l.TgZ(26,"h5",14),l._uU(27," Selecciona un usuario y luego inicia sesi\xf3n. "),l.qZA(),l.TgZ(28,"div",15)(29,"p"),l._uU(30,"Paciente"),l.qZA(),l.TgZ(31,"img",16),l.NdJ("click",function(){return r.loadUser(1)}),l.qZA()(),l.TgZ(32,"div",15)(33,"p"),l._uU(34,"Especialista"),l.qZA(),l.TgZ(35,"img",17),l.NdJ("click",function(){return r.loadUser(2)}),l.qZA()(),l.TgZ(36,"div",15)(37,"p"),l._uU(38,"Administrador"),l.qZA(),l.TgZ(39,"img",18),l.NdJ("click",function(){return r.loadUser(3)}),l.qZA()()()()()()),2&t&&(l.xp6(1),l.Q6J("ngIf",r.spinner),l.xp6(2),l.Q6J("formGroup",r.formLogin),l.xp6(10),l.Q6J("ngIf",(null==r.formLogin.controls.email.errors?null:r.formLogin.controls.email.errors.required)&&r.formLogin.controls.email.touched),l.xp6(6),l.Q6J("ngIf",(null==r.formLogin.controls.password.errors?null:r.formLogin.controls.password.errors.required)&&r.formLogin.controls.password.touched))},dependencies:[pn,vw,qg,dw,hw,zg,jy,eI],styles:[".login-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-registro.07e9e02b5bb9992f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:84vh;filter:blur(2px)}form[_ngcontent-%COMP%]{position:absolute;z-index:100;left:22%;top:22%}.contenedor-form[_ngcontent-%COMP%]{width:60%;display:block;margin-left:auto;margin-right:auto;padding:2rem;border:2px solid #000;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 8px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00000091;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#00000091;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.img[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;border:2px solid #fff;border-radius:5px;box-shadow:2px 2px 2px #000}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background:rgba(255,0,0,.527);cursor:pointer;transition:background .5s}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:active{transform:scale(1.07);transition:transform .2s}.btn[_ngcontent-%COMP%]{background-color:#e0000083;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #f83816;background-color:#ff0000e1}.btn[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();const tF="firebasestorage.googleapis.com",nF="storageBucket";class Fr extends zt.ZR{constructor(e,t,r=0){super(gO(e),`Firebase Storage: ${t} (${gO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function gO(n){return"storage/"+n}function mO(){return new Fr("unknown","An unknown error occurred, please check the error payload for server response.")}function rF(){return new Fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function iF(){return new Fr("canceled","User canceled the upload/download.")}function sF(){return new Fr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Wy(n){return new Fr("invalid-argument",n)}function oF(){return new Fr("app-deleted","The Firebase app was deleted.")}function aF(n){return new Fr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pw(n,e){return new Fr("invalid-format","String does not match format '"+n+"': "+e)}function kw(n){throw new Fr("internal-error","Internal error: "+n)}class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ms.makeFromUrl(e,t)}catch{return new ms(e,"")}if(""===r.path)return r;throw function B$(n){return new Fr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function b(Se){Se.path_=decodeURIComponent(Se.path)}const S=t.replace(/[.]/g,"\\."),ke=[{regex:h,indices:{bucket:1,path:3},postModify:function a(Se){"/"===Se.path.charAt(Se.path.length-1)&&(Se.path_=Se.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===tF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Se=0;Se<ke.length;Se++){const je=ke[Se],qe=je.regex.exec(e);if(qe){let Lt=qe[je.indices.path];Lt||(Lt=""),r=new ms(qe[je.indices.bucket],Lt),je.postModify(r);break}}if(null==r)throw function V$(n){return new Fr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class G${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tI(n){return"string"==typeof n||n instanceof String}function lF(n){return _O()&&n instanceof Blob}function _O(){return typeof Blob<"u"}function yO(n,e,t,r){if(r<e)throw Wy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Wy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Hd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function cF(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Bf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Bf||(Bf={})),Bf))();function uF(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class Y${constructor(e,t,r,i,a,u,h,_,b,E,S,R=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=E,this.connectionFactory_=S,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,V)=>{this.resolve_=P,this.reject_=V,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function Z$(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==h){const _=mO();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(i.canceled?this.appDelete_?oF():iF():rF())};this.canceled_?t(0,new nI(!1,null,!0)):this.backoffId_=function q$(n,e,t){let r=1,i=null,a=null,u=!1,h=0;function _(){return 2===h}let b=!1;function E(...Y){b||(b=!0,e.apply(null,Y))}function S(Y){i=setTimeout(()=>{i=null,n(P,_())},Y)}function R(){a&&clearTimeout(a)}function P(Y,...Ee){if(b)return void R();if(Y)return R(),void E.call(null,Y,...Ee);if(_()||u)return R(),void E.call(null,Y,...Ee);let ke;r<64&&(r*=2),1===h?(h=2,ke=0):ke=1e3*(r+Math.random()),S(ke)}let V=!1;function z(Y){V||(V=!0,R(),!b&&(null!==i?(Y||(h=2),clearTimeout(i),S(0)):Y||(h=1)))}return S(0),a=setTimeout(()=>{u=!0,z(!0)},t),z}((r,i)=>{if(i)return void r(!1,new nI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Bf.NO_ERROR,_=a.getStatus();if((!h||uF(_,this.additionalRetryCodes_))&&this.retry){const E=a.getErrorCode()===Bf.ABORT;return void r(!1,new nI(!1,null,E))}const b=-1!==this.successCodes_.indexOf(_);r(!0,new nI(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function z$(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rG(...n){const e=function nG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(_O())return new Blob(n);throw new Fr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vO{constructor(e,t){this.data=e,this.contentType=t||null}}function bO(n,e){switch(n){case ta.RAW:return new vO(dF(e));case ta.BASE64:case ta.BASE64URL:return new vO(hF(n,e));case ta.DATA_URL:return new vO(function aG(n){const e=new fF(n);return e.base64?hF(ta.BASE64,e.rest):function oG(n){let e;try{e=decodeURIComponent(n)}catch{throw Pw(ta.DATA_URL,"Malformed data URL.")}return dF(e)}(e.rest)}(e),function lG(n){return new fF(n).contentType}(e))}throw mO()}function dF(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function hF(n,e){switch(n){case ta.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Pw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ta.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Pw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function sG(n){return atob(n)}(e)}catch{throw Pw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class fF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Pw(ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function cG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class _u{constructor(e,t){let r=0,i="";lF(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(lF(this.data_)){const i=function iG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new _u(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new _u(r,!0)}}static getBlob(...e){if(_O()){const t=e.map(r=>r instanceof _u?r.data_:r);return new _u(rG.apply(null,t))}{const t=e.map(u=>tI(u)?bO(ta.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[a++]=u[h]}),new _u(i,!0)}}uploadData(){return this.data_}}function wO(n){let e;try{e=JSON.parse(n)}catch{return null}return function K$(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function pF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function hG(n,e){return e}class Vs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||hG}}let rI=null;function Fw(){if(rI)return rI;const n=[];n.push(new Vs("bucket")),n.push(new Vs("generation")),n.push(new Vs("metageneration")),n.push(new Vs("name","fullPath",!0));const t=new Vs("name");t.xform=function e(a,u){return function fG(n){return!tI(n)||n.length<2?n:pF(n)}(u)},n.push(t);const i=new Vs("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Vs("timeCreated")),n.push(new Vs("updated")),n.push(new Vs("md5Hash",null,!0)),n.push(new Vs("cacheControl",null,!0)),n.push(new Vs("contentDisposition",null,!0)),n.push(new Vs("contentEncoding",null,!0)),n.push(new Vs("contentLanguage",null,!0)),n.push(new Vs("contentType",null,!0)),n.push(new Vs("metadata","customMetadata",!0)),rI=n,rI}function gF(n,e,t){const r=wO(e);return null===r?null:function gG(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function pG(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new ms(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function TO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const mF="prefixes";class yu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vu(n){if(!n)throw mO()}function iI(n,e){return function t(r,i){const a=gF(n,i,e);return vu(null!==a),a}}function Ky(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function L$(){return new Fr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function F$(){return new Fr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function k$(n){return new Fr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function U$(n){return new Fr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Lw(n){const e=Ky(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function P$(n){return new Fr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function yF(n,e,t){const i=Hd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new yu(i,"GET",iI(n,t),u);return h.errorHandler=Lw(e),h}function wG(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const h=Hd(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,E=new yu(h,"GET",function vG(n,e){return function t(r,i){const a=function yG(n,e,t){const r=wO(t);return null===r?null:function _G(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[mF])for(const i of t[mF]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new ms(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new ms(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return vu(null!==a),a}}(n,e.bucket),b);return E.urlParams=a,E.errorHandler=Ky(e),E}function bF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function IG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class sI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function EO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{vu(!1)}return vu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const NG={STATE_CHANGED:"state_changed"},Bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DO(n){switch(n){case"running":case"pausing":case"canceling":return Bs.RUNNING;case"paused":return Bs.PAUSED;case"success":return Bs.SUCCESS;case"canceled":return Bs.CANCELED;default:return Bs.ERROR}}class OG{constructor(e,t,r){if(function W$(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Yy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class MG extends class xG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw kw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function zl(){return new MG}class DF{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Fw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(uF(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=rF()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function CG(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=bF(e,r,i),h={name:u.fullPath},_=Hd(a,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=TO(u,t),V=new yu(_,"POST",function P(z){let Y;EO(z);try{Y=z.getResponseHeader("X-Goog-Upload-URL")}catch{vu(!1)}return vu(tI(Y)),Y},n.maxUploadRetryTime);return V.urlParams=h,V.headers=E,V.body=S,V.errorHandler=Ky(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function SG(n,e,t,r){const _=new yu(t,"POST",function a(b){const E=EO(b,["active","final"]);let S=null;try{S=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vu(!1)}S||vu(!1);const R=Number(S);return vu(!isNaN(R)),new sI(R,r.size(),"final"===E)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Ky(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,zl,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new sI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function AG(n,e,t,r,i,a,u,h){const _=new sI(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function H$(){return new Fr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let E=b;i>0&&(E=Math.min(E,i));const S=_.current;let P="";P=0===E?"finalize":b===E?"upload, finalize":"upload";const V={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${_.current}`},z=r.slice(S,S+E);if(null===z)throw sF();const ke=new yu(t,"POST",function Y(Se,je){const qe=EO(Se,["active","final"]),ht=_.current+E,Lt=r.size();let bn;return bn="final"===qe?iI(e,a)(Se,je):null,new sI(ht,Lt,"final"===qe,bn)},e.maxUploadRetryTime);return ke.headers=V,ke.body=z.uploadData(),ke.progressCallback=h||null,ke.errorHandler=Ky(n),ke}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,zl,i,a,!1);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=yF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,zl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function wF(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let ke="";for(let Se=0;Se<2;Se++)ke+=Math.random().toString().slice(2);return ke}();u["Content-Type"]="multipart/related; boundary="+_;const b=bF(e,r,i),E=TO(b,t),P=_u.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===P)throw sF();const V={name:b.fullPath},z=Hd(a,n.host,n._protocol),Ee=n.maxUploadRetryTime,Oe=new yu(z,"POST",iI(n,t),Ee);return Oe.urlParams=V,Oe.headers=u,Oe.body=P.uploadData(),Oe.errorHandler=Ky(e),Oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=DO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new OG(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(DO(this._state)){case Bs.SUCCESS:Yy(this._resolve.bind(null,this.snapshot))();break;case Bs.CANCELED:case Bs.ERROR:Yy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(DO(this._state)){case Bs.RUNNING:case Bs.PAUSED:e.next&&Yy(e.next.bind(e,this.snapshot))();break;case Bs.SUCCESS:e.complete&&Yy(e.complete.bind(e))();break;default:e.error&&Yy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class nm{constructor(e,t){this._service=e,this._location=t instanceof ms?t:ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nm(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pF(this._location.path)}get storage(){return this._service}get parent(){const e=function uG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ms(this._location.bucket,e);return new nm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw aF(e)}}function CF(n,e,t){return IO.apply(this,arguments)}function IO(){return IO=(0,me.Z)(function*(n,e,t){const i=yield SF(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield CF(n,e,i.nextPageToken))}),IO.apply(this,arguments)}function SF(n,e){null!=e&&"number"==typeof e.maxResults&&yO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=wG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,zl)}function GG(n){n._throwIfRoot("getDownloadURL");const e=function TG(n,e,t){const i=Hd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new yu(i,"GET",function bG(n,e){return function t(r,i){const a=gF(n,i,e);return vu(null!==a),function mG(n,e,t,r){const i=wO(e);if(null===i||!tI(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(b=>{const S=n.fullPath;return Hd("/b/"+u(n.bucket)+"/o/"+u(S),t,r)+cF({alt:"media",token:b})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Lw(e),h}(n.storage,n._location,Fw());return n.storage.makeRequestWithTokens(e,zl).then(t=>{if(null===t)throw function $$(){return new Fr("no-download-url","The given file does not have any download URLs.")}();return t})}function AF(n,e){const t=function dG(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ms(n._location.bucket,t);return new nm(n.storage,r)}function NF(n,e){if(n instanceof CO){const t=n;if(null==t._bucket)throw function j$(){return new Fr("no-default-bucket","No default bucket found. Did you set the '"+nF+"' property when initializing the app?")}();const r=new nm(t,t._bucket);return null!=e?NF(r,e):r}return void 0!==e?AF(n,e):n}function WG(n,e){if(e&&function zG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof CO)return function ZG(n,e){return new nm(n,e)}(n,e);throw Wy("To use ref(service, url), the first argument must be a Storage instance.")}return NF(n,e)}function OF(n,e){const t=e?.[nF];return null==t?null:ms.makeFromBucketSpec(t,n)}class CO{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=tF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ms.makeFromBucketSpec(i,this._host):OF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ms.makeFromBucketSpec(this._url,e):OF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nm(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new G$(oF());{const u=function tG(n,e,t,r,i,a,u=!0){const h=cF(n.urlParams),_=n.url+h,b=Object.assign({},n.headers);return function X$(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function Q$(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function J$(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(b,a),function eG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new Y$(_,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,me.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const xF="@firebase/storage";function PF(n,e){return WG(n=(0,zt.m9)(n),e)}function i6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new CO(t,r,i,e,Go.SDK_VERSION)}!function s6(){(0,Go._registerComponent)(new cd.wA("storage",i6,"PUBLIC").setMultipleInstances(!0)),(0,Go.registerVersion)(xF,"0.9.12",""),(0,Go.registerVersion)(xF,"0.9.12","esm2017")}();class oI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class FF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new oI(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new oI(u,this,this._ref)):{next:t.next?u=>t.next(new oI(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class LF{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new $d(e,this._service))}get items(){return this._delegate.items.map(e=>new $d(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $d{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function r6(n,e){return AF(n,e)}(this._delegate,e);return new $d(t,this.storage)}get root(){return new $d(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new $d(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new FF(function YG(n,e,t){return function VG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new DF(n,new _u(e),t)}(n=(0,zt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ta.RAW,r){this._throwIfRoot("putString");const i=bO(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new FF(new DF(this._delegate,new _u(i.data,!0),a),this)}listAll(){return function e6(n){return function jG(n){const e={prefixes:[],items:[]};return CF(n,e).then(()=>e)}(n=(0,zt.m9)(n))}(this._delegate).then(e=>new LF(e,this.storage))}list(e){return function XG(n,e){return SF(n=(0,zt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new LF(t,this.storage))}getMetadata(){return function QG(n){return function HG(n){n._throwIfRoot("getMetadata");const e=yF(n.storage,n._location,Fw());return n.storage.makeRequestWithTokens(e,zl)}(n=(0,zt.m9)(n))}(this._delegate)}updateMetadata(e){return function JG(n,e){return function $G(n,e){n._throwIfRoot("updateMetadata");const t=function EG(n,e,t,r){const a=Hd(e.fullServerUrl(),n.host,n._protocol),h=TO(t,r),b=n.maxOperationRetryTime,E=new yu(a,"PATCH",iI(n,r),b);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=Lw(e),E}(n.storage,n._location,e,Fw());return n.storage.makeRequestWithTokens(t,zl)}(n=(0,zt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function t6(n){return GG(n=(0,zt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function n6(n){return function qG(n){n._throwIfRoot("deleteObject");const e=function DG(n,e){const r=Hd(e.fullServerUrl(),n.host,n._protocol),h=new yu(r,"DELETE",function u(_,b){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Lw(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,zl)}(n=(0,zt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw aF(e)}}class UF{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(VF(e))throw Wy("ref() expected a child path but got a URL, use refFromURL instead.");return new $d(PF(this._delegate,e),this)}refFromURL(e){if(!VF(e))throw Wy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ms.makeFromUrl(e,this._delegate.host)}catch{throw Wy("refFromUrl() expected a valid full URL but got an invalid one.")}return new $d(PF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function kF(n,e,t,r={}){!function KG(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,zt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function VF(n){return/^[A-Za-z]+:\/\//.test(n)}function c6(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new UF(t,r)}function BF(n){const e=function d6(n){return new Gn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function O$(n,e=u0.z){return(0,Qn.e)((t,r)=>{let i=null,a=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const b=a;a=null,r.next(b)}};function _(){const b=u+n,E=e.now();if(E<b)return i=this.schedule(void 0,b-E),void r.add(i);h()}t.subscribe((0,Dn.x)(r,b=>{a=b,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,nt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function aI(n){return{getDownloadURL:()=>at(void 0).pipe(Un.fc,Nn(()=>n.getDownloadURL()),Un.iC),getMetadata:()=>at(void 0).pipe(Un.fc,Nn(()=>n.getMetadata()),Un.iC),delete:()=>(0,on.D)(n.delete()),child:e=>aI(n.child(e)),updateMetadata:e=>(0,on.D)(n.updateMetadata(e)),put:(e,t)=>BF(n.put(e,t)),putString:(e,t,r)=>BF(n.putString(e,t,r)),list:e=>(0,on.D)(n.list(e)),listAll:()=>(0,on.D)(n.listAll())}}!function u6(n){const e={TaskState:Bs,TaskEvent:NG,StringFormat:ta,Storage:UF,Reference:$d};n.INTERNAL.registerComponent(new cd.wA("storage-compat",c6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.20")}(E_.Z);const h6=new l.OlP("angularfire2.storageBucket"),f6=new l.OlP("angularfire2.storage.maxUploadRetryTime"),p6=new l.OlP("angularfire2.storage.maxOperationRetryTime"),g6=new l.OlP("angularfire2.storage.use-emulator");let lI=(()=>{class n{constructor(t,r,i,a,u,h,_,b,E,S){const R=(0,ui.on)(t,u,r);this.storage=(0,ui.cc)(`${R.name}.storage.${i}`,"AngularFireStorage",R.name,()=>{const P=u.runOutsideAngular(()=>R.storage(i||void 0)),V=E;return V&&P.useEmulator(...V),_&&P.setMaxUploadRetryTime(_),b&&P.setMaxOperationRetryTime(b),P},[_,b])}ref(t){return aI(this.storage.ref(t))}refFromURL(t){return aI(this.storage.refFromURL(t))}upload(t,r,i){return aI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ui.Dh),l.LFG(ui.xv,8),l.LFG(h6,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Un.HU),l.LFG(f6,8),l.LFG(p6,8),l.LFG(g6,8),l.LFG(v_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),m6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),_6=(()=>{class n{constructor(){s_.Z.registerVersion("angularfire",Un.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[lI],imports:[m6]}),n})();function y6(n,e){1&n&&(l.TgZ(0,"div",17)(1,"div",18),l._UZ(2,"div",19)(3,"div",19)(4,"div",19)(5,"div",20)(6,"div",20)(7,"div",20),l.qZA()())}function v6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El Nombre es requerido "),l.qZA())}function b6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El Apellido es requerido "),l.qZA())}function w6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Edad es requerida "),l.qZA())}function T6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function E6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El DNI es requerido "),l.qZA())}function D6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Obra Social es requerida "),l.qZA())}function I6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El Email es requerido "),l.qZA())}function C6(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let jF=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.angularFireStorage=r,this.notificationService=i,this.authService=a,this.newPaciente=new tm,this.spinner=!1,this.formPaciente=this.formBuilder.group({nombre:["",[kr.required]],apellido:["",[kr.required]],edad:["",[kr.required]],dni:["",[kr.required]],obraSocial:["",[kr.required]],email:["",[kr.required]],password:["",[kr.required]]})}ngOnInit(){}registerPaciente(){this.formPaciente.valid?""!=this.newPaciente.imagen1&&""!=this.newPaciente.imagen2?(this.spinner=!0,this.newPaciente.perfil="paciente",this.newPaciente.nombre=this.formPaciente.getRawValue().nombre,this.newPaciente.apellido=this.formPaciente.getRawValue().apellido,this.newPaciente.edad=this.formPaciente.getRawValue().edad,this.newPaciente.dni=this.formPaciente.getRawValue().dni,this.newPaciente.obraSocial=this.formPaciente.getRawValue().obraSocial,this.newPaciente.email=this.formPaciente.getRawValue().email,this.newPaciente.password=this.formPaciente.getRawValue().password,this.authService.registerNewUser(this.newPaciente),setTimeout(()=>{this.spinner=!1,this.formPaciente.reset(),this.newPaciente=new tm},2e3)):this.notificationService.showWarning("Debes elegir im\xe1genes para tu perfil","Registro Paciente"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro Paciente")}uploadImage(t,r){var i=this;return(0,me.Z)(function*(){i.spinner=!0;const a=t.target.files[0],u="img "+Date.now()+10*Math.random(),h=i.angularFireStorage.ref(u);yield h.put(a).then((0,me.Z)(function*(){yield h.getDownloadURL().subscribe(_=>{i.spinner=!1,1==r?i.newPaciente.imagen1=_:2==r&&(i.newPaciente.imagen2=_)})}))})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BD),l.Y36(lI),l.Y36(Vy),l.Y36($g))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-alta-paciente"]],decls:39,vars:10,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","obraSocial","type","text","placeholder","Obra Social",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],["for","imagen2",1,"form-label"],["type","file","placeholder","Im\xe1gen Perfil 2",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(t,r){1&t&&(l.YNc(0,y6,8,0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return r.registerPaciente()}),l.TgZ(2,"h2"),l._uU(3,"REGISTRO DE PACIENTE"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3),l._UZ(6,"input",4),l.YNc(7,v6,2,0,"small",5),l.qZA(),l.TgZ(8,"div",3),l._UZ(9,"input",6),l.YNc(10,b6,2,0,"small",5),l.qZA(),l.TgZ(11,"div",3),l._UZ(12,"input",7),l.YNc(13,w6,2,0,"small",5),l.YNc(14,T6,2,0,"small",5),l.qZA(),l.TgZ(15,"div",3),l._UZ(16,"input",8),l.YNc(17,E6,2,0,"small",5),l.qZA()(),l.TgZ(18,"div",2)(19,"div",3),l._UZ(20,"input",9),l.YNc(21,D6,2,0,"small",5),l.qZA(),l.TgZ(22,"div",3),l._UZ(23,"input",10),l.YNc(24,I6,2,0,"small",5),l.qZA(),l.TgZ(25,"div",3),l._UZ(26,"input",11),l.YNc(27,C6,2,0,"small",5),l.qZA()(),l.TgZ(28,"div",2)(29,"div",3)(30,"label",12),l._uU(31,"Im\xe1gen Perfil 1"),l.qZA(),l.TgZ(32,"input",13),l.NdJ("change",function(a){return r.uploadImage(a,1)}),l.qZA()(),l.TgZ(33,"div",3)(34,"label",14),l._uU(35,"Im\xe1gen Perfil 2"),l.qZA(),l.TgZ(36,"input",15),l.NdJ("change",function(a){return r.uploadImage(a,2)}),l.qZA()()(),l.TgZ(37,"button",16),l._uU(38,"Registrar"),l.qZA()()),2&t&&(l.Q6J("ngIf",r.spinner),l.xp6(1),l.Q6J("formGroup",r.formPaciente),l.xp6(6),l.Q6J("ngIf",(null==r.formPaciente.controls.nombre.errors?null:r.formPaciente.controls.nombre.errors.required)&&r.formPaciente.controls.nombre.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formPaciente.controls.apellido.errors?null:r.formPaciente.controls.apellido.errors.required)&&r.formPaciente.controls.apellido.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formPaciente.controls.edad.errors?null:r.formPaciente.controls.edad.errors.required)&&r.formPaciente.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.formPaciente.controls.edad.errors?null:r.formPaciente.controls.edad.errors.min)||(null==r.formPaciente.controls.edad.errors?null:r.formPaciente.controls.edad.errors.max)&&r.formPaciente.controls.edad.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formPaciente.controls.dni.errors?null:r.formPaciente.controls.dni.errors.required)&&r.formPaciente.controls.dni.touched),l.xp6(4),l.Q6J("ngIf",(null==r.formPaciente.controls.obraSocial.errors?null:r.formPaciente.controls.obraSocial.errors.required)&&r.formPaciente.controls.obraSocial.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formPaciente.controls.email.errors?null:r.formPaciente.controls.email.errors.required)&&r.formPaciente.controls.email.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formPaciente.controls.password.errors?null:r.formPaciente.controls.password.errors.required)&&r.formPaciente.controls.password.touched))},dependencies:[pn,vw,qg,bw,dw,hw,Tw,ww,zg,jy],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function S6(n,e){1&n&&(l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"div",22)(3,"div",22)(4,"div",22)(5,"div",23)(6,"div",23)(7,"div",23),l.qZA()())}function A6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El Nombre es requerido "),l.qZA())}function N6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El Apellido es requerido "),l.qZA())}function O6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La Edad es requerida "),l.qZA())}function x6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function M6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El DNI es requerido "),l.qZA())}function R6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La especialidad es requerida "),l.qZA())}function P6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La Especialidad es requerida "),l.qZA())}function k6(n,e){if(1&n&&(l.TgZ(0,"div",3),l._UZ(1,"input",25),l.YNc(2,P6,2,0,"small",5),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",(null==t.formEspecialista.controls.especialidad.errors?null:t.formEspecialista.controls.especialidad.errors.required)&&t.formEspecialista.controls.especialidad.touched)}}function F6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El Email es requerido "),l.qZA())}function L6(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let HF=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.angularFireStorage=r,this.notificationService=i,this.authService=a,this.newEspecialista=new tm,this.especialidad=!1,this.spinner=!1,this.formEspecialista=this.formBuilder.group({nombre:["",[kr.required]],apellido:["",[kr.required]],edad:["",[kr.required]],dni:["",[kr.required]],especialidad:["",[kr.required]],email:["",[kr.required]],password:["",[kr.required]]})}ngOnInit(){}registerEspecialista(){this.formEspecialista.valid?""!=this.newEspecialista.imagen1?(this.spinner=!0,this.newEspecialista.perfil="especialista",this.newEspecialista.nombre=this.formEspecialista.getRawValue().nombre,this.newEspecialista.apellido=this.formEspecialista.getRawValue().apellido,this.newEspecialista.edad=this.formEspecialista.getRawValue().edad,this.newEspecialista.dni=this.formEspecialista.getRawValue().dni,this.newEspecialista.especialidad=this.formEspecialista.getRawValue().especialidad,this.newEspecialista.email=this.formEspecialista.getRawValue().email,this.newEspecialista.password=this.formEspecialista.getRawValue().password,this.authService.registerNewUser(this.newEspecialista),setTimeout(()=>{this.spinner=!1,this.formEspecialista.reset(),this.newEspecialista=new tm},2e3)):this.notificationService.showWarning("Debes elegir una im\xe1gen para tu perfil","Registro Especialista"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro Especialista")}uploadImage(t){var r=this;return(0,me.Z)(function*(){r.spinner=!0;const i=t.target.files[0],a="img "+Date.now()+10*Math.random(),u=r.angularFireStorage.ref(a);yield u.put(i).then((0,me.Z)(function*(){yield u.getDownloadURL().subscribe(h=>{r.newEspecialista.imagen1=h,r.spinner=!1})}))})()}addEspecialidad(){this.especialidad=""==this.formEspecialista.getRawValue().especialidad}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BD),l.Y36(lI),l.Y36(Vy),l.Y36($g))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-alta-especialista"]],decls:44,vars:11,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","especialidad",1,"form-control",3,"change"],["value","","disabled",""],["value","clinico"],["value","odontologo"],["value","oftalmologo"],["value",""],["class","col-sm mb-3",4,"ngIf"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"],["formControlName","especialidad","type","text","placeholder","Especialidad",1,"form-control"]],template:function(t,r){1&t&&(l.YNc(0,S6,8,0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return r.registerEspecialista()}),l.TgZ(2,"h2"),l._uU(3,"REGISTRO DE ESPECIALISTA"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3),l._UZ(6,"input",4),l.YNc(7,A6,2,0,"small",5),l.qZA(),l.TgZ(8,"div",3),l._UZ(9,"input",6),l.YNc(10,N6,2,0,"small",5),l.qZA(),l.TgZ(11,"div",3),l._UZ(12,"input",7),l.YNc(13,O6,2,0,"small",5),l.YNc(14,x6,2,0,"small",5),l.qZA()(),l.TgZ(15,"div",2)(16,"div",3),l._UZ(17,"input",8),l.YNc(18,M6,2,0,"small",5),l.qZA(),l.TgZ(19,"div",3)(20,"select",9),l.NdJ("change",function(){return r.addEspecialidad()}),l.TgZ(21,"option",10),l._uU(22,"Elegir especialidad..."),l.qZA(),l.TgZ(23,"option",11),l._uU(24,"Clinico"),l.qZA(),l.TgZ(25,"option",12),l._uU(26,"Odontologo"),l.qZA(),l.TgZ(27,"option",13),l._uU(28,"Oftalmologo"),l.qZA(),l.TgZ(29,"option",14),l._uU(30,"Agregar otra especialidad"),l.qZA()(),l.YNc(31,R6,2,0,"small",5),l.qZA(),l.YNc(32,k6,3,1,"div",15),l.qZA(),l.TgZ(33,"div",2)(34,"div",3),l._UZ(35,"input",16),l.YNc(36,F6,2,0,"small",5),l.qZA(),l.TgZ(37,"div",3),l._UZ(38,"input",17),l.YNc(39,L6,2,0,"small",5),l.qZA(),l.TgZ(40,"div",3)(41,"input",18),l.NdJ("change",function(a){return r.uploadImage(a)}),l.qZA()()(),l.TgZ(42,"button",19),l._uU(43,"Registrar"),l.qZA()()),2&t&&(l.Q6J("ngIf",r.spinner),l.xp6(1),l.Q6J("formGroup",r.formEspecialista),l.xp6(6),l.Q6J("ngIf",(null==r.formEspecialista.controls.nombre.errors?null:r.formEspecialista.controls.nombre.errors.required)&&r.formEspecialista.controls.nombre.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formEspecialista.controls.apellido.errors?null:r.formEspecialista.controls.apellido.errors.required)&&r.formEspecialista.controls.apellido.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formEspecialista.controls.edad.errors?null:r.formEspecialista.controls.edad.errors.required)&&r.formEspecialista.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.formEspecialista.controls.edad.errors?null:r.formEspecialista.controls.edad.errors.min)||(null==r.formEspecialista.controls.edad.errors?null:r.formEspecialista.controls.edad.errors.max)&&r.formEspecialista.controls.edad.touched),l.xp6(4),l.Q6J("ngIf",(null==r.formEspecialista.controls.dni.errors?null:r.formEspecialista.controls.dni.errors.required)&&r.formEspecialista.controls.dni.touched),l.xp6(13),l.Q6J("ngIf",(null==r.formEspecialista.controls.especialidad.errors?null:r.formEspecialista.controls.especialidad.errors.required)&&r.formEspecialista.controls.especialidad.touched&&!r.especialidad),l.xp6(1),l.Q6J("ngIf",r.especialidad),l.xp6(4),l.Q6J("ngIf",(null==r.formEspecialista.controls.email.errors?null:r.formEspecialista.controls.email.errors.required)&&r.formEspecialista.controls.email.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formEspecialista.controls.password.errors?null:r.formEspecialista.controls.password.errors.required)&&r.formEspecialista.controls.password.touched))},dependencies:[pn,vw,AP,OP,qg,bw,VD,dw,hw,Tw,ww,zg,jy],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function U6(n,e){1&n&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"div",7)(3,"div",7)(4,"div",7)(5,"div",8)(6,"div",8)(7,"div",8),l.qZA()())}function V6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9)(1,"div",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToFormPaciente())}),l.TgZ(2,"div")(3,"h2"),l._uU(4,"Paciente"),l.qZA(),l._UZ(5,"img",11),l.qZA()(),l.TgZ(6,"div",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToFormEspecialista())}),l.TgZ(7,"div")(8,"h2"),l._uU(9,"Especialista"),l.qZA(),l._UZ(10,"img",12),l.qZA()()()}}function B6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToRegistro())}),l._uU(2,"Volver"),l.qZA(),l._UZ(3,"app-form-alta-paciente"),l.qZA()}}function j6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",15)(1,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToRegistro())}),l._uU(2,"Volver"),l.qZA(),l._UZ(3,"app-form-alta-especialista"),l.qZA()}}let H6=(()=>{class n{constructor(){this.formPaciente=!1,this.formEspecialista=!1,this.spinner=!1}ngOnInit(){}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register"]],decls:6,vars:4,consts:[["class","contenedor-spinner",4,"ngIf"],["class","opcion-registros row",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"registro-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"opcion-registros","row"],[1,"col","text-focus-in",3,"click"],["src","../../../assets/paciente.png","alt","imagen paciente"],["src","../../../assets/especialista.png","alt","imagen especialista"],[1,"registro-paciente"],[1,"btn-volver","text-focus-in",3,"click"],[1,"registro-especialista"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.YNc(1,U6,8,0,"div",0),l.YNc(2,V6,11,0,"div",1),l.YNc(3,B6,4,0,"div",2),l.YNc(4,j6,4,0,"div",3),l._UZ(5,"div",4)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.spinner),l.xp6(1),l.Q6J("ngIf",!r.formPaciente&&!r.formEspecialista),l.xp6(1),l.Q6J("ngIf",r.formPaciente),l.xp6(1),l.Q6J("ngIf",r.formEspecialista))},dependencies:[pn,eI,jF,HF],styles:[".registro-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-registro.07e9e02b5bb9992f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:84vh;filter:blur(2px)}.opcion-registros[_ngcontent-%COMP%]{position:absolute;z-index:100;left:22%;top:22%}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;background:rgba(252,162,162,.5);border-radius:2rem;border:2px solid #fff;box-shadow:2px 2px 4px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:20rem}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);cursor:pointer;transition:background .5s,color .5s}.registro-paciente[_ngcontent-%COMP%], .registro-especialista[_ngcontent-%COMP%]{position:absolute;z-index:100;top:18%;left:16%}.btn-volver[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;z-index:100;color:#fff;text-shadow:1px 1px #000;background:#ff0000;border-radius:.5rem;padding:0 1rem}.btn-volver[_ngcontent-%COMP%]:hover{background:#000;transition:background .5s}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function $6(n,e){1&n&&(l.TgZ(0,"div",13)(1,"div",14),l._UZ(2,"div",15)(3,"div",15)(4,"div",15)(5,"div",16)(6,"div",16)(7,"div",16),l.qZA()())}function G6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El Nombre es requerido "),l.qZA())}function q6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El Apellido es requerido "),l.qZA())}function z6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," La Edad es requerida "),l.qZA())}function Z6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function W6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El DNI es requerido "),l.qZA())}function K6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El Email es requerido "),l.qZA())}function Y6(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let Q6=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.angularFireStorage=r,this.notificationService=i,this.authService=a,this.newAdministrador=new tm,this.especialidad=!1,this.spinner=!1,this.formAdministrador=this.formBuilder.group({nombre:["",[kr.required]],apellido:["",[kr.required]],edad:["",[kr.required]],dni:["",[kr.required]],email:["",[kr.required]],password:["",[kr.required]]})}ngOnInit(){}registerAdministrador(){this.formAdministrador.valid?""!=this.newAdministrador.imagen1?(this.spinner=!0,this.newAdministrador.perfil="administrador",this.newAdministrador.nombre=this.formAdministrador.getRawValue().nombre,this.newAdministrador.apellido=this.formAdministrador.getRawValue().apellido,this.newAdministrador.edad=this.formAdministrador.getRawValue().edad,this.newAdministrador.dni=this.formAdministrador.getRawValue().dni,this.newAdministrador.email=this.formAdministrador.getRawValue().email,this.newAdministrador.password=this.formAdministrador.getRawValue().password,this.authService.registerNewUser(this.newAdministrador),setTimeout(()=>{this.spinner=!1,this.formAdministrador.reset(),this.newAdministrador=new tm},2e3)):this.notificationService.showWarning("Debes elegir una im\xe1gen para el perfil","Registro Administrador"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro newAdministrador")}uploadImage(t){var r=this;return(0,me.Z)(function*(){r.spinner=!0;const i=t.target.files[0],a="img "+Date.now()+10*Math.random(),u=r.angularFireStorage.ref(a);yield u.put(i).then((0,me.Z)(function*(){yield u.getDownloadURL().subscribe(h=>{r.newAdministrador.imagen1=h,r.spinner=!1})}))})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(BD),l.Y36(lI),l.Y36(Vy),l.Y36($g))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-alta-administrador"]],decls:30,vars:9,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(t,r){1&t&&(l.YNc(0,$6,8,0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return r.registerAdministrador()}),l.TgZ(2,"h2"),l._uU(3,"REGISTRO DE ADMINISTRADOR"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3),l._UZ(6,"input",4),l.YNc(7,G6,2,0,"small",5),l.qZA(),l.TgZ(8,"div",3),l._UZ(9,"input",6),l.YNc(10,q6,2,0,"small",5),l.qZA()(),l.TgZ(11,"div",2)(12,"div",3),l._UZ(13,"input",7),l.YNc(14,z6,2,0,"small",5),l.YNc(15,Z6,2,0,"small",5),l.qZA(),l.TgZ(16,"div",3),l._UZ(17,"input",8),l.YNc(18,W6,2,0,"small",5),l.qZA()(),l.TgZ(19,"div",2)(20,"div",3),l._UZ(21,"input",9),l.YNc(22,K6,2,0,"small",5),l.qZA(),l.TgZ(23,"div",3),l._UZ(24,"input",10),l.YNc(25,Y6,2,0,"small",5),l.qZA(),l.TgZ(26,"div",3)(27,"input",11),l.NdJ("change",function(a){return r.uploadImage(a)}),l.qZA()()(),l.TgZ(28,"button",12),l._uU(29,"Registrar"),l.qZA()()),2&t&&(l.Q6J("ngIf",r.spinner),l.xp6(1),l.Q6J("formGroup",r.formAdministrador),l.xp6(6),l.Q6J("ngIf",(null==r.formAdministrador.controls.nombre.errors?null:r.formAdministrador.controls.nombre.errors.required)&&r.formAdministrador.controls.nombre.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formAdministrador.controls.apellido.errors?null:r.formAdministrador.controls.apellido.errors.required)&&r.formAdministrador.controls.apellido.touched),l.xp6(4),l.Q6J("ngIf",(null==r.formAdministrador.controls.edad.errors?null:r.formAdministrador.controls.edad.errors.required)&&r.formAdministrador.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.formAdministrador.controls.edad.errors?null:r.formAdministrador.controls.edad.errors.min)||(null==r.formAdministrador.controls.edad.errors?null:r.formAdministrador.controls.edad.errors.max)&&r.formAdministrador.controls.edad.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formAdministrador.controls.dni.errors?null:r.formAdministrador.controls.dni.errors.required)&&r.formAdministrador.controls.dni.touched),l.xp6(4),l.Q6J("ngIf",(null==r.formAdministrador.controls.email.errors?null:r.formAdministrador.controls.email.errors.required)&&r.formAdministrador.controls.email.touched),l.xp6(3),l.Q6J("ngIf",(null==r.formAdministrador.controls.password.errors?null:r.formAdministrador.controls.password.errors.required)&&r.formAdministrador.controls.password.touched))},dependencies:[pn,vw,qg,bw,dw,hw,Tw,ww,zg,jy],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function J6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit,a=l.oxw(2);return l.KtG(a.updateUser(i,1))}),l._uU(1," Habilitar "),l.qZA()}}function X6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit,a=l.oxw(2);return l.KtG(a.updateUser(i,2))}),l._uU(1," Deshabilitar "),l.qZA()}}function e4(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,J6,2,0,"button",16),l.YNc(2,X6,2,0,"button",17),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngIf",!t.aprobado),l.xp6(1),l.Q6J("ngIf",t.aprobado)}}function t4(n,e){if(1&n&&(l.TgZ(0,"tr",12)(1,"td"),l._UZ(2,"img",13),l.qZA(),l.TgZ(3,"td",14),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l.YNc(10,e4,3,2,"div",15),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.imagen1,l.LSH),l.xp6(2),l.Oqu(t.perfil),l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.apellido),l.xp6(2),l.Q6J("ngIf","especialista"==t.perfil)}}function n4(n,e){if(1&n&&(l.TgZ(0,"div",8)(1,"h3"),l._uU(2,"LISTADO DE USUARIOS"),l.qZA(),l.TgZ(3,"table",9)(4,"thead")(5,"tr")(6,"th",10),l._uU(7,"FOTO"),l.qZA(),l.TgZ(8,"th",10),l._uU(9,"PERFIL"),l.qZA(),l.TgZ(10,"th",10),l._uU(11,"NOMBRE"),l.qZA(),l.TgZ(12,"th",10),l._uU(13,"APELLIDO"),l.qZA(),l.TgZ(14,"th",10),l._uU(15,"ACCI\xd3N"),l.qZA()()(),l.TgZ(16,"tbody"),l.YNc(17,t4,11,5,"tr",11),l.qZA()()()),2&n){const t=l.oxw();l.xp6(17),l.Q6J("ngForOf",t.usersList)}}function r4(n,e){1&n&&(l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"div",22)(3,"div",22)(4,"div",22)(5,"div",23)(6,"div",23)(7,"div",23),l.qZA()())}function i4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.showCreateUserMenu())}),l._uU(1," Registrar Nuevo Usuario\n"),l.qZA()}}function s4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.showUserList())}),l._uU(1," Ver Listado de Usuarios\n"),l.qZA()}}function o4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",26)(1,"div",27),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToFormPaciente())}),l.TgZ(2,"div")(3,"h2"),l._uU(4,"Paciente"),l.qZA(),l._UZ(5,"img",28),l.qZA()(),l.TgZ(6,"div",27),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToFormEspecialista())}),l.TgZ(7,"div")(8,"h2"),l._uU(9,"Especialista"),l.qZA(),l._UZ(10,"img",29),l.qZA()(),l.TgZ(11,"div",27),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToFormAdministrador())}),l.TgZ(12,"div")(13,"h2"),l._uU(14,"Administrador"),l.qZA(),l._UZ(15,"img",30),l.qZA()()()}}function a4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",31)(1,"button",32),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToRegistro())}),l._uU(2," Volver "),l.qZA(),l._UZ(3,"app-form-alta-paciente"),l.qZA()}}function l4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33)(1,"button",32),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToRegistro())}),l._uU(2," Volver "),l.qZA(),l._UZ(3,"app-form-alta-especialista"),l.qZA()}}function c4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33)(1,"button",32),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToRegistro())}),l._uU(2," Volver "),l.qZA(),l._UZ(3,"app-form-alta-administrador"),l.qZA()}}const u4=[{path:"registro",component:H6},{path:"login",component:N$},{path:"usuarios-admin",component:(()=>{class n{constructor(t,r){this.authService=t,this.notificationService=r,this.usersList=[],this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1,this.spinner=!1}ngOnInit(){this.spinner=!0,this.authService.getUsers().subscribe(t=>{this.spinner=!1,t&&(this.usersList=t)})}updateUser(t,r){"especialista"==t.perfil&&(1==r?(t.aprobado=!0,this.authService.updateUser(t),this.notificationService.showSuccess("Especialista Habilitado","Administrador")):2==r&&(t.aprobado=!1,this.authService.updateUser(t),this.notificationService.showSuccess("Especialista Deshabilitado","Administrador")))}showCreateUserMenu(){this.createrUserMenu=!0}showUserList(){this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToFormAdministrador(){this.formAdministrador=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($g),l.Y36(Vy))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-usuarios-admin"]],decls:10,vars:8,consts:[["class","tabla-usuario text-focus-in",4,"ngIf"],["class","contenedor-spinner",4,"ngIf"],["class","btn-habilitar btn-nuevo-usuario",3,"click",4,"ngIf"],["class","btn-habilitar btn-menu-volver",3,"click",4,"ngIf"],["class","opcion-registros row",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"usuarios-container"],[1,"tabla-usuario","text-focus-in"],[1,"table"],["scope","col"],["class","tr-tabla","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"tr-tabla",2,"cursor","pointer"],["width","50","alt","imagen",3,"src"],[2,"text-transform","upperCase"],[4,"ngIf"],["class","btn-habilitar",3,"click",4,"ngIf"],["class","btn-deshabilitar",3,"click",4,"ngIf"],[1,"btn-habilitar",3,"click"],[1,"btn-deshabilitar",3,"click"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"btn-habilitar","btn-nuevo-usuario",3,"click"],[1,"btn-habilitar","btn-menu-volver",3,"click"],[1,"opcion-registros","row"],[1,"col","text-focus-in",3,"click"],["src","../../../assets/paciente.png","alt","imagen paciente"],["src","../../../assets/especialista.png","alt","imagen especialista"],["src","../../../assets/admin.png","alt","imagen adminitrador"],[1,"registro-paciente"],[1,"btn-volver","text-focus-in",3,"click"],[1,"registro-especialista"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.YNc(1,n4,18,1,"div",0),l.YNc(2,r4,8,0,"div",1),l.YNc(3,i4,2,0,"button",2),l.YNc(4,s4,2,0,"button",3),l.YNc(5,o4,16,0,"div",4),l.YNc(6,a4,4,0,"div",5),l.YNc(7,l4,4,0,"div",6),l.YNc(8,c4,4,0,"div",6),l._UZ(9,"div",7)),2&t&&(l.xp6(1),l.Q6J("ngIf",!r.createrUserMenu),l.xp6(1),l.Q6J("ngIf",r.spinner),l.xp6(1),l.Q6J("ngIf",!r.createrUserMenu),l.xp6(1),l.Q6J("ngIf",r.createrUserMenu),l.xp6(1),l.Q6J("ngIf",!r.formPaciente&&!r.formEspecialista&&!r.formAdministrador&&r.createrUserMenu),l.xp6(1),l.Q6J("ngIf",r.formPaciente),l.xp6(1),l.Q6J("ngIf",r.formEspecialista),l.xp6(1),l.Q6J("ngIf",r.formAdministrador))},dependencies:[Li,pn,eI,jF,HF,Q6],styles:[".usuarios-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-usuarios-admin.5d3337631900be50.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:84vh;filter:blur(2px)}.tabla-usuario[_ngcontent-%COMP%]{position:absolute;width:90vw;height:75vh;overflow-y:scroll;z-index:100;left:5%;top:18%;background:#000;color:#fff;padding:1rem;background:rgba(182,85,85,.678);border:2px solid #fff;box-shadow:2px 2px 4px #000;text-shadow:1px 1px #000}.tabla-usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.tabla-usuario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff;font-weight:400}.tr-tabla[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);transition:background .5s}.opcion-registros[_ngcontent-%COMP%]{position:absolute;z-index:100;left:6%;top:27%}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;background:rgba(252,162,162,.5);border-radius:2rem;border:2px solid #fff;box-shadow:2px 2px 4px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:20rem}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);cursor:pointer;transition:background .5s,color .5s}.registro-paciente[_ngcontent-%COMP%], .registro-especialista[_ngcontent-%COMP%]{position:absolute;z-index:100;top:18%;left:16%}.btn-volver[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;z-index:100;color:#fff;text-shadow:1px 1px #000;background:#ff0000;border-radius:.5rem;padding:0 1rem}.btn-volver[_ngcontent-%COMP%]:hover{background:#000;transition:background .5s}.btn-habilitar[_ngcontent-%COMP%]{width:12rem;background-color:#209e0083;padding:5px 20px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;text-shadow:1px 1px 1px #000}.btn-habilitar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn-habilitar[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #16bb00;background-color:#09ff00e1}.btn-habilitar[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.btn-deshabilitar[_ngcontent-%COMP%]{width:12rem;background-color:#9e000083;padding:5px 20px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;text-shadow:1px 1px 1px #000}.btn-deshabilitar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn-deshabilitar[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #bb1600;background-color:#ff3300e1}.btn-deshabilitar[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}.btn-nuevo-usuario[_ngcontent-%COMP%]{width:20rem;position:absolute;z-index:200;top:18%;left:5%}.btn-menu-volver[_ngcontent-%COMP%]{width:20rem;position:absolute;z-index:200;top:18%;left:16%}"]}),n})()},{path:"",component:I$}];let d4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[TT.forRoot(u4),TT]}),n})(),h4=(()=>{class n{constructor(){this.title="Clinica Online"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Dl]}),n})();const $F_firebase={projectId:"clinica-online-tp2-labo-iv",appId:"1:351841093003:web:a8a480d780672b1b049b8e",storageBucket:"clinica-online-tp2-labo-iv.appspot.com",locationId:"us-central",apiKey:"AIzaSyBM7xWF_eZKdUxFVOdsKiUy-Yii_NomHB4",authDomain:"clinica-online-tp2-labo-iv.firebaseapp.com",messagingSenderId:"351841093003"};function GF(n){return new l.vHH(3e3,!1)}function Z4(){return typeof window<"u"&&typeof window.document<"u"}function SO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function jf(n){switch(n.length){case 0:return new uw;case 1:return n[0];default:return new CR(n)}}function qF(n,e,t,r,i=new Map,a=new Map){const u=[],h=[];let _=-1,b=null;if(r.forEach(E=>{const S=E.get("offset"),R=S==_,P=R&&b||new Map;E.forEach((V,z)=>{let Y=z,Ee=V;if("offset"!==z)switch(Y=e.normalizePropertyName(Y,u),Ee){case"!":Ee=i.get(z);break;case Vd:Ee=a.get(z);break;default:Ee=e.normalizeStyleValue(z,Y,Ee,u)}P.set(Y,Ee)}),R||h.push(P),b=P,_=S}),u.length)throw function k4(n){return new l.vHH(3502,!1)}();return h}function AO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&NO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&NO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&NO(t,"destroy",n)))}}function NO(n,e,t){const a=OO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function OO(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function na(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function zF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let xO=(n,e)=>!1,ZF=(n,e,t)=>[],WF=null;function MO(n){const e=n.parentNode||n.host;return e===WF?null:e}(SO()||typeof Element<"u")&&(Z4()?(WF=(()=>document.documentElement)(),xO=(n,e)=>{for(;e;){if(e===n)return!0;e=MO(e)}return!1}):xO=(n,e)=>n.contains(e),ZF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let rm=null,KF=!1;const YF=xO,QF=ZF;let JF=(()=>{class n{validateStyleProperty(t){return function K4(n){rm||(rm=function Y4(){return typeof document<"u"?document.body:null}()||{},KF=!!rm.style&&"WebkitAppearance"in rm.style);let e=!0;return rm.style&&!function W4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in rm.style,!e&&KF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in rm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return YF(t,r)}getParentElement(t){return MO(t)}query(t,r,i){return QF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,h=[],_){return new uw(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),RO=(()=>{class n{}return n.NOOP=new JF,n})();const PO="ng-enter",cI="ng-leave",uI="ng-trigger",dI=".ng-trigger",eL="ng-animating",kO=".ng-animating";function Gd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:FO(parseFloat(e[1]),e[2])}function FO(n,e){return"s"===e?1e3*n:n}function hI(n,e,t){return n.hasOwnProperty("duration")?n:function X4(n,e,t){let i,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(GF()),{duration:0,delay:0,easing:""};i=FO(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(a=FO(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else i=n;if(!t){let h=!1,_=e.length;i<0&&(e.push(function f4(){return new l.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function p4(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(_,0,GF())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Uw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function tL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Hf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function rL(n,e,t){return t?e+":"+t+";":""}function iL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=rL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=rL(0,r8(t),n.style[t]));n.setAttribute("style",e)}function bu(n,e,t){n.style&&(e.forEach((r,i)=>{const a=UO(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),SO()&&iL(n))}function im(n,e){n.style&&(e.forEach((t,r)=>{const i=UO(r);n.style[i]=""}),SO()&&iL(n))}function Vw(n){return Array.isArray(n)?1==n.length?n[0]:ER(n):n}const LO=new RegExp("{{\\s*(.+?)\\s*}}","g");function sL(n){let e=[];if("string"==typeof n){let t;for(;t=LO.exec(n);)e.push(t[1]);LO.lastIndex=0}return e}function Bw(n,e,t){const r=n.toString(),i=r.replace(LO,(a,u)=>{let h=e[u];return null==h&&(t.push(function m4(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function fI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const n8=/-+([a-z0-9])/g;function UO(n){return n.replace(n8,(...e)=>e[1].toUpperCase())}function r8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ra(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function _4(n){return new l.vHH(3004,!1)}()}}function oL(n,e){return window.getComputedStyle(n)[e]}function c8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function u8(n,e,t){if(":"==n[0]){const _=function d8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function x4(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function O4(n){return new l.vHH(3015,!1)}()),e;const i=r[1],a=r[2],u=r[3];e.push(aL(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(aL(u,i))}(r,t,e)):t.push(n),t}const _I=new Set(["true","1"]),yI=new Set(["false","0"]);function aL(n,e){const t=_I.has(n)||yI.has(n),r=_I.has(e)||yI.has(e);return(i,a)=>{let u="*"==n||n==i,h="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?_I.has(n):yI.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?_I.has(e):yI.has(e)),u&&h}}const h8=new RegExp("s*:selfs*,?","g");function VO(n,e,t,r){return new f8(n).build(e,t,r)}class f8{constructor(e){this._driver=e}build(e,t,r){const i=new m8(t);return this._resetContextStyleTimingState(i),ra(this,Vw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function v4(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(E=>{_.name=E,a.push(this.visitState(_,t))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function b4(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{sL(_).forEach(b=>{u.hasOwnProperty(b)||a.add(b)})})}),a.size&&(fI(a.values()),t.errors.push(function w4(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ra(this,Vw(e.animation),t);return{type:1,matchers:c8(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ra(this,r,t)),options:sm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const h=ra(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:sm(e.options)}}visitAnimate(e,t){const r=function y8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BO(hI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=BO(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=hI(t,e);return BO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:cw({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,h=!1;if(!u){h=!0;const b={};r.easing&&(b.easing=r.easing),u=cw(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=h,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Vd?r.push(h):t.errors.push(new l.vHH(3002,!1)):r.push(tL(h));let a=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),E=b.get(_);let S=!0;E&&(a!=i&&a>=E.startTime&&i<=E.endTime&&(t.errors.push(function E4(n,e,t,r,i){return new l.vHH(3010,!1)}()),S=!1),a=E.startTime),S&&b.set(_,{startTime:a,endTime:i}),t.options&&function t8(n,e,t){const r=e.params||{},i=sL(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function g4(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function D4(){return new l.vHH(3011,!1)}()),r;let a=0;const u=[];let h=!1,_=!1,b=0;const E=e.steps.map(Ee=>{const Oe=this._makeStyleAst(Ee,t);let ke=null!=Oe.offset?Oe.offset:function _8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Oe.styles),Se=0;return null!=ke&&(a++,Se=Oe.offset=ke),_=_||Se<0||Se>1,h=h||Se<b,b=Se,u.push(Se),Oe});_&&t.errors.push(function I4(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function C4(){return new l.vHH(3200,!1)}());const S=e.steps.length;let R=0;a>0&&a<S?t.errors.push(function S4(){return new l.vHH(3202,!1)}()):0==a&&(R=1/(S-1));const P=S-1,V=t.currentTime,z=t.currentAnimateTimings,Y=z.duration;return E.forEach((Ee,Oe)=>{const ke=R>0?Oe==P?1:R*Oe:u[Oe],Se=ke*Y;t.currentTime=V+z.delay+Se,z.duration=Se,this._validateStyleAst(Ee,t),Ee.offset=ke,r.styles.push(Ee)}),r}visitReference(e,t){return{type:8,animation:ra(this,Vw(e.animation),t),options:sm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function p8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(h8,"")),n=n.replace(/@\*/g,dI).replace(/@\w+/g,t=>dI+"-"+t.slice(1)).replace(/:animating/g,kO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,na(t.collectedStyles,t.currentQuerySelector,new Map);const h=ra(this,Vw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:sm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function A4(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:hI(e.timings,t.errors,!0);return{type:12,animation:ra(this,Vw(e.animation),t),timings:r,options:null}}}class m8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sm(n){return n?(n=Uw(n)).params&&(n.params=function g8(n){return n?Uw(n):null}(n.params)):n={},n}function BO(n,e,t){return{duration:n,delay:e,easing:t}}function jO(n,e,t,r,i,a,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:h}}class vI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const w8=new RegExp(":enter","g"),E8=new RegExp(":leave","g");function HO(n,e,t,r,i,a=new Map,u=new Map,h,_,b=[]){return(new D8).buildKeyframes(n,e,t,r,i,a,u,h,_,b)}class D8{buildKeyframes(e,t,r,i,a,u,h,_,b,E=[]){b=b||new vI;const S=new $O(e,t,b,i,a,E,[]);S.options=_;const R=_.delay?Gd(_.delay):0;S.currentTimeline.delayNextStep(R),S.currentTimeline.setStyles([u],null,S.errors,_),ra(this,r,S);const P=S.timelines.filter(V=>V.containsAnimation());if(P.length&&h.size){let V;for(let z=P.length-1;z>=0;z--){const Y=P[z];if(Y.element===t){V=Y;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([h],null,S.errors,_)}return P.length?P.map(V=>V.buildKeyframes()):[jO(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const u="number"==typeof a?a:Gd(Bw(a,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?Gd(r.duration):null,h=null!=r.delay?Gd(r.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,h);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ra(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bI);const u=Gd(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ra(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Gd(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),ra(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return hI(t.params?Bw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*a),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Gd(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bI);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((b,E)=>{t.currentQueryIndex=E;const S=t.createSubContext(e.options,b);a&&S.delayNextStep(a),b===t.element&&(_=S.currentTimeline),ra(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),h=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=h-_;break;case"full":_=r.currentStaggerTime}const E=t.currentTimeline;_&&E.delayNextStep(_);const S=E.currentTime;ra(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const bI={};class $O{constructor(e,t,r,i,a,u,h,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new wI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Gd(r.duration)),null!=r.delay&&(i.delay=Gd(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=Bw(a[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new $O(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=bI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new I8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(w8,"."+this._enterClassName)).replace(E8,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),h.push(...b)}return!a&&0==h.length&&u.push(function N4(n){return new l.vHH(3014,!1)}()),h}}class wI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Vd),this._currentKeyframe.set(t,Vd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},u=function C8(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Vd)}else Hf(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,_]of u){const b=Bw(_,a,r);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Vd),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,_)=>{const b=Hf(h,new Map,this._backFill);b.forEach((E,S)=>{"!"===E?e.add(S):E===Vd&&t.add(S)}),r||b.set("offset",_/this.duration),i.push(b)});const a=e.size?fI(e.values()):[],u=t.size?fI(t.values()):[];if(r){const h=i[0],_=new Map(h);h.set("offset",0),_.set("offset",1),i=[h,_]}return jO(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class I8 extends wI{constructor(e,t,r,i,a,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,h=t/u,_=Hf(e[0]);_.set("offset",0),a.push(_);const b=Hf(e[0]);b.set("offset",uL(h)),a.push(b);const E=e.length-1;for(let S=1;S<=E;S++){let R=Hf(e[S]);const P=R.get("offset");R.set("offset",uL((t+P*r)/u)),a.push(R)}r=u,t=0,i="",e=a}return jO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function uL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class GO{}const S8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class A8 extends GO{normalizePropertyName(e,t){return UO(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(S8.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function y4(n,e){return new l.vHH(3005,!1)}())}return u+a}}function dL(n,e,t,r,i,a,u,h,_,b,E,S,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:E,totalTime:S,errors:R}}const qO={};class hL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function N8(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,u,h,_,b,E){const S=[],R=this.ast.options&&this.ast.options.params||qO,V=this.buildStyles(r,h&&h.params||qO,S),z=_&&_.params||qO,Y=this.buildStyles(i,z,S),Ee=new Set,Oe=new Map,ke=new Map,Se="void"===i,je={params:O8(z,R),delay:this.ast.options?.delay},qe=E?[]:HO(e,t,this.ast.animation,a,u,V,Y,je,b,S);let ht=0;if(qe.forEach(bn=>{ht=Math.max(bn.duration+bn.delay,ht)}),S.length)return dL(t,this._triggerName,r,i,Se,V,Y,[],[],Oe,ke,ht,S);qe.forEach(bn=>{const Fn=bn.element,yr=na(Oe,Fn,new Set);bn.preStyleProps.forEach(Sr=>yr.add(Sr));const Yi=na(ke,Fn,new Set);bn.postStyleProps.forEach(Sr=>Yi.add(Sr)),Fn!==t&&Ee.add(Fn)});const Lt=fI(Ee.values());return dL(t,this._triggerName,r,i,Se,V,Y,qe,Lt,Oe,ke,ht)}}function O8(n,e){const t=Uw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class x8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Uw(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(i[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=Bw(u,i,t));const _=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,_,u,t),r.set(_,u)})}),r}}class R8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new x8(i.style,i.options&&i.options.params||{},r))}),fL(this.states,"true","1"),fL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new hL(e,i,this.states))}),this.fallbackTransition=function P8(n,e,t){return new hL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const k8=new vI;class F8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=VO(this._driver,t,r,[]);if(r.length)throw function F4(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=qF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let u;const h=new Map;if(a?(u=HO(this._driver,t,a,PO,cI,new Map,new Map,r,k8,i),u.forEach(E=>{const S=na(h,E.element,new Map);E.postStyleProps.forEach(R=>S.set(R,null))})):(i.push(function L4(){return new l.vHH(3300,!1)}()),u=[]),i.length)throw function U4(n){return new l.vHH(3504,!1)}();h.forEach((E,S)=>{E.forEach((R,P)=>{E.set(P,this._driver.computeStyle(S,P,Vd))})});const b=jf(u.map(E=>{const S=h.get(E.element);return this._buildPlayer(E,new Map,S)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function V4(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=OO(t,"","","");return AO(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const pL="ng-animate-queued",zO="ng-animate-disabled",j8=[],gL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},H8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ha="__ng_removed";class ZO{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function z8(n){return n??null}(r?e.value:e),r){const a=Uw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const jw="void",WO=new ZO(jw);class $8{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$a(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function B4(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function j4(n){return new l.vHH(3303,!1)}();if(!function Z8(n){return"start"==n||"done"==n}(r))throw function H4(n,e){return new l.vHH(3400,!1)}();const a=na(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const h=na(this._engine.statesByElement,e,new Map);return h.has(t)||($a(e,uI),$a(e,uI+"-"+t),h.set(t,WO)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function $4(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new KO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||($a(e,uI),$a(e,uI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let _=h.get(t);const b=new ZO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(t,b),_||(_=WO),b.value!==jw&&_.value===b.value){if(!function Y8(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const z=[],Y=a.matchStyles(_.value,_.params,z),Ee=a.matchStyles(b.value,b.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{im(e,Y),bu(e,Ee)})}return}const R=na(this._engine.playersByElement,e,[]);R.forEach(z=>{z.namespaceId==this.id&&z.triggerName==t&&z.queued&&z.destroy()});let P=a.matchTransition(_.value,b.value,e,b.params),V=!1;if(!P){if(!i)return;P=a.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:P,fromState:_,toState:b,player:u,isFallbackTransition:V}),V||($a(e,pL),u.onStart(()=>{Qy(e,pL)})),u.onDone(()=>{let z=this.players.indexOf(u);z>=0&&this.players.splice(z,1);const Y=this._engine.playersByElement.get(e);if(Y){let Ee=Y.indexOf(u);Ee>=0&&Y.splice(Ee,1)}}),this.players.push(u),R.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,dI,!0);r.forEach(i=>{if(i[Ha])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const h=[];if(a.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const E=this.trigger(e,b,jw,i);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&jf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const _=this._triggers.get(u).fallbackTransition,b=r.get(u)||WO,E=new ZO(jw),S=new KO(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:E,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ha];(!a||a===gL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){$a(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==r.triggerName){const _=OO(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,AO(r.player,h.phase,_,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class G8{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new $8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const _=i.get(h);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(TI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!TI(t))return;const a=t[Ha];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$a(e,zO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qy(e,zO))}removeNode(e,t,r,i){if(TI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ha]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return TI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,dI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ha];if(t&&t.setForRemoval){if(e[Ha]=gL,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)$a(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?jf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function G4(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new vI,i=[],a=new Map,u=[],h=new Map,_=new Map,b=new Map,E=new Set;this.disabledNodes.forEach(tt=>{E.add(tt);const gt=this.driver.query(tt,".ng-animate-queued",!0);for(let Nt=0;Nt<gt.length;Nt++)E.add(gt[Nt])});const S=this.bodyNode,R=Array.from(this.statesByElement.keys()),P=yL(R,this.collectedEnterElements),V=new Map;let z=0;P.forEach((tt,gt)=>{const Nt=PO+z++;V.set(gt,Nt),tt.forEach(Qt=>$a(Qt,Nt))});const Y=[],Ee=new Set,Oe=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const gt=this.collectedLeaveElements[tt],Nt=gt[Ha];Nt&&Nt.setForRemoval&&(Y.push(gt),Ee.add(gt),Nt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Qt=>Ee.add(Qt)):Oe.add(gt))}const ke=new Map,Se=yL(R,Array.from(Ee));Se.forEach((tt,gt)=>{const Nt=cI+z++;ke.set(gt,Nt),tt.forEach(Qt=>$a(Qt,Nt))}),e.push(()=>{P.forEach((tt,gt)=>{const Nt=V.get(gt);tt.forEach(Qt=>Qy(Qt,Nt))}),Se.forEach((tt,gt)=>{const Nt=ke.get(gt);tt.forEach(Qt=>Qy(Qt,Nt))}),Y.forEach(tt=>{this.processLeaveNode(tt)})});const je=[],qe=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(Nt=>{const Qt=Nt.player,Ar=Nt.element;if(je.push(Qt),this.collectedEnterElements.length){const Gr=Ar[Ha];if(Gr&&Gr.setForMove){if(Gr.previousTriggersValues&&Gr.previousTriggersValues.has(Nt.triggerName)){const js=Gr.previousTriggersValues.get(Nt.triggerName),_s=this.statesByElement.get(Nt.element);if(_s&&_s.has(Nt.triggerName)){const Jy=_s.get(Nt.triggerName);Jy.value=js,_s.set(Nt.triggerName,Jy)}}return void Qt.destroy()}}const go=!S||!this.driver.containsElement(S,Ar),wi=ke.get(Ar),ia=V.get(Ar),xn=this._buildInstruction(Nt,r,ia,wi,go);if(xn.errors&&xn.errors.length)return void qe.push(xn);if(go)return Qt.onStart(()=>im(Ar,xn.fromStyles)),Qt.onDestroy(()=>bu(Ar,xn.toStyles)),void i.push(Qt);if(Nt.isFallbackTransition)return Qt.onStart(()=>im(Ar,xn.fromStyles)),Qt.onDestroy(()=>bu(Ar,xn.toStyles)),void i.push(Qt);const Zl=[];xn.timelines.forEach(Gr=>{Gr.stretchStartingKeyframe=!0,this.disabledNodes.has(Gr.element)||Zl.push(Gr)}),xn.timelines=Zl,r.append(Ar,xn.timelines),u.push({instruction:xn,player:Qt,element:Ar}),xn.queriedElements.forEach(Gr=>na(h,Gr,[]).push(Qt)),xn.preStyleProps.forEach((Gr,js)=>{if(Gr.size){let _s=_.get(js);_s||_.set(js,_s=new Set),Gr.forEach((Jy,am)=>_s.add(am))}}),xn.postStyleProps.forEach((Gr,js)=>{let _s=b.get(js);_s||b.set(js,_s=new Set),Gr.forEach((Jy,am)=>_s.add(am))})});if(qe.length){const tt=[];qe.forEach(gt=>{tt.push(function q4(n,e){return new l.vHH(3505,!1)}())}),je.forEach(gt=>gt.destroy()),this.reportError(tt)}const ht=new Map,Lt=new Map;u.forEach(tt=>{const gt=tt.element;r.has(gt)&&(Lt.set(gt,gt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,ht))}),i.forEach(tt=>{const gt=tt.element;this._getPreviousPlayers(gt,!1,tt.namespaceId,tt.triggerName,null).forEach(Qt=>{na(ht,gt,[]).push(Qt),Qt.destroy()})});const bn=Y.filter(tt=>bL(tt,_,b)),Fn=new Map;_L(Fn,this.driver,Oe,b,Vd).forEach(tt=>{bL(tt,_,b)&&bn.push(tt)});const Yi=new Map;P.forEach((tt,gt)=>{_L(Yi,this.driver,new Set(tt),_,"!")}),bn.forEach(tt=>{const gt=Fn.get(tt),Nt=Yi.get(tt);Fn.set(tt,new Map([...Array.from(gt?.entries()??[]),...Array.from(Nt?.entries()??[])]))});const Sr=[],wu=[],Tu={};u.forEach(tt=>{const{element:gt,player:Nt,instruction:Qt}=tt;if(r.has(gt)){if(E.has(gt))return Nt.onDestroy(()=>bu(gt,Qt.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Qt.totalTime),void i.push(Nt);let Ar=Tu;if(Lt.size>1){let wi=gt;const ia=[];for(;wi=wi.parentNode;){const xn=Lt.get(wi);if(xn){Ar=xn;break}ia.push(wi)}ia.forEach(xn=>Lt.set(xn,Ar))}const go=this._buildAnimation(Nt.namespaceId,Qt,ht,a,Yi,Fn);if(Nt.setRealPlayer(go),Ar===Tu)Sr.push(Nt);else{const wi=this.playersByElement.get(Ar);wi&&wi.length&&(Nt.parentPlayer=jf(wi)),i.push(Nt)}}else im(gt,Qt.fromStyles),Nt.onDestroy(()=>bu(gt,Qt.toStyles)),wu.push(Nt),E.has(gt)&&i.push(Nt)}),wu.forEach(tt=>{const gt=a.get(tt.element);if(gt&&gt.length){const Nt=jf(gt);tt.setRealPlayer(Nt)}}),i.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<Y.length;tt++){const gt=Y[tt],Nt=gt[Ha];if(Qy(gt,cI),Nt&&Nt.hasAnimation)continue;let Qt=[];if(h.size){let go=h.get(gt);go&&go.length&&Qt.push(...go);let wi=this.driver.query(gt,kO,!0);for(let ia=0;ia<wi.length;ia++){let xn=h.get(wi[ia]);xn&&xn.length&&Qt.push(...xn)}}const Ar=Qt.filter(go=>!go.destroyed);Ar.length?W8(this,gt,Ar):this.processLeaveNode(gt)}return Y.length=0,Sr.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const gt=this.players.indexOf(tt);this.players.splice(gt,1)}),tt.play()}),Sr}elementContainsData(e,t){let r=!1;const i=t[Ha];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const _=!a||a==jw;h.forEach(b=>{b.queued||!_&&b.triggerName!=i||u.push(b)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,E=b!==a,S=na(r,b,[]);this._getPreviousPlayers(b,E,u,h,t.toState).forEach(P=>{const V=P.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),P.destroy(),S.push(P)})}im(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const h=t.triggerName,_=t.element,b=[],E=new Set,S=new Set,R=t.timelines.map(V=>{const z=V.element;E.add(z);const Y=z[Ha];if(Y&&Y.removedBeforeQueried)return new uw(V.duration,V.delay);const Ee=z!==_,Oe=function K8(n){const e=[];return vL(n,e),e}((r.get(z)||j8).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===z),ke=a.get(z),Se=u.get(z),je=qF(0,this._normalizer,0,V.keyframes,ke,Se),qe=this._buildPlayer(V,je,Oe);if(V.subTimeline&&i&&S.add(z),Ee){const ht=new KO(e,h,z);ht.setRealPlayer(qe),b.push(ht)}return qe});b.forEach(V=>{na(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function q8(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,V.element,V))}),E.forEach(V=>$a(V,eL));const P=jf(R);return P.onDestroy(()=>{E.forEach(V=>Qy(V,eL)),bu(_,t.toStyles)}),S.forEach(V=>{na(i,V,[]).push(P)}),P}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new uw(e.duration,e.delay)}}class KO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new uw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>AO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){na(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function TI(n){return n&&1===n.nodeType}function mL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _L(n,e,t,r,i){const a=[];t.forEach(_=>a.push(mL(_)));const u=[];r.forEach((_,b)=>{const E=new Map;_.forEach(S=>{const R=e.computeStyle(b,S,i);E.set(S,R),(!R||0==R.length)&&(b[Ha]=H8,u.push(b))}),n.set(b,E)});let h=0;return t.forEach(_=>mL(_,a[h++])),u}function yL(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(h){if(!h)return 1;let _=a.get(h);if(_)return _;const b=h.parentNode;return _=t.has(b)?b:i.has(b)?1:u(b),a.set(h,_),_}return e.forEach(h=>{const _=u(h);1!==_&&t.get(_).push(h)}),t}function $a(n,e){n.classList?.add(e)}function Qy(n,e){n.classList?.remove(e)}function W8(n,e,t){jf(t).onDone(()=>n.processLeaveNode(e))}function vL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof CR?vL(r.players,e):e.push(r)}}function bL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class EI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new G8(e,t,r),this._timelineEngine=new F8(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const _=[],E=VO(this._driver,a,_,[]);if(_.length)throw function P4(n,e){return new l.vHH(3404,!1)}();h=function M8(n,e,t){return new R8(n,e,t)}(i,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=zF(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,h]=zF(r);return this._timelineEngine.listen(u,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let J8=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&bu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bu(this._element,this._initialStyles),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(im(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(im(this._element,this._endStyles),this._endStyles=null),bu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function YO(n){let e=null;return n.forEach((t,r)=>{(function X8(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class wL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:oL(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class eq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return YF(e,t)}getParentElement(e){return MO(e)}query(e,t,r){return QF(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const b=new Map,E=u.filter(P=>P instanceof wL);(function i8(n,e){return 0===n||0===e})(r,i)&&E.forEach(P=>{P.currentSnapshot.forEach((V,z)=>b.set(z,V))});let S=function e8(n){return n.length?n[0]instanceof Map?n:n.map(e=>tL(e)):[]}(t).map(P=>Hf(P));S=function s8(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,u)=>{r.has(u)||i.push(u),r.set(u,a)}),i.length)for(let a=1;a<e.length;a++){let u=e[a];i.forEach(h=>u.set(h,oL(n,h)))}}return e}(e,S,b);const R=function Q8(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=YO(e[0]),e.length>1&&(r=YO(e[e.length-1]))):e instanceof Map&&(t=YO(e)),t||r?new J8(n,t,r):null}(e,S);return new wL(e,S,_,R)}}let tq=(()=>{class n extends wR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ER(t):t;return TL(this._renderer,null,r,"register",[i]),new nq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nq extends class aV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new rq(this._id,e,t||{},this._renderer)}}class rq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return TL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const EL="@.disabled";let iq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let E=this._rendererCache.get(a);return E||(E=new DL("",a,this.engine),this._rendererCache.set(a,E)),E}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=E=>{Array.isArray(E)?E.forEach(_):this.engine.registerTrigger(u,h,t,E.name,E)};return r.data.animation.forEach(_),new sq(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(EI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class DL{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==EL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class sq extends DL{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==EL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function oq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function aq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let lq=(()=>{class n extends EI{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(RO),l.LFG(GO),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const IL=[{provide:wR,useClass:tq},{provide:GO,useFactory:function cq(){return new A8}},{provide:EI,useClass:lq},{provide:l.FYo,useFactory:function uq(n,e,t){return new iq(n,e,t)},deps:[Ao,EI,l.R0b]}],QO=[{provide:RO,useFactory:()=>new eq},{provide:l.QbO,useValue:"BrowserAnimations"},...IL],CL=[{provide:RO,useClass:JF},{provide:l.QbO,useValue:"NoopAnimations"},...IL];let dq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?CL:QO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:QO,imports:[Ec]}),n})(),hq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[h4]}),n.\u0275inj=l.cJS({imports:[Ec,d4,b$,VP,BP,ui.hO.initializeApp($F_firebase),oV,c0,_6,dq,NV.forRoot({preventDuplicates:!0})]}),n})();(0,l.G48)(),Tc().bootstrapModule(hq).catch(n=>console.error(n))},5867:(mt,Ce,F)=>{F.d(Ce,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.12.1","app")},127:(mt,Ce,F)=>{F.d(Ce,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(mt,Ce,F)=>{F.r(Ce);var l=F(5861),te=F(3942),k=F(2090),ae=F(9681),le=F(1877),he=F(655),ce=F(4859);const Te=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new le.Yd("@firebase/auth");function ft(y,...p){it.logLevel<=le.in.ERROR&&it.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Me(y,...p){throw Ze(y,...p)}function be(y,...p){return Ze(y,...p)}function De(y,p,m){const w=Object.assign(Object.assign({},lt()),{[p]:m});return new k.LL("auth","Firebase",w).create(p,{appName:y.name})}function ze(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return ye.create(y,...p)}function j(y,p,...m){if(!y)throw Ze(p,...m)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ft(p),new Error(p)}function W(y,p){y||_e(p)}const ee=new Map;function se(y){W(y instanceof Function,"Expected a class definition");let p=ee.get(y);return p?(W(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ee.set(y,p),p)}function Ve(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function wt(){return"http:"===rn()||"https:"===rn()}function rn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class gn{constructor(p,m){this.shortDelay=p,this.longDelay=m,W(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,p){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class en{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qr=new gn(3e4,6e4);function Ut(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function yn(y,p,m,w){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(y,p,m,w,N={}){return ki(y,N,(0,l.Z)(function*(){let M={},Z={};w&&("GET"===p?Z=w:M={body:JSON.stringify(w)});const ue=(0,k.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/json",y.languageCode&&($e["X-Firebase-Locale"]=y.languageCode),en.fetch()(Fi(y,y.config.apiHost,m,ue),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ki(y,p,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},sn),p);try{const N=new Ti(y),M=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const Z=yield M.json();if("needConfirmation"in Z)throw Ei(y,"account-exists-with-different-credential",Z);if(M.ok&&!("errorMessage"in Z))return Z;{const ue=M.ok?Z.errorMessage:Z.error.message,[$e,rt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Ei(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===$e)throw Ei(y,"email-already-in-use",Z);if("USER_DISABLED"===$e)throw Ei(y,"user-disabled",Z);const Dt=w[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw De(y,Dt,rt);Me(y,Dt)}}catch(N){if(N instanceof k.ZR)throw N;Me(y,"network-request-failed")}})).apply(this,arguments)}function ti(y,p,m,w){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(y,p,m,w,N={}){const M=yield yn(y,p,m,w,N);return"mfaPendingCredential"in M&&Me(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Fi(y,p,m,w){const N=`${p}${m}?${w}`;return y.config.emulator?Cn(y.config,N):`${y.config.apiScheme}://${N}`}class Ti{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),qr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ei(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const N=be(y,p,w);return N.customData._tokenResponse=m,N}function et(){return(et=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Lr(y,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lr(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Qi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Tn(){return(Tn=(0,l.Z)(function*(y,p=!1){const m=(0,k.m9)(y),w=yield m.getIdToken(p),N=_t(w);j(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const M="object"==typeof N.firebase?N.firebase:void 0,Z=M?.sign_in_provider;return{claims:N,token:w,authTime:Qi(Tt(N.auth_time)),issuedAtTime:Qi(Tt(N.iat)),expirationTime:Qi(Tt(N.exp)),signInProvider:Z||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(y){return 1e3*Number(y)}function _t(y){var p;const[m,w,N]=y.split(".");if(void 0===m||void 0===w||void 0===N)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,k.tV)(w);return M?JSON.parse(M):(ft("Failed to decode base64 JWT payload"),null)}catch(M){return ft("Caught error parsing JWT payload as JSON",null===(p=M)||void 0===p?void 0:p.toString()),null}}function Nr(y,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof k.ZR&&ni(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function ni({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Pt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class $s{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ln(y){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),N=yield Nr(y,lr(m,{idToken:w}));j(N?.users.length,m,"internal-error");const M=N.users[0];y._notifyReloadListener(M);const Z=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?ot(M.providerUserInfo):[],ue=Zr(y.providerData,Z),Dt=!!y.isAnonymous&&!(y.email&&M.passwordHash||ue?.length),bt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ue,metadata:new $s(M.createdAt,M.lastLoginAt),isAnonymous:Dt};Object.assign(y,bt)})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(y){const p=(0,k.m9)(y);yield ln(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Zr(y,p){return[...y.filter(w=>!p.some(N=>N.providerId===w.providerId)),...p]}function ot(y){return y.map(p=>{var{providerId:m}=p,w=(0,he._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function st(){return(st=(0,l.Z)(function*(y,p){const m=yield ki(y,{},(0,l.Z)(function*(){const w=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:M}=y.config,Z=Fi(y,N,"/v1/token",`key=${M}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(Z,{method:"POST",headers:ue,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(y){const p=_t(y);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return j(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:M,expiresIn:Z}=yield function Ae(y,p){return st.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(N,M,Number(Z))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:N,expirationTime:M}=m,Z=new At;return w&&(j("string"==typeof w,"internal-error",{appName:p}),Z.refreshToken=w),N&&(j("string"==typeof N,"internal-error",{appName:p}),Z.accessToken=N),M&&(j("number"==typeof M,"internal-error",{appName:p}),Z.expirationTime=M),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return _e("not implemented")}}function It(y,p){j("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class jt{constructor(p){var{uid:m,auth:w,stsTokenManager:N}=p,M=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new $s(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield Nr(m,m.stsTokenManager.getToken(m.auth,p));return j(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Xn(y){return Tn.apply(this,arguments)}(this,p)}reload(){return function cn(y){return cr.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new jt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let N=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield ln(w)),yield w.auth._persistUserIfCurrent(w),N&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield Nr(p,function Ga(y,p){return et.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,N,M,Z,ue,$e,rt,Dt;const bt=null!==(w=m.displayName)&&void 0!==w?w:void 0,mn=null!==(N=m.email)&&void 0!==N?N:void 0,Oi=null!==(M=m.phoneNumber)&&void 0!==M?M:void 0,Il=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,gv=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,od=null!==($e=m._redirectEventId)&&void 0!==$e?$e:void 0,$m=null!==(rt=m.createdAt)&&void 0!==rt?rt:void 0,Nh=null!==(Dt=m.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Gm,emailVerified:mv,isAnonymous:Lc,providerData:Cl,stsTokenManager:pp}=m;j(Gm&&pp,p,"internal-error");const gp=At.fromJSON(this.name,pp);j("string"==typeof Gm,p,"internal-error"),It(bt,p.name),It(mn,p.name),j("boolean"==typeof mv,p,"internal-error"),j("boolean"==typeof Lc,p,"internal-error"),It(Oi,p.name),It(Il,p.name),It(gv,p.name),It(od,p.name),It($m,p.name),It(Nh,p.name);const Ea=new jt({uid:Gm,auth:p,email:mn,emailVerified:mv,displayName:bt,isAnonymous:Lc,photoURL:Il,phoneNumber:Oi,tenantId:gv,stsTokenManager:gp,createdAt:$m,lastLoginAt:Nh});return Cl&&Array.isArray(Cl)&&(Ea.providerData=Cl.map(Uc=>Object.assign({},Uc))),od&&(Ea._redirectEventId=od),Ea}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const N=new At;N.updateFromServerResponse(m);const M=new jt({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:w});return yield ln(M),M})()}}const B=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var N=this;return(0,l.Z)(function*(){N.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const N=w.storage[m];return void 0===N?null:N})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function K(y,p,m){return`firebase:${y}:${p}:${m}`}class we{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:N,name:M}=this.auth;this.fullUserKey=K(this.userKey,N.apiKey,M),this.fullPersistenceKey=K("persistence",N.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?jt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new we(se(B),p,w);const N=(yield Promise.all(m.map(function(){var rt=(0,l.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let M=N[0]||se(B);const Z=K(w,p.config.apiKey,p.name);let ue=null;for(const rt of m)try{const Dt=yield rt._get(Z);if(Dt){const bt=jt._fromJSON(p,Dt);rt!==M&&(ue=bt),M=rt;break}}catch{}const $e=N.filter(rt=>rt._shouldAllowMigration);return M._shouldAllowMigration&&$e.length?(M=$e[0],ue&&(yield M._set(Z,ue.toJSON())),yield Promise.all(m.map(function(){var rt=(0,l.Z)(function*(Dt){if(Dt!==M)try{yield Dt._remove(Z)}catch{}});return function(Dt){return rt.apply(this,arguments)}}())),new we(M,p,w)):new we(M,p,w)})()}}function X(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(wn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ye(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ge(p))return"Blackberry";if(Ke(p))return"Webos";if(yt(p))return"Safari";if((p.includes("chrome/")||tn(p))&&!p.includes("edge/"))return"Chrome";if(Jt(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Ye(y=(0,k.z$)()){return/firefox\//i.test(y)}function yt(y=(0,k.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function tn(y=(0,k.z$)()){return/crios\//i.test(y)}function wn(y=(0,k.z$)()){return/iemobile/i.test(y)}function Jt(y=(0,k.z$)()){return/android/i.test(y)}function Ge(y=(0,k.z$)()){return/blackberry/i.test(y)}function Ke(y=(0,k.z$)()){return/webos/i.test(y)}function Gt(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function _o(y=(0,k.z$)()){return Gt(y)||Jt(y)||Ke(y)||Ge(y)||/windows phone/i.test(y)||wn(y)}function Gs(y,p=[]){let m;switch(y){case"Browser":m=X((0,k.z$)());break;case"Worker":m=`${X((0,k.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class sa{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=M=>new Promise((Z,ue)=>{try{Z(p(M))}catch($e){ue($e)}});w.onAbort=m,this.queue.push(w);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var w;if(m.auth.currentUser===p)return;const N=[];try{for(const M of m.queue)yield M(p),M.onAbort&&N.push(M.onAbort)}catch(M){N.reverse();for(const Z of N)try{Z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=M)||void 0===w?void 0:w.message})}})()}}class Ht{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yo(this),this.idTokenSubscription=new yo(this),this.beforeStateQueue=new sa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N,M;if(!w._deleted&&(w.persistenceManager=yield we.create(w,p),!w._deleted)){if(null!==(N=w._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(M=w.currentUser)||void 0===M?void 0:M.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const N=yield m.assertedPersistence.getCurrentUser();let M=N,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,$e=M?._redirectEventId,rt=yield m.tryRedirectSignIn(p);(!ue||ue===$e)&&rt?.user&&(M=rt.user,Z=!0)}if(!M)return m.directlySetCurrentUser(null);if(!M._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(M)}catch(ue){M=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return M?m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)}return j(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var w;try{yield ln(p)}catch(N){if("auth/network-request-failed"!==(null===(w=N)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,k.m9)(p):null;return w&&j(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&j(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const N=yield w.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&se(p)||m._popupRedirectResolver;j(w,m,"argument-error"),m.redirectPersistenceManager=yield we.create(m,[se(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,N;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,N){if(this._deleted)return()=>{};const M="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return j(Z,this,"internal-error"),Z.then(()=>M(this.currentUser)),"function"==typeof m?p.addObserver(m,w,N):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(w["X-Firebase-Client"]=N),w})()}}function Mn(y){return(0,k.m9)(y)}class yo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function qs(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Or{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,m){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function nr(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:resetPassword",Ut(y,p))})).apply(this,arguments)}function vn(y,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Du(y,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",Ut(y,p))})).apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPassword",Ut(y,p))})).apply(this,arguments)}function Zs(y,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:sendOobCode",Ut(y,p))})).apply(this,arguments)}function pn(y,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(y,p){return Zs(y,p)})).apply(this,arguments)}function br(y,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(y,p){return Zs(y,p)})).apply(this,arguments)}function Yl(y,p){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p){return Zs(y,p)})).apply(this,arguments)}function Cu(y,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(y,p){return Zs(y,p)})).apply(this,arguments)}function qd(){return(qd=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,p))})).apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,p))})).apply(this,arguments)}class Su extends Or{constructor(p,m,w,N=null){super("password",w),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new Su(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Su(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function qa(y,p){return Li.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function $f(y,p){return qd.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return vn(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Gf(y,p){return bo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function dr(y,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithIdp",Ut(y,p))})).apply(this,arguments)}class vs extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new vs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N}=m,M=(0,he._T)(m,["providerId","signInMethod"]);if(!w||!N)return null;const Z=new vs(w,N);return Z.idToken=M.idToken||void 0,Z.accessToken=M.accessToken||void 0,Z.secret=M.secret,Z.nonce=M.nonce,Z.pendingToken=M.pendingToken||null,Z}_getIdTokenResponse(p){return dr(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,dr(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,dr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function um(y,p){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:sendVerificationCode",Ut(y,p))})).apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,p))})).apply(this,arguments)}function Wd(){return(Wd=(0,l.Z)(function*(y,p){const m=yield ti(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,p));if(m.temporaryProof)throw Ei(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const hm={USER_NOT_FOUND:"user-not-found"};function Kd(){return(Kd=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),hm)})).apply(this,arguments)}class Ks extends Or{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ks({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ks({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Au(y,p){return Ws.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function dm(y,p){return Wd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function fm(y,p){return Kd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:N,temporaryProof:M}=p;return w||m||N||M?new Ks({verificationId:m,verificationCode:w,phoneNumber:N,temporaryProof:M}):null}}class Ql{constructor(p){var m,w,N,M,Z,ue;const $e=(0,k.zd)((0,k.pd)(p)),rt=null!==(m=$e.apiKey)&&void 0!==m?m:null,Dt=null!==(w=$e.oobCode)&&void 0!==w?w:null,bt=function Yd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=$e.mode)&&void 0!==N?N:null);j(rt&&Dt&&bt,"argument-error"),this.apiKey=rt,this.operation=bt,this.code=Dt,this.continueUrl=null!==(M=$e.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(Z=$e.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ue=$e.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const m=function Qd(y){const p=(0,k.zd)((0,k.pd)(y)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,w=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(w?(0,k.zd)((0,k.pd)(w)).link:null)||w||m||p||y}(p);try{return new Ql(m)}catch{return null}}}let es=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Su._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const N=Ql.parseLink(w);return j(N,"argument-error"),Su._fromEmailAndCode(m,N.code,N.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ws extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class wo extends ws{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return j("providerId"in m&&"signInMethod"in m,"argument-error"),vs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return wo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return wo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:M,nonce:Z,providerId:ue}=p;if(!w&&!N&&!m&&!M||!ue)return null;try{return new wo(ue)._credential({idToken:m,accessToken:w,nonce:Z,pendingToken:M})}catch{return null}}}let Za=(()=>{class y extends ws{constructor(){super("facebook.com")}static credential(m){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jl=(()=>{class y extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:N}=m;if(!w&&!N)return null;try{return y.credential(w,N)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Nu=(()=>{class y extends ws{constructor(){super("github.com")}static credential(m){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class hr extends Or{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return dr(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,dr(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,dr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N,pendingToken:M}=m;return w&&N&&M&&w===N?new hr(w,M):null}static _create(p,m){return new hr(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ii extends bs{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ii.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ii.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=hr.fromJSON(p);return j(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return hr._create(w,m)}catch{return null}}}let ii=(()=>{class y extends ws{constructor(){super("twitter.com")}static credential(m,w){return vs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:N}=m;if(!w||!N)return null;try{return y.credential(w,N)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function oa(y,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signUp",Ut(y,p))})).apply(this,arguments)}class xr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,N=!1){return(0,l.Z)(function*(){const M=yield jt._fromIdTokenResponse(p,w,N),Z=Zf(w);return new xr({user:M,providerId:Z,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const N=Zf(w);return new xr({user:p,providerId:N,_tokenResponse:w,operationType:m})})()}}function Zf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Bn(){return(Bn=(0,l.Z)(function*(y){var p;const m=Mn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new xr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield oa(m,{returnSecureToken:!0}),N=yield xr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class Xl extends k.ZR{constructor(p,m,w,N){var M;super(m.code,m.message),this.operationType=w,this.user=N,Object.setPrototypeOf(this,Xl.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,N){return new Xl(p,m,w,N)}}function Kf(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Xl._fromErrorAndOperation(y,M,p,w):M})}function Ci(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ec(){return(ec=(0,l.Z)(function*(y,p){const m=(0,k.m9)(y);yield Xt(!0,m,p);const{providerUserInfo:w}=yield Lr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=Ci(w||[]);return m.providerData=m.providerData.filter(M=>N.has(M.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function aa(y,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(y,p,m=!1){const w=yield Nr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return xr._forOperation(y,"link",w)})).apply(this,arguments)}function Xt(y,p,m){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,p,m){yield ln(p);const N=!1===y?"provider-already-linked":"no-such-provider";j(Ci(p.providerData).has(m)===y,p.auth,N)})).apply(this,arguments)}function To(y,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(y,p,m=!1){var w;const{auth:N}=y,M="reauthenticate";try{const Z=yield Nr(y,Kf(N,M,p,y),m);j(Z.idToken,N,"internal-error");const ue=_t(Z.idToken);j(ue,N,"internal-error");const{sub:$e}=ue;return j(y.uid===$e,N,"user-mismatch"),xr._forOperation(y,M,Z)}catch(Z){throw"auth/user-not-found"===(null===(w=Z)||void 0===w?void 0:w.code)&&Me(N,"user-mismatch"),Z}})).apply(this,arguments)}function Vi(y,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(y,p,m=!1){const w="signIn",N=yield Kf(y,w,p),M=yield xr._fromIdTokenResponse(y,w,N);return m||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Ln(y,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(y,p){return Vi(Mn(y),p)})).apply(this,arguments)}function ic(y,p){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,l.Z)(function*(y,p){const m=(0,k.m9)(y);return yield Xt(!1,m,p.providerId),aa(m,p)})).apply(this,arguments)}function sc(y,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(y,p){return To((0,k.m9)(y),p)})).apply(this,arguments)}function xu(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(y,p){return ti(y,"POST","/v1/accounts:signInWithCustomToken",Ut(y,p))})).apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(y,p){const m=Mn(y),w=yield xu(m,{token:p,returnSecureToken:!0}),N=yield xr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ne{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Wt._fromServerResponse(p,m):Me(p,"internal-error")}}class Wt extends Ne{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Wt(m)}}function ac(y,p,m){var w;j((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),j(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(j(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(j(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function jn(){return(jn=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y),N={requestType:"PASSWORD_RESET",email:p};m&&ac(w,N,m),yield br(w,N)})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(y,p,m){yield nr((0,k.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(y,p){yield Du((0,k.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ya(y,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(y,p){const m=(0,k.m9)(y),w=yield nr(m,{oobCode:p}),N=w.requestType;switch(j(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(w.mfaInfo,m,"internal-error");default:j(w.email,m,"internal-error")}let M=null;return w.mfaInfo&&(M=Ne._fromServerResponse(Mn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:M},operation:N}})).apply(this,arguments)}function Jd(){return(Jd=(0,l.Z)(function*(y,p){const{data:m}=yield Ya((0,k.m9)(y),p);return m.email})).apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(y,p,m){const w=Mn(y),N=yield oa(w,{returnSecureToken:!0,email:p,password:m}),M=yield xr._fromIdTokenResponse(w,"signIn",N);return yield w._updateCurrentUser(M.user),M})).apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y),N={requestType:"EMAIL_SIGNIN",email:p};j(m.handleCodeInApp,w,"argument-error"),m&&ac(w,N,m),yield Yl(w,N)})).apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y),N=es.credentialWithLink(p,m||Ve());return j(N._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ln(w,N)})).apply(this,arguments)}function gm(y,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:createAuthUri",Ut(y,p))})).apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:wt()?Ve():"http://localhost"},{signinMethods:N}=yield gm((0,k.m9)(y),w);return N||[]})).apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(y,p){const m=(0,k.m9)(y),N={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ac(m.auth,N,p);const{email:M}=yield pn(m.auth,N);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ac(w.auth,M,m);const{email:Z}=yield Cu(w.auth,M);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function hc(y,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,k.m9)(y),M={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield Nr(w,hc(w.auth,M));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const ue=w.providerData.find(({providerId:$e})=>"password"===$e);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Io(y,p,m){return fc.apply(this,arguments)}function fc(){return(fc=(0,l.Z)(function*(y,p,m){const{auth:w}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(M.email=p),m&&(M.password=m);const Z=yield Nr(y,vn(w,M));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class si{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class An extends si{constructor(p,m,w,N){super(p,m,w),this.username=N}}class eh extends si{constructor(p,m){super(p,"facebook.com",m)}}class Hu extends An{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Qf extends si{constructor(p,m){super(p,"google.com",m)}}class $u extends An{constructor(p,m,w){super(p,"twitter.com",m,w)}}function pc(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function fr(y){var p,m;if(!y)return null;const{providerId:w}=y,N=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const Z=null===(m=null===(p=_t(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new si(M,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new eh(M,N);case"github.com":return new Hu(M,N);case"google.com":return new Qf(M,N);case"twitter.com":return new $u(M,N,y.screenName||null);case"custom":case"anonymous":return new si(M,null);default:return new si(M,w,N)}}(m)}class So{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new So("enroll",p,m)}static _fromMfaPendingCredential(p){return new So("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return So._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return So._fromIdtoken(p.multiFactorSession.idToken)}return null}}class mc{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Mn(p),N=m.customData._serverResponse,M=(N.mfaInfo||[]).map(ue=>Ne._fromServerResponse(w,ue));j(N.mfaPendingCredential,w,"internal-error");const Z=So._fromMfaPendingCredential(N.mfaPendingCredential);return new mc(Z,M,function(){var ue=(0,l.Z)(function*($e){const rt=yield $e._process(w,Z);delete N.mfaInfo,delete N.mfaPendingCredential;const Dt=Object.assign(Object.assign({},N),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(m.operationType){case"signIn":const bt=yield xr._fromIdTokenResponse(w,m.operationType,Dt);return yield w._updateCurrentUser(bt.user),bt;case"reauthenticate":return j(m.user,w,"internal-error"),xr._forOperation(m.user,m.operationType,Dt);default:Me(w,"internal-error")}});return function($e){return ue.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function _c(y,p){return yn(y,"POST","/v2/accounts/mfaEnrollment:start",Ut(y,p))}class Jf{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ne._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Jf(p)}getSession(){var p=this;return(0,l.Z)(function*(){return So._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const N=p,M=yield w.getSession(),Z=yield Nr(w.user,N._process(w.user.auth,M,m));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var w;const N="string"==typeof p?p:p.uid,M=yield m.user.getIdToken(),Z=yield Nr(m.user,function ih(y,p){return yn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(y,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:N}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ue})=>ue!==N),yield m.user._updateTokensIfNecessary(Z);try{yield m.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(w=ue)||void 0===w?void 0:w.code))throw ue}})()}}const Ao=new WeakMap,No="__sak";class vc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const nl=(()=>{class y extends vc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tl(){const y=(0,k.z$)();return yt(y)||Gt(y)}()&&function Sn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_o(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const N=this.storage.getItem(w),M=this.localCache[w];N!==M&&m(w,M,N)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ue,$e,rt)=>{this.notifyListeners(ue,rt)});const N=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(N);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!w)return}const M=()=>{const ue=this.storage.getItem(N);!w&&this.localCache[N]===ue||this.notifyListeners(N,ue)},Z=this.storage.getItem(N);!function ur(){return(0,k.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?M():setTimeout(M,10)}notifyListeners(m,w){this.localCache[m]=w;const N=this.listeners[m];if(N)for(const M of Array.from(N))M(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var N=()=>super._set,M=this;return(0,l.Z)(function*(){yield N().call(M,m,w),M.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,N=this;return(0,l.Z)(function*(){const M=yield w().call(N,m);return N.localCache[m]=JSON.stringify(M),M})()}_remove(m){var w=()=>super._remove,N=this;return(0,l.Z)(function*(){yield w().call(N,m),delete N.localCache[m]})()}}return y.type="LOCAL",y})(),ns=(()=>{class y extends vc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let ah=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(M=>M.isListeningto(m));if(w)return w;const N=new y(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const N=m,{eventId:M,eventType:Z,data:ue}=N.data,$e=w.handlersMap[Z];if(!$e?.size)return;N.ports[0].postMessage({status:"ack",eventId:M,eventType:Z});const rt=Array.from($e).map(function(){var bt=(0,l.Z)(function*(mn){return mn(N.origin,ue)});return function(mn){return bt.apply(this,arguments)}}()),Dt=yield function il(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(rt);N.ports[0].postMessage({status:"done",eventId:M,eventType:Z,response:Dt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function sl(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Gu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var N=this;return(0,l.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let Z,ue;return new Promise(($e,rt)=>{const Dt=sl("",20);M.port1.start();const bt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ue={messageChannel:M,onMessage(mn){const Oi=mn;if(Oi.data.eventId===Dt)switch(Oi.data.status){case"ack":clearTimeout(bt),Z=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),$e(Oi.data.response);break;default:clearTimeout(bt),clearTimeout(Z),rt(new Error("invalid_response"))}}},N.handlers.add(ue),M.port1.addEventListener("message",ue.onMessage),N.target.postMessage({eventType:p,eventId:Dt,data:m},[M.port2])}).finally(()=>{ue&&N.removeMessageHandler(ue)})})()}}function Yn(){return window}function bc(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function ol(){return(ol=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Js="firebaseLocalStorageDb",Xs="firebaseLocalStorage",Ec="fbase_key";class xo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function al(y,p){return y.transaction([Xs],p?"readwrite":"readonly").objectStore(Xs)}function ha(){const y=indexedDB.open(Js,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Xs,{keyPath:Ec})}catch(N){m(N)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Xs)?p(w):(w.close(),yield function ch(){const y=indexedDB.deleteDatabase(Js);return new xo(y).toPromise()}(),p(yield ha()))}))})}function Cs(y,p,m){return qu.apply(this,arguments)}function qu(){return(qu=(0,l.Z)(function*(y,p,m){const w=al(y,!0).put({[Ec]:p,value:m});return new xo(w).toPromise()})).apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(y,p){const m=al(y,!1).get(p),w=yield new xo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Mo(y,p){const m=al(y,!0).delete(p);return new xo(m).toPromise()}const fa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield ha()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const M=yield w._openDb();return yield m(M)}catch(M){if(N++>3)throw M;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return bc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=ah._getInstance(function Tc(){return bc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(N,M){return{keyProcessed:(yield m._poll()).includes(M.key)}});return function(N,M){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(N,M){return["keyChanged"]});return function(N,M){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,N;if(m.activeServiceWorker=yield function Oo(){return ol.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Gu(m.activeServiceWorker);const M=yield m.sender._send("ping",{},800);!M||(null===(w=M[0])||void 0===w?void 0:w.fulfilled)&&(null===(N=M[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function wc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ha();return yield Cs(m,No,"1"),yield Mo(m,No),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(M=>Cs(M,m,w)),N.localCache[m]=w,N.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const N=yield w._withRetries(M=>function Dc(y,p){return ll.apply(this,arguments)}(M,m));return w.localCache[m]=N,N})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(N=>Mo(N,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(Z=>{const ue=al(Z,!1).getAll();return new xo(ue).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const N=[],M=new Set;for(const{fbase_key:Z,value:ue}of w)M.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ue)&&(m.notifyListeners(Z,ue),N.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!M.has(Z)&&(m.notifyListeners(Z,null),N.push(Z));return N})()}notifyListeners(m,w){this.localCache[m]=w;const N=this.listeners[m];if(N)for(const M of Array.from(N))M(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function pa(y,p){return yn(y,"POST","/v2/accounts/mfaSignIn:start",Ut(y,p))}function eo(){return(eo=(0,l.Z)(function*(y){return(yield yn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ma(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=N=>{const M=be("internal-error");M.customData=N,m(M)},w.type="text/javascript",w.charset="UTF-8",function ga(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Sc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const cl=1e12;class En{constructor(p){this.auth=p,this.counter=cl,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new mm(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||cl;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||cl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||cl))||void 0===w||w.execute(),""})()}}class mm{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;j(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xy(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _m=Sc("rcb"),ev=new gn(3e4,6e4);class Xf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Yn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return j(function Hw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Yn().grecaptcha):new Promise((w,N)=>{const M=Yn().setTimeout(()=>{N(be(p,"network-request-failed"))},ev.get());Yn()[_m]=()=>{Yn().clearTimeout(M),delete Yn()[_m];const ue=Yn().grecaptcha;if(!ue)return void N(be(p,"internal-error"));const $e=ue.render;ue.render=(rt,Dt)=>{const bt=$e(rt,Dt);return this.counter++,bt},this.hostLanguage=m,w(ue)},ma(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:_m,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(M),N(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Yn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ul{load(p){return(0,l.Z)(function*(){return new En(p)})()}clearedOneInstance(){}}const ym="recaptcha",vm={theme:"light",type:"image"};class Tr{constructor(p,m=Object.assign({},vm),w){this.parameters=m,this.type=ym,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(w),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;j(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ul:new Xf,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(M=>{const Z=ue=>{!ue||(p.tokenChangeListeners.delete(Z),M(ue))};p.tokenChangeListeners.add(Z),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Yn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){j(wt()&&!bc(),p.auth,"internal-error"),yield function on(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function oi(y){return eo.apply(this,arguments)}(p.auth);j(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ai{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ks._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function nn(){return(nn=(0,l.Z)(function*(y,p,m){const w=Mn(y),N=yield to(w,p,(0,k.m9)(m));return new ai(N,M=>Ln(w,M))})).apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y);yield Xt(!1,w,"phone");const N=yield to(w.auth,p,(0,k.m9)(m));return new ai(N,M=>ic(w,M))})).apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y),N=yield to(w.auth,p,(0,k.m9)(m));return new ai(N,M=>sc(w,M))})).apply(this,arguments)}function to(y,p,m){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,l.Z)(function*(y,p,m){var w;const N=yield m.verify();try{let M;if(j("string"==typeof N,y,"argument-error"),j(m.type===ym,y,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const Z=M.session;if("phoneNumber"in M)return j("enroll"===Z.type,y,"internal-error"),(yield _c(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{j("signin"===Z.type,y,"internal-error");const ue=(null===(w=M.multiFactorHint)||void 0===w?void 0:w.uid)||M.multiFactorUid;return j(ue,y,"missing-multi-factor-info"),(yield pa(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield um(y,{phoneNumber:M.phoneNumber,recaptchaToken:N});return Z}}finally{m._reset()}})).apply(this,arguments)}function Zu(){return(Zu=(0,l.Z)(function*(y,p){yield aa((0,k.m9)(y),p)})).apply(this,arguments)}let hl=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Mn(m)}verifyPhoneNumber(m,w){return to(this.auth,m,(0,k.m9)(w))}static credential(m,w){return Ks._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:N}=m;return w&&N?Ks._fromTokenResponse(w,N):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Po(y,p){return p?se(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class As extends Or{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return dr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return dr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return dr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function nt(y){return Vi(y.auth,new As(y),y.bypassAuthState)}function fl(y){const{auth:p,user:m}=y;return j(m,p,"internal-error"),To(m,new As(y),y.bypassAuthState)}function no(y){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return j(m,p,"internal-error"),aa(m,new As(y),y.bypassAuthState)})).apply(this,arguments)}class va{constructor(p,m,w,N,M=!1){this.auth=p,this.resolver=w,this.user=N,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,N){p.pendingPromise={resolve:w,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(w,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:N,postBody:M,tenantId:Z,error:ue,type:$e}=p;if(ue)return void m.reject(ue);const rt={auth:m.auth,requestUri:w,sessionId:N,tenantId:Z||void 0,postBody:M||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask($e)(rt))}catch(Dt){m.reject(Dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return nt;case"linkViaPopup":case"linkViaRedirect":return no;case"reauthViaPopup":case"reauthViaRedirect":return fl;default:Me(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dn=new gn(2e3,1e4);function ro(){return(ro=(0,l.Z)(function*(y,p,m){const w=Mn(y);ze(y,p,bs);const N=Po(w,m);return new rs(w,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function Ku(){return(Ku=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y);ze(w.auth,p,bs);const N=Po(w.auth,m);return new rs(w.auth,"reauthViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y);ze(w.auth,p,bs);const N=Po(w.auth,m);return new rs(w.auth,"linkViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}let rs=(()=>{class y extends va{constructor(m,w,N,M,Z){super(m,w,M,Z),this.provider=N,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return j(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const w=sl();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,N;this.pollId=null!==(N=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Dn.get())};m()}}return y.currentPopupAction=null,y})();const Hi=new Map;class Yu extends va{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=Hi.get(m.auth._key());if(!w){try{const M=(yield function li(y,p){return ci.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(M)}catch(N){w=()=>Promise.reject(N)}Hi.set(m.auth._key(),w)}return m.bypassAuthState||Hi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const N=yield w.auth._redirectUserForId(p.eventId);if(N)return w.user=N,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ci(){return(ci=(0,l.Z)(function*(y,p){const m=Nn(p),w=Ns(y);if(!(yield w._isAvailable()))return!1;const N="true"===(yield w._get(m));return yield w._remove(m),N})).apply(this,arguments)}function $i(y,p){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(y,p){return Ns(y)._set(Nn(p),"true")})).apply(this,arguments)}function io(y,p){Hi.set(y._key(),p)}function Ns(y){return se(y._redirectPersistence)}function Nn(y){return K("pendingRedirect",y.config.apiKey,y.name)}function I(){return(I=(0,l.Z)(function*(y,p,m){const w=Mn(y);ze(y,p,bs);const N=Po(w,m);return yield $i(N,w),N._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y);ze(w.auth,p,bs);const N=Po(w.auth,m);yield $i(N,w.auth);const M=yield vt(w);return N._openRedirect(w.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(y,p,m){const w=(0,k.m9)(y);ze(w.auth,p,bs);const N=Po(w.auth,m);yield Xt(!1,w,p.providerId),yield $i(N,w.auth);const M=yield vt(w);return N._openRedirect(w.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(y,p){return yield Mn(y)._initializationPromise,Ct(y,p,!1)})).apply(this,arguments)}function Ct(y,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(y,p,m=!1){const w=Mn(y),N=Po(w,p),Z=yield new Yu(w,N,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,p)),Z})).apply(this,arguments)}function vt(y){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(y){const p=sl(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Fo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ss(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ft(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Ft(p)){const N=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(be(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(p))}saveEventToCache(p){this.cachedEventUids.add(so(p)),this.lastProcessedEventTime=Date.now()}}function so(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ft({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function oo(y){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(y,p={}){return yn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lo=/^https?/;function ep(){return(ep=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield oo(y);for(const m of p)try{if(Tm(m))return}catch{}Me(y,"unauthorized-domain")})).apply(this,arguments)}function Tm(y){const p=Ve(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===w}if(!Lo.test(m))return!1;if(ba.test(y))return w===y;const N=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(w)}const Em=new gn(3e4,6e4);function nv(){const y=Yn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let os=null;function tp(y){return os=os||function pr(y){return new Promise((p,m)=>{var w,N,M;function Z(){nv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{nv(),m(be(y,"network-request-failed"))},timeout:Em.get()})}if(null!==(N=null===(w=Yn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(M=Yn().gapi)||void 0===M||!M.load){const ue=Sc("iframefcb");return Yn()[ue]=()=>{gapi.load?Z():m(be(y,"network-request-failed"))},ma(`https://apis.google.com/js/api.js?onload=${ue}`).catch($e=>m($e))}Z()}}).catch(p=>{throw os=null,p})}(y),os}const Dm=new gn(5e3,15e3),rv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Im(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Cn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},N=rp.get(y.config.apiHost);N&&(w.eid=N);const M=y._getFrameworks();return M.length&&(w.fw=M.join(",")),`${m}?${(0,k.xO)(w).slice(1)}`}function gl(){return gl=(0,l.Z)(function*(y){const p=yield tp(y),m=Yn().gapi;return j(m,y,"internal-error"),p.open({where:document.body,url:Im(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rv,dontclear:!0},w=>new Promise(function(){var N=(0,l.Z)(function*(M,Z){yield w.restyle({setHideOnLeave:!1});const ue=be(y,"network-request-failed"),$e=Yn().setTimeout(()=>{Z(ue)},Dm.get());function rt(){Yn().clearTimeout($e),M(w)}w.ping(rt).then(rt,()=>{Z(ue)})});return function(M,Z){return N.apply(this,arguments)}}()))}),gl.apply(this,arguments)}const uh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bo(y,p,m,w,N,M){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:N};if(p instanceof bs){p.setDefaultLanguage(y.languageCode),Z.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,rt]of Object.entries(M||{}))Z[$e]=rt}if(p instanceof ws){const $e=p.getScopes().filter(rt=>""!==rt);$e.length>0&&(Z.scopes=$e.join(","))}y.tenantId&&(Z.tid=y.tenantId);const ue=Z;for(const $e of Object.keys(ue))void 0===ue[$e]&&delete ue[$e];return`${function fh({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(ue).slice(1)}`}const _l="webStorageSupport";class qi extends class iv{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new qi(p)}_finalizeEnroll(p,m,w){return function yc(y,p){return yn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Cc(y,p){return yn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ut(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jo=(()=>{class y{constructor(){}static assertion(m){return qi._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var sp="@firebase/auth",op="0.20.10";class sv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var N;p((null===(N=w)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yl(){return window}function vl(){return(vl=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:N}=yl();W(p.sessionId,"AuthEvent did not contain a session ID");const M=yield bl(p.sessionId),Z={};return Gt()?Z.ibi=N.packageName:Jt()?Z.apn=N.packageName:Me(y,"operation-not-supported-in-this-environment"),N.displayName&&(Z.appDisplayName=N.displayName),Z.sessionId=M,Bo(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Z)})).apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(y){const{BuildInfo:p}=yl(),m={};Gt()?m.iosBundleId=p.packageName:Jt()?m.androidPackageName=p.packageName:Me(y,"operation-not-supported-in-this-environment"),yield oo(y,m)})).apply(this,arguments)}function xm(){return(xm=(0,l.Z)(function*(y,p,m){const{cordova:w}=yl();let N=()=>{};try{yield new Promise((M,Z)=>{let ue=null;function $e(){var bt;M();const mn=null===(bt=w.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof mn&&mn(),"function"==typeof m?.close&&m.close()}function rt(){ue||(ue=window.setTimeout(()=>{Z(be(y,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===document?.visibilityState&&rt()}p.addPassiveListener($e),document.addEventListener("resume",rt,!1),Jt()&&document.addEventListener("visibilitychange",Dt,!1),N=()=>{p.removePassiveListener($e),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",Dt,!1),ue&&window.clearTimeout(ue)}})}finally{N()}})).apply(this,arguments)}function bl(y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(y){const p=Xu(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xu(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(0,k.Pz)("authIdTokenMaxAge"),function av(y){(0,ae._registerComponent)(new ce.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:M,authDomain:Z}=w.options;return((ue,$e)=>{j(M&&!M.includes(":"),"invalid-api-key",{appName:ue.name}),j(!Z?.includes(":"),"argument-error",{appName:ue.name});const rt={apiKey:M,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gs(y)},Dt=new Ht(ue,$e,rt);return function Be(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(se);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(Dt,m),Dt})(w,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ce.wA("auth-internal",p=>{const m=Mn(p.getProvider("auth").getImmediate());return new sv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(sp,op,function ov(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(sp,op,"esm2017")}("Browser");class ap extends Fo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Rm(y){return lp.apply(this,arguments)}function lp(){return(lp=(0,l.Z)(function*(y){const p=yield Rc()._get($o(y));return p&&(yield Rc()._remove($o(y))),p})).apply(this,arguments)}function gh(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Rc(){return se(nl)}function $o(y){return K("authEvent",y.config.apiKey,y.name)}function ed(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,k.zd)(m.join("?"))}function _h(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function vh(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Pc(y=(0,k.z$)()){return!("file:"!==vh()&&"ionic:"!==vh()&&"capacitor:"!==vh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vm(){try{const y=self.localStorage,p=sl();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Um(y=(0,k.z$)()){return function Fm(){return(0,k.w1)()&&11===document?.documentMode}()||function Lm(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch{return bh()&&(0,k.hl)()}return!1}function bh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wh(){return(function Zw(){return"http:"===vh()||"https:"===vh()}()||(0,k.ru)()||Pc())&&!function up(){return(0,k.b$)()||(0,k.UG)()}()&&Vm()&&!bh()}function td(){return Pc()&&typeof document<"u"}function Th(){return(Th=(0,l.Z)(function*(){return!!td()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},Ni=j,zi="persistence";function kc(y){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(y){yield y._initializationPromise;const p=rd(),m=K(zi,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function rd(){var y;try{return(null===(y=function nd(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Eh=j;class Vr{constructor(){this.browserResolver=se(class Am{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ns,this._completeRedirectFn=Ct,this._overrideRedirectResult=io}_openPopup(p,m,w,N){var M=this;return(0,l.Z)(function*(){var Z;W(null===(Z=M.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ue=Bo(p,m,w,Ve(),N);return function Vo(y,p,m,w=500,N=600){const M=Math.max((window.screen.availHeight-N)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const $e=Object.assign(Object.assign({},uh),{width:w.toString(),height:N.toString(),top:M,left:Z}),rt=(0,k.z$)().toLowerCase();m&&(ue=tn(rt)?"_blank":m),Ye(rt)&&(p=p||"http://localhost",$e.scrollbars="yes");const Dt=Object.entries($e).reduce((mn,[Oi,Il])=>`${mn}${Oi}=${Il},`,"");if(function ri(y=(0,k.z$)()){var p;return Gt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ue)return function Sm(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ue),new Qu(null);const bt=window.open(p||"",ue,Dt);j(bt,y,"popup-blocked");try{bt.focus()}catch{}return new Qu(bt)}(p,ue,sl())})()}_openRedirect(p,m,w,N){var M=this;return(0,l.Z)(function*(){return yield M._originValidation(p),function Bi(y){Yn().location.href=y}(Bo(p,m,w,Ve(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:M}=this.eventManagers[m];return N?Promise.resolve(N):(W(M,"If manager is not set, promise should be"),M)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Cm(y){return gl.apply(this,arguments)}(p),N=new Fo(p);return w.register("authEvent",M=>(j(M?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=w,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(_l,{type:_l},N=>{var M;const Z=null===(M=N?.[0])||void 0===M?void 0:M[_l];void 0!==Z&&m(!!Z),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gi(y){return ep.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return _o()||yt()||Gt()}}),this.cordovaResolver=se(class mh{constructor(){this._redirectPersistence=ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ct,this._overrideRedirectResult=io}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let N=m.eventManagers.get(w);return N||(N=new ap(p),m.eventManagers.set(w,N),m.attachCallbackListeners(p,N)),N})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,N){var M=this;return(0,l.Z)(function*(){!function zw(y){var p,m,w,N,M,Z,ue,$e,rt,Dt;const bt=yl();j("function"==typeof(null===(p=bt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(m=bt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(M=null===(N=null===(w=bt?.cordova)||void 0===w?void 0:w.plugins)||void 0===N?void 0:N.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===($e=null===(ue=null===(Z=bt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===$e?void 0:$e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Dt=null===(rt=bt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===Dt?void 0:Dt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield M._initialize(p);yield Z.initialized(),Z.resetRedirect(),function Qn(){Hi.clear()}(),yield M._originValidation(p);const ue=function Mm(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:gh(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,w,N);yield function Mc(y,p){return Rc()._set($o(y),p)}(p,ue);const $e=yield function as(y,p,m){return vl.apply(this,arguments)}(p,ue,m),rt=yield function cv(y){const{cordova:p}=yl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let N=null;w?p.plugins.browsertab.openUrl(y):N=p.InAppBrowser.open(y,function vr(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(N)})})}($e);return function qw(y,p,m){return xm.apply(this,arguments)}(p,Z,rt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function wa(y){return xc.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:N,BuildInfo:M}=yl(),Z=setTimeout((0,l.Z)(function*(){yield Rm(p),m.onEvent(_h())}),500),ue=function(){var Dt=(0,l.Z)(function*(bt){clearTimeout(Z);const mn=yield Rm(p);let Oi=null;mn&&bt?.url&&(Oi=function cp(y,p){var m,w;const N=function qn(y){const p=ed(y),m=p.link?decodeURIComponent(p.link):void 0,w=ed(m).link,N=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ed(N).link||N||w||m||y}(p);if(N.includes("/__/auth/callback")){const M=ed(N),Z=M.firebaseError?function dv(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,ue=null===(w=null===(m=Z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],$e=ue?be(ue):null;return $e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:N,postBody:null}}return null}(mn,bt.url)),m.onEvent(Oi||_h())});return function(mn){return Dt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const $e=N,rt=`${M.packageName.toLowerCase()}://`;yl().handleOpenURL=function(){var Dt=(0,l.Z)(function*(bt){if(bt.toLowerCase().startsWith(rt)&&ue({url:bt}),"function"==typeof $e)try{$e(bt)}catch(mn){console.error(mn)}});return function(bt){return Dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ns,this._completeRedirectFn=Ct,this._overrideRedirectResult=io}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,N){var M=this;return(0,l.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,m,w,N)})()}_openRedirect(p,m,w,N){var M=this;return(0,l.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,m,w,N)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return td()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Eh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Ww(){return Th.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Dh(y){return y.unwrap()}function jm(y){return sd(y)}function sd(y){const{_tokenResponse:p}=y instanceof k.ZR?y.customData:y;if(!p)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return hl.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Jl;break;case"facebook.com":w=Za;break;case"github.com":w=Nu;break;case"twitter.com":w=ii;break;default:const{oauthIdToken:N,oauthAccessToken:M,oauthTokenSecret:Z,pendingToken:ue,nonce:$e}=p;return M||Z||N||ue?ue?m.startsWith("saml.")?hr._create(m,ue):vs._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:N,accessToken:M}):new wo(m).credential({idToken:N,accessToken:M,rawNonce:$e}):null}return y instanceof k.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Er(y,p){return p.catch(m=>{throw m instanceof k.ZR&&function dp(y,p){var m,w;const N=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new fv(y,function $n(y,p){var m;const w=(0,k.m9)(y),N=p;return j(p.customData.operationType,w,"argument-error"),j(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),mc._fromError(w,N)}(y,p));else if(N){const M=sd(p),Z=p;M&&(Z.credential=M,Z.tenantId=N.tenantId||void 0,Z.email=N.email||void 0,Z.phoneNumber=N.phoneNumber||void 0)}}(y,m),m}).then(m=>{const N=m.user;return{operationType:m.operationType,credential:jm(m),additionalUserInfo:pc(m),user:Os.getOrCreate(N)}})}function El(y,p){return hp.apply(this,arguments)}function hp(){return(hp=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Er(y,m.confirm(w))}})).apply(this,arguments)}class fv{constructor(p,m){this.resolver=m,this.auth=function id(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Er(Dh(this.auth),this.resolver.resolveSignIn(p))}}class Os{constructor(p){this._delegate=p,this.multiFactor=function da(y){const p=(0,k.m9)(y);return Ao.has(p)||Ao.set(p,Jf._fromUser(p)),Ao.get(p)}(p)}static getOrCreate(p){return Os.USER_MAP.has(p)||Os.USER_MAP.set(p,new Os(p)),Os.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Er(m.auth,ic(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return El(w.auth,function un(y,p,m){return ji.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Er(m.auth,function Nc(y,p,m){return pl.apply(this,arguments)}(m._delegate,p,Vr))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield kc(Mn(m.auth)),function J(y,p,m){return function ie(y,p,m){return Ie.apply(this,arguments)}(y,p,m)}(m._delegate,p,Vr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Er(m.auth,sc(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return El(this.auth,function dl(y,p,m){return Gn.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Er(this.auth,function wm(y,p,m){return Ku.apply(this,arguments)}(this._delegate,p,Vr))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield kc(Mn(m.auth)),function C(y,p,m){return function O(y,p,m){return U.apply(this,arguments)}(y,p,m)}(m._delegate,p,Vr)})()}sendEmailVerification(p){return function Lu(y,p){return el.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Kr(y,p){return ec.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Xd(y,p){return Io((0,k.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Do(y,p){return Io((0,k.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function bm(y,p){return Zu.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Bu(y,p){return ju.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Uu(y,p,m){return dc.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;const Ta=j;let fp=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=m.options;Ta(N,"invalid-api-key",{appName:m.name}),Ta(N,"invalid-api-key",{appName:m.name});const M=typeof window<"u"?Vr:void 0;this._delegate=w.initialize({options:{persistence:Hm(N,m.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Wl(y,p,m){const w=Mn(y);j(w._canInitEmulator,w,"emulator-config-failed"),j(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const N=!!m?.disableWarnings,M=Xi(p),{host:Z,port:ue}=function tr(y){const p=Xi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(w);if(N){const M=N[1];return{host:M,port:qs(w.substr(M.length+1))}}{const[M,Z]=w.split(":");return{host:M,port:qs(Z)}}}(p);w.config.emulator={url:`${M}//${Z}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:ue,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function zs(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Si(y,p){return Ka.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ya(this._delegate,m)}confirmPasswordReset(m,w){return function cc(y,p,m){return la.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var N=this;return(0,l.Z)(function*(){return Er(N._delegate,function Qa(y,p,m){return Hn.apply(this,arguments)}(N._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function uc(y,p){return Xa.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Is(y,p){return"EMAIL_SIGNIN"===Ql.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Ta(wh(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Fe(y,p){return ut.apply(this,arguments)}(m._delegate,Vr);return w?Er(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function wl(y,p){Mn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,N){const{next:M,error:Z,complete:ue}=Ih(m,w,N);return this._delegate.onAuthStateChanged(M,Z,ue)}onIdTokenChanged(m,w,N){const{next:M,error:Z,complete:ue}=Ih(m,w,N);return this._delegate.onIdTokenChanged(M,Z,ue)}sendSignInLinkToEmail(m,w){return function ku(y,p,m){return Eo.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function lc(y,p,m){return jn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let N;switch(function Bm(y,p){Ni(Object.values(Qr).includes(p),y,"invalid-persistence-type"),(0,k.b$)()?Ni(p!==Qr.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Ni(p===Qr.NONE,y,"unsupported-persistence-type"):bh()?Ni(p===Qr.NONE||p===Qr.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Ni(p===Qr.NONE||Vm(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Qr.SESSION:N=ns;break;case Qr.LOCAL:N=(yield se(fa)._isAvailable())?fa:nl;break;case Qr.NONE:N=B;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Er(this._delegate,function Wf(y){return Bn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Er(this._delegate,Ln(this._delegate,m))}signInWithCustomToken(m){return Er(this._delegate,function Mu(y,p){return Wa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Er(this._delegate,function ts(y,p,m){return Ln((0,k.m9)(y),es.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Er(this._delegate,function pm(y,p,m){return Ja.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return El(this._delegate,function at(y,p,m){return nn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Ta(wh(),w._delegate,"operation-not-supported-in-this-environment"),Er(w._delegate,function Wu(y,p,m){return ro.apply(this,arguments)}(w._delegate,m,Vr))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Ta(wh(),w._delegate,"operation-not-supported-in-this-environment"),yield kc(w._delegate),function Kt(y,p,m){return function ko(y,p,m){return I.apply(this,arguments)}(y,p,m)}(w._delegate,m,Vr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Pu(y,p){return Jd.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Qr,y})();function Ih(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const N=w;return{next:Z=>N(Z&&Os.getOrCreate(Z)),error:p,complete:m}}function Hm(y,p){const m=function Tl(y,p){const m=rd();if(!m)return[];const w=K(zi,y,p);switch(m.getItem(w)){case Qr.NONE:return[B];case Qr.LOCAL:return[fa,ns];case Qr.SESSION:return[ns];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(fa)&&m.push(fa),typeof window<"u")for(const w of[nl,ns])m.includes(w)||m.push(w);return m.includes(B)||m.push(B),m}class Ch{constructor(){this.providerId="phone",this._delegate=new hl(Dh(te.Z.auth()))}static credential(p,m){return hl.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Ch.PHONE_SIGN_IN_METHOD=hl.PHONE_SIGN_IN_METHOD,Ch.PROVIDER_ID=hl.PROVIDER_ID;const Sh=j;class Ah{constructor(p,m,w=te.Z.app()){var N;Sh(null===(N=w.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Tr(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pv(y){y.INTERNAL.registerComponent(new ce.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new fp(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:es,FacebookAuthProvider:Za,GithubAuthProvider:Nu,GoogleAuthProvider:Jl,OAuthProvider:wo,SAMLAuthProvider:Ii,PhoneAuthProvider:Ch,PhoneMultiFactorGenerator:jo,RecaptchaVerifier:Ah,TwitterAuthProvider:ii,Auth:fp,AuthCredential:Or,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(te.Z)},9751:(mt,Ce,F)=>{F.d(Ce,{y:()=>fe});var l=F(930),te=F(727),k=F(8822),ae=F(9635),le=F(2416),he=F(576),ce=F(2806);let fe=(()=>{class Q{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Te=new Q;return Te.source=this,Te.operator=Re,Te}subscribe(Re,Te,lt){const ye=function $(Q){return Q&&Q instanceof l.Lv||function H(Q){return Q&&(0,he.m)(Q.next)&&(0,he.m)(Q.error)&&(0,he.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(Re)?Re:new l.Hp(Re,Te,lt);return(0,ce.x)(()=>{const{operator:ge,source:it}=this;ye.add(ge?ge.call(ye,it):it?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Te){Re.error(Te)}}forEach(Re,Te){return new(Te=pe(Te))((lt,ye)=>{const ge=new l.Hp({next:it=>{try{Re(it)}catch(ft){ye(ft),ge.unsubscribe()}},error:ye,complete:lt});this.subscribe(ge)})}_subscribe(Re){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Re)}[k.L](){return this}pipe(...Re){return(0,ae.U)(Re)(this)}toPromise(Re){return new(Re=pe(Re))((Te,lt)=>{let ye;this.subscribe(ge=>ye=ge,ge=>lt(ge),()=>Te(ye))})}}return Q.create=He=>new Q(He),Q})();function pe(Q){var He;return null!==(He=Q??le.v.Promise)&&void 0!==He?He:Promise}},7579:(mt,Ce,F)=>{F.d(Ce,{x:()=>ce});var l=F(9751),te=F(727);const ae=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),he=F(2806);let ce=(()=>{class pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new fe(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:He,observers:Re}=this;return Q||He?te.Lc:(this.currentObservers=null,Re.push($),new te.w0(()=>{this.currentObservers=null,(0,le.P)(Re,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:He,isStopped:Re}=this;Q?$.error(He):Re&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return pe.create=(H,$)=>new fe(H,$),pe})();class fe extends ce{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,H)}error(H){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==Q?Q:te.Lc}}},930:(mt,Ce,F)=>{F.d(Ce,{Hp:()=>lt,Lv:()=>Q});var l=F(576),te=F(727),k=F(2416),ae=F(7849),le=F(5032);const he=pe("C",void 0,void 0);function pe(Me,be,De){return{kind:Me,value:be,error:De}}var H=F(3410),$=F(2806);class Q extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=ft}static create(be,De,ze){return new lt(be,De,ze)}next(be){this.isStopped?it(function fe(Me){return pe("N",Me,void 0)}(be),this):this._next(be)}error(be){this.isStopped?it(function ce(Me){return pe("E",void 0,Me)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?it(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Re(Me,be){return He.call(Me,be)}class Te{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(ze){ye(ze)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(ze){ye(ze)}else ye(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){ye(De)}}}class lt extends Q{constructor(be,De,ze){let Ze;if(super(),(0,l.m)(be)||!be)Ze={next:be??void 0,error:De??void 0,complete:ze??void 0};else{let j;this&&k.v.useDeprecatedNextContext?(j=Object.create(be),j.unsubscribe=()=>this.unsubscribe(),Ze={next:be.next&&Re(be.next,j),error:be.error&&Re(be.error,j),complete:be.complete&&Re(be.complete,j)}):Ze=be}this.destination=new Te(Ze)}}function ye(Me){k.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Me):(0,ae.h)(Me)}function it(Me,be){const{onStoppedNotification:De}=k.v;De&&H.z.setTimeout(()=>De(Me,be))}const ft={closed:!0,next:le.Z,error:function ge(Me){throw Me},complete:le.Z}},727:(mt,Ce,F)=>{F.d(Ce,{Lc:()=>he,w0:()=>le,Nn:()=>ce});var l=F(576);const k=(0,F(3888).d)(pe=>function($){pe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,He)=>`${He+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=F(8737);class le{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Re of $)Re.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(Re){H=Re instanceof k?Re.errors:[Re]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Re of He)try{fe(Re)}catch(Te){H=H??[],Te instanceof k?H=[...H,...Te.errors]:H.push(Te)}}if(H)throw new k(H)}}add(H){var $;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof le){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ae.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,ae.P)($,H),H instanceof le&&H._removeParent(this)}}le.EMPTY=(()=>{const pe=new le;return pe.closed=!0,pe})();const he=le.EMPTY;function ce(pe){return pe instanceof le||pe&&"closed"in pe&&(0,l.m)(pe.remove)&&(0,l.m)(pe.add)&&(0,l.m)(pe.unsubscribe)}function fe(pe){(0,l.m)(pe)?pe():pe.unsubscribe()}},2416:(mt,Ce,F)=>{F.d(Ce,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ce,F)=>{F.d(Ce,{E:()=>te});const te=new(F(9751).y)(le=>le.complete())},8996:(mt,Ce,F)=>{F.d(Ce,{D:()=>be});var l=F(8421),te=F(5363),k=F(9468),he=F(9751),fe=F(2202),pe=F(576),H=F(9672);function Q(De,ze){if(!De)throw new Error("Iterable cannot be null");return new he.y(Ze=>{(0,H.f)(Ze,ze,()=>{const j=De[Symbol.asyncIterator]();(0,H.f)(Ze,ze,()=>{j.next().then(_e=>{_e.done?Ze.complete():Ze.next(_e.value)})},0,!0)})})}var He=F(3670),Re=F(8239),Te=F(1144),lt=F(6495),ye=F(2206),ge=F(4532),it=F(3260);function be(De,ze){return ze?function Me(De,ze){if(null!=De){if((0,He.c)(De))return function ae(De,ze){return(0,l.Xf)(De).pipe((0,k.R)(ze),(0,te.Q)(ze))}(De,ze);if((0,Te.z)(De))return function ce(De,ze){return new he.y(Ze=>{let j=0;return ze.schedule(function(){j===De.length?Ze.complete():(Ze.next(De[j++]),Ze.closed||this.schedule())})})}(De,ze);if((0,Re.t)(De))return function le(De,ze){return(0,l.Xf)(De).pipe((0,k.R)(ze),(0,te.Q)(ze))}(De,ze);if((0,ye.D)(De))return Q(De,ze);if((0,lt.T)(De))return function $(De,ze){return new he.y(Ze=>{let j;return(0,H.f)(Ze,ze,()=>{j=De[fe.h](),(0,H.f)(Ze,ze,()=>{let _e,W;try{({value:_e,done:W}=j.next())}catch(ee){return void Ze.error(ee)}W?Ze.complete():Ze.next(_e)},0,!0)}),()=>(0,pe.m)(j?.return)&&j.return()})}(De,ze);if((0,it.L)(De))return function ft(De,ze){return Q((0,it.Q)(De),ze)}(De,ze)}throw(0,ge.z)(De)}(De,ze):(0,l.Xf)(De)}},8421:(mt,Ce,F)=>{F.d(Ce,{Xf:()=>He});var l=F(655),te=F(1144),k=F(8239),ae=F(9751),le=F(3670),he=F(2206),ce=F(4532),fe=F(6495),pe=F(3260),H=F(576),$=F(7849),Q=F(8822);function He(Me){if(Me instanceof ae.y)return Me;if(null!=Me){if((0,le.c)(Me))return function Re(Me){return new ae.y(be=>{const De=Me[Q.L]();if((0,H.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,te.z)(Me))return function Te(Me){return new ae.y(be=>{for(let De=0;De<Me.length&&!be.closed;De++)be.next(Me[De]);be.complete()})}(Me);if((0,k.t)(Me))return function lt(Me){return new ae.y(be=>{Me.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,$.h)})}(Me);if((0,he.D)(Me))return ge(Me);if((0,fe.T)(Me))return function ye(Me){return new ae.y(be=>{for(const De of Me)if(be.next(De),be.closed)return;be.complete()})}(Me);if((0,pe.L)(Me))return function it(Me){return ge((0,pe.Q)(Me))}(Me)}throw(0,ce.z)(Me)}function ge(Me){return new ae.y(be=>{(function ft(Me,be){var De,ze,Ze,j;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Me);!(ze=yield De.next()).done;)if(be.next(ze.value),be.closed)return}catch(_e){Ze={error:_e}}finally{try{ze&&!ze.done&&(j=De.return)&&(yield j.call(De))}finally{if(Ze)throw Ze.error}}be.complete()})})(Me,be).catch(De=>be.error(De))})}},6451:(mt,Ce,F)=>{F.d(Ce,{T:()=>he});var l=F(8189),te=F(8421),k=F(515),ae=F(3269),le=F(8996);function he(...ce){const fe=(0,ae.yG)(ce),pe=(0,ae._6)(ce,1/0),H=ce;return H.length?1===H.length?(0,te.Xf)(H[0]):(0,l.J)(pe)((0,le.D)(H,fe)):k.E}},5403:(mt,Ce,F)=>{F.d(Ce,{x:()=>te});var l=F(930);function te(ae,le,he,ce,fe){return new k(ae,le,he,ce,fe)}class k extends l.Lv{constructor(le,he,ce,fe,pe,H){super(le),this.onFinalize=pe,this.shouldUnsubscribe=H,this._next=he?function($){try{he($)}catch(Q){le.error(Q)}}:super._next,this._error=fe?function($){try{fe($)}catch(Q){le.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch($){le.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(mt,Ce,F)=>{F.d(Ce,{U:()=>k});var l=F(4482),te=F(5403);function k(ae,le){return(0,l.e)((he,ce)=>{let fe=0;he.subscribe((0,te.x)(ce,pe=>{ce.next(ae.call(le,pe,fe++))}))})}},8189:(mt,Ce,F)=>{F.d(Ce,{J:()=>k});var l=F(5577),te=F(4671);function k(ae=1/0){return(0,l.z)(te.y,ae)}},5577:(mt,Ce,F)=>{F.d(Ce,{z:()=>fe});var l=F(4004),te=F(8421),k=F(4482),ae=F(9672),le=F(5403),ce=F(576);function fe(pe,H,$=1/0){return(0,ce.m)(H)?fe((Q,He)=>(0,l.U)((Re,Te)=>H(Q,Re,He,Te))((0,te.Xf)(pe(Q,He))),$):("number"==typeof H&&($=H),(0,k.e)((Q,He)=>function he(pe,H,$,Q,He,Re,Te,lt){const ye=[];let ge=0,it=0,ft=!1;const Me=()=>{ft&&!ye.length&&!ge&&H.complete()},be=ze=>ge<Q?De(ze):ye.push(ze),De=ze=>{Re&&H.next(ze),ge++;let Ze=!1;(0,te.Xf)($(ze,it++)).subscribe((0,le.x)(H,j=>{He?.(j),Re?be(j):H.next(j)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ge--;ye.length&&ge<Q;){const j=ye.shift();Te?(0,ae.f)(H,Te,()=>De(j)):De(j)}Me()}catch(j){H.error(j)}}))};return pe.subscribe((0,le.x)(H,be,()=>{ft=!0,Me()})),()=>{lt?.()}}(Q,He,pe,$)))}},5363:(mt,Ce,F)=>{F.d(Ce,{Q:()=>ae});var l=F(9672),te=F(4482),k=F(5403);function ae(le,he=0){return(0,te.e)((ce,fe)=>{ce.subscribe((0,k.x)(fe,pe=>(0,l.f)(fe,le,()=>fe.next(pe),he),()=>(0,l.f)(fe,le,()=>fe.complete(),he),pe=>(0,l.f)(fe,le,()=>fe.error(pe),he)))})}},3099:(mt,Ce,F)=>{F.d(Ce,{B:()=>le});var l=F(8421),te=F(7579),k=F(930),ae=F(4482);function le(ce={}){const{connector:fe=(()=>new te.x),resetOnError:pe=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=ce;return Q=>{let He,Re,Te,lt=0,ye=!1,ge=!1;const it=()=>{Re?.unsubscribe(),Re=void 0},ft=()=>{it(),He=Te=void 0,ye=ge=!1},Me=()=>{const be=He;ft(),be?.unsubscribe()};return(0,ae.e)((be,De)=>{lt++,!ge&&!ye&&it();const ze=Te=Te??fe();De.add(()=>{lt--,0===lt&&!ge&&!ye&&(Re=he(Me,$))}),ze.subscribe(De),!He&&lt>0&&(He=new k.Hp({next:Ze=>ze.next(Ze),error:Ze=>{ge=!0,it(),Re=he(ft,pe,Ze),ze.error(Ze)},complete:()=>{ye=!0,it(),Re=he(ft,H),ze.complete()}}),(0,l.Xf)(be).subscribe(He))})(Q)}}function he(ce,fe,...pe){if(!0===fe)return void ce();if(!1===fe)return;const H=new k.Hp({next:()=>{H.unsubscribe(),ce()}});return fe(...pe).subscribe(H)}},9468:(mt,Ce,F)=>{F.d(Ce,{R:()=>te});var l=F(4482);function te(k,ae=0){return(0,l.e)((le,he)=>{he.add(k.schedule(()=>le.subscribe(he),ae))})}},8505:(mt,Ce,F)=>{F.d(Ce,{b:()=>le});var l=F(576),te=F(4482),k=F(5403),ae=F(4671);function le(he,ce,fe){const pe=(0,l.m)(he)||ce||fe?{next:he,error:ce,complete:fe}:he;return pe?(0,te.e)((H,$)=>{var Q;null===(Q=pe.subscribe)||void 0===Q||Q.call(pe);let He=!0;H.subscribe((0,k.x)($,Re=>{var Te;null===(Te=pe.next)||void 0===Te||Te.call(pe,Re),$.next(Re)},()=>{var Re;He=!1,null===(Re=pe.complete)||void 0===Re||Re.call(pe),$.complete()},Re=>{var Te;He=!1,null===(Te=pe.error)||void 0===Te||Te.call(pe,Re),$.error(Re)},()=>{var Re,Te;He&&(null===(Re=pe.unsubscribe)||void 0===Re||Re.call(pe)),null===(Te=pe.finalize)||void 0===Te||Te.call(pe)}))}):ae.y}},4408:(mt,Ce,F)=>{F.d(Ce,{o:()=>le});var l=F(727);class te extends l.w0{constructor(ce,fe){super()}schedule(ce,fe=0){return this}}const k={setInterval(he,ce,...fe){const{delegate:pe}=k;return pe?.setInterval?pe.setInterval(he,ce,...fe):setInterval(he,ce,...fe)},clearInterval(he){const{delegate:ce}=k;return(ce?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=F(8737);class le extends te{constructor(ce,fe){super(ce,fe),this.scheduler=ce,this.work=fe,this.pending=!1}schedule(ce,fe=0){var pe;if(this.closed)return this;this.state=ce;const H=this.id,$=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId($,H,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId($,this.id,fe),this}requestAsyncId(ce,fe,pe=0){return k.setInterval(ce.flush.bind(ce,this),pe)}recycleAsyncId(ce,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&k.clearInterval(fe)}execute(ce,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ce,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,fe){let H,pe=!1;try{this.work(ce)}catch($){pe=!0,H=$||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ce,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(pe,this),null!=ce&&(this.id=this.recycleAsyncId(fe,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Ce,F)=>{F.d(Ce,{v:()=>k});var l=F(6063);class te{constructor(le,he=te.now){this.schedulerActionCtor=le,this.now=he}schedule(le,he=0,ce){return new this.schedulerActionCtor(this,le).schedule(ce,he)}}te.now=l.l.now;class k extends te{constructor(le,he=te.now){super(le,he),this.actions=[],this._active=!1}flush(le){const{actions:he}=this;if(this._active)return void he.push(le);let ce;this._active=!0;do{if(ce=le.execute(le.state,le.delay))break}while(le=he.shift());if(this._active=!1,ce){for(;le=he.shift();)le.unsubscribe();throw ce}}}},4986:(mt,Ce,F)=>{F.d(Ce,{P:()=>ae,z:()=>k});var l=F(4408);const k=new(F(7565).v)(l.o),ae=k},6063:(mt,Ce,F)=>{F.d(Ce,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(mt,Ce,F)=>{F.d(Ce,{z:()=>l});const l={setTimeout(te,k,...ae){const{delegate:le}=l;return le?.setTimeout?le.setTimeout(te,k,...ae):setTimeout(te,k,...ae)},clearTimeout(te){const{delegate:k}=l;return(k?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(mt,Ce,F)=>{F.d(Ce,{h:()=>te});const te=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ce,F)=>{F.d(Ce,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ce,F)=>{F.d(Ce,{_6:()=>he,jO:()=>ae,yG:()=>le});var l=F(576),te=F(3532);function k(ce){return ce[ce.length-1]}function ae(ce){return(0,l.m)(k(ce))?ce.pop():void 0}function le(ce){return(0,te.K)(k(ce))?ce.pop():void 0}function he(ce,fe){return"number"==typeof k(ce)?ce.pop():fe}},8737:(mt,Ce,F)=>{function l(te,k){if(te){const ae=te.indexOf(k);0<=ae&&te.splice(ae,1)}}F.d(Ce,{P:()=>l})},3888:(mt,Ce,F)=>{function l(te){const ae=te(le=>{Error.call(le),le.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Ce,{d:()=>l})},2806:(mt,Ce,F)=>{F.d(Ce,{O:()=>ae,x:()=>k});var l=F(2416);let te=null;function k(le){if(l.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),le(),he){const{errorThrown:ce,error:fe}=te;if(te=null,ce)throw fe}}else le()}function ae(le){l.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=le)}},9672:(mt,Ce,F)=>{function l(te,k,ae,le=0,he=!1){const ce=k.schedule(function(){ae(),he?te.add(this.schedule(null,le)):this.unsubscribe()},le);if(te.add(ce),!he)return ce}F.d(Ce,{f:()=>l})},4671:(mt,Ce,F)=>{function l(te){return te}F.d(Ce,{y:()=>l})},1144:(mt,Ce,F)=>{F.d(Ce,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(mt,Ce,F)=>{F.d(Ce,{D:()=>te});var l=F(576);function te(k){return Symbol.asyncIterator&&(0,l.m)(k?.[Symbol.asyncIterator])}},576:(mt,Ce,F)=>{function l(te){return"function"==typeof te}F.d(Ce,{m:()=>l})},3670:(mt,Ce,F)=>{F.d(Ce,{c:()=>k});var l=F(8822),te=F(576);function k(ae){return(0,te.m)(ae[l.L])}},6495:(mt,Ce,F)=>{F.d(Ce,{T:()=>k});var l=F(2202),te=F(576);function k(ae){return(0,te.m)(ae?.[l.h])}},8239:(mt,Ce,F)=>{F.d(Ce,{t:()=>te});var l=F(576);function te(k){return(0,l.m)(k?.then)}},3260:(mt,Ce,F)=>{F.d(Ce,{L:()=>ae,Q:()=>k});var l=F(655),te=F(576);function k(le){return(0,l.FC)(this,arguments,function*(){const ce=le.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,l.qq)(ce.read());if(pe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{ce.releaseLock()}})}function ae(le){return(0,te.m)(le?.getReader)}},3532:(mt,Ce,F)=>{F.d(Ce,{K:()=>te});var l=F(576);function te(k){return k&&(0,l.m)(k.schedule)}},4482:(mt,Ce,F)=>{F.d(Ce,{A:()=>te,e:()=>k});var l=F(576);function te(ae){return(0,l.m)(ae?.lift)}function k(ae){return le=>{if(te(le))return le.lift(function(he){try{return ae(he,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ce,F)=>{function l(){}F.d(Ce,{Z:()=>l})},9635:(mt,Ce,F)=>{F.d(Ce,{U:()=>k,z:()=>te});var l=F(4671);function te(...ae){return k(ae)}function k(ae){return 0===ae.length?l.y:1===ae.length?ae[0]:function(he){return ae.reduce((ce,fe)=>fe(ce),he)}}},7849:(mt,Ce,F)=>{F.d(Ce,{h:()=>k});var l=F(2416),te=F(3410);function k(ae){te.z.setTimeout(()=>{const{onUnhandledError:le}=l.v;if(!le)throw ae;le(ae)})}},4532:(mt,Ce,F)=>{function l(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>l})},655:(mt,Ce,F)=>{function ae(W,ee){var se={};for(var re in W)Object.prototype.hasOwnProperty.call(W,re)&&ee.indexOf(re)<0&&(se[re]=W[re]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(re=Object.getOwnPropertySymbols(W);Be<re.length;Be++)ee.indexOf(re[Be])<0&&Object.prototype.propertyIsEnumerable.call(W,re[Be])&&(se[re[Be]]=W[re[Be]])}return se}function fe(W,ee,se,re){return new(se||(se=Promise))(function(Ve,wt){function rn(gn){try{Xe(re.next(gn))}catch(Cn){wt(Cn)}}function qt(gn){try{Xe(re.throw(gn))}catch(Cn){wt(Cn)}}function Xe(gn){gn.done?Ve(gn.value):function Be(Ve){return Ve instanceof se?Ve:new se(function(wt){wt(Ve)})}(gn.value).then(rn,qt)}Xe((re=re.apply(W,ee||[])).next())})}function ye(W){return this instanceof ye?(this.v=W,this):new ye(W)}function ge(W,ee,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,re=se.apply(W,ee||[]),Ve=[];return Be={},wt("next"),wt("throw"),wt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function wt(en){re[en]&&(Be[en]=function(sn){return new Promise(function(qr,Ut){Ve.push([en,sn,qr,Ut])>1||rn(en,sn)})})}function rn(en,sn){try{!function qt(en){en.value instanceof ye?Promise.resolve(en.value.v).then(Xe,gn):Cn(Ve[0][2],en)}(re[en](sn))}catch(qr){Cn(Ve[0][3],qr)}}function Xe(en){rn("next",en)}function gn(en){rn("throw",en)}function Cn(en,sn){en(sn),Ve.shift(),Ve.length&&rn(Ve[0][0],Ve[0][1])}}function ft(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,ee=W[Symbol.asyncIterator];return ee?ee.call(W):(W=function Q(W){var ee="function"==typeof Symbol&&Symbol.iterator,se=ee&&W[ee],re=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&re>=W.length&&(W=void 0),{value:W&&W[re++],done:!W}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},re("next"),re("throw"),re("return"),se[Symbol.asyncIterator]=function(){return this},se);function re(Ve){se[Ve]=W[Ve]&&function(wt){return new Promise(function(rn,qt){!function Be(Ve,wt,rn,qt){Promise.resolve(qt).then(function(Xe){Ve({value:Xe,done:rn})},wt)}(rn,qt,(wt=W[Ve](wt)).done,wt.value)})}}}F.d(Ce,{FC:()=>ge,KL:()=>ft,_T:()=>ae,mG:()=>fe,qq:()=>ye})},4650:(mt,Ce,F)=>{F.d(Ce,{$8M:()=>Cc,$Z:()=>AT,AFp:()=>U1,AaK:()=>fe,BQk:()=>Dr,CHM:()=>ac,CRH:()=>Eg,CZH:()=>fy,CqO:()=>uE,D6c:()=>GS,EJc:()=>B1,EiD:()=>Rc,EpF:()=>zp,F$t:()=>pE,F4k:()=>cE,FYo:()=>N,FiY:()=>Fe,G48:()=>xd,Gf:()=>Dd,GfV:()=>$e,Gpc:()=>$,Hsn:()=>Wp,Ikx:()=>ug,JOm:()=>Da,JVY:()=>op,KtG:()=>lc,L6k:()=>sv,LAX:()=>av,LFG:()=>Kt,LMc:()=>KS,LSH:()=>mh,Lbi:()=>Sb,Lck:()=>c1,MAs:()=>lE,MGl:()=>Wh,MMx:()=>K_,NdJ:()=>R_,OlP:()=>En,Oqu:()=>zo,PXZ:()=>xS,Q6J:()=>O_,QGY:()=>Zp,QP$:()=>tn,QbO:()=>La,Qsj:()=>M,QtT:()=>us,R0b:()=>_i,RDi:()=>Im,Rgc:()=>yg,SBq:()=>p,SDv:()=>df,Sil:()=>Sg,Suo:()=>Pi,TTD:()=>ws,TgZ:()=>Gp,Tol:()=>x0,Udp:()=>Xp,VKq:()=>pf,W1O:()=>fb,WLB:()=>lb,X6Q:()=>Od,XFs:()=>et,Xpm:()=>Ae,Xts:()=>up,Y36:()=>jc,YKP:()=>Jc,YNc:()=>v0,Yjl:()=>we,Yz7:()=>sn,Z0I:()=>ys,ZZ4:()=>Iy,_Bn:()=>Pl,_UZ:()=>qp,_Vd:()=>Dl,_c5:()=>HS,_uU:()=>Wc,aQg:()=>au,c2e:()=>Nb,cJS:()=>Ut,cg1:()=>B0,d8E:()=>V_,dDg:()=>G1,dqk:()=>fn,eBb:()=>ov,eFA:()=>Ub,ekj:()=>eg,eoX:()=>q1,f3M:()=>I,g9A:()=>jr,h0i:()=>hf,hGG:()=>$S,hij:()=>gd,iGM:()=>ly,ifc:()=>_t,ip1:()=>L1,jDz:()=>sb,kEZ:()=>kl,kL8:()=>UE,lG2:()=>K,lqb:()=>Vr,lri:()=>kb,mCW:()=>Oc,n5z:()=>Ss,oAB:()=>jt,oJD:()=>ed,oxw:()=>k_,pB0:()=>ph,pQV:()=>q_,q3G:()=>qn,q4F:()=>rt,qLn:()=>mp,qOj:()=>d0,qZA:()=>M_,qzn:()=>jo,rWj:()=>Ag,s9C:()=>Kp,sBO:()=>jb,sIi:()=>Vp,s_b:()=>wg,soG:()=>ru,tb:()=>Ab,tp0:()=>Ct,uIk:()=>jp,vHH:()=>Te,vpe:()=>Pa,wAp:()=>St,xp6:()=>ET,ynx:()=>Zh,z2F:()=>Jo,z3N:()=>qi,zSh:()=>kc,zs3:()=>Bc});var l=F(7579),te=F(727),k=F(9751),ae=F(6451),le=F(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ce(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=he({__forward_ref__:he});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function Q(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===$}class Te extends Error{constructor(o,c){super(function lt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new Te(-201,!1)}function Xe(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ut(s){return{providers:s.providers||[],imports:s.imports||[]}}function yn(s){return ki(s,Fi)||ki(s,Ei)}function ys(s){return null!==yn(s)}function ki(s,o){return s.hasOwnProperty(o)?s[o]:null}function mo(s){return s&&(s.hasOwnProperty(Ti)||s.hasOwnProperty(Ga))?s[Ti]:null}const Fi=he({\u0275prov:he}),Ti=he({\u0275inj:he}),Ei=he({ngInjectableDef:he}),Ga=he({ngInjectorDef:he});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let Lr;function lr(s){const o=Lr;return Lr=s,o}function Di(s,o,c){const d=yn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&et.Optional?null:void 0!==o?o:void be(fe(s))}function Kn(s){return{toString:s}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),_t=(()=>{return(s=_t||(_t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_t;var s})();const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},Pt=[],$s=he({\u0275cmp:he}),ln=he({\u0275dir:he}),Ji=he({\u0275pipe:he}),cn=he({\u0275mod:he}),cr=he({\u0275fac:he}),Zr=he({__NG_ELEMENT_ID__:he});let ot=0;function Ae(s){return Kn(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Pt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,id:"c"+ot++,styles:s.styles||Pt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return f.inputs=B(s.inputs,d),f.outputs=B(s.outputs),v&&v.forEach(T=>T(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(At).filter(It):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(yt).filter(It):null,f})}function At(s){return X(s)||Ye(s)}function It(s){return null!==s}function jt(s){return Kn(()=>({type:s.type,bootstrap:s.bootstrap||Pt,declarations:s.declarations||Pt,imports:s.imports||Pt,exports:s.exports||Pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function B(s,o){if(null==s)return ni;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,o&&(o[f]=g)}return c}const K=Ae;function we(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function X(s){return s[$s]||null}function Ye(s){return s[ln]||null}function yt(s){return s[Ji]||null}function tn(s){const o=X(s)||Ye(s)||yt(s);return null!==o&&o.standalone}function wn(s,o){const c=s[cn]||null;if(!c&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return c}function br(s){return Array.isArray(s)&&"object"==typeof s[1]}function Wr(s){return Array.isArray(s)&&!0===s[1]}function Yl(s){return 0!=(8&s.flags)}function za(s){return 2==(2&s.flags)}function Cu(s){return 1==(1&s.flags)}function Ur(s){return null!==s.template}function $f(s){return 0!=(256&s[2])}function es(s,o){return s.hasOwnProperty(cr)?s[cr]:null}class bs{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ws(){return wo}function wo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Jl),Za}function Za(){const s=zf(this),o=s?.current;if(o){const c=s.previous;if(c===ni)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Jl(s,o,c,d){const f=zf(s)||function hr(s,o){return s[Nu]=o}(s,{previous:ni,current:null}),g=f.current||(f.current={}),v=f.previous,T=this.declaredInputs[c],D=v[T];g[T]=new bs(D&&D.currentValue,o,v===ni),s[d]=o}ws.ngInherit=!0;const Nu="__ngSimpleChanges__";function zf(s){return s[Nu]||null}function Bn(s){for(;Array.isArray(s);)s=s[0];return s}function Ci(s,o){return Bn(o[s])}function Kr(s,o){return Bn(o[s.index])}function aa(s,o){return s.data[o]}function Xt(s,o){const c=o[s];return br(c)?c:c[0]}function To(s){return 64==(64&s[2])}function Vi(s,o){return null==o?null:s[o]}function rc(s){s[18]=0}function Ln(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ot={lFrame:Bu(null),bindingsEnabled:!0};function Ds(){return Ot.bindingsEnabled}function Ne(){return Ot.lFrame.lView}function Wt(){return Ot.lFrame.tView}function ac(s){return Ot.lFrame.contextLView=s,s[8]}function lc(s){return Ot.lFrame.contextLView=null,s}function jn(){let s=cc();for(;null!==s&&64===s.type;)s=s.parent;return s}function cc(){return Ot.lFrame.currentTNode}function la(){const s=Ot.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Si(s,o){const c=Ot.lFrame;c.currentTNode=s,c.isParent=o}function Ka(){return Ot.lFrame.isParent}function Ya(){Ot.lFrame.isParent=!1}function Hn(){const s=Ot.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Eo(){return Ot.lFrame.bindingIndex++}function Is(s){const o=Ot.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Ja(s){Ot.lFrame.inI18n=s}function gm(s,o){const c=Ot.lFrame;c.bindingIndex=c.bindingRootIndex=s,uc(o)}function uc(s){Ot.lFrame.currentDirectiveIndex=s}function Xa(s){const o=Ot.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Lu(){return Ot.lFrame.currentQueryIndex}function el(s){Ot.lFrame.currentQueryIndex=s}function Uu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function dc(s,o,c){if(c&et.SkipSelf){let f=o,g=s;for(;!(f=f.parent,null!==f||c&et.Host||(f=Uu(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;o=f,s=g}const d=Ot.lFrame=Vu();return d.currentTNode=o,d.lView=s,!0}function hc(s){const o=Vu(),c=s[1];Ot.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Vu(){const s=Ot.lFrame,o=null===s?null:s.child;return null===o?Bu(s):o}function Bu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ju(){const s=Ot.lFrame;return Ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xd=ju;function Do(){const s=ju();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function fr(){return Ot.lFrame.selectedIndex}function si(s){Ot.lFrame.selectedIndex=s}function An(){const s=Ot.lFrame;return aa(s.tView,s.selectedIndex)}function gc(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),T&&((s.contentHooks||(s.contentHooks=[])).push(c,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,T)),D&&(s.viewHooks||(s.viewHooks=[])).push(-c,D),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(c,x)}}function Co(s,o,c){ua(s,o,3,c)}function ca(s,o,c,d){(3&s[2])===c&&ua(s,o,c,d)}function nh(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function ua(s,o,c,d){const g=d??-1,v=o.length-1;let T=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(T=o[D],null!=d&&T>=d)break}else o[D]<0&&(s[18]+=65536),(T<g||-1==g)&&(rh(s,c,o,D),s[18]=(4294901760&s[18])+D+2),D++}function rh(s,o,c,d){const f=c[d]<0,g=c[d+1],T=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class Qs{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function da(s,o,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],T=c[d++];s.setAttribute(o,v,T,g)}else{const g=f,v=c[++d];vc(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function No(s){return 3===s||4===s||6===s}function vc(s){return 64===s.charCodeAt(0)}function tl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||sh(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function sh(s,o,c,d,f){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const T=s[g++];if("number"==typeof T){if(T===o){v=-1;break}if(T>o){v=g-1;break}}}for(;g<s.length;){const T=s[g];if("number"==typeof T)break;if(T===c){if(null===d)return void(null!==f&&(s[g+1]=f));if(d===s[g+1])return void(s[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==f&&s.splice(g++,0,f)}function oh(s){return-1!==s}function wr(s){return 32767&s}function rl(s,o){let c=function nl(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let ns=!0;function il(s){const o=ns;return ns=s,o}let Yn=0;const Bi={};function Oo(s,o){const c=wc(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ol(d.data,s),ol(o,null),ol(d.blueprint,null));const f=Tc(s,o),g=s.injectorIndex;if(oh(f)){const v=wr(f),T=rl(f,o),D=T[1].data;for(let A=0;A<8;A++)o[g+A]=T[v+A]|D[v+A]}return o[g+8]=f,g}function ol(s,o){s.push(0,0,0,0,0,0,0,0,o)}function wc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Tc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){if(d=pa(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Js(s,o,c){!function bc(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Zr)&&(d=c[Zr]),null==d&&(d=c[Zr]=Yn++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function Xs(s,o,c){if(c&et.Optional||void 0!==s)return s;be()}function Ec(s,o,c,d){if(c&et.Optional&&void 0===d&&(d=null),0==(c&(et.Self|et.Host))){const f=s[9],g=lr(void 0);try{return f?f.get(o,d,c&et.Optional):Di(o,d,c&et.Optional)}finally{lr(g)}}return Xs(d,0,c)}function xo(s,o,c,d=et.Default,f){if(null!==s){if(1024&o[2]){const v=function fa(s,o,c,d,f){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const T=al(g,v,c,d|et.Self,Bi);if(T!==Bi)return T;let D=g.parent;if(!D){const A=v[21];if(A){const x=A.get(c,Bi,d);if(x!==Bi)return x}D=pa(v),v=v[15]}g=D}return f}(s,o,c,d,Bi);if(v!==Bi)return v}const g=al(s,o,c,d,Bi);if(g!==Bi)return g}return Ec(o,c,d,f)}function al(s,o,c,d,f){const g=function qu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Zr)?s[Zr]:void 0;return"number"==typeof o?o>=0?255&o:zu:o}(c);if("function"==typeof g){if(!dc(o,s,d))return d&et.Host?Xs(f,0,d):Ec(o,c,d,f);try{const v=g(d);if(null!=v||d&et.Optional)return v;be()}finally{Xd()}}else if("number"==typeof g){let v=null,T=wc(s,o),D=-1,A=d&et.Host?o[16][6]:null;for((-1===T||d&et.SkipSelf)&&(D=-1===T?Tc(s,o):o[T+8],-1!==D&&ll(d,!1)?(v=o[1],T=wr(D),o=rl(D,o)):T=-1);-1!==T;){const x=o[1];if(Dc(g,T,x.data)){const L=ch(T,o,c,v,d,A);if(L!==Bi)return L}D=o[T+8],-1!==D&&ll(d,o[1].data[T+8]===A)&&Dc(g,T,o)?(v=x,T=wr(D),o=rl(D,o)):T=-1}}return f}function ch(s,o,c,d,f,g){const v=o[1],T=v.data[s+8],x=ha(T,v,c,null==d?za(T)&&ns:d!=v&&0!=(3&T.type),f&et.Host&&g===T);return null!==x?Cs(o,v,x,T):Bi}function ha(s,o,c,d,f){const g=s.providerIndexes,v=o.data,T=1048575&g,D=s.directiveStart,x=g>>20,q=f?T+x:s.directiveEnd;for(let ne=d?T:T+x;ne<q;ne++){const ve=v[ne];if(ne<D&&c===ve||ne>=D&&ve.type===c)return ne}if(f){const ne=v[D];if(ne&&Ur(ne)&&ne.type===c)return D}return null}function Cs(s,o,c,d){let f=s[c];const g=o.data;if(function So(s){return s instanceof Qs}(f)){const v=f;v.resolving&&function it(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(g[c]));const T=il(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?lr(v.injectImpl):null;dc(s,d,et.Default);try{f=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function th(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=o.type.prototype;if(d){const v=wo(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==D&&lr(D),il(T),v.resolving=!1,Xd()}}return f}function Dc(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function ll(s,o){return!(s&et.Self||s&et.Host&&o)}class Mo{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return xo(this._tNode,this._lView,o,d,c)}}function zu(){return new Mo(jn(),Ne())}function Ss(s){return Kn(()=>{const o=s.prototype.constructor,c=o[cr]||Ic(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const g=f[cr]||Ic(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Ic(s){return He(s)?()=>{const o=Ic(Q(s));return o&&o()}:es(s)}function pa(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Cc(s){return function lh(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(No(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===o)return c[f+1];f+=2}}}return null}(jn(),s)}const eo="__parameters__";function _a(s,o,c){return Kn(()=>{const d=function Sc(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return T.annotation=v,T;function T(D,A,x){const L=D.hasOwnProperty(eo)?D[eo]:Object.defineProperty(D,eo,{value:[]})[eo];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(v),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class En{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function un(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),un(d,o)):o!==s&&o.push(d)}return o}function ji(s,o){s.forEach(c=>Array.isArray(c)?ji(c,o):o(c))}function dl(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Gn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function to(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function nt(s,o,c){let d=no(s,o);return d>=0?s[1|d]=c:(d=~d,function Zu(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function fl(s,o){const c=no(s,o);if(c>=0)return s[1|c]}function no(s,o){return function va(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?f=g:d=g+1}return~(f<<c)}(s,o,1)}const Hi={},Yu="__NG_DI_FLAG__",li="ngTempTokenPath",$i=/\n/gm,Qn="__source";let io;function Ns(s){const o=io;return io=s,o}function Nn(s,o=et.Default){if(void 0===io)throw new Te(-203,!1);return null===io?Di(s,void 0,o):io.get(s,o&et.Optional?null:void 0,o)}function Kt(s,o=et.Default){return(function Hs(){return Lr}()||Nn)(Q(s),o)}function I(s,o=et.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Kt(s,o)}function C(s){const o=[];for(let c=0;c<s.length;c++){const d=Q(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let f,g=et.Default;for(let v=0;v<d.length;v++){const T=d[v],D=U(T);"number"==typeof D?-1===D?f=T.token:g|=D:f=T}o.push(Kt(f,g))}else o.push(Kt(d))}return o}function O(s,o){return s[Yu]=o,s.prototype[Yu]=o,s}function U(s){return s[Yu]}const Fe=O(_a("Optional"),8),Ct=O(_a("SkipSelf"),4);let rp,gl,Qu;function Im(s){rp=s}function Cm(){return void 0!==rp?rp:typeof document<"u"?document:void 0}function Uo(s){return function uh(){if(void 0===gl&&(gl=null,fn.trustedTypes))try{gl=fn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return gl}()?.createHTML(s)||s}function Sm(s){return function Vo(){if(void 0===Qu&&(Qu=null,fn.trustedTypes))try{Qu=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Qu}()?.createHTML(s)||s}class Bo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fh extends Bo{getTypeName(){return"HTML"}}class _l extends Bo{getTypeName(){return"Style"}}class Am extends Bo{getTypeName(){return"Script"}}class Ju extends Bo{getTypeName(){return"URL"}}class iv extends Bo{getTypeName(){return"ResourceURL"}}function qi(s){return s instanceof Bo?s.changingThisBreaksApplicationSecurity:s}function jo(s,o){const c=function sp(s){return s instanceof Bo&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function op(s){return new fh(s)}function sv(s){return new _l(s)}function ov(s){return new Am(s)}function av(s){return new Ju(s)}function ph(s){return new iv(s)}function Nm(s){const o=new lv(s);return function Gw(){try{return!!(new window.DOMParser).parseFromString(Uo(""),"text/html")}catch{return!1}}()?new Om(o):o}class Om{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Uo(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class lv{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Uo(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Uo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const yl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Oc(s){return(s=String(s)).match(yl)?s:"unsafe:"+s}function as(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function vl(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const wa=as("area,br,col,hr,img,wbr"),xc=as("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cv=as("rp,rt"),bl=vl(wa,vl(xc,as("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vl(cv,as("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vl(cv,xc)),Ho=as("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ap=vl(Ho,as("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),as("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mm=as("script,style,template");class Mc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!bl.hasOwnProperty(c))return this.sanitizedSomething=!0,!Mm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,T=v.toLowerCase();if(!ap.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let D=g.value;Ho[T]&&(D=Oc(D)),this.buf.push(" ",v,'="',cp(D),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();bl.hasOwnProperty(c)&&!wa.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(cp(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Rm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lp=/([^\#-~ |!])/g;function cp(s){return s.replace(/&/g,"&amp;").replace(Rm,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(lp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gh;function Rc(s,o){let c=null;try{gh=gh||Nm(s);let d=o?String(o):"";c=gh.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=gh.getInertBodyElement(d)}while(d!==g);return Uo((new Mc).sanitizeChildren($o(c)||c))}finally{if(c){const d=$o(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function $o(s){return"content"in s&&function dv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function ed(s){const o=Pc();return o?Sm(o.sanitize(qn.HTML,s)||""):jo(s,"HTML")?Sm(qi(s)):Rc(Cm(),ye(s))}function mh(s){const o=Pc();return o?o.sanitize(qn.URL,s)||"":jo(s,"URL")?qi(s):Oc(ye(s))}function Pc(){const s=Ne();return s&&s[12]}const up=new En("ENVIRONMENT_INITIALIZER"),Fm=new En("INJECTOR",-1),Lm=new En("INJECTOR_DEF_TYPES");class Um{get(o,c=Hi){if(c===Hi){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return c}}function Vm(...s){return{\u0275providers:bh(0,s)}}function bh(s,...o){const c=[],d=new Set;let f;return ji(o,g=>{const v=g;td(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&wh(f,c),c}function wh(s,o){for(let c=0;c<s.length;c++){const{providers:f}=s[c];ji(f,g=>{o.push(g)})}}function td(s,o,c,d){if(!(s=Q(s)))return!1;let f=null,g=mo(s);const v=!g&&X(s);if(g||v){if(v&&!v.standalone)return!1;f=s}else{const D=s.ngModule;if(g=mo(D),!g)return!1;f=D}const T=d.has(f);if(v){if(T)return!1;if(d.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of D)td(A,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!T){let A;d.add(f);try{ji(g.imports,x=>{td(x,o,c,d)&&(A||(A=[]),A.push(x))})}finally{}void 0!==A&&wh(A,o)}if(!T){const A=es(f)||(()=>new f);o.push({provide:f,useFactory:A,deps:Pt},{provide:Lm,useValue:f,multi:!0},{provide:up,useValue:()=>Kt(f),multi:!0})}const D=g.providers;null==D||T||ji(D,x=>{o.push(x)})}}return f!==s&&void 0!==s.providers}const Th=he({provide:String,useValue:he});function nd(s){return null!==s&&"object"==typeof s&&Th in s}function zi(s){return"function"==typeof s}const kc=new En("Set Injector scope."),Fc={},Tl={};let rd;function Eh(){return void 0===rd&&(rd=new Um),rd}class Vr{}class Dh extends Vr{constructor(o,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ta(o,v=>this.processProvider(v)),this.records.set(Fm,Er(void 0,this)),f.has("environment")&&this.records.set(Vr,Er(void 0,this));const g=this.records.get(kc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Lm.multi,Pt,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Ns(this),d=lr(void 0);try{return o()}finally{Ns(c),lr(d)}}get(o,c=Hi,d=et.Default){this.assertNotDestroyed();const f=Ns(this),g=lr(void 0);try{if(!(d&et.SkipSelf)){let T=this.records.get(o);if(void 0===T){const D=function fv(s){return"function"==typeof s||"object"==typeof s&&s instanceof En}(o)&&yn(o);T=D&&this.injectableDefInScope(D)?Er(id(o),Fc):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(d&et.Self?Eh():this.parent).get(o,c=d&et.Optional&&c===Hi?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[li]=v[li]||[]).unshift(fe(o)),f)throw v;return function J(s,o,c,d){const f=s[li];throw o[Qn]&&f.unshift(o[Qn]),s.message=function ie(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=fe(o);if(Array.isArray(o))f=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let T=o[v];g.push(v+":"+("string"==typeof T?JSON.stringify(T):fe(T)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace($i,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[li]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{lr(g),Ns(f)}}resolveInjectorInitializers(){const o=Ns(this),c=lr(void 0);try{const d=this.get(up.multi,Pt,et.Self);for(const f of d)f()}finally{Ns(o),lr(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(o){let c=zi(o=Q(o))?o:Q(o&&o.provide);const d=function dp(s){return nd(s)?Er(void 0,s.useValue):Er(sd(s),Fc)}(o);if(zi(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Er(void 0,Fc,!0),f.factory=()=>C(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Fc&&(c.value=Tl,c.value=c.factory()),"object"==typeof c.value&&c.value&&function hp(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=Q(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function id(s){const o=yn(s),c=null!==o?o.factory:es(s);if(null!==c)return c;if(s instanceof En)throw new Te(204,!1);if(s instanceof Function)return function jm(s){const o=s.length;if(o>0)throw to(o,"?"),new Te(204,!1);const c=function zr(s){const o=s&&(s[Fi]||s[Ei]);if(o){const c=function ti(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Te(204,!1)}function sd(s,o,c){let d;if(zi(s)){const f=Q(s);return es(f)||id(f)}if(nd(s))d=()=>Q(s.useValue);else if(function Ni(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...C(s.deps||[]));else if(function Qr(s){return!(!s||!s.useExisting)}(s))d=()=>Kt(Q(s.useExisting));else{const f=Q(s&&(s.useClass||s.provide));if(!function El(s){return!!s.deps}(s))return es(f)||id(f);d=()=>new f(...C(s.deps))}return d}function Er(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Os(s){return!!s.\u0275providers}function Ta(s,o){for(const c of s)Array.isArray(c)?Ta(c,o):Os(c)?Ta(c.\u0275providers,o):o(c)}class Ih{}class Ah{resolveComponentFactory(o){throw function Hm(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Dl=(()=>{class s{}return s.NULL=new Ah,s})();function pv(){return y(jn(),Ne())}function y(s,o){return new p(Kr(s,o))}let p=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=pv,s})();function m(s){return s instanceof p?s.nativeElement:s}class N{}let M=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Z(){const s=Ne(),c=Xt(jn().index,s);return(br(c)?c:s)[11]}(),s})(),ue=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class $e{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const rt=new $e("14.2.6"),Dt={};function yv(s){return s.ngOriginalError}class mp{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&yv(o);for(;c&&yv(c);)c=yv(c);return c||null}}const SI=/^>|^->|<!--|-->|--!>|<!-$/g,XO=/(<|>)/;const vv=new Map;let xI=0;const Wm="__ngContext__";function Jr(s,o){br(o)?(s[Wm]=o[20],function RI(s){vv.set(s[20],s)}(o)):s[Wm]=o}function Sl(s){return s instanceof Function?s():s}var Da=(()=>((Da=Da||{})[Da.Important=1]="Important",Da[Da.DashCase=2]="DashCase",Da))();let Ev;function Dv(s,o){return Ev(s,o)}function Mh(s){const o=s[3];return Wr(o)?o[3]:o}function Qm(s){return sT(s[13])}function Jm(s){return sT(s[4])}function sT(s){for(;null!==s&&!Wr(s);)s=s[4];return s}function Rh(s,o,c,d,f){if(null!=d){let g,v=!1;Wr(d)?g=d:br(d)&&(v=!0,d=d[0]);const T=Bn(d);0===s&&null!==c?null==f?hT(o,c,T):Ia(o,c,T,f||null,!0):1===s&&null!==c?Ia(o,c,T,f||null,!0):2===s?ZI(o,T,v):3===s&&o.destroyNode(T),null!=g&&function sx(s,o,c,d,f){const g=c[7];g!==Bn(c)&&Rh(o,s,d,g,f);for(let T=10;T<c.length;T++){const D=c[T];ad(D[1],D,s,o,d,g)}}(o,s,g,c,f)}}function Cv(s,o){return s.createText(o)}function oT(s,o,c){s.setValue(o,c)}function $I(s,o){return s.createComment(function qm(s){return s.replace(SI,o=>o.replace(XO,"\u200b$1\u200b"))}(o))}function Xm(s,o,c){return s.createElement(o,c)}function cT(s,o){const c=s[9],d=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Ln(f,-1)),c.splice(d,1)}function Av(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&cT(f,d),o>0&&(s[c-1][4]=d[4]);const g=Gn(s,10+o);!function Sv(s,o){ad(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function vp(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&ad(s,o,c,3,null,null),function rx(s){let o=s[13];if(!o)return e_(s[1],s);for(;o;){let c=null;if(br(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)br(o)&&e_(o[1],o),o=o[3];null===o&&(o=s),br(o)&&e_(o[1],o),c=o&&o[4]}o=c}}(o)}}function e_(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Ov(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof Qs)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const T=f[g[v]],D=g[v+1];try{D.call(T)}finally{}}else try{g.call(f)}finally{}}}}(s,o),function Nv(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],T="function"==typeof v?v(o):Bn(o[v]),D=d[f=c[g+2]],A=c[g+3];"boolean"==typeof A?T.removeEventListener(c[g],D,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Wr(o[3])){c!==o[3]&&cT(c,o);const d=o[19];null!==d&&d.detachView(s)}!function PI(s){vv.delete(s[20])}(o)}}function uT(s,o,c){return dT(s,o.parent,c)}function dT(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===_t.None||f===_t.Emulated)return null}return Kr(d,c)}function Ia(s,o,c,d,f){s.insertBefore(o,c,d,f)}function hT(s,o,c){s.appendChild(o,c)}function fT(s,o,c,d,f){null!==d?Ia(s,o,c,d,f):hT(s,o,c)}function t_(s,o){return s.parentNode(o)}function gr(s,o,c){return xv(s,o,c)}function gT(s,o,c){return 40&s.type?Kr(s,c):null}let bp,xv=gT;function wp(s,o){xv=s,bp=o}function n_(s,o,c,d){const f=uT(s,d,o),g=o[11],T=gr(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)fT(g,f,c[D],T,!1);else fT(g,f,c,T,!1);void 0!==bp&&bp(g,d,o,c,f)}function r_(s,o){if(null!==o){const c=o.type;if(3&c)return Kr(o,s);if(4&c)return mT(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return r_(s,d);{const f=s[o.index];return Wr(f)?mT(-1,f):Bn(f)}}if(32&c)return Dv(o,s)()||Bn(s[o.index]);{const d=Mv(s,o);return null!==d?Array.isArray(d)?d[0]:r_(Mh(s[16]),d):r_(s,o.next)}}return null}function Mv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function mT(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return r_(d,f)}return o[7]}function ZI(s,o,c){const d=t_(s,o);d&&function zI(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}function Rv(s,o,c,d,f,g,v){for(;null!=c;){const T=d[c.index],D=c.type;if(v&&0===o&&(T&&Jr(Bn(T),d),c.flags|=4),64!=(64&c.flags))if(8&D)Rv(s,o,c.child,d,f,g,!1),Rh(o,s,f,T,g);else if(32&D){const A=Dv(c,d);let x;for(;x=A();)Rh(o,s,f,x,g);Rh(o,s,f,T,g)}else 16&D?Tp(s,o,d,c,f,g):Rh(o,s,f,T,g);c=v?c.projectionNext:c.next}}function ad(s,o,c,d,f,g){Rv(c,d,s.firstChild,o,f,g,!1)}function Tp(s,o,c,d,f,g){const v=c[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Rh(o,s,f,D[A],g);else Rv(s,o,D,v[3],f,g,!0)}function ld(s,o,c){s.setAttribute(o,"style",c)}function Ep(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function WI(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=o.length;if(f+g===d||s.charCodeAt(f+g)<=32)return f}c=f+1}}const Pv="ng-template";function kv(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==WI(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function vT(s){return 4===s.type&&s.value!==Pv}function YI(s,o,c){return o===(4!==s.type||c?s.value:Pv)}function QI(s,o,c){let d=4;const f=s.attrs||[],g=function ox(s){for(let o=0;o<s.length;o++)if(No(s[o]))return o;return s.length}(f);let v=!1;for(let T=0;T<o.length;T++){const D=o[T];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!YI(s,D,c)||""===D&&1===o.length){if(lo(d))return!1;v=!0}}else{const A=8&d?D:o[++T];if(8&d&&null!==s.attrs){if(!kv(s.attrs,A,c)){if(lo(d))return!1;v=!0}continue}const L=JI(8&d?"class":D,f,vT(s),c);if(-1===L){if(lo(d))return!1;v=!0;continue}if(""!==A){let q;q=L>g?"":f[L+1].toLowerCase();const ne=8&d?q:null;if(ne&&-1!==WI(ne,A,0)||2&d&&A!==q){if(lo(d))return!1;v=!0}}}}else{if(!v&&!lo(d)&&!lo(D))return!1;if(v&&lo(D))continue;v=!1,d=D|1&d}}return lo(d)||v}function lo(s){return 0==(1&s)}function JI(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let g=!1;for(;f<o.length;){const v=o[f];if(v===s)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let T=o[++f];for(;"string"==typeof T;)T=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function bT(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function XI(s,o,c=!1){for(let d=0;d<o.length;d++)if(QI(s,o[d],c))return!0;return!1}function eC(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function wT(s,o){return s?":not("+o.trim()+")":o}function TT(s){let o=s[0],c=1,d=2,f="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const T=s[++c];f+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!lo(v)&&(o+=wT(g,f),f=""),d=v,g=g||!lo(d);c++}return""!==f&&(o+=wT(g,f)),o}const $t={};function ET(s){DT(Wt(),Ne(),fr()+s,!1)}function DT(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Co(o,g,c)}else{const g=s.preOrderHooks;null!==g&&ca(o,g,0,c)}si(c)}function CT(s,o=null,c=null,d){const f=Lv(s,o,c,d);return f.resolveInjectorInitializers(),f}function Lv(s,o=null,c=null,d,f=new Set){const g=[c||Pt,Vm(s)];return d=d||("object"==typeof s?void 0:fe(s)),new Dh(g,o||Eh(),d||null,f)}let Bc=(()=>{class s{static create(c,d){if(Array.isArray(c))return CT({name:""},d,c,"");{const f=c.name??"";return CT({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Hi,s.NULL=new Um,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Kt(Fm)}),s.__NG_ELEMENT_ID__=-1,s})();function jc(s,o=et.Default){const c=Ne();return null===c?Kt(s,o):xo(jn(),c,Q(s),o)}function AT(){throw new Error("invalid")}function l_(s,o){return s<<17|o<<2}function uo(s){return s>>17&32767}function Gv(s){return 2|s}function Nl(s){return(131068&s)>>2}function di(s,o){return-131069&s|o<<2}function c_(s){return 1|s}function $T(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];el(f),v.contentQueries(2,o[g],g)}}}function g_(s,o,c,d,f,g,v,T,D,A,x){const L=o.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==x||s&&1024&s[2])&&(L[2]|=1024),rc(L),L[3]=L[15]=s,L[8]=c,L[10]=v||s&&s[10],L[11]=T||s&&s[11],L[12]=D||s&&s[12]||null,L[9]=A||s&&s[9]||null,L[6]=g,L[20]=function MI(){return xI++}(),L[21]=x,L[16]=2==o.type?s[16]:L,L}function Lh(s,o,c,d,f){let g=s.data[o];if(null===g)g=Qv(s,o,c,d,f),function pm(){return Ot.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=la();g.injectorIndex=null===v?-1:v.injectorIndex}return Si(g,!0),g}function Qv(s,o,c,d,f){const g=cc(),v=Ka(),D=s.data[o]=function zT(s,o,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Uh(s,o,c,d){if(0===c)return-1;const f=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function Jv(s,o,c){hc(o);try{const d=s.viewQuery;null!==d&&c0(1,d,c);const f=s.template;null!==f&&xp(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$T(s,o),s.staticViewQueries&&c0(2,s.viewQuery,c);const g=s.components;null!==g&&function mC(s,o){for(let c=0;c<o.length;c++)JT(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Do()}}function m_(s,o,c,d){const f=o[2];if(128!=(128&f)){hc(o);try{rc(o),function ku(s){return Ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&xp(s,o,c,2,d);const v=3==(3&f);if(v){const A=s.preOrderCheckHooks;null!==A&&Co(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ca(o,A,0,null),nh(o,0)}if(function SC(s){for(let o=Qm(s);null!==o;o=Jm(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(512&f[2])&&Ln(g,1),f[2]|=512}}}(o),function Cx(s){for(let o=Qm(s);null!==o;o=Jm(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];To(d)&&m_(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&$T(s,o),v){const A=s.contentCheckHooks;null!==A&&Co(o,A)}else{const A=s.contentHooks;null!==A&&ca(o,A,1),nh(o,1)}!function HT(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)si(~f);else{const g=f,v=c[++d],T=c[++d];gm(v,g),T(2,o[g])}}}finally{si(-1)}}(s,o);const T=s.components;null!==T&&function gC(s,o){for(let c=0;c<o.length;c++)QT(s,o[c])}(o,T);const D=s.viewQuery;if(null!==D&&c0(2,D,d),v){const A=s.viewCheckHooks;null!==A&&Co(o,A)}else{const A=s.viewHooks;null!==A&&ca(o,A,2),nh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ln(o[3],-1))}finally{Do()}}}function xp(s,o,c,d,f){const g=fr(),v=2&d;try{si(-1),v&&o.length>22&&DT(s,o,22,!1),c(d,f)}finally{si(g)}}function Xv(s,o,c){if(Yl(o)){const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function __(s,o,c){!Ds()||(function s0(s,o,c,d){const f=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||Oo(c,o),Jr(d,o);const v=c.initialInputs;for(let T=f;T<g;T++){const D=s.data[T],A=Ur(D);A&&Ex(o,c,D);const x=Cs(o,s,T,c);Jr(x,o),null!==v&&Dx(0,T-f,x,D,0,v),A&&(Xt(c.index,o)[8]=x)}}(s,o,c,Kr(c,o)),128==(128&c.flags)&&function v_(s,o,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function Fu(){return Ot.lFrame.currentDirectiveIndex}();try{si(g);for(let T=d;T<f;T++){const D=s.data[T],A=o[T];uc(T),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&EC(D,A)}}finally{si(-1),uc(v)}}(s,o,c))}function Mp(s,o,c=Kr){const d=o.localNames;if(null!==d){let f=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],T=-1===v?c(o,s):s[v];s[f++]=T}}}function GT(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=e0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function e0(s,o,c,d,f,g,v,T,D,A){const x=22+d,L=x+f,q=function _C(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:$t);return c}(x,L),ne="function"==typeof A?A():A;return q[1]={type:s,blueprint:q,template:c,queries:null,viewQuery:T,declTNode:o,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:ne,incompleteFirstPass:!1}}function t0(s,o,c,d){const f=T_(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&kp(s).push(d,f.length-1))}function n0(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function vC(s,o){const d=o.directiveEnd,f=s.data,g=o.attrs,v=[];let T=null,D=null;for(let A=o.directiveStart;A<d;A++){const x=f[A],L=x.inputs,q=null===g||vT(o)?null:Ix(L,g);v.push(q),T=n0(L,A,T),D=n0(x.outputs,A,D)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=T,o.outputs=D}function ho(s,o,c,d,f,g,v,T){const D=Kr(o,c);let x,A=o.inputs;!T&&null!=A&&(x=A[d])?(E_(s,c,x,d,f),za(o)&&wC(c,o.index)):3&o.type&&(d=function bC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,o.value||"",d):f,g.setProperty(D,d,f))}function wC(s,o){const c=Xt(o,s);16&c[2]||(c[2]|=32)}function y_(s,o,c,d){let f=!1;if(Ds()){const g=function o0(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];XI(c,v.selectors,!1)&&(f||(f=[]),Js(Oo(c,o),s,v.type),Ur(v)?(DC(s,c),f.unshift(v)):f.push(v))}return f}(s,o,c),v=null===d?null:{"":-1};if(null!==g){f=!0,KT(c,s.data.length,g.length);for(let x=0;x<g.length;x++){const L=g[x];L.providersResolver&&L.providersResolver(L)}let T=!1,D=!1,A=Uh(s,o,g.length,null);for(let x=0;x<g.length;x++){const L=g[x];c.mergedAttrs=tl(c.mergedAttrs,L.hostAttrs),YT(s,c,o,A,L),Tx(A,L,v),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const q=L.type.prototype;!T&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),T=!0),!D&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),D=!0),A++}vC(s,c)}v&&function IC(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const g=c[o[f+1]];if(null==g)throw new Te(-301,!1);d.push(o[f],g)}}}(c,d,v)}return c.mergedAttrs=tl(c.mergedAttrs,c.attrs),f}function ZT(s,o,c,d,f,g){const v=g.hostBindings;if(v){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const D=~o.index;(function WT(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(T)!=D&&T.push(D),T.push(d,f,v)}}function EC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function DC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Tx(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Ur(o)&&(c[""]=s)}}function KT(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function YT(s,o,c,d,f){s.data[d]=f;const g=f.factory||(f.factory=es(f.type)),v=new Qs(g,Ur(f),jc);s.blueprint[d]=v,c[d]=v,ZT(s,o,0,d,Uh(s,c,f.hostVars,$t),f)}function Ex(s,o,c){const d=Kr(o,s),f=GT(c),g=s[10],v=Rp(s,g_(s,f,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function a0(s,o,c,d,f,g,v){if(null==g)s.removeAttribute(o,f,c);else{const T=null==v?ye(g):v(g,d||"",f);s.setAttribute(o,f,T,c)}}function Dx(s,o,c,d,f,g){const v=g[o];if(null!==v){const T=d.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],L=v[D++];null!==T?d.setInput(c,L,A,x):c[x]=L}}}function Ix(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function CC(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function QT(s,o){const c=Xt(o,s);if(To(c)){const d=c[1];48&c[2]?m_(d,c,d.template,c[8]):c[5]>0&&b_(c)}}function b_(s){for(let d=Qm(s);null!==d;d=Jm(d))for(let f=10;f<d.length;f++){const g=d[f];if(To(g))if(512&g[2]){const v=g[1];m_(v,g,v.template,g[8])}else g[5]>0&&b_(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Xt(c[d],s);To(f)&&f[5]>0&&b_(f)}}function JT(s,o){const c=Xt(o,s),d=c[1];(function XT(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Jv(d,c,c[8])}function Rp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function w_(s){for(;s;){s[2]|=32;const o=Mh(s);if($f(s)&&!o)return s;s=o}return null}function Pp(s,o,c,d=!0){const f=o[10];f.begin&&f.begin();try{m_(s,o,s.template,c)}catch(v){throw d&&AC(o,v),v}finally{f.end&&f.end()}}function c0(s,o,c){el(0),o(s,c)}function T_(s){return s[7]||(s[7]=[])}function kp(s){return s.cleanup||(s.cleanup=[])}function AC(s,o){const c=s[9],d=c?c.get(mp,null):null;d&&d.handleError(o)}function E_(s,o,c,d,f){for(let g=0;g<c.length;){const v=c[g++],T=c[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,f,d,T):D[T]=f}}function fo(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const T=o[v];"number"==typeof T?g=T:1==g?f=pe(f,T):2==g&&(d=pe(d,T+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function pt(s,o,c,d,f=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(Bn(g)),Wr(g))for(let T=10;T<g.length;T++){const D=g[T],A=D[1].firstChild;null!==A&&pt(D[1],D,A,d)}const v=c.type;if(8&v)pt(s,o,c.child,d);else if(32&v){const T=Dv(c,o);let D;for(;D=T();)d.push(D)}else if(16&v){const T=Mv(o,c);if(Array.isArray(T))d.push(...T);else{const D=Mh(o[16]);pt(D[1],D,T,d,!0)}}c=f?c.projectionNext:c.next}return d}class ud{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return pt(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Wr(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Av(o,d),Gn(c,d))}this._attachedToViewContainer=!1}vp(this._lView[1],this._lView)}onDestroy(o){t0(this._lView[1],this._lView,null,o)}markForCheck(){w_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lT(s,o){ad(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=o}}class Vt extends ud{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Pp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Vh extends Dl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=X(o);return new dd(c,this.ngModule)}}function Fp(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class NC{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const f=this.injector.get(o,Dt,d);return f!==Dt||c===Dt?f:this.parentInjector.get(o,c,d)}}class dd extends Ih{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function tC(s){return s.map(TT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Fp(this.componentDef.inputs)}get outputs(){return Fp(this.componentDef.outputs)}create(o,c,d,f){let g=(f=f||this.ngModule)instanceof Vr?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new NC(o,g):o,T=v.get(N,null);if(null===T)throw new Te(407,!1);const D=v.get(ue,null),A=T.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",L=d?function qT(s,o,c){return s.selectRootElement(o,c===_t.ShadowDom)}(A,d,this.componentDef.encapsulation):Xm(T.createRenderer(null,this.componentDef),x,function Lp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),q=this.componentDef.onPush?288:272,ne=e0(0,null,null,1,0,null,null,null,null,null),ve=g_(null,ne,null,q,null,null,T,A,D,v,null);let Ue,We;hc(ve);try{const ct=function D_(s,o,c,d,f,g){const v=c[1];c[22]=s;const D=Lh(v,22,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(fo(D,A,!0),null!==s&&(da(f,s,A),null!==D.classes&&Ep(f,s,D.classes),null!==D.styles&&ld(f,s,D.styles)));const x=d.createRenderer(s,o),L=g_(c,GT(o),null,o.onPush?32:16,c[22],D,d,x,g||null,null,null);return v.firstCreatePass&&(Js(Oo(D,c),v,o.type),DC(v,D),KT(D,c.length,1)),Rp(c,L),c[22]=L}(L,this.componentDef,ve,T,A);if(L)if(d)da(A,L,["ng-version",rt.full]);else{const{attrs:Et,classes:xe}=function nC(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===f?""!==g&&o.push(g,s[++d]):8===f&&c.push(g);else{if(!lo(f))break;f=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Et&&da(A,L,Et),xe&&xe.length>0&&Ep(A,L,xe.join(" "))}if(We=aa(ne,22),void 0!==c){const Et=We.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const Rt=c[xe];Et.push(null!=Rt?Array.from(Rt):null)}}Ue=function hi(s,o,c,d){const f=c[1],g=function TC(s,o,c){const d=jn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),YT(s,d,o,Uh(s,o,1,null),c),vC(s,d));const f=Cs(o,s,d.directiveStart,d);Jr(f,o);const g=Kr(d,o);return g&&Jr(g,o),f}(f,c,o);if(s[8]=c[8]=g,null!==d)for(const T of d)T(g,o);if(o.contentQueries){const T=jn();o.contentQueries(1,g,T.directiveStart)}const v=jn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(si(v.index),ZT(c[1],v,0,v.directiveStart,v.directiveEnd,o),EC(o,g)),g}(ct,this.componentDef,ve,[Gc]),Jv(ne,ve,null)}finally{Do()}return new xC(this.componentType,Ue,y(We,ve),ve,We)}}class xC extends class fp{}{constructor(o,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Vt(f),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const g=this._rootLView;E_(g[1],g,f,o,c),wC(g,this._tNode.index)}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Gc(){const s=jn();gc(Ne()[1],s)}function d0(s){let o=function tE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(Ur(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,!1);f=o.\u0275dir}if(f){if(c){d.push(f);const v=s;v.inputs=Up(s.inputs),v.declaredInputs=Up(s.declaredInputs),v.outputs=Up(s.outputs);const T=f.hostBindings;T&&MC(s,T);const D=f.viewQuery,A=f.contentQueries;if(D&&rE(s,D),A&&Mi(s,A),ce(s.inputs,f.inputs),ce(s.declaredInputs,f.declaredInputs),ce(s.outputs,f.outputs),Ur(f)&&f.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const T=g[v];T&&T.ngInherit&&T(s),T===d0&&(c=!1)}}o=Object.getPrototypeOf(o)}!function nE(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=tl(f.hostAttrs,c=tl(c,f.hostAttrs))}}(d)}function Up(s){return s===ni?{}:s===Pt?[]:s}function rE(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function Mi(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,g)=>{o(d,f,g),c(d,f,g)}:o}function MC(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let hd=null;function Ri(){if(!hd){const s=fn.Symbol;if(s&&s.iterator)hd=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(hd=d)}}}return hd}function Vp(s){return!!C_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ri()in s)}function C_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function qo(s,o,c){return s[o]=c}function fi(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Ca(s,o,c,d){const f=fi(s,o,c);return fi(s,o+1,d)||f}function jp(s,o,c,d){const f=Ne();return fi(f,Eo(),o)&&(Wt(),function Ol(s,o,c,d,f,g){const v=Kr(s,o);a0(o[11],v,g,s.value,c,d,f)}(An(),f,s,o,c,d)),jp}function $h(s,o,c,d){return fi(s,Eo(),c)?o+ye(c)+d:$t}function v0(s,o,c,d,f,g,v,T){const D=Ne(),A=Wt(),x=s+22,L=A.firstCreatePass?function y0(s,o,c,d,f,g,v,T,D){const A=o.consts,x=Lh(o,s,4,v||null,Vi(A,T));y_(o,c,x,Vi(A,D)),gc(o,x);const L=x.tViews=e0(2,x,d,f,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),L.queries=o.queries.embeddedTView(x)),x}(x,A,D,o,c,d,f,g,v):A.data[x];Si(L,!1);const q=D[11].createComment("");n_(A,D,q,L),Jr(q,D),Rp(D,D[x]=CC(q,D,q,L)),Cu(L)&&__(A,D,L),null!=v&&Mp(D,L,T)}function lE(s){return function Es(s,o){return s[o]}(function Pu(){return Ot.lFrame.contextLView}(),22+s)}function O_(s,o,c){const d=Ne();return fi(d,Eo(),o)&&ho(Wt(),An(),d,s,o,d[11],c,!1),O_}function x_(s,o,c,d,f){const v=f?"class":"style";E_(s,c,o.inputs[v],v,d)}function Gp(s,o,c,d){const f=Ne(),g=Wt(),v=22+s,T=f[11],D=f[v]=Xm(T,o,function pc(){return Ot.lFrame.currentNamespace}()),A=g.firstCreatePass?function b0(s,o,c,d,f,g,v){const T=o.consts,A=Lh(o,s,2,f,Vi(T,g));return y_(o,c,A,Vi(T,v)),null!==A.attrs&&fo(A,A.attrs,!1),null!==A.mergedAttrs&&fo(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,f,0,o,c,d):g.data[v];Si(A,!0);const x=A.mergedAttrs;null!==x&&da(T,D,x);const L=A.classes;null!==L&&Ep(T,D,L);const q=A.styles;return null!==q&&ld(T,D,q),64!=(64&A.flags)&&n_(g,f,D,A),0===function sc(){return Ot.lFrame.elementDepthCount}()&&Jr(D,f),function oc(){Ot.lFrame.elementDepthCount++}(),Cu(A)&&(__(g,f,A),Xv(g,A,f)),null!==d&&Mp(f,A),Gp}function M_(){let s=jn();Ka()?Ya():(s=s.parent,Si(s,!1));const o=s;!function xu(){Ot.lFrame.elementDepthCount--}();const c=Wt();return c.firstCreatePass&&(gc(c,s),Yl(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function yc(s){return 0!=(16&s.flags)}(o)&&x_(c,o,Ne(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ih(s){return 0!=(32&s.flags)}(o)&&x_(c,o,Ne(),o.stylesWithoutHost,!1),M_}function qp(s,o,c,d){return Gp(s,o,c,d),M_(),qp}function Zh(s,o,c){const d=Ne(),f=Wt(),g=s+22,v=f.firstCreatePass?function w0(s,o,c,d,f){const g=o.consts,v=Vi(g,d),T=Lh(o,s,8,"ng-container",v);return null!==v&&fo(T,v,!0),y_(o,c,T,Vi(g,f)),null!==o.queries&&o.queries.elementStart(o,T),T}(g,f,d,o,c):f.data[g];Si(v,!0);const T=d[g]=d[11].createComment("");return n_(f,d,T,v),Jr(T,d),Cu(v)&&(__(f,d,v),Xv(f,v,d)),null!=c&&Mp(d,v),Zh}function Dr(){let s=jn();const o=Wt();return Ka()?Ya():(s=s.parent,Si(s,!1)),o.firstCreatePass&&(gc(o,s),Yl(s)&&o.queries.elementEnd(s)),Dr}function zp(){return Ne()}function Zp(s){return!!s&&"function"==typeof s.then}function cE(s){return!!s&&"function"==typeof s.subscribe}const uE=cE;function R_(s,o,c,d){const f=Ne(),g=Wt(),v=jn();return function T0(s,o,c,d,f,g,v,T){const D=Cu(d),x=s.firstCreatePass&&kp(s),L=o[8],q=T_(o);let ne=!0;if(3&d.type||T){const We=Kr(d,o),ct=T?T(We):We,Et=q.length,xe=T?_n=>T(Bn(_n[d.index])):d.index;let Rt=null;if(!T&&D&&(Rt=function PC(s,o,c,d){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const T=o[7],D=f[g+2];return T.length>D?T[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,f,d.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=g,Rt.__ngLastListenerFn__=g,ne=!1;else{g=hE(d,o,L,g,!1);const _n=c.listen(ct,f,g);q.push(g,_n),x&&x.push(f,xe,Et,Et+1)}}else g=hE(d,o,L,g,!1);const ve=d.outputs;let Ue;if(ne&&null!==ve&&(Ue=ve[f])){const We=Ue.length;if(We)for(let ct=0;ct<We;ct+=2){const Wn=o[Ue[ct]][Ue[ct+1]].subscribe(g),Hl=q.length;q.push(g,Wn),x&&x.push(f,d.index,Hl,-(Hl+1))}}}(g,f,f[11],v,s,o,0,d),R_}function P_(s,o,c,d){try{return!1!==c(d)}catch(f){return AC(s,f),!1}}function hE(s,o,c,d,f){return function g(v){if(v===Function)return d;w_(2&s.flags?Xt(s.index,o):o);let D=P_(o,0,d,v),A=g.__ngNextListenerFn__;for(;A;)D=P_(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function k_(s=1){return function Io(s){return(Ot.lFrame.contextLView=function fc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ot.lFrame.contextLView))[8]}(s)}function fE(s,o){let c=null;const d=function i_(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const g=o[f];if("*"!==g){if(null===d?XI(s,g,!0):eC(d,g))return f}else c=f}return c}function pE(s){const o=Ne()[16][6];if(!o.projection){const d=o.projection=to(s?s.length:1,null),f=d.slice();let g=o.child;for(;null!==g;){const v=s?fE(g,s):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function Wp(s,o=0,c){const d=Ne(),f=Wt(),g=Lh(f,22+s,16,null,c||null);null===g.projection&&(g.projection=o),Ya(),64!=(64&g.flags)&&function _T(s,o,c){Tp(o[11],0,o,c,uT(s,c,o),gr(c.parent||o[6],c,o))}(f,d,g)}function Kp(s,o,c){return Wh(s,"",o,"",c),Kp}function Wh(s,o,c,d,f){const g=Ne(),v=$h(g,o,c,d);return v!==$t&&ho(Wt(),An(),g,s,v,g[11],f,!1),Wh}function _E(s,o,c,d,f){const g=s[c+1],v=null===o;let T=d?uo(g):Nl(g),D=!1;for(;0!==T&&(!1===D||v);){const x=s[T+1];pd(s[T],o)&&(D=!0,s[T+1]=d?c_(x):Gv(x)),T=d?uo(x):Nl(x)}D&&(s[c+1]=d?Gv(g):c_(g))}function pd(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&no(s,o)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qp(s){return s.substring(Pr.key,Pr.keyEnd)}function S0(s,o){const c=Pr.textEnd;return c===o?-1:(o=Pr.keyEnd=function vE(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Pr.key=o,c),Ml(s,o,c))}function Ml(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Xp(s,o,c){return Ms(s,o,c,!1),Xp}function eg(s,o){return Ms(s,o,null,!0),eg}function x0(s){!function cs(s,o,c,d){const f=Wt(),g=Is(2);f.firstUpdatePass&&M0(f,null,g,d);const v=Ne();if(c!==$t&&fi(v,g,c)){const T=f.data[fr()];if(SE(T,d)&&!F_(f,g)){let D=d?T.classesWithoutHost:T.stylesWithoutHost;null!==D&&(c=pe(D,c||"")),x_(f,T,v,c,d)}else!function R0(s,o,c,d,f,g,v,T){f===$t&&(f=Pt);let D=0,A=0,x=0<f.length?f[0]:null,L=0<g.length?g[0]:null;for(;null!==x||null!==L;){const q=D<f.length?f[D+1]:void 0,ne=A<g.length?g[A+1]:void 0;let Ue,ve=null;x===L?(D+=2,A+=2,q!==ne&&(ve=L,Ue=ne)):null===L||null!==x&&x<L?(D+=2,ve=x):(A+=2,ve=L,Ue=ne),null!==ve&&DE(s,o,c,d,ve,Ue,v,T),x=D<f.length?f[D]:null,L=A<g.length?g[A]:null}}(f,T,v,v[11],v[g+1],v[g+1]=function rg(s,o,c){if(null==c||""===c)return Pt;const d=[],f=qi(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)s(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&s(d,g,f[g]);else"string"==typeof f&&o(d,f);return d}(s,o,c),d,g)}}(nt,Na,s,!0)}function Na(s,o){for(let c=function Jp(s){return function Qh(s){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=s.length}(s),S0(s,Ml(s,0,Pr.textEnd))}(o);c>=0;c=S0(o,c))nt(s,Qp(o),!0)}function Ms(s,o,c,d){const f=Ne(),g=Wt(),v=Is(2);g.firstUpdatePass&&M0(g,s,v,d),o!==$t&&fi(f,v,o)&&DE(g,g.data[fr()],f,f[11],s,f[v+1]=function CE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(qi(s)))),s}(o,c),d,v)}function F_(s,o){return o>=s.expandoStartIndex}function M0(s,o,c,d){const f=s.data;if(null===f[c+1]){const g=f[fr()],v=F_(s,c);SE(g,d)&&null===o&&!v&&(o=!1),o=function TE(s,o,c,d){const f=Xa(s);let g=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=zc(c=L_(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==f)if(c=L_(f,s,o,c,d),null===g){let D=function EE(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Nl(d))return s[uo(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=L_(null,s,o,D[1],d),D=zc(D,o.attrs,d),function FC(s,o,c,d){s[uo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function ng(s,o,c){let d;const f=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<f;g++)d=zc(d,s[g].hostAttrs,c);return zc(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(f,g,o,d),function Yh(s,o,c,d,f,g){let v=g?o.classBindings:o.styleBindings,T=uo(v),D=Nl(v);s[d]=c;let x,A=!1;if(Array.isArray(c)){const L=c;x=L[1],(null===x||no(L,x)>0)&&(A=!0)}else x=c;if(f)if(0!==D){const q=uo(s[T+1]);s[d+1]=l_(q,T),0!==q&&(s[q+1]=di(s[q+1],d)),s[T+1]=function cC(s,o){return 131071&s|o<<17}(s[T+1],d)}else s[d+1]=l_(T,0),0!==T&&(s[T+1]=di(s[T+1],d)),T=d;else s[d+1]=l_(D,0),0===T?T=d:s[D+1]=di(s[D+1],d),D=d;A&&(s[d+1]=Gv(s[d+1])),_E(s,x,d,!0),_E(s,x,d,!1),function kC(s,o,c,d,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&no(g,o)>=0&&(c[d+1]=c_(c[d+1]))}(o,x,s,d,g),v=l_(T,D),g?o.classBindings=v:o.styleBindings=v}(f,g,o,c,v,d)}}function L_(s,o,c,d,f){let g=null;const v=c.directiveEnd;let T=c.directiveStylingLast;for(-1===T?T=c.directiveStart:T++;T<v&&(g=o[T],d=zc(d,g.hostAttrs,f),g!==s);)T++;return null!==s&&(c.directiveStylingLast=T),d}function zc(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nt(s,v,!!c||o[++g]))}return void 0===s?null:s}function DE(s,o,c,d,f,g,v,T){if(!(3&o.type))return;const D=s.data,A=D[T+1];ig(function Dp(s){return 1==(1&s)}(A)?IE(D,o,c,f,Nl(A),v):void 0)||(ig(g)||function OT(s){return 2==(2&s)}(A)&&(g=IE(D,null,c,f,T,v)),function yT(s,o,c,d,f){if(o)f?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Da.DashCase;null==f?s.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Da.Important),s.setStyle(c,d,f,g))}}(d,v,Ci(fr(),c),f,g))}function IE(s,o,c,d,f,g){const v=null===o;let T;for(;f>0;){const D=s[f],A=Array.isArray(D),x=A?D[1]:D,L=null===x;let q=c[f+1];q===$t&&(q=L?Pt:void 0);let ne=L?fl(q,d):x===d?q:void 0;if(A&&!ig(ne)&&(ne=fl(D,d)),ig(ne)&&(T=ne,v))return T;const ve=s[f+1];f=v?uo(ve):Nl(ve)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(T=fl(D,d))}return T}function ig(s){return void 0!==s}function SE(s,o){return 0!=(s.flags&(o?16:32))}function Wc(s,o=""){const c=Ne(),d=Wt(),f=s+22,g=d.firstCreatePass?Lh(d,f,1,o,null):d.data[f],v=c[f]=Cv(c[11],o);n_(d,c,v,g),Si(g,!1)}function zo(s){return gd("",s,""),zo}function gd(s,o,c){const d=Ne(),f=$h(d,s,o,c);return f!==$t&&function xl(s,o,c){const d=Ci(o,s);oT(s[11],d,c)}(d,fr(),f),gd}function ug(s,o,c){const d=Ne();return fi(d,Eo(),o)&&ho(Wt(),An(),d,s,o,d[11],c,!0),ug}function V_(s,o,c){const d=Ne();if(fi(d,Eo(),o)){const g=Wt(),v=An();ho(g,v,d,s,o,function eE(s,o,c){return(null===s||Ur(s))&&(c=function Xl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}(Xa(g.data),v,d),c,!0)}return V_}const Zo=void 0;var GC=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dg(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Pn={};function B0(s){const o=function B_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=j0(o);if(c)return c;const d=o.split("-")[0];if(c=j0(d),c)return c;if("en"===d)return GC;throw new Te(701,!1)}function UE(s){return B0(s)[St.PluralCase]}function j0(s){return s in Pn||(Pn[s]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[s]),Pn[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const VE=["zero","one","two","few","many"],md="en-US",rf={marker:"element"},Yc={marker:"ICU"};var rr=(()=>((rr=rr||{})[rr.SHIFT=2]="SHIFT",rr[rr.APPEND_EAGERLY=1]="APPEND_EAGERLY",rr[rr.COMMENT=2]="COMMENT",rr))();let hg=md;function H0(s){(function qt(s,o){null==s&&Xe(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(hg=s.toLowerCase().replace(/_/g,"-"))}function HE(s,o,c){const d=o.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?gT(s,0,c):Bn(c[f])}function $0(s,o,c,d,f){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,T=null;if(3&o.type||(T=v,v=f),null!==v&&0==(2&o.flags))for(let D=1;D<g.length;D++)Ia(s,v,c[g[D]],T,!1)}}function sf(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];G0(d)||$E(d,o)&&null===q0(d)&&z0(d,o.index)}}function G0(s){return!(64&s.type)}function $E(s,o){return G0(o)||s.index>o.index}function q0(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function z0(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(wp(HE,$0),s.insertBeforeIndex=o)}function af(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function qE(s,o,c){const d=Qv(s,c,64,null,null);return sf(o,d),d}function Oa(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Z0(s){return s>>>17}function W0(s){return(131070&s)>>>1}let Qc=0,pi=0;function KE(s,o,c,d){const f=c[11];let v,g=null;for(let T=0;T<o.length;T++){const D=o[T];if("string"==typeof D){const A=o[++T];null===c[A]&&(c[A]=Cv(f,D))}else if("number"==typeof D)switch(1&D){case 0:const A=Z0(D);let x,L;if(null===g&&(g=A,v=t_(f,d)),A===g?(x=d,L=v):(x=null,L=Bn(c[A])),null!==L){const Ue=W0(D);Ia(f,L,c[Ue],x,!1);const ct=af(s,Ue);if(null!==ct&&"object"==typeof ct){const Et=Oa(ct,c);null!==Et&&KE(s,ct.create[Et],c,c[ct.anchorIdx])}}break;case 1:const ne=o[++T],ve=o[++T];a0(f,Ci(D>>>1,c),null,null,ne,ve,null)}else switch(D){case Yc:const A=o[++T],x=o[++T];null===c[x]&&Jr(c[x]=$I(f,A),c);break;case rf:const L=o[++T],q=o[++T];null===c[q]&&Jr(c[q]=Xm(f,L,null),c)}}}function YE(s,o,c,d,f){for(let g=0;g<c.length;g++){const v=c[g],T=c[++g];if(v&f){let D="";for(let A=g+1;A<=g+T;A++){const x=c[A];if("string"==typeof x)D+=x;else if("number"==typeof x)if(x<0)D+=ye(o[d-x]);else{const L=x>>>2;switch(3&x){case 1:const q=c[++A],ne=c[++A],ve=s.data[L];"string"==typeof ve?a0(o[11],o[L],null,ve,q,D,ne):ho(s,ve,o,q,D,o[11],ne,!1);break;case 0:const Ue=o[L];null!==Ue&&oT(o[11],Ue,D);break;case 2:ZC(s,af(s,L),o,D);break;case 3:$_(s,af(s,L),d,o)}}}}else{const D=c[g+1];if(D>0&&3==(3&D)){const x=af(s,D>>>2);o[x.currentCaseLViewIndex]<0&&$_(s,x,d,o)}}g+=T}}function $_(s,o,c,d){let f=d[o.currentCaseLViewIndex];if(null!==f){let g=Qc;f<0&&(f=d[o.currentCaseLViewIndex]=~f,g=-1),YE(s,d,o.update[f],c,g)}}function ZC(s,o,c,d){const f=function JE(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const d=function Rl(s,o){const c=UE(o)(parseInt(s,10)),d=VE[c];return void 0!==d?d:"other"}(o,function j_(){return hg}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,d);if(Oa(o,c)!==f&&(QE(s,o,c),c[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=c[o.anchorIdx];v&&KE(s,o.create[f],c,v)}}function QE(s,o,c){let d=Oa(o,c);if(null!==d){const f=o.remove[d];for(let g=0;g<f.length;g++){const v=f[g];if(v>0){const T=Ci(v,c);null!==T&&ZI(c[11],T)}else QE(s,af(s,~v),c)}}}function WC(){const s=[];let c,d,o=-1;function g(T,D){o=0;const A=Oa(T,D);d=null!==A?T.remove[A]:Pt}function v(){if(o<d.length){const T=d[o++];return T>0?c[T]:(s.push(o,d),g(c[1].data[~T],c),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function f(T,D){for(c=D;s.length;)s.pop();return g(T.value,D),v}}const Wo=/\ufffd(\d+):?\d*\ufffd/gi,YC=/\ufffd(\d+)\ufffd/,Le=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,yd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,J0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dt=/\uE500/g;function Je(s,o,c,d,f,g,v){const T=Uh(s,d,1,null);let D=T<<rr.SHIFT,A=la();o===A&&(A=null),null===A&&(D|=rr.APPEND_EAGERLY),v&&(D|=rr.COMMENT,function jI(s){void 0===Ev&&(Ev=s())}(WC)),f.push(D,null===g?"":g);const x=Qv(s,T,v?32:1,null===g?"":g,null);sf(c,x);const L=x.index;return Si(x,!1),null!==A&&o!==A&&function GE(s,o){let c=s.insertBeforeIndex;null===c?(wp(HE,$0),c=s.insertBeforeIndex=[null,o]):(function _e(s,o,c){s!=o&&Xe(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(A,L),x}function de(s,o,c,d,f,g,v){const T=v.match(Wo),D=Je(s,o,c,g,d,T?null:v,!1);T&&ir(f,v,D.index,null,0,null)}function ir(s,o,c,d,f,g){const v=s.length,T=v+1;s.push(null,null);const D=v+2,A=o.split(Wo);let x=0;for(let L=0;L<A.length;L++){const q=A[L];if(1&L){const ne=f+parseInt(q,10);s.push(-1-ne),x|=e1(ne)}else""!==q&&s.push(q)}return s.push(c<<2|(d?1:0)),d&&s.push(d,g),s[v]=x,s[T]=s.length-D,x}function e1(s){return 1<<Math.min(s,31)}function t1(s){let o,g,c="",d=0,f=!1;for(;null!==(o=yd.exec(s));)f?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,f=!1):(c+=s.substring(d,o.index+o[0].length),g=o[1],f=!0);return c+=s.slice(d),c}function n1(s,o,c,d,f,g){let v=0;const T={type:f.type,currentCaseLViewIndex:Uh(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function cf(s,o,c){s.push(e1(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,f,g),function H_(s,o,c){const d=s.data[o];null===d?s.data[o]=c:d.value=c}(s,g,T);const D=f.values;for(let A=0;A<D.length;A++){const x=D[A],L=[];for(let q=0;q<x.length;q++){const ne=x[q];if("string"!=typeof ne){const ve=L.push(ne)-1;x[q]=`\x3c!--\ufffd${ve}\ufffd--\x3e`}}v=xx(s,T,o,c,d,f.cases[A],x.join(""),L)|v}v&&function s1(s,o,c){s.push(o,1,c<<2|3)}(c,v,g)}function r1(s){const o=[],c=[];let d=1,f=0;const g=X0(s=s.replace(Le,function(v,T,D){return d="select"===D?0:1,f=parseInt(T.slice(1),10),""}));for(let v=0;v<g.length;){let T=g[v++].trim();1===d&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const D=X0(g[v++]);o.length>c.length&&c.push(D)}return{type:d,mainBinding:f,cases:o,values:c}}function X0(s){if(!s)return[];let o=0;const c=[],d=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(s);){const T=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const D=s.substring(o,T);Le.test(D)?d.push(r1(D)):d.push(D),o=T+1}}else{if(0==c.length){const D=s.substring(o,T);d.push(D),o=T+1}c.push("{")}}const v=s.substring(o);return d.push(v),d}function xx(s,o,c,d,f,g,v,T){const D=[],A=[],x=[];o.cases.push(g),o.create.push(D),o.remove.push(A),o.update.push(x);const q=Nm(Cm()).getInertBodyElement(v),ne=$o(q)||q;return ne?i1(s,o,c,d,D,A,x,ne,f,T,0):0}function i1(s,o,c,d,f,g,v,T,D,A,x){let L=0,q=T.firstChild;for(;q;){const ne=Uh(s,c,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const ve=q,Ue=ve.tagName.toLowerCase();if(bl.hasOwnProperty(Ue)){Vn(f,rf,Ue,D,ne),s.data[ne]=Ue;const xe=ve.attributes;for(let Rt=0;Rt<xe.length;Rt++){const _n=xe.item(Rt),Wn=_n.name.toLowerCase();_n.value.match(Wo)?ap.hasOwnProperty(Wn)&&ir(v,_n.value,ne,_n.name,0,Ho[Wn]?Oc:null):Mt(f,ne,_n)}L=i1(s,o,c,d,f,g,v,q,ne,A,x+1)|L,eb(g,ne,x)}break;case Node.TEXT_NODE:const We=q.textContent||"",ct=We.match(Wo);Vn(f,null,ct?"":We,D,ne),eb(g,ne,x),ct&&(L=ir(v,We,ne,null,0,null)|L);break;case Node.COMMENT_NODE:const Et=YC.exec(q.textContent||"");if(Et){const Rt=A[parseInt(Et[1],10)];Vn(f,Yc,"",D,ne),n1(s,c,d,D,Rt,ne),Bt(g,ne,x)}}q=q.nextSibling}return L}function eb(s,o,c){0===c&&s.push(o)}function Bt(s,o,c){0===c&&(s.push(~o),s.push(o))}function Vn(s,o,c,d,f){null!==o&&s.push(o),s.push(c,f,function zE(s,o,c){return s|o<<17|c<<1}(0,d,f))}function Mt(s,o,c){s.push(o<<1|1,c.name,c.value)}function fg(s,o,c=-1){const d=Wt(),f=Ne(),g=22+s,v=Vi(d.consts,o),T=la();d.firstCreatePass&&function QC(s,o,c,d,f,g){const v=la(),T=[],D=[],A=[[]];f=function XC(s,o){if(function JC(s){return-1===s}(o))return t1(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return t1(s.substring(c,d))}}(f,g);const x=function xt(s){return s.replace(dt," ")}(f).split(J0);for(let L=0;L<x.length;L++){let q=x[L];if(0==(1&L)){const ne=X0(q);for(let ve=0;ve<ne.length;ve++){let Ue=ne[ve];if(0==(1&ve)){const We=Ue;""!==We&&de(s,v,A[0],T,D,c,We)}else{const We=Ue;if("object"!=typeof We)throw new Error(`Unable to parse ICU expression in "${f}" message.`);n1(s,c,D,o,We,Je(s,v,A[0],c,T,"",!0).index)}}}else{const ne=47===q.charCodeAt(0),Ue=(q.charCodeAt(ne?1:0),22+Number.parseInt(q.substring(ne?2:1)));if(ne)A.shift(),Si(la(),!1);else{const We=qE(s,A[0],Ue);A.unshift([]),Si(We,!0)}}}s.data[d]={create:T,update:D}}(d,null===T?0:T.index,f,g,v,c);const D=d.data[g],x=dT(d,T===f[6]?null:T,f);(function lf(s,o,c,d){const f=s[11];for(let g=0;g<o.length;g++){const v=o[g++],T=o[g],D=(v&rr.COMMENT)===rr.COMMENT,A=(v&rr.APPEND_EAGERLY)===rr.APPEND_EAGERLY,x=v>>>rr.SHIFT;let L=s[x];null===L&&(L=s[x]=D?f.createComment(T):Cv(f,T)),A&&null!==c&&Ia(f,c,L,d,!1)}})(f,D.create,x,T&&8&T.type?f[T.index]:null),Ja(!0)}function df(s,o,c){fg(s,o,c),function o1(){Ja(!1)}()}function q_(s){return function ZE(s){s&&(Qc|=1<<Math.min(pi,31)),pi++}(fi(Ne(),Eo(),s)),q_}function us(s){!function WE(s,o,c){if(pi>0){const d=s.data[c];YE(s,o,Array.isArray(d)?d:d.update,function ts(){return Ot.lFrame.bindingIndex}()-pi-1,Qc)}Qc=0,pi=0}(Wt(),Ne(),s+22)}function z_(s,o,c,d,f){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)z_(s[g],o,c,d,f);else{const g=Wt(),v=Ne();let T=zi(s)?s:Q(s.provide),D=sd(s);const A=jn(),x=1048575&A.providerIndexes,L=A.directiveStart,q=A.providerIndexes>>20;if(zi(s)||!s.multi){const ne=new Qs(D,f,jc),ve=oe(T,o,f?x:x+q,L);-1===ve?(Js(Oo(A,v),g,T),xa(g,s,o.length),o.push(T),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ne),v.push(ne)):(c[ve]=ne,v[ve]=ne)}else{const ne=oe(T,o,x+q,L),ve=oe(T,o,x,x+q),Ue=ne>=0&&c[ne],We=ve>=0&&c[ve];if(f&&!We||!f&&!Ue){Js(Oo(A,v),g,T);const ct=function pg(s,o,c,d,f){const g=new Qs(s,c,jc);return g.multi=[],g.index=o,g.componentProviders=0,Z_(g,f,d&&!c),g}(f?Ko:W_,c.length,f,d,D);!f&&We&&(c[ve].providerFactory=ct),xa(g,s,o.length,0),o.push(T),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ct),v.push(ct)}else xa(g,s,ne>-1?ne:ve,Z_(c[f?ve:ne],D,!f&&d));!f&&d&&We&&c[ve].componentProviders++}}}function xa(s,o,c,d){const f=zi(o),g=function Bm(s){return!!s.useClass}(o);if(f||g){const D=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const x=A.indexOf(c);-1===x?A.push(c,[d,D]):A[x+1].push(d,D)}else A.push(c,D)}}}function Z_(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function oe(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function W_(s,o,c,d){return rb(this.multi,[])}function Ko(s,o,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=Cs(c,c[1],this.providerFactory.index,d);g=T.slice(0,v),rb(f,g);for(let D=v;D<T.length;D++)g.push(T[D])}else g=[],rb(f,g);return g}function rb(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Pl(s,o=[]){return c=>{c.providersResolver=(d,f)=>function l1(s,o,c){const d=Wt();if(d.firstCreatePass){const f=Ur(s);z_(c,d.data,d.blueprint,f,!0),z_(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class hf{}class Jc{}function c1(s,o){return new d1(s,o??null)}class d1 extends hf{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vh(this);const d=wn(o);this._bootstrapComponents=Sl(d.bootstrap),this._r3Injector=Lv(o,c,[{provide:hf,useValue:this},{provide:Dl,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ib extends Jc{constructor(o){super(),this.moduleType=o}create(o){return new d1(this.moduleType,o)}}class ds extends hf{constructor(o,c,d){super(),this.componentFactoryResolver=new Vh(this),this.instance=null;const f=new Dh([...o,{provide:hf,useValue:this},{provide:Dl,useValue:this.componentFactoryResolver}],c||Eh(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function K_(s,o,c=null){return new ds(s,o,c).injector}let bd=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=bh(0,c.type),f=d.length>0?K_([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=sn({token:s,providedIn:"environment",factory:()=>new s(Kt(Vr))}),s})();function sb(s){s.getStandaloneInjector=o=>o.get(bd).getOrCreateStandaloneInjector(s)}function pf(s,o,c,d){return function J_(s,o,c,d,f,g){const v=o+c;return fi(s,v,f)?qo(s,v+1,g?d.call(g,f):d(f)):Ra(s,v+1)}(Ne(),Hn(),s,o,c,d)}function lb(s,o,c,d,f){return function tu(s,o,c,d,f,g,v){const T=o+c;return Ca(s,T,f,g)?qo(s,T+2,v?d.call(v,f,g):d(f,g)):Ra(s,T+2)}(Ne(),Hn(),s,o,c,d,f)}function kl(s,o,c,d,f,g){return function X_(s,o,c,d,f,g,v,T){const D=o+c;return function jh(s,o,c,d,f){const g=Ca(s,o,c,d);return fi(s,o+2,f)||g}(s,D,f,g,v)?qo(s,D+3,T?d.call(T,f,g,v):d(f,g,v)):Ra(s,D+3)}(Ne(),Hn(),s,o,c,d,f,g)}function Ra(s,o){const c=s[o];return c===$t?void 0:c}function On(s){return o=>{setTimeout(s,void 0,o)}}const Pa=class y1 extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let f=o,g=c||(()=>null),v=d;if(o&&"object"==typeof o){const D=o;f=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=On(g),f&&(f=On(f)),v&&(v=On(v)));const T=super.subscribe({next:f,error:g,complete:v});return o instanceof te.w0&&o.add(T),T}};function v1(){return this._results[Ri()]()}class Fl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ri(),d=Fl.prototype;d[c]||(d[c]=v1)}get changes(){return this._changes||(this._changes=new Pa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=un(o);(this._changesDetected=!function nn(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],g=o[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yg=(()=>{class s{}return s.__NG_ELEMENT_ID__=ry,s})();const vg=yg,ny=class extends vg{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,f=g_(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Jv(d,f,o),new ud(f)}};function ry(){return bg(jn(),Ne())}function bg(s,o){return 4&s.type?new ny(o,s,y(s,o)):null}let wg=(()=>{class s{}return s.__NG_ELEMENT_ID__=mi,s})();function mi(){return T1(jn(),Ne())}const aS=wg,b1=class extends aS{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Tc(this._hostTNode,this._hostLView);if(oh(o)){const c=rl(o,this._hostLView),d=wr(o);return new Mo(c[1].data[d+8],c)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=w1(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(o,c,d,f,g){const v=o&&!function ai(s){return"function"==typeof s}(o);let T;if(v)T=c;else{const L=c||{};T=L.index,d=L.injector,f=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const D=v?o:new dd(X(o)),A=d||this.parentInjector;if(!g&&null==D.ngModule){const q=(v?A:this.parentInjector).get(Vr,null);q&&(g=q)}const x=D.create(A,f,void 0,g);return this.insert(x.hostView,T),x}insert(o,c){const d=o._lView,f=d[1];if(function nc(s){return Wr(s[3])}(d)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const L=d[3],q=new b1(L,L[6],L[3]);q.detach(q.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function GI(s,o,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=o),d<g-10?(o[4]=c[f],dl(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function qI(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=64}(f,d,v,g);const T=mT(g,v),D=d[11],A=t_(D,v[7]);return null!==A&&function aT(s,o,c,d,f,g){d[0]=f,d[6]=o,ad(s,d,c,1,f,g)}(f,v[6],D,d,A,T),o.attachToViewContainerRef(),dl(iy(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=w1(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Av(this._lContainer,c);d&&(Gn(iy(this._lContainer),c),vp(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Av(this._lContainer,c);return d&&null!=Gn(iy(this._lContainer),c)?new ud(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function w1(s){return s[8]}function iy(s){return s[8]||(s[8]=[])}function T1(s,o){let c;const d=o[s.index];if(Wr(d))c=d;else{let f;if(8&s.type)f=Bn(d);else{const g=o[11];f=g.createComment("");const v=Kr(s,o);Ia(g,t_(g,v),f,function pT(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=CC(d,o,f,s),Rp(o,c)}return new b1(c,s,o)}class ka{constructor(o){this.queryList=o,this.matches=null}clone(){return new ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class nu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new nu(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==hb(o,c).matches&&this.queries[c].setDirty()}}class E1{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class sy{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new sy(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class oy{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new oy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(o,c,Ll(c,g)),this.matchTNodeWithReadOption(o,c,ha(c,o,g,!1,!1))}else d===yg?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,ha(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===p||f===wg||f===yg&&4&c.type)this.addMatch(c.index,-2);else{const g=ha(c,o,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Ll(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function mf(s,o,c,d){return-1===c?function D1(s,o){return 11&s.type?y(s,o):4&s.type?bg(s,o):null}(o,s):-2===c?function I1(s,o,c){return c===p?y(o,s):c===yg?bg(o,s):c===wg?T1(o,s):void 0}(s,o,d):Cs(s,s[1],c,o)}function ay(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const g=s.data,v=c.matches,T=[];for(let D=0;D<v.length;D+=2){const A=v[D];T.push(A<0?null:mf(o,g[A],v[D+1],c.metadata.read))}f.matches=T}return f.matches}function Tg(s,o,c,d){const f=s.queries.getByIndex(c),g=f.matches;if(null!==g){const v=ay(s,o,f,c);for(let T=0;T<g.length;T+=2){const D=g[T];if(D>0)d.push(v[T/2]);else{const A=g[T+1],x=o[-D];for(let L=10;L<x.length;L++){const q=x[L];q[17]===q[3]&&Tg(q[1],q,A,d)}if(null!==x[9]){const L=x[9];for(let q=0;q<L.length;q++){const ne=L[q];Tg(ne[1],ne,A,d)}}}}}return d}function ly(s){const o=Ne(),c=Wt(),d=Lu();el(d+1);const f=hb(c,d);if(s.dirty&&function tc(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?Tg(c,o,d,[]):ay(c,o,f,d);s.reset(g,m),s.notifyOnChanges()}return!0}return!1}function Dd(s,o,c){const d=Wt();d.firstCreatePass&&(cy(d,new E1(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),ub(d,Ne(),o)}function Pi(s,o,c,d){const f=Wt();if(f.firstCreatePass){const g=jn();cy(f,new E1(o,c,d),g.index),function db(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}ub(f,Ne(),c)}function Eg(){return function Dg(s,o){return s[19].queries[o].queryList}(Ne(),Lu())}function ub(s,o,c){const d=new Fl(4==(4&c));t0(s,o,d,d.destroy),null===o[19]&&(o[19]=new nu),o[19].queries.push(new ka(d))}function cy(s,o,c){null===s.queries&&(s.queries=new sy),s.queries.track(new oy(o,c))}function hb(s,o){return s.queries.getByIndex(o)}function fb(s,o){return bg(s,o)}function Cg(...s){}const L1=new En("Application Initializer");let fy=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Cg,this.reject=Cg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Zp(g))c.push(g);else if(uE(g)){const v=new Promise((T,D)=>{g.subscribe({complete:T,error:D})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Kt(L1,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const U1=new En("AppId",{providedIn:"root",factory:function Ef(){return`${Cb()}${Cb()}${Cb()}`}});function Cb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jr=new En("Platform Initializer"),Sb=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ab=new En("appBootstrapListener"),La=new En("AnimationModuleType");let Nb=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ru=new En("LocaleId",{providedIn:"root",factory:()=>I(ru,et.Optional|et.SkipSelf)||function V1(){return typeof $localize<"u"&&$localize.locale||md}()}),B1=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class DS{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let Sg=(()=>{class s{compileModuleSync(c){return new ib(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Sl(wn(c).declarations).reduce((v,T)=>{const D=X(T);return D&&v.push(new dd(D)),v},[]);return new DS(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const IS=(()=>Promise.resolve(0))();function Mb(s){typeof Zone>"u"?IS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _i{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pa(!1),this.onMicrotaskEmpty=new Pa(!1),this.onStable=new Pa(!1),this.onError=new Pa(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Df(){let s=fn.requestAnimationFrame,o=fn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function H1(s){const o=()=>{!function SS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(fn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,yi(s),s.isCheckStableRunning=!0,Rb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),yi(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,T)=>{try{return $1(s),c.invokeTask(f,g,v,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Pb(s)}},onInvoke:(c,d,f,g,v,T,D)=>{try{return $1(s),c.invoke(f,g,v,T,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Pb(s)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,yi(s),Rb(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new Te(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,o,CS,Cg,Cg);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const CS={};function Rb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function yi(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $1(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Pb(s){s._nesting--,Rb(s)}class Ua{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pa,this.onMicrotaskEmpty=new Pa,this.onStable=new Pa,this.onError=new Pa}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}const kb=new En(""),Ag=new En("");let Fb,G1=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fb||(function AS(s){Fb=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),Mb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mb(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Kt(_i),Kt(q1),Kt(Ag))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),q1=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Fb?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),iu=null;const z1=new En("AllowMultipleToken"),Lb=new En("PlatformDestroyListeners");class xS{constructor(o,c){this.name=o,this.token=c}}function Ub(s,o,c=[]){const d=`Platform: ${o}`,f=new En(d);return(g=[])=>{let v=Bb();if(!v||v.injector.get(z1,!1)){const T=[...c,...g,{provide:f,useValue:!0}];s?s(T):function MS(s){if(iu&&!iu.get(z1,!1))throw new Te(400,!1);iu=s;const o=s.get(my);(function Z1(s){const o=s.get(jr,null);o&&o.forEach(c=>c())})(s)}(function Vb(s=[],o){return Bc.create({name:o,providers:[{provide:kc,useValue:"platform"},{provide:Lb,useValue:new Set([()=>iu=null])},...s]})}(T,d))}return function PS(s){const o=Bb();if(!o)throw new Te(401,!1);return o}()}}function Bb(){return iu?.get(my)??null}let my=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function _y(s,o){let c;return c="noop"===s?new Ua:("zone.js"===s?void 0:s)||new _i(o),c}(d?.ngZone,function Hr(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:_i,useValue:f}];return f.run(()=>{const v=Bc.create({providers:g,parent:this.injector,name:c.moduleType.name}),T=c.create(v),D=T.injector.get(mp,null);if(!D)throw new Te(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:x=>{D.handleError(x)}});T.onDestroy(()=>{Ng(this._modules,T),A.unsubscribe()})}),function yy(s,o,c){try{const d=c();return Zp(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(D,f,()=>{const A=T.injector.get(fy);return A.runInitializers(),A.donePromise.then(()=>(H0(T.injector.get(ru,md)||md),this._moduleDoBootstrap(T),T))})})}bootstrapModule(c,d=[]){const f=vy({},d);return function NS(s,o,c){const d=new ib(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Jo);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Te(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Lb,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Kt(Bc))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function vy(s,o){return Array.isArray(o)?o.reduce(vy,s):{...s,...o}}let Jo=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),v=new k.y(T=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{_i.assertNotInAngularZone(),Mb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{_i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{D.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Ih;if(!this._injector.get(fy).done)throw!f&&tn(c),new Te(405,false);let v;v=f?c:this._injector.get(Dl).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const T=function OS(s){return s.isBoundToModule}(v)?void 0:this._injector.get(hf),A=v.create(Bc.NULL,[],d||v.selector,T),x=A.location.nativeElement,L=A.injector.get(kb,null);return L?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),Ng(this.components,A),L?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Ng(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Ab,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Ng(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Kt(_i),Kt(Vr),Kt(mp))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ng(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let Og=!0,su=!1;function Od(){return su=!0,Og}function xd(){if(su)throw new Error("Cannot enable prod mode after platform setup.");Og=!1}let jb=(()=>{class s{}return s.__NG_ELEMENT_ID__=Y1,s})();function Y1(s){return function Q1(s,o,c){if(za(s)&&!c){const d=Xt(s.index,o);return new ud(d,d)}return 47&s.type?new ud(o[16],o):null}(jn(),Ne(),16==(16&s))}class xg{constructor(){}supports(o){return Vp(o)}create(o){return new tD(o)}}const Mg=(s,o)=>o;class tD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Mg}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Rg(d,f,g)?c:d,T=Rg(v,f,g),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const A=T-f,x=D-f;if(A!=x){for(let q=0;q<A;q++){const ne=q<g.length?g[q]:g[q]=0,ve=ne+q;x<=ve&&ve<A&&(g[q]=ne+1)}g[v.previousIndex]=x-A}}T!==D&&o(v,T,D)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Vp(o))throw new Te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)g=o[T],v=this._trackByFn(T,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,T)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,T),d=!0),c=c._next}else f=0,function Bh(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Ri()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,T=>{v=this._trackByFn(f,T),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,T,v,f)),Object.is(c.item,T)||this._addIdentityChange(c,T)):(c=this._mismatch(c,T,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,f)):o=this._addAfter(new nD(c,d),g,f),o}_verifyReinsertion(o,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,g=o._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new zb),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class nD{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fs{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class zb{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new fs,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rg(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class Pg{constructor(){}supports(o){return o instanceof Map||C_(o)}create(){return new rD}}class rD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||C_(o)))throw new Te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new ou(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class ou{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pd(){return new Iy([new xg])}let Iy=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Pd()),deps:[[s,new Ct,new Fe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Pd}),s})();function iD(){return new au([new Pg])}let au=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||iD()),deps:[[s,new Ct,new Fe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:iD}),s})();const HS=Ub(null,"core",[]);let $S=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Kt(Jo))},s.\u0275mod=jt({type:s}),s.\u0275inj=Ut({}),s})();function GS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function KS(s,o){const c=X(s),d=o.elementInjector||Eh();return new dd(c).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(mt,Ce,F)=>{F.d(Ce,{Z:()=>Te});var l=F(2090),te=F(4859),k=F(9681),ae=F(1877);class le{constructor(ye,ge){this._delegate=ye,this.firebase=ge,(0,k._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ye,ge=k._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(ye);return!ft.isInitialized()&&"EXPLICIT"===(null===(it=ft.getComponent())||void 0===it?void 0:it.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:ge})}_removeServiceInstance(ye,ge=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ge)}_addComponent(ye){(0,k._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,k._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function pe(){const lt=function fe(lt){const ye={},ge={__esModule:!0,initializeApp:function Me(Ze,j={}){const _e=k.initializeApp(Ze,j);if((0,l.r3)(ye,_e.name))return ye[_e.name];const W=new lt(_e,ge);return ye[_e.name]=W,W},app:ft,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function De(Ze){const j=Ze.name,_e=j.replace("-compat","");if(k._registerComponent(Ze)&&"PUBLIC"===Ze.type){const W=(ee=ft())=>{if("function"!=typeof ee[_e])throw ce.create("invalid-app-argument",{appName:j});return ee[_e]()};void 0!==Ze.serviceProps&&(0,l.ZB)(W,Ze.serviceProps),ge[_e]=W,lt.prototype[_e]=function(...ee){return this._getService.bind(this,j).apply(this,Ze.multipleInstances?ee:[])}}return"PUBLIC"===Ze.type?ge[_e]:null},removeApp:function it(Ze){delete ye[Ze]},useAsService:function ze(Ze,j){return"serverAuth"===j?null:j},modularAPIs:k}};function ft(Ze){if(!(0,l.r3)(ye,Ze=Ze||k._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Ze});return ye[Ze]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function be(){return Object.keys(ye).map(Ze=>ye[Ze])}}),ft.App=lt,ge}(le);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ye(ge){(0,l.ZB)(lt,ge)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),lt}(),$=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=H;!function Re(lt){(0,k.registerVersion)("@firebase/app-compat","0.1.37",lt)}()},9681:(mt,Ce,F)=>{F.r(Ce),F.d(Ce,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>mo,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>en,_addOrOverwriteComponent:()=>sn,_apps:()=>gn,_clearComponents:()=>ys,_components:()=>Cn,_getProvider:()=>Ut,_registerComponent:()=>qr,_removeServiceInstance:()=>yn,deleteApp:()=>Ga,getApp:()=>Ti,getApps:()=>Ei,initializeApp:()=>Fi,onLog:()=>Hs,registerVersion:()=>Lr,setLogLevel:()=>lr});var l=F(5861),te=F(4859),k=F(1877),ae=F(2090),le=F(8766);class he{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ce(ot){return"VERSION"===ot.getComponent()?.type}(st)){const At=st.getImmediate();return`${At.library}/${At.version}`}return null}).filter(st=>st).join(" ")}}const fe="@firebase/app",H=new k.Yd("@firebase/app"),qt="[DEFAULT]",Xe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Cn=new Map;function en(ot,Ae){try{ot.container.addComponent(Ae)}catch(st){H.debug(`Component ${Ae.name} failed to register with FirebaseApp ${ot.name}`,st)}}function sn(ot,Ae){ot.container.addOrOverwriteComponent(Ae)}function qr(ot){const Ae=ot.name;if(Cn.has(Ae))return H.debug(`There were multiple attempts to register component ${Ae}.`),!1;Cn.set(Ae,ot);for(const st of gn.values())en(st,ot);return!0}function Ut(ot,Ae){const st=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),ot.container.getProvider(Ae)}function yn(ot,Ae,st=qt){Ut(ot,Ae).clearInstance(st)}function ys(){Cn.clear()}const zr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ti{constructor(Ae,st,At){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const mo="9.12.1";function Fi(ot,Ae={}){let st=ot;"object"!=typeof Ae&&(Ae={name:Ae});const At=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Ae),It=At.name;if("string"!=typeof It||!It)throw zr.create("bad-app-name",{appName:String(It)});if(st||(st=(0,ae.aH)()),!st)throw zr.create("no-options");const jt=gn.get(It);if(jt){if((0,ae.vZ)(st,jt.options)&&(0,ae.vZ)(At,jt.config))return jt;throw zr.create("duplicate-app",{appName:It})}const G=new te.H0(It);for(const K of Cn.values())G.addComponent(K);const B=new ti(st,At,G);return gn.set(It,B),B}function Ti(ot=qt){const Ae=gn.get(ot);if(!Ae&&ot===qt)return Fi();if(!Ae)throw zr.create("no-app",{appName:ot});return Ae}function Ei(){return Array.from(gn.values())}function Ga(ot){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(ot){const Ae=ot.name;gn.has(Ae)&&(gn.delete(Ae),yield Promise.all(ot.container.getProviders().map(st=>st.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function Lr(ot,Ae,st){var At;let It=null!==(At=Xe[ot])&&void 0!==At?At:ot;st&&(It+=`-${st}`);const jt=It.match(/\s|\//),G=Ae.match(/\s|\//);if(jt||G){const B=[`Unable to register library "${It}" with version "${Ae}":`];return jt&&B.push(`library name "${It}" contains illegal characters (whitespace or "/")`),jt&&G&&B.push("and"),G&&B.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void H.warn(B.join(" "))}qr(new te.wA(`${It}-version`,()=>({library:It,version:Ae}),"VERSION"))}function Hs(ot,Ae){if(null!==ot&&"function"!=typeof ot)throw zr.create("invalid-log-argument");(0,k.Am)(ot,Ae)}function lr(ot){(0,k.Ub)(ot)}const Kn="firebase-heartbeat-store";let Xn=null;function Tn(){return Xn||(Xn=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(ot,Ae)=>{0===Ae&&ot.createObjectStore(Kn)}}).catch(ot=>{throw zr.create("idb-open",{originalErrorMessage:ot.message})})),Xn}function _t(){return(_t=(0,l.Z)(function*(ot){var Ae;try{return(yield Tn()).transaction(Kn).objectStore(Kn).get(er(ot))}catch(st){if(st instanceof ae.ZR)H.warn(st.message);else{const At=zr.create("idb-get",{originalErrorMessage:null===(Ae=st)||void 0===Ae?void 0:Ae.message});H.warn(At.message)}}})).apply(this,arguments)}function fn(ot,Ae){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(ot,Ae){var st;try{const It=(yield Tn()).transaction(Kn,"readwrite");return yield It.objectStore(Kn).put(Ae,er(ot)),It.done}catch(At){if(At instanceof ae.ZR)H.warn(At.message);else{const It=zr.create("idb-set",{originalErrorMessage:null===(st=At)||void 0===st?void 0:st.message});H.warn(It.message)}}})).apply(this,arguments)}function er(ot){return`${ot.name}!${ot.options.appId}`}class $s{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new cn(st),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ae=this;return(0,l.Z)(function*(){const At=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=ln();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==It&&!Ae._heartbeatsCache.heartbeats.some(jt=>jt.date===It))return Ae._heartbeatsCache.heartbeats.push({date:It,agent:At}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(jt=>{const G=new Date(jt.date).valueOf();return Date.now()-G<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,l.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const st=ln(),{heartbeatsToSend:At,unsentEntries:It}=function Ji(ot,Ae=1024){const st=[];let At=ot.slice();for(const It of ot){const jt=st.find(G=>G.agent===It.agent);if(jt){if(jt.dates.push(It.date),cr(st)>Ae){jt.dates.pop();break}}else if(st.push({agent:It.agent,dates:[It.date]}),cr(st)>Ae){st.pop();break}At=At.slice(1)}return{heartbeatsToSend:st,unsentEntries:At}}(Ae._heartbeatsCache.heartbeats),jt=(0,ae.L)(JSON.stringify({version:2,heartbeats:At}));return Ae._heartbeatsCache.lastSentHeartbeatDate=st,It.length>0?(Ae._heartbeatsCache.heartbeats=It,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),jt})()}}function ln(){return(new Date).toISOString().substring(0,10)}class cn{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,l.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function Tt(ot){return _t.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var st=this;return(0,l.Z)(function*(){var At;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return fn(st.app,{lastSentHeartbeatDate:null!==(At=Ae.lastSentHeartbeatDate)&&void 0!==At?At:jt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var st=this;return(0,l.Z)(function*(){var At;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return fn(st.app,{lastSentHeartbeatDate:null!==(At=Ae.lastSentHeartbeatDate)&&void 0!==At?At:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Ae.heartbeats]})}})()}}function cr(ot){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ot})).length}!function Zr(ot){qr(new te.wA("platform-logger",Ae=>new he(Ae),"PRIVATE")),qr(new te.wA("heartbeat",Ae=>new $s(Ae),"PRIVATE")),Lr(fe,"0.8.2",ot),Lr(fe,"0.8.2","esm2017"),Lr("fire-js","")}("")},4859:(mt,Ce,F)=>{F.d(Ce,{H0:()=>fe,wA:()=>k});var l=F(5861),te=F(2090);class k{constructor(H,$,Q){this.name=H,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ae="[DEFAULT]";class le{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const Q=new te.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:$});He&&Q.resolve(He)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const Q=this.normalizeInstanceIdentifier(H?.identifier),He=null!==($=H?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Re){if(He)return null;throw Re}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ce(pe){return"EAGER"===pe.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier($);try{const Re=this.getOrInitializeService({instanceIdentifier:He});Q.resolve(Re)}catch{}}}}clearInstance(H=ae){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,l.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ae){return this.instances.has(H)}getOptions(H=ae){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,Q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Re,Te]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Re)&&Te.resolve(He);return He}onInit(H,$){var Q;const He=this.normalizeInstanceIdentifier($),Re=null!==(Q=this.onInitCallbacks.get(He))&&void 0!==Q?Q:new Set;Re.add(H),this.onInitCallbacks.set(He,Re);const Te=this.instances.get(He);return Te&&H(Te,He),()=>{Re.delete(H)}}invokeOnInitCallbacks(H,$){const Q=this.onInitCallbacks.get($);if(Q)for(const He of Q)try{He(H,$)}catch{}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let Q=this.instances.get(H);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=H,pe===ae?void 0:pe),options:$}),this.instances.set(H,Q),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(Q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Q)}catch{}var pe;return Q||null}normalizeInstanceIdentifier(H=ae){return this.component?this.component.multipleInstances?H:ae:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new le(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Ce,F)=>{F.d(Ce,{Am:()=>pe,Ub:()=>fe,Yd:()=>ce,in:()=>te});const l=[];var te=(()=>{return(H=te||(te={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",te;var H})();const k={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ae=te.INFO,le={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=(H,$,...Q)=>{if($<H.logLevel)return;const He=(new Date).toISOString(),Re=le[$];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Re](`[${He}]  ${H.name}:`,...Q)};class ce{constructor($){this.name=$,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in te))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?k[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...$),this._logHandler(this,te.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...$),this._logHandler(this,te.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,te.INFO,...$),this._logHandler(this,te.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,te.WARN,...$),this._logHandler(this,te.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...$),this._logHandler(this,te.ERROR,...$)}}function fe(H){l.forEach($=>{$.setLogLevel(H)})}function pe(H,$){for(const Q of l){let He=null;$&&$.level&&(He=k[$.level]),Q.userLogHandler=null===H?null:(Re,Te,...lt)=>{const ye=lt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Te>=(He??Re.logLevel)&&H({level:te[Te].toLowerCase(),message:ye,args:lt,type:Re.name})}}}},8766:(mt,Ce,F)=>{F.d(Ce,{Lj:()=>Me,X3:()=>ft});var l=F(5861);let k,ae;const ce=new WeakMap,fe=new WeakMap,pe=new WeakMap,H=new WeakMap,$=new WeakMap;let Re={get(j,_e,W){if(j instanceof IDBTransaction){if("done"===_e)return fe.get(j);if("objectStoreNames"===_e)return j.objectStoreNames||pe.get(j);if("store"===_e)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ge(j[_e])},set:(j,_e,W)=>(j[_e]=W,!0),has:(j,_e)=>j instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in j};function ye(j){return"function"==typeof j?function lt(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(..._e){return j.apply(it(this),_e),ge(ce.get(this))}:function(..._e){return ge(j.apply(it(this),_e))}:function(_e,...W){const ee=j.call(it(this),_e,...W);return pe.set(ee,_e.sort?_e.sort():[_e]),ge(ee)}}(j):(j instanceof IDBTransaction&&function He(j){if(fe.has(j))return;const _e=new Promise((W,ee)=>{const se=()=>{j.removeEventListener("complete",re),j.removeEventListener("error",Be),j.removeEventListener("abort",Be)},re=()=>{W(),se()},Be=()=>{ee(j.error||new DOMException("AbortError","AbortError")),se()};j.addEventListener("complete",re),j.addEventListener("error",Be),j.addEventListener("abort",Be)});fe.set(j,_e)}(j),((j,_e)=>_e.some(W=>j instanceof W))(j,function le(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Re):j)}function ge(j){if(j instanceof IDBRequest)return function Q(j){const _e=new Promise((W,ee)=>{const se=()=>{j.removeEventListener("success",re),j.removeEventListener("error",Be)},re=()=>{W(ge(j.result)),se()},Be=()=>{ee(j.error),se()};j.addEventListener("success",re),j.addEventListener("error",Be)});return _e.then(W=>{W instanceof IDBCursor&&ce.set(W,j)}).catch(()=>{}),$.set(_e,j),_e}(j);if(H.has(j))return H.get(j);const _e=ye(j);return _e!==j&&(H.set(j,_e),$.set(_e,j)),_e}const it=j=>$.get(j);function ft(j,_e,{blocked:W,upgrade:ee,blocking:se,terminated:re}={}){const Be=indexedDB.open(j,_e),Ve=ge(Be);return ee&&Be.addEventListener("upgradeneeded",wt=>{ee(ge(Be.result),wt.oldVersion,wt.newVersion,ge(Be.transaction))}),W&&Be.addEventListener("blocked",()=>W()),Ve.then(wt=>{re&&wt.addEventListener("close",()=>re()),se&&wt.addEventListener("versionchange",()=>se())}).catch(()=>{}),Ve}function Me(j,{blocked:_e}={}){const W=indexedDB.deleteDatabase(j);return _e&&W.addEventListener("blocked",()=>_e()),ge(W).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],ze=new Map;function Ze(j,_e){if(!(j instanceof IDBDatabase)||_e in j||"string"!=typeof _e)return;if(ze.get(_e))return ze.get(_e);const W=_e.replace(/FromIndex$/,""),ee=_e!==W,se=De.includes(W);if(!(W in(ee?IDBIndex:IDBObjectStore).prototype)||!se&&!be.includes(W))return;const re=function(){var Be=(0,l.Z)(function*(Ve,...wt){const rn=this.transaction(Ve,se?"readwrite":"readonly");let qt=rn.store;return ee&&(qt=qt.index(wt.shift())),(yield Promise.all([qt[W](...wt),se&&rn.done]))[0]});return function(wt){return Be.apply(this,arguments)}}();return ze.set(_e,re),re}!function Te(j){Re=j(Re)}(j=>({...j,get:(_e,W,ee)=>Ze(_e,W)||j.get(_e,W,ee),has:(_e,W)=>!!Ze(_e,W)||j.has(_e,W)}))},5861:(mt,Ce,F)=>{function l(k,ae,le,he,ce,fe,pe){try{var H=k[fe](pe),$=H.value}catch(Q){return void le(Q)}H.done?ae($):Promise.resolve($).then(he,ce)}function te(k){return function(){var ae=this,le=arguments;return new Promise(function(he,ce){var fe=k.apply(ae,le);function pe($){l(fe,he,ce,pe,H,"next",$)}function H($){l(fe,he,ce,pe,H,"throw",$)}pe(void 0)})}}F.d(Ce,{Z:()=>te})}},mt=>{mt(mt.s=9959)}]);