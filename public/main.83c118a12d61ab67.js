"use strict";(self.webpackChunkClinicaOnline=self.webpackChunkClinicaOnline||[]).push([[179],{2011:(mt,Ie,F)=>{F.d(Ie,{Dh:()=>fe,GT:()=>he,cc:()=>Re,hO:()=>je,on:()=>$,pX:()=>ce,xv:()=>pe});var l=F(4650),te=F(127),P=F(5813);mt=F.hmd(mt);const le=["ngOnDestroy"],ce=(ge,st,ft,Oe={})=>new Proxy(ge,{get:(be,De)=>ft.runOutsideAngular(()=>{var qe;if(ge[De])return!(null===(qe=Oe?.spy)||void 0===qe)&&qe.get&&Oe.spy.get(De,ge[De]),ge[De];if(le.indexOf(De)>-1)return()=>{};const We=st.toPromise().then(j=>{const _e=j&&j[De];return"function"==typeof _e?_e.bind(j):_e&&_e.then?_e.then(Z=>ft.run(()=>Z)):ft.run(()=>_e)});return new Proxy(()=>{},{get:(j,_e)=>We[_e],apply:(j,_e,Z)=>We.then(ee=>{var oe;const re=ee&&ee(...Z);return!(null===(oe=Oe?.spy)||void 0===oe)&&oe.apply&&Oe.spy.apply(De,Z,re),re})})})}),he=(ge,st)=>{st.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Oe=>{Object.defineProperty(ge.prototype,Oe,Object.getOwnPropertyDescriptor(ft.prototype||ft,Oe))})})};class ie{constructor(st){return st}}const fe=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function $(ge,st,ft){const be="object"==typeof ft&&ft||{};be.name=be.name||"string"==typeof ft&&ft||"[DEFAULT]";const qe=te.Z.apps.filter(We=>We&&We.name===be.name)[0]||st.runOutsideAngular(()=>te.Z.initializeApp(ge,be));try{JSON.stringify(ge)!==JSON.stringify(qe.options)&&G("error",`${qe.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(qe)}const G=(ge,...st)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...st)},Q={provide:ie,useFactory:$,deps:[fe,l.R0b,[new l.FiY,pe]]};let je=(()=>{class ge{constructor(ft){te.Z.registerVersion("angularfire",P.q4.full,"core"),te.Z.registerVersion("angularfire",P.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,ft.toString())}static initializeApp(ft,Oe){return{ngModule:ge,providers:[{provide:fe,useValue:ft},{provide:pe,useValue:Oe}]}}}return ge.\u0275fac=function(ft){return new(ft||ge)(l.LFG(l.Lbi))},ge.\u0275mod=l.oAB({type:ge}),ge.\u0275inj=l.cJS({providers:[Q]}),ge})();function Re(ge,st,ft,Oe,be){const[,De,qe]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===ge)||[];if(De)return function Te(ge,st){try{return ge.toString()===st.toString()}catch{return ge===st}}(be,qe)||(ye("error",`${st} was already initialized on the ${ft} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:be,was:qe})),De;{const We=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ge,We,be]),We}}const lt=!!mt.hot,ye=(ge,...st)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Ie,F)=>{F.d(Ie,{q4:()=>Ze,iC:()=>Ps,fc:()=>Gn,HU:()=>hr,vb:()=>Gr,JM:()=>vl});var l=F(4650),te=F(5867),P=F(5861),le=F(9681),ce=F(2090),he=F(4859),ie=F(1877),fe=F(8766);const pe="@firebase/installations",$="0.5.15",Q=`w:${$}`,je="FIS_v2",st=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function Oe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function be(D){return{token:D.token,requestStatus:2,expiresIn:ee(D.expiresIn),creationTime:Date.now()}}function De(D,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(D,S){const V=(yield S.json()).error;return st.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function We({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function j(D,{refreshToken:S}){const N=We(D);return N.append("Authorization",function oe(D){return`${je} ${D}`}(S)),N}function _e(D){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function ee(D){return Number(D.replace("s","000"))}function re(D,S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:N}){const V=Oe(D),J=We(D),se=S.getImmediate({optional:!0});if(se){const St=yield se.getHeartbeatsHeader();St&&J.append("x-firebase-client",St)}const Pe={method:"POST",headers:J,body:JSON.stringify({fid:N,authVersion:je,appId:D.appId,sdkVersion:Q})},ct=yield _e(()=>fetch(V,Pe));if(ct.ok){const St=yield ct.json();return{fid:St.fid||N,registrationStatus:2,refreshToken:St.refreshToken,authToken:be(St.authToken)}}throw yield De("Create Installation",ct)})).apply(this,arguments)}function Ve(D){return new Promise(S=>{setTimeout(S,D)})}const rn=/^[cdef][\w-]{21}$/;function tt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function mn(D){return function wt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return rn.test(N)?N:""}catch{return""}}function Sn(D){return`${D.appName}!${D.appId}`}const tn=new Map;function sn(D,S){const N=Sn(D);vn(N,S),function Ts(D,S){const N=function Ki(){return!Lr&&"BroadcastChannel"in self&&(Lr=new BroadcastChannel("[Firebase] FID Change"),Lr.onmessage=D=>{vn(D.data.key,D.data.fid)}),Lr}();N&&N.postMessage({key:D,fid:S}),function sr(){0===tn.size&&Lr&&(Lr.close(),Lr=null)}()}(N,S)}function vn(D,S){const N=tn.get(D);if(N)for(const V of N)V(S)}let Lr=null;const Cr="firebase-installations-store";let Dr=null;function Ya(){return Dr||(Dr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Cr)}})),Dr}function nt(D,S){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,P.Z)(function*(D,S){const N=Sn(D),J=(yield Ya()).transaction(Cr,"readwrite"),se=J.objectStore(Cr),Ce=yield se.get(N);return yield se.put(S,N),yield J.done,(!Ce||Ce.fid!==S.fid)&&sn(D,S.fid),S})).apply(this,arguments)}function Zs(D){return hi.apply(this,arguments)}function hi(){return(hi=(0,P.Z)(function*(D){const S=Sn(D),V=(yield Ya()).transaction(Cr,"readwrite");yield V.objectStore(Cr).delete(S),yield V.done})).apply(this,arguments)}function Ir(D,S){return ns.apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*(D,S){const N=Sn(D),J=(yield Ya()).transaction(Cr,"readwrite"),se=J.objectStore(Cr),Ce=yield se.get(N),Pe=S(Ce);return void 0===Pe?yield se.delete(N):yield se.put(Pe,N),yield J.done,Pe&&(!Ce||Ce.fid!==Pe.fid)&&sn(D,Pe.fid),Pe})).apply(this,arguments)}function Kn(D){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(D){let S;const N=yield Ir(D.appConfig,V=>{const J=Cn(V),se=Et(D,J);return S=se.registrationPromise,se.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function Cn(D){return Pt(D||{fid:tt(),registrationStatus:0})}function Et(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(st.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function _t(D,S){return pn.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:xi(D)}:{installationEntry:S}}function pn(){return(pn=(0,P.Z)(function*(D,S){try{const N=yield re(D,S);return nt(D.appConfig,N)}catch(N){throw ft(N)&&409===N.customData.serverCode?yield Zs(D.appConfig):yield nt(D.appConfig,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function xi(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(D){let S=yield or(D.appConfig);for(;1===S.registrationStatus;)yield Ve(100),S=yield or(D.appConfig);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:V}=yield Kn(D);return V||N}return S})).apply(this,arguments)}function or(D){return Ir(D,S=>{if(!S)throw st.create("installation-not-found");return Pt(S)})}function Pt(D){return function Ks(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function cn(D,S){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:S},N){const V=un(D,N),J=j(D,N),se=S.getImmediate({optional:!0});if(se){const St=yield se.getHeartbeatsHeader();St&&J.append("x-firebase-client",St)}const Pe={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:D.appId}})},ct=yield _e(()=>fetch(V,Pe));if(ct.ok)return be(yield ct.json());throw yield De("Generate Auth Token",ct)})).apply(this,arguments)}function un(D,{fid:S}){return`${Oe(D)}/${S}/authTokens:generate`}function fi(D){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,P.Z)(function*(D,S=!1){let N;const V=yield Ir(D.appConfig,se=>{if(!$t(se))throw st.create("not-registered");const Ce=se.authToken;if(!S&&z(Ce))return se;if(1===Ce.requestStatus)return N=at(D,S),se;{if(!navigator.onLine)throw st.create("app-offline");const Pe=K(se);return N=Mt(D,Pe),Pe}});return N?yield N:V.authToken})).apply(this,arguments)}function at(D,S){return Me.apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*(D,S){let N=yield ot(D.appConfig);for(;1===N.authToken.requestStatus;)yield Ve(100),N=yield ot(D.appConfig);const V=N.authToken;return 0===V.requestStatus?fi(D,S):V})).apply(this,arguments)}function ot(D){return Ir(D,S=>{if(!$t(S))throw st.create("not-registered");return function Ee(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Mt(D,S){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,P.Z)(function*(D,S){try{const N=yield cn(D,S),V=Object.assign(Object.assign({},S),{authToken:N});return yield nt(D.appConfig,V),N}catch(N){if(!ft(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield nt(D.appConfig,V)}else yield Zs(D.appConfig);throw N}})).apply(this,arguments)}function $t(D){return void 0!==D&&2===D.registrationStatus}function z(D){return 2===D.requestStatus&&!function U(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function K(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function Qe(){return(Qe=(0,P.Z)(function*(D){const S=D,{installationEntry:N,registrationPromise:V}=yield Kn(S);return V?V.catch(console.error):fi(S).catch(console.error),N.fid})).apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(D,S=!1){const N=D;return yield En(N),(yield fi(N,S)).token})).apply(this,arguments)}function En(D){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(D){const{registrationPromise:S}=yield Kn(D);S&&(yield S)})).apply(this,arguments)}function Ys(D){return st.create("missing-app-config-values",{valueName:D})}const la="installations",xn=D=>{const S=D.getProvider("app").getImmediate(),N=function An(D){if(!D||!D.options)throw Ys("App Configuration");if(!D.name)throw Ys("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!D.options[N])throw Ys(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:N,heartbeatServiceProvider:(0,le._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},bo=D=>{const S=D.getProvider("app").getImmediate(),N=(0,le._getProvider)(S,la).getImmediate();return{getId:()=>function X(D){return Qe.apply(this,arguments)}(N),getToken:J=>function yt(D){return nn.apply(this,arguments)}(N,J)}};(function Jl(){(0,le._registerComponent)(new he.wA(la,xn,"PUBLIC")),(0,le._registerComponent)(new he.wA("installations-internal",bo,"PRIVATE"))})(),(0,le.registerVersion)(pe,$),(0,le.registerVersion)(pe,$,"esm2017");const rs="@firebase/remote-config",ii=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jd{constructor(S,N,V,J){this.client=S,this.storage=N,this.storageCache=V,this.logger=J}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-N,J=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var N=this;return(0,P.Z)(function*(){const[V,J]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(J&&N.isCachedDataFresh(S.cacheMaxAgeMillis,V))return J;S.eTag=J&&J.eTag;const se=yield N.client.fetch(S),Ce=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ce.push(N.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ce),se})()}}function Eo(D=navigator){return D.languages&&D.languages[0]||D.language}class xu{constructor(S,N,V,J,se,Ce){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=V,this.projectId=J,this.apiKey=se,this.appId=Ce}fetch(S){var N=this;return(0,P.Z)(function*(){var V,J,se;const[Ce,Pe]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},vt={sdk_version:N.sdkVersion,app_instance_id:Ce,app_instance_id_token:Pe,app_id:N.appId,language_code:Eo()},kn={method:"POST",headers:Ft,body:JSON.stringify(vt)},Pi=fetch(St,kn),Bo=new Promise((Ta,Vo)=>{S.signal.addEventListener(()=>{const Zr=new Error("The operation was aborted.");Zr.name="AbortError",Vo(Zr)})});let Fs;try{yield Promise.race([Pi,Bo]),Fs=yield Pi}catch(Ta){let Vo="fetch-client-network";throw"AbortError"===(null===(V=Ta)||void 0===V?void 0:V.name)&&(Vo="fetch-timeout"),ii.create(Vo,{originalErrorMessage:null===(J=Ta)||void 0===J?void 0:J.message})}let Lt=Fs.status;const ls=Fs.headers.get("ETag")||void 0;let uo,Nr;if(200===Fs.status){let Ta;try{Ta=yield Fs.json()}catch(Vo){throw ii.create("fetch-client-parse",{originalErrorMessage:null===(se=Vo)||void 0===se?void 0:se.message})}uo=Ta.entries,Nr=Ta.state}if("INSTANCE_STATE_UNSPECIFIED"===Nr?Lt=500:"NO_CHANGE"===Nr?Lt=304:("NO_TEMPLATE"===Nr||"EMPTY_CONFIG"===Nr)&&(uo={}),304!==Lt&&200!==Lt)throw ii.create("fetch-status",{httpStatus:Lt});return{status:Lt,eTag:ls,config:uo}})()}}class vm{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,P.Z)(function*(){const V=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:V}){var J=this;return(0,P.Z)(function*(){yield function gi(D,S){return new Promise((N,V)=>{const J=Math.max(S-Date.now(),0),se=setTimeout(N,J);D.addEventListener(()=>{clearTimeout(se),V(ii.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const se=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),se}catch(se){if(!function Xd(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(se))throw se;const Ce={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield J.storage.setThrottleMetadata(Ce),J.attemptFetch(S,Ce)}})()}}class eh{constructor(S,N,V,J,se){this.app=S,this._client=N,this._storageCache=V,this._storage=J,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ru(D,S){var N;const V=D.target.error||void 0;return ii.create(S,{originalErrorMessage:V&&(null===(N=V)||void 0===N?void 0:N.message)})}const eo="app_namespace_store";class Tm{constructor(S,N,V,J=function Em(){return new Promise((D,S)=>{var N;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=J=>{S(Ru(J,"storage-open"))},V.onsuccess=J=>{D(J.target.result)},V.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(eo,{keyPath:"compositeKey"})}}catch(V){S(ii.create("storage-open",{originalErrorMessage:null===(N=V)||void 0===N?void 0:N.message}))}})}()){this.appId=S,this.appName=N,this.namespace=V,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,P.Z)(function*(){const V=yield N.openDbPromise;return new Promise((J,se)=>{var Ce;const ct=V.transaction([eo],"readonly").objectStore(eo),St=N.createCompositeKey(S);try{const Ft=ct.get(St);Ft.onerror=vt=>{se(Ru(vt,"storage-get"))},Ft.onsuccess=vt=>{const kn=vt.target.result;J(kn?kn.value:void 0)}}catch(Ft){se(ii.create("storage-get",{originalErrorMessage:null===(Ce=Ft)||void 0===Ce?void 0:Ce.message}))}})})()}set(S,N){var V=this;return(0,P.Z)(function*(){const J=yield V.openDbPromise;return new Promise((se,Ce)=>{var Pe;const St=J.transaction([eo],"readwrite").objectStore(eo),Ft=V.createCompositeKey(S);try{const vt=St.put({compositeKey:Ft,value:N});vt.onerror=kn=>{Ce(Ru(kn,"storage-set"))},vt.onsuccess=()=>{se()}}catch(vt){Ce(ii.create("storage-set",{originalErrorMessage:null===(Pe=vt)||void 0===Pe?void 0:Pe.message}))}})})()}delete(S){var N=this;return(0,P.Z)(function*(){const V=yield N.openDbPromise;return new Promise((J,se)=>{var Ce;const ct=V.transaction([eo],"readwrite").objectStore(eo),St=N.createCompositeKey(S);try{const Ft=ct.delete(St);Ft.onerror=vt=>{se(Ru(vt,"storage-delete"))},Ft.onsuccess=()=>{J()}}catch(Ft){se(ii.create("storage-delete",{originalErrorMessage:null===(Ce=Ft)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class nh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const N=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),se=yield N;se&&(S.lastFetchStatus=se);const Ce=yield V;Ce&&(S.lastSuccessfulFetchTimestampMillis=Ce);const Pe=yield J;Pe&&(S.activeConfig=Pe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function tc(){return ep.apply(this,arguments)}function ep(){return(ep=(0,P.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function to(){(0,le._registerComponent)(new he.wA("remote-config",function D(S,{instanceIdentifier:N}){const V=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,ce.hl)())throw ii.create("indexed-db-unavailable");const{projectId:se,apiKey:Ce,appId:Pe}=V.options;if(!se)throw ii.create("registration-project-id");if(!Ce)throw ii.create("registration-api-key");if(!Pe)throw ii.create("registration-app-id");const ct=new Tm(Pe,V.name,N=N||"firebase"),St=new nh(ct),Ft=new ie.Yd(rs);Ft.logLevel=ie.in.ERROR;const vt=new xu(J,le.SDK_VERSION,N,se,Ce,Pe),kn=new vm(vt,ct),Pi=new Jd(kn,ct,St,Ft),Bo=new eh(V,Pi,St,ct,Ft);return function dn(D){const S=(0,ce.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Bo),Bo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(rs,"0.3.14"),(0,le.registerVersion)(rs,"0.3.14","esm2017")}();const ss="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",Is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xa="google.c.a.c_id",nc="google.c.a.c_l",ku="google.c.a.ts",tp="google.c.a.e";var Ss=(()=>{return(D=Ss||(Ss={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ss;var D})();function Sr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lr(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(N),J=new Uint8Array(V.length);for(let se=0;se<V.length;++se)J[se]=V.charCodeAt(se);return J}const ca="fcm_token_details_db",ki="fcm_token_object_Store";function np(D){return ip.apply(this,arguments)}function ip(){return ip=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(ca))return null;let S=null;return(yield(0,fe.X3)(ca,5,{upgrade:(V=(0,P.Z)(function*(J,se,Ce,Pe){var ct;if(se<2||!J.objectStoreNames.contains(ki))return;const St=Pe.objectStore(ki),Ft=yield St.index("fcmSenderId").get(D);if(yield St.clear(),Ft)if(2===se){const vt=Ft;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;S={token:vt.fcmToken,createTime:null!==(ct=vt.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:Sr(vt.vapidKey)}}}else if(3===se){const vt=Ft;S={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Sr(vt.auth),p256dh:Sr(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Sr(vt.vapidKey)}}}else if(4===se){const vt=Ft;S={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Sr(vt.auth),p256dh:Sr(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Sr(vt.vapidKey)}}}}),function(se,Ce,Pe,ct){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ca),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Un(S)?S:null;var V}),ip.apply(this,arguments)}function Un(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ar="firebase-messaging-store";let Ji=null;function sc(){return Ji||(Ji=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Ar)}})),Ji}function ua(D){return As.apply(this,arguments)}function As(){return(As=(0,P.Z)(function*(D){const S=Hr(D),V=yield(yield sc()).transaction(Ar).objectStore(Ar).get(S);if(V)return V;{const J=yield np(D.appConfig.senderId);if(J)return yield en(D,J),J}})).apply(this,arguments)}function en(D,S){return oc.apply(this,arguments)}function oc(){return(oc=(0,P.Z)(function*(D,S){const N=Hr(D),J=(yield sc()).transaction(Ar,"readwrite");return yield J.objectStore(Ar).put(S,N),yield J.done,S})).apply(this,arguments)}function Co(D){return ac.apply(this,arguments)}function ac(){return(ac=(0,P.Z)(function*(D){const S=Hr(D),V=(yield sc()).transaction(Ar,"readwrite");yield V.objectStore(Ar).delete(S),yield V.done})).apply(this,arguments)}function Hr({appConfig:D}){return D.appId}const Bn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ot(D,S){return cc.apply(this,arguments)}function cc(){return(cc=(0,P.Z)(function*(D,S){var N;const V=yield Fu(D),J=Ne(S),se={method:"POST",headers:V,body:JSON.stringify(J)};let Ce;try{Ce=yield(yield fetch(Ms(D.appConfig),se)).json()}catch(Pe){throw Bn.create("token-subscribe-failed",{errorInfo:null===(N=Pe)||void 0===N?void 0:N.toString()})}if(Ce.error)throw Bn.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Bn.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function sp(D,S){return uc.apply(this,arguments)}function uc(){return(uc=(0,P.Z)(function*(D,S){var N;const V=yield Fu(D),J=Ne(S.subscriptionOptions),se={method:"PATCH",headers:V,body:JSON.stringify(J)};let Ce;try{Ce=yield(yield fetch(`${Ms(D.appConfig)}/${S.token}`,se)).json()}catch(Pe){throw Bn.create("token-update-failed",{errorInfo:null===(N=Pe)||void 0===N?void 0:N.toString()})}if(Ce.error)throw Bn.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Bn.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function dc(D,S){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,P.Z)(function*(D,S){var N;const J={method:"DELETE",headers:yield Fu(D)};try{const Ce=yield(yield fetch(`${Ms(D.appConfig)}/${S}`,J)).json();if(Ce.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(se){throw Bn.create("token-unsubscribe-failed",{errorInfo:null===(N=se)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function Ms({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Fu(D){return el.apply(this,arguments)}function el(){return(el=(0,P.Z)(function*({appConfig:D,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ne({p256dh:D,auth:S,endpoint:N,vapidKey:V}){const J={web:{endpoint:N,auth:S,p256dh:D}};return V!==Is&&(J.web.applicationPubKey=V),J}const Yt=6048e5;function hc(D){return fc.apply(this,arguments)}function fc(){return(fc=(0,P.Z)(function*(D){const S=yield Lu(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Sr(S.getKey("auth")),p256dh:Sr(S.getKey("p256dh"))},V=yield ua(D.firebaseDependencies);if(V){if(sh(V.subscriptionOptions,N))return Date.now()>=V.createTime+Yt?da(D,{token:V.token,createTime:Date.now(),subscriptionOptions:N}):V.token;try{yield dc(D.firebaseDependencies,V.token)}catch(J){console.warn(J)}return tl(D.firebaseDependencies,N)}return tl(D.firebaseDependencies,N)})).apply(this,arguments)}function Hn(D){return pc.apply(this,arguments)}function pc(){return(pc=(0,P.Z)(function*(D){const S=yield ua(D.firebaseDependencies);S&&(yield dc(D.firebaseDependencies,S.token),yield Co(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function da(D,S){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,P.Z)(function*(D,S){try{const N=yield sp(D.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield en(D.firebaseDependencies,V),N}catch(N){throw yield Hn(D),N}})).apply(this,arguments)}function tl(D,S){return nl.apply(this,arguments)}function nl(){return(nl=(0,P.Z)(function*(D,S){const V={token:yield Ot(D,S),createTime:Date.now(),subscriptionOptions:S};return yield en(D,V),V.token})).apply(this,arguments)}function Lu(D,S){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,P.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lr(S)})})).apply(this,arguments)}function sh(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function il(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function jn(D,S){if(!S.notification)return;D.notification={};const N=S.notification.title;N&&(D.notification.title=N);const V=S.notification.body;V&&(D.notification.body=V);const J=S.notification.image;J&&(D.notification.image=J)}(S,D),function os(D,S){!S.data||(D.data=S.data)}(S,D),function Vu(D,S){var N,V,J,se,Ce;if(!(S.fcmOptions||null!==(N=S.notification)&&void 0!==N&&N.click_action))return;D.fcmOptions={};const Pe=null!==(J=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==J?J:null===(se=S.notification)||void 0===se?void 0:se.click_action;Pe&&(D.fcmOptions.link=Pe);const ct=null===(Ce=S.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;ct&&(D.fcmOptions.analyticsLabel=ct)}(S,D),S}function Do(D){return"object"==typeof D&&!!D&&Xa in D}function Ns(D,S){const N=[];for(let V=0;V<D.length;V++)N.push(D.charAt(V)),V<S.length&&N.push(S.charAt(V));return N.join("")}function rl(D){return Bn.create("missing-app-config-values",{valueName:D})}Ns("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ns("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dm{constructor(S,N,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Cm(D){if(!D||!D.options)throw rl("App Configuration Object");if(!D.name)throw rl("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const V of S)if(!N[V])throw rl(V);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:N,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Uu(D){return gc.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(ss,{scope:Ds}),D.swRegistration.update().catch(()=>{})}catch(N){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=N)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function sl(D,S){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,P.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield Uu(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function ol(D,S){return ju.apply(this,arguments)}function ju(){return(ju=(0,P.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=Is)})).apply(this,arguments)}function _c(){return(_c=(0,P.Z)(function*(D,S){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield ol(D,S?.vapidKey),yield sl(D,S?.serviceWorkerRegistration),hc(D)})).apply(this,arguments)}function $u(D,S,N){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,P.Z)(function*(D,S,N){const V=zu(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:N[Xa],message_name:N[nc],message_time:N[ku],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zu(D){switch(D){case Ss.NOTIFICATION_CLICKED:return"notification_open";case Ss.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Io(){return(Io=(0,P.Z)(function*(D,S){const N=S.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===Ss.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(il(N)):D.onMessageHandler.next(il(N)));const V=N.data;Do(V)&&"1"===V[tp]&&(yield $u(D,N.messageType,V))})).apply(this,arguments)}const So="@firebase/messaging",mi=D=>{const S=new Dm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function oh(D,S){return Io.apply(this,arguments)}(S,N)),S},cr=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:V=>function mc(D,S){return _c.apply(this,arguments)}(S,V)}};function qu(){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,P.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mn(){(0,le._registerComponent)(new he.wA("messaging",mi,"PUBLIC")),(0,le._registerComponent)(new he.wA("messaging-internal",cr,"PRIVATE")),(0,le.registerVersion)(So,"0.9.19"),(0,le.registerVersion)(So,"0.9.19","esm2017")}();const fa="analytics",ch="firebase_id",Mo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wc="https://www.googletagmanager.com/gtag/js",$n=new ie.Yd("@firebase/analytics");function Ec(D){return Promise.all(D.map(S=>S.catch(N=>N)))}function Tc(D,S){const N=document.createElement("script");N.src=`${wc}?l=${D}&id=${S}`,N.async=!0,document.head.appendChild(N)}function ap(D,S,N,V,J,se){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(D,S,N,V,J,se){const Ce=V[J];try{if(Ce)yield S[Ce];else{const ct=(yield Ec(N)).find(St=>St.measurementId===J);ct&&(yield S[ct.appId])}}catch(Pe){$n.error(Pe)}D("config",J,se)})).apply(this,arguments)}function pa(D,S,N,V,J){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,P.Z)(function*(D,S,N,V,J){try{let se=[];if(J&&J.send_to){let Ce=J.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Pe=yield Ec(N);for(const ct of Ce){const St=Pe.find(vt=>vt.measurementId===ct),Ft=St&&S[St.appId];if(!Ft){se=[];break}se.push(Ft)}}0===se.length&&(se=Object.values(S)),yield Promise.all(se),D("event",V,J||{})}catch(se){$n.error(se)}})).apply(this,arguments)}function dh(D){const S=window.document.getElementsByTagName("script");for(const N of Object.values(S))if(N.src&&N.src.includes(wc)&&N.src.includes(D))return N;return null}const Ci=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ul=new class as{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function fh(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function dl(D){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,P.Z)(function*(D){var S;const{appId:N,apiKey:V}=D,J={method:"GET",headers:fh(V)},se=Mo.replace("{app-id}",N),Ce=yield fetch(se,J);if(200!==Ce.status&&304!==Ce.status){let Pe="";try{const ct=yield Ce.json();null!==(S=ct.error)&&void 0!==S&&S.message&&(Pe=ct.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Pe})}return Ce.json()})).apply(this,arguments)}function Qn(D){return jr.apply(this,arguments)}function jr(){return(jr=(0,P.Z)(function*(D,S=ul,N){const{appId:V,apiKey:J,measurementId:se}=D.options;if(!V)throw Ci.create("no-app-id");if(!J){if(se)return{measurementId:se,appId:V};throw Ci.create("no-api-key")}const Ce=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new Sc;return setTimeout((0,P.Z)(function*(){Pe.abort()}),void 0!==N?N:6e4),Dc({appId:V,apiKey:J,measurementId:se},Ce,Pe,S)})).apply(this,arguments)}function Dc(D,S,N){return xo.apply(this,arguments)}function xo(){return(xo=(0,P.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:N},V,J=ul){var se,Ce;const{appId:Pe,measurementId:ct}=D;try{yield hl(V,S)}catch(St){if(ct)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${null===(se=St)||void 0===se?void 0:se.message}]`),{appId:Pe,measurementId:ct};throw St}try{const St=yield dl(D);return J.deleteThrottleMetadata(Pe),St}catch(St){const Ft=St;if(!Ic(Ft)){if(J.deleteThrottleMetadata(Pe),ct)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:Pe,measurementId:ct};throw St}const vt=503===Number(null===(Ce=Ft?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ce.$s)(N,J.intervalMillis,30):(0,ce.$s)(N,J.intervalMillis),kn={throttleEndTimeMillis:Date.now()+vt,backoffCount:N+1};return J.setThrottleMetadata(Pe,kn),$n.debug(`Calling attemptFetch again in ${vt} millis`),Dc(D,kn,V,J)}})).apply(this,arguments)}function hl(D,S){return new Promise((N,V)=>{const J=Math.max(S-Date.now(),0),se=setTimeout(N,J);D.addEventListener(()=>{clearTimeout(se),V(Ci.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Ic(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Sc{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ro,pl;function so(){return(so=(0,P.Z)(function*(D,S,N,V,J){if(J&&J.global)D("event",N,V);else{const se=yield S;D("event",N,Object.assign(Object.assign({},V),{send_to:se}))}})).apply(this,arguments)}function ko(D){pl=D}function Qu(D){ro=D}function xs(){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,P.Z)(function*(){var D;if(!(0,ce.hl)())return $n.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(S){return $n.warn(Ci.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return(_a=(0,P.Z)(function*(D,S,N,V,J,se,Ce){var Pe;const ct=Qn(D);ct.then(Pi=>{N[Pi.measurementId]=Pi.appId,D.options.measurementId&&Pi.measurementId!==D.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pi=>$n.error(Pi)),S.push(ct);const St=xs().then(Pi=>{if(Pi)return V.getId()}),[Ft,vt]=yield Promise.all([ct,St]);dh(se)||Tc(se,Ft.measurementId),pl&&(J("consent","default",pl),ko(void 0)),J("js",new Date);const kn=null!==(Pe=Ce?.config)&&void 0!==Pe?Pe:{};return kn.origin="firebase",kn.update=!0,null!=vt&&(kn[ch]=vt),J("config",Ft.measurementId,kn),ro&&(J("set",ro),Qu(void 0)),Ft.measurementId})).apply(this,arguments)}class Oc{constructor(S){this.app=S}_delete(){return delete ur[this.app.options.appId],Promise.resolve()}}let ur={},oo=[];const ya={};let ba,Po,va="dataLayer",gl=!1;function vv(D,S,N){!function Im(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((V,J)=>`(${J+1}) ${V}`).join(" "),N=Ci.create("invalid-analytics-context",{errorInfo:S});$n.warn(N.message)}}();const V=D.options.appId;if(!V)throw Ci.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ci.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ur[V])throw Ci.create("already-exists",{id:V});if(!gl){!function uh(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(va);const{wrappedGtag:se,gtagCore:Ce}=function al(D,S,N,V,J){let se=function(...Ce){window[V].push(arguments)};return window[J]&&"function"==typeof window[J]&&(se=window[J]),window[J]=function Cc(D,S,N,V){function se(){return(se=(0,P.Z)(function*(Ce,Pe,ct){try{"event"===Ce?yield pa(D,S,N,Pe,ct):"config"===Ce?yield ap(D,S,N,V,Pe,ct):"consent"===Ce?D("consent","update",ct):D("set",Pe)}catch(St){$n.error(St)}})).apply(this,arguments)}return function J(Ce,Pe,ct){return se.apply(this,arguments)}}(se,D,S,N),{gtagCore:se,wrappedGtag:window[J]}}(ur,oo,ya,va,"gtag");Po=se,ba=Ce,gl=!0}return ur[V]=function ma(D,S,N,V,J,se,Ce){return _a.apply(this,arguments)}(D,oo,ya,S,ba,va,N),new Oc(D)}function wv(){return lp.apply(this,arguments)}function lp(){return(lp=(0,P.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function an(){(0,le._registerComponent)(new he.wA(fa,(S,{options:N})=>vv(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,le._registerComponent)(new he.wA("analytics-internal",function D(S){try{const N=S.getProvider(fa).getImmediate();return{logEvent:(V,J,se)=>function on(D,S,N,V){D=(0,ce.m9)(D),function ph(D,S,N,V,J){return so.apply(this,arguments)}(Po,ur[D.app.options.appId],S,N,V).catch(J=>$n.error(J))}(N,V,J,se)}}catch(N){throw Ci.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,le.registerVersion)(Xe,"0.8.3"),(0,le.registerVersion)(Xe,"0.8.3","esm2017")}();var $r=F(4408),Rn=F(7565);const Rc=new class ao extends Rn.v{}(class ml extends $r.o{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,N,V):(S.flush(this),0)}});var Ju=F(4986),_l=F(8505),Lo=F(5363),Rs=F(9468);const Ze=new l.GfV("7.4.1"),yl="__angularfire_symbol__analyticsIsSupportedValue",lo="__angularfire_symbol__analyticsIsSupported",wa="__angularfire_symbol__remoteConfigIsSupportedValue",Ea="__angularfire_symbol__remoteConfigIsSupported",bn="__angularfire_symbol__messagingIsSupportedValue",Xu="__angularfire_symbol__messagingIsSupported";function vl(D,S,N){if(S){if(1===S.length)return S[0];const se=S.filter(Ce=>Ce.app===N);if(1===se.length)return se[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[lo]||(globalThis[lo]=wv().then(D=>globalThis[yl]=D).catch(()=>globalThis[yl]=!1)),globalThis[Xu]||(globalThis[Xu]=qu().then(D=>globalThis[bn]=D).catch(()=>globalThis[bn]=!1)),globalThis[Ea]||(globalThis[Ea]=tc().then(D=>globalThis[wa]=D).catch(()=>globalThis[wa]=!1));const Gr=(D,S)=>{const N=S?[S]:(0,te.C6)(),V=[];return N.forEach(J=>{J.container.getProvider(D).instances.forEach(Ce=>{V.includes(Ce)||V.push(Ce)})}),V};function Hi(){}class zr{constructor(S,N=Rc){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,V){const J=this.zone;return this.delegate.schedule(function(Ce){J.runGuarded(()=>{S.apply(this,[Ce])})},N,V)}}class td{constructor(S){this.zone=S,this.task=null}call(S,N){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)),N.pipe((0,_l.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hr=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new zr(Zone.current)),this.insideAngular=N.run(()=>new zr(Zone.current,Ju.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Xi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Gn(D){return D.pipe((0,Lo.Q)(Xi().outsideAngular))}function Ps(D){return Xi(),function Tn(D){return function(N){return(N=N.lift(new td(D.ngZone))).pipe((0,Rs.R)(D.outsideAngular),(0,Lo.Q)(D.insideAngular))}}(Xi())(D)}},2090:(mt,Ie,F)=>{F.d(Ie,{$s:()=>ot,BH:()=>Zt,G6:()=>De,L:()=>fe,LL:()=>tn,Pz:()=>rn,Sg:()=>tt,UG:()=>Te,US:()=>he,ZB:()=>G,ZR:()=>Sn,aH:()=>wt,b$:()=>ge,eu:()=>We,hl:()=>qe,jU:()=>lt,m9:()=>$t,ne:()=>ei,pd:()=>ns,r3:()=>Br,ru:()=>ye,tV:()=>pe,uI:()=>Re,vZ:()=>nt,w1:()=>ft,xO:()=>hi,xb:()=>Dr,z$:()=>je,zI:()=>j,zd:()=>Ir});const le=function(z){const U=[];let K=0;for(let Ee=0;Ee<z.length;Ee++){let X=z.charCodeAt(Ee);X<128?U[K++]=X:X<2048?(U[K++]=X>>6|192,U[K++]=63&X|128):55296==(64512&X)&&Ee+1<z.length&&56320==(64512&z.charCodeAt(Ee+1))?(X=65536+((1023&X)<<10)+(1023&z.charCodeAt(++Ee)),U[K++]=X>>18|240,U[K++]=X>>12&63|128,U[K++]=X>>6&63|128,U[K++]=63&X|128):(U[K++]=X>>12|224,U[K++]=X>>6&63|128,U[K++]=63&X|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,U){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let X=0;X<z.length;X+=3){const Qe=z[X],yt=X+1<z.length,nn=yt?z[X+1]:0,En=X+2<z.length,Xt=En?z[X+2]:0;let qt=(15&nn)<<2|Xt>>6,Ei=63&Xt;En||(Ei=64,yt||(qt=64)),Ee.push(K[Qe>>2],K[(3&Qe)<<4|nn>>4],K[qt],K[Ei])}return Ee.join("")},encodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(z):this.encodeByteArray(le(z),U)},decodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(z):function(z){const U=[];let K=0,Ee=0;for(;K<z.length;){const X=z[K++];if(X<128)U[Ee++]=String.fromCharCode(X);else if(X>191&&X<224){const Qe=z[K++];U[Ee++]=String.fromCharCode((31&X)<<6|63&Qe)}else if(X>239&&X<365){const En=((7&X)<<18|(63&z[K++])<<12|(63&z[K++])<<6|63&z[K++])-65536;U[Ee++]=String.fromCharCode(55296+(En>>10)),U[Ee++]=String.fromCharCode(56320+(1023&En))}else{const Qe=z[K++],yt=z[K++];U[Ee++]=String.fromCharCode((15&X)<<12|(63&Qe)<<6|63&yt)}}return U.join("")}(this.decodeStringToByteArray(z,U))},decodeStringToByteArray(z,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let X=0;X<z.length;){const Qe=K[z.charAt(X++)],nn=X<z.length?K[z.charAt(X)]:0;++X;const Xt=X<z.length?K[z.charAt(X)]:64;++X;const Ye=X<z.length?K[z.charAt(X)]:64;if(++X,null==Qe||null==nn||null==Xt||null==Ye)throw Error();Ee.push(Qe<<2|nn>>4),64!==Xt&&(Ee.push(nn<<4&240|Xt>>2),64!==Ye&&Ee.push(Xt<<6&192|Ye))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},fe=function(z){return function(z){const U=le(z);return he.encodeByteArray(U,!0)}(z).replace(/\./g,"")},pe=function(z){try{return he.decodeString(z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function G(z,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!Q(K)||(z[K]=G(z[K],U[K]));return z}function Q(z){return"__proto__"!==z}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function ye(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const z=je();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function De(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function We(){return new Promise((z,U)=>{try{let K=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Ee);X.onsuccess=()=>{X.result.close(),K||self.indexedDB.deleteDatabase(Ee),z(!0)},X.onupgradeneeded=()=>{K=!1},X.onerror=()=>{var Qe;U((null===(Qe=X.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(K){U(K)}})}function j(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=z&&pe(z[1]);return U&&JSON.parse(U)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},wt=()=>{var z;return null===(z=re())||void 0===z?void 0:z.config},rn=z=>{var U;return null===(U=re())||void 0===U?void 0:U[`_${z}`]};class Zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,Ee)=>{K?this.reject(K):this.resolve(Ee),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,Ee))}}}function tt(z,U){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=U||"demo-project",X=z.iat||0,Qe=z.sub||z.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:X,exp:X+3600,auth_time:X,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},z);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(yt)),""].join(".")}class Sn extends Error{constructor(U,K,Ee){super(K),this.code=U,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}}class tn{constructor(U,K,Ee){this.service=U,this.serviceName=K,this.errors=Ee}create(U,...K){const Ee=K[0]||{},X=`${this.service}/${U}`,Qe=this.errors[U],yt=Qe?function sn(z,U){return z.replace(Zi,(K,Ee)=>{const X=U[Ee];return null!=X?String(X):`<${Ee}?>`})}(Qe,Ee):"Error";return new Sn(X,`${this.serviceName}: ${yt} (${X}).`,Ee)}}const Zi=/\{\$([^}]+)}/g;function Br(z,U){return Object.prototype.hasOwnProperty.call(z,U)}function Dr(z){for(const U in z)if(Object.prototype.hasOwnProperty.call(z,U))return!1;return!0}function nt(z,U){if(z===U)return!0;const K=Object.keys(z),Ee=Object.keys(U);for(const X of K){if(!Ee.includes(X))return!1;const Qe=z[X],yt=U[X];if(Vi(Qe)&&Vi(yt)){if(!nt(Qe,yt))return!1}else if(Qe!==yt)return!1}for(const X of Ee)if(!K.includes(X))return!1;return!0}function Vi(z){return null!==z&&"object"==typeof z}function hi(z){const U=[];for(const[K,Ee]of Object.entries(z))Array.isArray(Ee)?Ee.forEach(X=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(X))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(Ee));return U.length?"&"+U.join("&"):""}function Ir(z){const U={};return z.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[X,Qe]=Ee.split("=");U[decodeURIComponent(X)]=decodeURIComponent(Qe)}}),U}function ns(z){const U=z.indexOf("?");if(!U)return"";const K=z.indexOf("#",U);return z.substring(U,K>0?K:void 0)}function ei(z,U){const K=new Cn(z,U);return K.subscribe.bind(K)}class Cn{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(Ee=>{this.error(Ee)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,Ee){let X;if(void 0===U&&void 0===K&&void 0===Ee)throw new Error("Missing Observer.");X=function _t(z,U){if("object"!=typeof z||null===z)return!1;for(const K of U)if(K in z&&"function"==typeof z[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:Ee},void 0===X.next&&(X.next=pn),void 0===X.error&&(X.error=pn),void 0===X.complete&&(X.complete=pn);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Qe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function ot(z,U=1e3,K=2){const Ee=U*Math.pow(K,z),X=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+X)}function $t(z){return z&&z._delegate?z._delegate:z}},7889:(mt,Ie,F)=>{var l=F(4650);let te=null;function P(){return te}const ie=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const $=new l.OlP("Location Initialized");let G=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Q()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Q()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function je(){return new G((0,l.LFG)(ie))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(st)},providedIn:"root"}),n})();const ge=new l.OlP("appBaseHref");let st=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+lt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+lt(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+lt(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Re(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+lt(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+lt(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Te(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+lt(i))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Re,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(l.LFG(ye))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return new Oe((0,l.LFG)(ye))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}let gn=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Qa{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qa(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Xs(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Xs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Xs(n,e){n.context.$implicit=e.item}let dn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Nu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ti("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ti("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nu{constructor(){this.$implicit=null,this.ngIf=null}}function Ti(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Ss="browser";function ki(n){return"server"===n}let rc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new rp((0,l.LFG)(ie),window)}),n})();class rp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ji(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ar(this.window.history)||Ar(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ar(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Io extends class oh extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){te||(te=n)}(new Io)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yc(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}();return null==t?null:function cr(n){mi=mi||document.createElement("a"),mi.setAttribute("href",n);const e=mi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Xl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let mi,So=null;const Mn=new l.OlP("TRANSITION_ID"),Wu=[{provide:l.ip1,useFactory:function qu(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Mn,ie,l.zs3],multi:!0}];let Zu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const vc=new l.OlP("EventManagerPlugins");let ah=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ao=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ha=(()=>{class n extends Ao{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(lh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lh))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function lh(n){P().remove(n)}const fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ch=/%COMP%/g;function Tc(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Tc(n,r,t):(r=r.replace(ch,n),t.push(r))}return t}function uh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let No=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new dh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new hh(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Tc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ah),l.LFG(ha),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class pa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(fa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(al(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(al(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=fa[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=fa[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,uh(i)):this.eventManager.addEventListener(e,t,uh(i))}}function al(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dh extends pa{constructor(e,t,i,r){super(e),this.component=i;const s=Tc(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function $n(n){return"_ngcontent-%COMP%".replace(ch,n)}(r+"-"+i.id),this.hostAttr=function Ec(n){return"_nghost-%COMP%".replace(ch,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class hh extends pa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Tc(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ci=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=["alt","control","meta","shift"],cl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},as={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),ll.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),u+=y+".")}),u+=s,0!=i.length||0===s.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(t,i){let r=cl[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ll.forEach(u=>{u!==r&&(0,as[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ss},{provide:l.g9A,useValue:function Dc(){Io.makeCurrent()},multi:!0},{provide:ie,useFactory:function hl(){return(0,l.RDi)(document),document},deps:[]}]),ro=new l.OlP(""),ph=[{provide:l.rWj,useClass:class op{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(g){u=u||g,s--,0==s&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],so=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function xo(){return new l.qLn},deps:[]},{provide:vc,useClass:Ci,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:vc,useClass:ul,multi:!0,deps:[ie]},{provide:No,useClass:No,deps:[ah,ha,l.AFp]},{provide:l.FYo,useExisting:No},{provide:Ao,useExisting:ha},{provide:ha,useClass:ha,deps:[ie]},{provide:ah,useClass:ah,deps:[vc,l.R0b]},{provide:class ua{},useClass:Zu,deps:[]},[]];let Ac=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Mn,useExisting:l.AFp},Wu]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ro,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...so,...ph],imports:[Yn,l.hGG]}),n})(),Os=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ga(){return new Os((0,l.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Mm),i},providedIn:"root"}),n})(),Mm=(()=>{class n extends Fo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Am(n){return new Mm(n.get(ie))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var on=F(8996),dr=F(3269);function Xe(...n){const e=(0,dr.yG)(n);return(0,on.D)(n,e)}var It=F(7579);class an extends It.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ml=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rn=F(9751);const{isArray:ao}=Array,{getPrototypeOf:Rc,prototype:Nm,keys:Ju}=Object;function _l(n){if(1===n.length){const e=n[0];if(ao(e))return{args:e,keys:null};if(function Lo(n){return n&&"object"==typeof n&&Rc(n)===Nm}(e)){const t=Ju(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Rs=F(4671),Ze=F(4004);const{isArray:yl}=Array;function wa(n){return(0,Ze.U)(e=>function lo(n,e){return yl(e)?n(...e):n(e)}(n,e))}function Ea(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var bn=F(5403),Xu=F(9672);function ks(...n){const e=(0,dr.yG)(n),t=(0,dr.jO)(n),{args:i,keys:r}=_l(n);if(0===i.length)return(0,on.D)([],e);const s=new Rn.y(function Om(n,e,t=Rs.y){return i=>{ed(e,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)ed(e,()=>{const y=(0,on.D)(n[g],e);let E=!1;y.subscribe((0,bn.x)(i,I=>{s[g]=I,E||(E=!0,h--),h||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Ea(r,u):Rs.y));return t?s.pipe(wa(t)):s}function ed(n,e,t){n?(0,Xu.f)(t,n,e):e()}var kc=F(8189);function Gr(...n){return function vl(){return(0,kc.J)(1)}()((0,on.D)(n,(0,dr.yG)(n)))}var Hi=F(8421);function zr(n){return new Rn.y(e=>{(0,Hi.Xf)(n()).subscribe(e)})}var td=F(9635),hr=F(576);function Xi(n,e){const t=(0,hr.m)(n)?n:()=>n,i=r=>r.error(t());return new Rn.y(e?r=>e.schedule(i,0,r):i)}var qr=F(515),ri=F(727),Gn=F(4482);function co(){return(0,Gn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ps extends Rn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Gn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ri.w0;const t=this.getSubject();e.add(this.source.subscribe((0,bn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ri.w0.EMPTY)}return e}refCount(){return co()(this)}}function Tn(n,e){return(0,Gn.e)((t,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,bn.x)(i,g=>{r?.unsubscribe();let y=0;const E=s++;(0,Hi.Xf)(n(g,E)).subscribe(r=(0,bn.x)(i,I=>i.next(e?e(g,I,E,y++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Ut(n){return n<=0?()=>qr.E:(0,Gn.e)((e,t)=>{let i=0;e.subscribe((0,bn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Wr(...n){const e=(0,dr.yG)(n);return(0,Gn.e)((t,i)=>{(e?Gr(n,t,e):Gr(n,t)).subscribe(i)})}function D(n,e){return(0,Gn.e)((t,i)=>{let r=0;t.subscribe((0,bn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var S=F(5577);function N(n){return(0,Gn.e)((e,t)=>{let i=!1;e.subscribe((0,bn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function V(n=J){return(0,Gn.e)((e,t)=>{let i=!1;e.subscribe((0,bn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function J(){return new ml}function se(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D((r,s)=>n(r,s,i)):Rs.y,Ut(1),t?N(e):V(()=>new ml))}function Ce(n,e){return(0,hr.m)(e)?(0,S.z)(n,e,1):(0,S.z)(n,1)}var Pe=F(8505);function ct(n){return(0,Gn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,bn.x)(t,void 0,void 0,u=>{s=(0,Hi.Xf)(n(u,ct(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function St(n,e,t,i,r){return(s,u)=>{let h=t,g=e,y=0;s.subscribe((0,bn.x)(u,E=>{const I=y++;g=h?n(g,E,I):(h=!0,E),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function Ft(n,e){return(0,Gn.e)(St(n,e,arguments.length>=2,!0))}function vt(n){return n<=0?()=>qr.E:(0,Gn.e)((e,t)=>{let i=[];e.subscribe((0,bn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function kn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D((r,s)=>n(r,s,i)):Rs.y,vt(1),t?N(e):V(()=>new ml))}function Bo(n){return(0,Ze.U)(()=>n)}function Fs(n){return(0,Gn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Lt="primary",ls=Symbol("RouteTitle");class uo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Nr(n){return new uo(n)}function Ta(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Zr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!cp(n[r],e[r]))return!1;return!0}function cp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function xm(n){return Array.prototype.concat.apply([],n)}function Rm(n){return n.length>0?n[n.length-1]:null}function _i(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cs(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,on.D)(Promise.resolve(n)):Xe(n)}const wE={exact:function Pm(n,e,t){if(!Ho(n.segments,e.segments)||!Uo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Pm(n.children[i],e.children[i],t))return!1;return!0},subset:bl},dp={exact:function hp(n,e){return Zr(n,e)},subset:function Fm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cp(n[t],e[t]))},ignored:()=>!0};function Tv(n,e,t){return wE[t.paths](n.root,e.root,t.matrixParams)&&dp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bl(n,e,t){return mh(n,e,e.segments,t)}function mh(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ho(r,t)||e.hasChildren()||!Uo(r,t,i))}if(n.segments.length===t.length){if(!Ho(n.segments,t)||!Uo(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!bl(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ho(n.segments,r)&&Uo(n.segments,r,i)&&n.children[Lt])&&mh(n.children[Lt],e,s,i)}}function Uo(n,e,t){return e.every((i,r)=>dp[t](n[r].parameters,i.parameters))}class wl{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nr(this.queryParams)),this._queryParamMap}toString(){return jo.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_i(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vh(this)}}class _h{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Nr(this.parameters)),this._parameterMap}toString(){return gp(this)}}function Ho(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new yh},providedIn:"root"}),n})();class yh{parse(e){const t=new Tl(e);return new wl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${El(e.root,!0)}`,i=function Iv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${id(t)}=${id(r)}`).join("&"):`${id(t)}=${id(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Cv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jo=new yh;function vh(n){return n.segments.map(e=>gp(e)).join("/")}function El(n,e){if(!n.hasChildren())return vh(n);if(e){const t=n.children[Lt]?El(n.children[Lt],!1):"",i=[];return _i(n.children,(r,s)=>{s!==Lt&&i.push(`${s}:${El(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Lm(n,e){let t=[];return _i(n.children,(i,r)=>{r===Lt&&(t=t.concat(e(i,r)))}),_i(n.children,(i,r)=>{r!==Lt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Lt?[El(n.children[Lt],!1)]:[`${r}:${El(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${vh(n)}/${t[0]}`:`${vh(n)}/(${t.join("//")})`}}function Bm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(n){return Bm(n).replace(/%3B/gi,";")}function Kr(n){return Bm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $o(n){return decodeURIComponent(n)}function pp(n){return $o(n.replace(/\+/g,"%20"))}function gp(n){return`${Kr(n.path)}${function Dv(n){return Object.keys(n).map(e=>`;${Kr(e)}=${Kr(n[e])}`).join("")}(n.parameters)}`}const Sv=/^[^\/()?;=#]+/;function bh(n){const e=n.match(Sv);return e?e[0]:""}const Vm=/^[^=?&#]+/,Av=/^[^&#]+/;class Tl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Lt]=new Qt(e,t)),i}parseSegment(){const e=bh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new _h($o(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bh(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=bh(this.remaining);r&&(i=r,this.capture(i))}e[$o(t)]=$o(i)}parseQueryParam(e){const t=function Um(n){const e=n.match(Vm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function EE(n){const e=n.match(Av);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=pp(t),s=pp(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=bh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Lt);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Lt]:new Qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function Pc(n){return n.segments.length>0?new Qt([],{[Lt]:n}):n}function us(n){const e={};for(const i of Object.keys(n.children)){const s=us(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Cl(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function Ca(n){return n instanceof wl}function CE(n,e,t,i,r){if(0===t.length)return rd(e.root,e.root,e.root,i,r);const s=function jm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mp(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return _i(s.outlets,(g,y)=>{h[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new mp(t,e,i)}(t);return s.toRoot()?rd(e.root,e.root,new Qt([],{}),i,r):function u(g){const y=function _p(n,e,t,i){if(n.isAbsolute)return new Lc(e.root,!0,0);if(-1===i)return new Lc(t,t===e.root,0);return function yp(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Lc(i,!1,r-s)}(t,i+(Dl(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,g),E=y.processChildren?zo(y.segmentGroup,y.index,s.commands):Bc(y.segmentGroup,y.index,s.commands);return rd(e.root,y.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function Dl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Go(n){return"object"==typeof n&&null!=n&&n.outlets}function rd(n,e,t,i,r){let u,s={};i&&_i(i,(g,y)=>{s[y]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),u=n===e?t:Nv(n,e,t);const h=Pc(us(u));return new wl(h,s,r)}function Nv(n,e,t){const i={};return _i(n.children,(r,s)=>{i[s]=r===e?t:Nv(r,e,t)}),new Qt(n.segments,i)}class mp{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Dl(i[0]))throw new l.vHH(4003,!1);const r=i.find(Go);if(r&&r!==Rm(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Bc(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return zo(n,e,t);const i=function Ov(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],h=t[i];if(Go(h))break;const g=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!Eh(g,y,u))return s;i+=2}else{if(!Eh(g,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Qt(n.segments.slice(0,i.pathIndex),{});return s.children[Lt]=new Qt(n.segments.slice(i.pathIndex),n.children),zo(s,0,r)}return i.match&&0===r.length?new Qt(n.segments,{}):i.match&&!n.hasChildren()?zn(n,e,t):i.match?zo(n,0,r):zn(n,e,t)}function zo(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const i=function wh(n){return Go(n[0])?n[0].outlets:{[Lt]:n}}(t),r={};return _i(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Bc(n.children[u],e,s))}),_i(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Qt(n.segments,r)}}function zn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Go(s)){const g=sd(s.outlets);return new Qt(i,g)}if(0===r&&Dl(t[0])){i.push(new _h(n.segments[e].path,Gm(t[0]))),r++;continue}const u=Go(s)?s.outlets[Lt]:`${s}`,h=r<t.length-1?t[r+1]:null;u&&h&&Dl(h)?(i.push(new _h(u,Gm(h))),r+=2):(i.push(new _h(u,{})),r++)}return new Qt(i,{})}function sd(n){const e={};return _i(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=zn(new Qt([],{}),0,t))}),e}function Gm(n){const e={};return _i(n,(t,i)=>e[i]=`${t}`),e}function Eh(n,e,t){return n==t.path&&Zr(e,t.parameters)}class ho{constructor(e,t){this.id=e,this.url=t}}class Th extends ho{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends ho{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ch extends ho{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zm extends ho{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xv extends ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dh extends ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DE extends ho{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vc extends ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends ho{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Km{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ih{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sh{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class od{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ah{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ad(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ad(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=er(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return er(e,this._root).map(t=>t.value)}}function ad(n,e){if(n===e.value)return e;for(const t of e.children){const i=ad(n,t);if(i)return i}return null}function er(n,e){if(n===e.value)return[e];for(const t of e.children){const i=er(n,t);if(i.length)return i.unshift(e),i}return[]}class Or{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yr(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ym extends Ah{constructor(e,t){super(e),this.snapshot=t,cd(this,e)}toString(){return this.snapshot.toString()}}function Uc(n,e){const t=function Hc(n,e){const u=new ji([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Nh("",new Or(u,[]))}(n,e),i=new an([new _h("",{})]),r=new an({}),s=new an({}),u=new an({}),h=new an(""),g=new Sl(i,r,u,h,s,Lt,e,t.root);return g.snapshot=t.root,new Ym(new Or(g,[]),t)}class Sl{constructor(e,t,i,r,s,u,h,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Ze.U)(y=>y[ls]))??Xe(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(e=>Nr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(e=>Nr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ld(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Mh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ji{constructor(e,t,i,r,s,u,h,g,y,E,I,O){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[ls],this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=E,this._correctedLastPathIndex=O??E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nh extends Ah{constructor(e,t){super(t),this.url=e,cd(this,t)}toString(){return Qm(this._root)}}function cd(n,e){e.value._routerState=n,e.children.forEach(t=>cd(n,t))}function Qm(n){const e=n.children.length>0?` { ${n.children.map(Qm).join(", ")} } `:"";return`${n.value}${e}`}function bp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zr(e.params,t.params)||n.params.next(t.params),function Vo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ud(n,e){const t=Zr(n.params,e.params)&&function nd(n,e){return Ho(n,e)&&n.every((t,i)=>Zr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ud(n.parent,e.parent))}function Al(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function wp(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Al(n,i,r);return Al(n,i)})}(n,e,t);return new Or(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Al(n,h)),u}}const i=function Rv(n){return new Sl(new an(n.url),new an(n.params),new an(n.queryParams),new an(n.fragment),new an(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Al(n,s));return new Or(i,r)}}const Ls="ngNavigationCancelingError";function Da(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ep(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Ep(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ls]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Oh(n){return Jm(n)&&Ca(n.url)}function Jm(n){return n&&n[Ls]}class xh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rh,this.attachRef=null}}let Rh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new xh,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kh=!1;let Ml=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,kh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,kh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,kh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,kh);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new kv(t,h,r.injector);if(i&&function v(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rh),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class kv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Sl?this.route:e===Rh?this.childContexts:this.parent.get(e,t)}}let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ml],encapsulation:2}),n})();function _(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bt(n){const e=n.children&&n.children.map(bt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=p),t}function _n(n){return n.outlet||Lt}function xr(n,e){const t=n.filter(i=>_n(i)===e);return t.push(...n.filter(i=>_n(i)!==e)),t}function Nl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dd{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),bp(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Yr(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),_i(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Yr(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Yr(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Yr(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Sh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Km(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(bp(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),bp(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Nl(r.snapshot),g=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Xm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ph{constructor(e,t){this.component=e,this.route=t}}function e_(n,e,t){const i=n._root;return Ol(i,e?e._root:null,t,[i.value])}function jc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function Ol(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yr(e);return n.children.forEach(u=>{(function Tp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function Cp(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ho(n.url,e.url)||!Zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ud(n,e)||!Zr(n.queryParams,e.queryParams);default:return!ud(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Xm(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Ol(n,e,s.component?h?h.children:null:t,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ph(h.outlet.component,u))}else u&&Ia(e,h,r),r.canActivateChecks.push(new Xm(i)),Ol(n,null,s.component?h?h.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),_i(s,(u,h)=>Ia(u,t.getContext(h),r)),r}function Ia(n,e,t){const i=Yr(n),r=n.value;_i(i,(s,u)=>{Ia(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ph(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function $c(n){return"function"==typeof n}function t_(n){return n instanceof ml||"EmptyError"===n?.name}const n_=Symbol("INITIAL_VALUE");function Fh(){return Tn(n=>ks(n.map(e=>e.pipe(Ut(1),Wr(n_)))).pipe((0,Ze.U)(e=>{for(const t of e)if(!0!==t){if(t===n_)return n_;if(!1===t||t instanceof wl)return t}return!0}),D(e=>e!==n_),Ut(1)))}function Rr(n){return(0,td.z)((0,Pe.b)(e=>{if(Ca(e))throw Da(0,e)}),(0,Ze.U)(e=>!0===e))}const i_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function r_(n,e,t,i,r){const s=tr(n,e,t);return s.matched?function Uv(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Xe(r.map(u=>{const h=jc(u,n);return cs(function v1(n){return n&&$c(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Fh(),Rr()):Xe(!0)}(i=_(e,i),e,t).pipe((0,Ze.U)(u=>!0===u?s:{...i_})):Xe(s)}function tr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...i_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Ta)(t,n,e);if(!r)return{...i_};const s={};_i(r.posParams,(h,g)=>{s[g]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Gc(n,e,t,i,r="corrected"){if(t.length>0&&function M1(n,e,t){return t.some(i=>s_(n,e,i)&&_n(i)!==Lt)}(n,t,i)){const u=new Qt(e,function A1(n,e,t,i){const r={};r[Lt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&_n(s)!==Lt){const u=new Qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[_n(s)]=u}return r}(n,e,i,new Qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function NE(n,e,t){return t.some(i=>s_(n,e,i))}(n,t,i)){const u=new Qt(n.segments,function ME(n,e,t,i,r,s){const u={};for(const h of i)if(s_(n,t,h)&&!r[_n(h)]){const g=new Qt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[_n(h)]=g}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Qt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function s_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Hv(n,e,t,i){return!!(_n(n)===i||i!==Lt&&s_(e,t,n))&&("**"===n.path||tr(e,n,t).matched)}function OE(n,e,t){return 0===e.length&&!n.children[t]}const Ip=!1;class o_{constructor(e){this.segmentGroup=e||null}}class xE{constructor(e){this.urlTree=e}}function Sp(n){return Xi(new o_(n))}function RE(n){return Xi(new xE(n))}class O1{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Gc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,Ze.U)(s=>this.createUrlTree(us(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(s=>{if(s instanceof xE)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof o_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,Ze.U)(r=>this.createUrlTree(us(r),e.queryParams,e.fragment))).pipe(ct(r=>{throw r instanceof o_?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Ip)}createUrlTree(e,t,i){const r=Pc(e);return new wl(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ze.U)(s=>new Qt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,on.D)(r).pipe(Ce(s=>{const u=i.children[s],h=xr(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,Ze.U)(g=>({segment:g,outlet:s})))}),Ft((s,u)=>(s[u.outlet]=u.segment,s),{}),kn())}expandSegment(e,t,i,r,s,u){return(0,on.D)(i).pipe(Ce(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,u).pipe(ct(y=>{if(y instanceof o_)return Xe(null);throw y}))),se(h=>!!h),ct((h,g)=>{if(t_(h))return OE(t,r,s)?Xe(new Qt([],{})):Sp(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,u,h){return Hv(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):Sp(t):Sp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RE(s):this.lineralizeSegments(i,s).pipe((0,S.z)(u=>{const h=new Qt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:h,consumedSegments:g,remainingSegments:y,positionalParamSegments:E}=tr(t,r,s);if(!h)return Sp(t);const I=this.applyRedirectCommands(g,r.redirectTo,E);return r.redirectTo.startsWith("/")?RE(I):this.lineralizeSegments(r,I).pipe((0,S.z)(O=>this.expandSegment(e,t,i,O.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=_(i,e),i.loadChildren?(i._loadedRoutes?Xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Ze.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Qt(r,{})))):Xe(new Qt(r,{}))):r_(t,i,r,e).pipe(Tn(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,S.z)(E=>{const I=E.injector??e,O=E.routes,{segmentGroup:k,slicedSegments:B}=Gc(t,h,g,O),H=new Qt(k.segments,k.children);if(0===B.length&&H.hasChildren())return this.expandChildren(I,O,H).pipe((0,Ze.U)(Fe=>new Qt(h,Fe)));if(0===O.length&&0===B.length)return Xe(new Qt(h,{}));const Y=_n(i)===s;return this.expandSegment(I,H,O,B,Y?Lt:s,!0).pipe((0,Ze.U)(Se=>new Qt(h.concat(Se.segments),Se.children)))})):Sp(t)))}getChildConfig(e,t,i){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function S1(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Xe(!0):Xe(r.map(u=>{const h=jc(u,n);return cs(function Lv(n){return n&&$c(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Fh(),Rr())}(e,t,i).pipe((0,S.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Pe.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Lh(n){return Xi(Ep(Ip,3))}())):Xe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[Lt])return Xi(new l.vHH(4e3,Ip));r=r.children[Lt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new wl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return _i(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return _i(t.children,(h,g)=>{u[g]=this.createSegmentGroup(e,h,i,r)}),new Qt(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Ip);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class mx{}class Sa{constructor(e,t,i,r,s,u,h,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=Gc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe((0,Ze.U)(t=>{if(null===t)return null;const i=new ji([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Or(i,t),s=new Nh(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=ld(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,on.D)(Object.keys(i.children)).pipe(Ce(r=>{const s=i.children[r],u=xr(t,r);return this.processSegmentGroup(e,u,s,r)}),Ft((r,s)=>r&&s?(r.push(...s),r):null),function Pi(n,e=!1){return(0,Gn.e)((t,i)=>{let r=0;t.subscribe((0,bn.x)(i,s=>{const u=n(s,r++);(u||e)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),N(null),kn(),(0,Ze.U)(r=>{if(null===r)return null;const s=zv(r);return function $v(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,on.D)(t).pipe(Ce(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,s)),se(u=>!!u),ct(u=>{if(t_(u))return OE(i,r,s)?Xe([]):Xe(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Hv(t,i,r,s))return Xe(null);let u;if("**"===t.path){const h=r.length>0?Rm(r).parameters:{},g=PE(i)+r.length;u=Xe({snapshot:new ji(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,a_(t),_n(t),t.component??t._loadedComponent??null,t,Bh(i),g,l_(t),g),consumedSegments:[],remainingSegments:[]})}else u=r_(i,t,r,e).pipe((0,Ze.U)(({matched:h,consumedSegments:g,remainingSegments:y,parameters:E})=>{if(!h)return null;const I=PE(i)+g.length;return{snapshot:new ji(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,a_(t),_n(t),t.component??t._loadedComponent??null,t,Bh(i),I,l_(t),I),consumedSegments:g,remainingSegments:y}}));return u.pipe(Tn(h=>{if(null===h)return Xe(null);const{snapshot:g,consumedSegments:y,remainingSegments:E}=h;e=t._injector??e;const I=t._loadedInjector??e,O=function Gv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:B}=Gc(i,y,E,O.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===B.length&&k.hasChildren())return this.processChildren(I,O,k).pipe((0,Ze.U)(Y=>null===Y?null:[new Or(g,Y)]));if(0===O.length&&0===B.length)return Xe([new Or(g,[])]);const H=_n(t)===s;return this.processSegment(I,O,k,B,H?Lt:s).pipe((0,Ze.U)(Y=>null===Y?null:[new Or(g,Y)]))}))}}function R1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zv(n){const e=[],t=new Set;for(const i of n){if(!R1(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=zv(i.children);e.push(new Or(i.value,r))}return e.filter(i=>!t.has(i))}function Bh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function PE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function a_(n){return n.data||{}}function l_(n){return n.resolve||{}}function c_(n){return"string"==typeof n.title||null===n.title}function Wv(n){return Tn(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,Ze.U)(()=>e)):Xe(e)})}let VE=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Lt);return i}getResolvedTitleForRoute(t){return t.data[ls]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(UE)},providedIn:"root"}),n})(),UE=(()=>{class n extends VE{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Os))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class F1{}class HE extends class L1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ap=new l.OlP("",{providedIn:"root",factory:()=>({})}),Kv=new l.OlP("ROUTES");let Yv=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=cs(t.loadComponent()).pipe((0,Pe.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fs(()=>{this.componentLoaders.delete(t)})),r=new Ps(i,()=>new It.x).pipe(co());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ze.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,E=!1;Array.isArray(h)?y=h:(g=h.create(t).injector,y=xm(g.get(Kv,[],l.XFs.Self|l.XFs.Optional)));return{routes:y.map(bt),injector:g}}),Fs(()=>{this.childrenLoaders.delete(i)})),u=new Ps(s,()=>new It.x).pipe(co());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return cs(t()).pipe((0,S.z)(i=>i instanceof l.YKP||Array.isArray(i)?Xe(i):(0,on.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jE{}class $E{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function GE(n){throw n}function zE(n,e,t){return e.parse("/")}const B1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function qE(){const n=(0,l.f3M)(fp),e=(0,l.f3M)(Rh),t=(0,l.f3M)(Oe),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(Kv,{optional:!0})??[],u=(0,l.f3M)(Ap,{optional:!0})??{},h=(0,l.f3M)(UE),g=(0,l.f3M)(VE,{optional:!0}),y=(0,l.f3M)(jE,{optional:!0}),E=(0,l.f3M)(F1,{optional:!0}),I=new yi(null,n,e,t,i,r,xm(s));return y&&(I.urlHandlingStrategy=y),E&&(I.routeReuseStrategy=E),I.titleStrategy=g??h,function d_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,I),I}let yi=(()=>{class n{constructor(t,i,r,s,u,h,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new It.x,this.errorHandler=GE,this.malformedUriErrorHandler=zE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new $E,this.routeReuseStrategy=new HE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Yv),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new Wm(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new qm(O)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function km(){return new wl(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Uc(this.currentUrlTree,this.rootComponentType),this.transitions=new an({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(D(r=>0!==r.id),(0,Ze.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Tn(r=>{let s=!1,u=!1;return Xe(r).pipe((0,Pe.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tn(h=>{const g=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Qv(h.source)&&(this.browserUrlTree=h.extractedUrl),Xe(h).pipe(Tn(I=>{const O=this.transitions.getValue();return i.next(new Th(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?qr.E:Promise.resolve(I)}),function x1(n,e,t,i){return Tn(r=>function xl(n,e,t,i,r){return new O1(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Ze.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pe.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function LE(n,e,t,i,r,s){return(0,S.z)(u=>function _x(n,e,t,i,r,s,u="emptyOnly",h="legacy"){return new Sa(n,e,t,i,r,u,h,s).recognize().pipe(Tn(g=>null===g?function kE(n){return new Rn.y(e=>e.error(n))}(new mx):Xe(g)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,Ze.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pe.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(k,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new xv(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(O)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:k,source:B,restoredState:H,extras:Y}=h,we=new Th(O,this.serializeUrl(k),B,H);i.next(we);const Se=Uc(k,this.rootComponentType).snapshot;return Xe(r={...h,targetSnapshot:Se,urlAfterRedirects:k,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),qr.E}),(0,Pe.b)(h=>{const g=new Dh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,Ze.U)(h=>r={...h,guards:e_(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function w1(n,e){return(0,S.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?Xe({...t,guardsResult:!0}):function E1(n,e,t,i){return(0,on.D)(n).pipe((0,S.z)(r=>function I1(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Xe(s.map(h=>{const g=Nl(e)??r,y=jc(h,g);return cs(function Dp(n){return n&&$c(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):g.runInContext(()=>y(n,e,t,i))).pipe(se())})).pipe(Fh()):Xe(!0)}(r.component,r.route,t,e,i)),se(r=>!0!==r,!0))}(u,i,r,n).pipe((0,S.z)(h=>h&&function SE(n){return"boolean"==typeof n}(h)?function Vv(n,e,t,i){return(0,on.D)(e).pipe(Ce(r=>Gr(function C1(n,e){return null!==n&&e&&e(new Zm(n)),Xe(!0)}(r.route.parent,i),function T1(n,e){return null!==n&&e&&e(new Ih(n)),Xe(!0)}(r.route,i),function AE(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function Fv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>zr(()=>Xe(u.guards.map(g=>{const y=Nl(u.node)??t,E=jc(g,y);return cs(function Bv(n){return n&&$c(n.canActivateChild)}(E)?E.canActivateChild(i,n):y.runInContext(()=>E(i,n))).pipe(se())})).pipe(Fh())));return Xe(s).pipe(Fh())}(n,r.path,t),function D1(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(s=>zr(()=>{const u=Nl(e)??t,h=jc(s,u);return cs(function y1(n){return n&&$c(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(se())}));return Xe(r).pipe(Fh())}(n,r.route,t))),se(r=>!0!==r,!0))}(i,s,n,e):Xe(h)),(0,Ze.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Pe.b)(h=>{if(r.guardsResult=h.guardsResult,Ca(h.guardsResult))throw Da(0,h.guardsResult);const g=new DE(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Wv(h=>{if(h.guards.canActivateChecks.length)return Xe(h).pipe((0,Pe.b)(g=>{const y=new Vc(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),Tn(g=>{let y=!1;return Xe(g).pipe(function yx(n,e){return(0,S.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Xe(t);let s=0;return(0,on.D)(r).pipe(Ce(u=>function Vh(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!c_(r)&&(s[ls]=r.title),function qv(n,e,t,i){const r=function BE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Xe({});const s={};return(0,on.D)(r).pipe((0,S.z)(u=>function P1(n,e,t,i){const r=Nl(e)??i,s=jc(n,r);return cs(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(se(),(0,Pe.b)(h=>{s[u]=h}))),vt(1),Bo(s),ct(u=>t_(u)?qr.E:Xi(u)))}(s,n,e,i).pipe((0,Ze.U)(u=>(n._resolvedData=u,n.data=ld(n,t).resolve,r&&c_(r)&&(n.data[ls]=r.title),null)))}(u.route,i,n,e)),(0,Pe.b)(()=>s++),vt(1),(0,S.z)(u=>s===r.length?Xe(t):qr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pe.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Pe.b)(g=>{const y=new vp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}))}),Wv(h=>{const g=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Pe.b)(I=>{y.component=I}),(0,Ze.U)(()=>{})));for(const I of y.children)E.push(...g(I));return E};return ks(g(h.targetSnapshot.root)).pipe(N(),Ut(1))}),Wv(()=>this.afterPreactivation()),(0,Ze.U)(h=>{const g=function Ii(n,e,t){const i=Al(n,e._root,t?t._root:void 0);return new Ym(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:g}}),(0,Pe.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Ze.U)(i=>(new dd(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Pe.b)({next(){s=!0},complete(){s=!0}}),Fs(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ct(h=>{if(u=!0,Jm(h)){Oh(h)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Ch(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(g),Oh(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qv(r.source)};this.scheduleNavigation(y,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new zm(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return qr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(bt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,y=r||this.routerState.root,E=g?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),CE(y,this.currentUrlTree,t,I,E??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ca(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function WE(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...B1}:!1===i?{...bx}:i,Ca(t))return Tv(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Tv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Il(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,g,y;u?(h=u.resolve,g=u.reject,y=u.promise):y=new Promise((O,k)=>{h=O,g=k});const E=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:E,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(O=>Promise.reject(O))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new Ch(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return qE()},providedIn:"root"}),n})();function Qv(n){return"imperative"!==n}let Np=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new It.x,this.subscription=t.events.subscribe(s=>{s instanceof Il&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,u){return!!(0!==t||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yi),l.Y36(Sl),l.Y36(ye))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Jv{}let Xv=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(D(t=>t instanceof Il),Ce(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,on.D)(r).pipe((0,kc.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Xe(null);const s=r.pipe((0,S.z)(u=>null===u?Xe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,on.D)([s,u]).pipe((0,kc.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Jv),l.LFG(Yv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hd=new l.OlP("");let KE=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Th?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Il&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof od&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new od(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function fd(n,e){return{\u0275kind:n,\u0275providers:e}}function xp(n){return[{provide:Kv,multi:!0,useValue:n}]}function H1(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(yi),r=n.get(e0);1===n.get(t0)&&i.initialNavigation(),n.get(fo,null,l.XFs.Optional)?.setUpPreloading(),n.get(hd,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const e0=new l.OlP("",{factory:()=>new It.x}),t0=new l.OlP("",{providedIn:"root",factory:()=>1});const fo=new l.OlP("");function G1(n){return fd(0,[{provide:fo,useExisting:Xv},{provide:Jv,useExisting:n}])}const JE=new l.OlP("ROUTER_FORROOT_GUARD"),q1=[Oe,{provide:fp,useClass:yh},{provide:yi,useFactory:qE},Rh,{provide:Sl,useFactory:function YE(n){return n.routerState.root},deps:[yi]},Yv];function XE(){return new l.PXZ("Router",yi)}let eT=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[q1,[],xp(t),{provide:JE,useFactory:tT,deps:[[yi,new l.FiY,new l.tp0]]},{provide:Ap,useValue:i||{}},i?.useHash?{provide:ye,useClass:ft}:{provide:ye,useClass:st},{provide:hd,useFactory:()=>{const n=(0,l.f3M)(yi),e=(0,l.f3M)(rc),t=(0,l.f3M)(Ap);return t.scrollOffset&&e.setOffset(t.scrollOffset),new KE(n,e,t)}},i?.preloadingStrategy?G1(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:XE},i?.initialNavigation?nT(i):[],[{provide:n0,useFactory:H1},{provide:l.tb,multi:!0,useExisting:n0}]]}}static forChild(t){return{ngModule:n,providers:[xp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JE,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[p]}),n})();function tT(n){return"guarded"}function nT(n){return["disabled"===n.initialNavigation?fd(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(yi);return()=>{e.setUpLocationChangeListener()}}},{provide:t0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fd(2,[{provide:t0,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const u=e.get(yi),h=e.get(e0);(function r(s){e.get(yi).events.pipe(D(h=>h instanceof Il||h instanceof Ch||h instanceof zm),(0,Ze.U)(h=>h instanceof Il||h instanceof Ch&&(0===h.code||1===h.code)&&null),D(h=>null!==h),Ut(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||h.closed?Xe(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const n0=new l.OlP("");var me=F(5861),Rp=F(6451),kp=F(5363),Y1=F(6063);class Q1 extends It.x{constructor(e=1/0,t=1/0,i=Y1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var J1=F(3099);function r0(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,J1.B)({connector:()=>new Q1(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function s0(n,e){return(0,hr.m)(e)?Tn(()=>n,e):Tn(()=>n)}var Rl=F(9468),Jn=F(5813),fr=F(2011);F(5867);var qo=F(9681),Hh=F(4859),Wt=F(2090),zc=F(1877);const l0=new Map,iT={activated:!1,tokenObservers:[]},c0={initialized:!1,enabled:!1};function pr(n){return l0.get(n)||iT}function ds(n,e){l0.set(n,e)}function __(){return c0}class aT{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new Wt.BH,yield function iS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const si=new Wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function d0(n){if(!pr(n).activated)throw si.create("use-before-activation",{appName:n.name})}function y_(n,e){return lT.apply(this,arguments)}function lT(){return(lT=(0,me.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const k=yield u.getHeartbeatsHeader();k&&(s["X-Firebase-Client"]=k)}const h={method:"POST",body:JSON.stringify(e),headers:s};let g,y;try{g=yield fetch(n,h)}catch(k){throw si.create("fetch-network-error",{originalErrorMessage:null===(i=k)||void 0===i?void 0:i.message})}if(200!==g.status)throw si.create("fetch-status-error",{httpStatus:g.status});try{y=yield g.json()}catch(k){throw si.create("fetch-parse-error",{originalErrorMessage:null===(r=k)||void 0===r?void 0:r.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const I=1e3*Number(E[1]),O=Date.now();return{token:y.token,expireTimeMillis:O+I,issuedAtTimeMillis:O}})).apply(this,arguments)}function f0(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const w_="firebase-app-check-store";let E_=null;function uT(){return E_||(E_=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(si.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(w_,{keyPath:"compositeKey"})}}catch(i){e(si.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),E_)}function T_(){return(T_=(0,me.Z)(function*(n,e){const i=(yield uT()).transaction(w_,"readwrite"),s=i.objectStore(w_).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=g=>{u()},i.onerror=g=>{var y;h(si.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const D_=new zc.Yd("@firebase/app-check");function fT(n,e){return(0,Wt.hl)()?function dT(n,e){return function oS(n,e){return T_.apply(this,arguments)}(function C_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{D_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aS(){return __().enabled}function lS(){return gT.apply(this,arguments)}function gT(){return(gT=(0,me.Z)(function*(){const n=__();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qc={error:"UNKNOWN_ERROR"};function y0(n){return Wt.US.encodeString(JSON.stringify(n),!1)}function I_(n){return S_.apply(this,arguments)}function S_(){return(S_=(0,me.Z)(function*(n,e=!1){const t=n.app;d0(t);const i=pr(t);let s,r=i.token;if(r&&!pd(r)&&(ds(t,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(pd(g)?r=g:yield fT(t,void 0))}if(!e&&r&&pd(r))return{token:r.token};let h,u=!1;if(aS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=y_(f0(t,yield lS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield fT(t,g),ds(t,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?D_.warn(g.message):D_.error(g),s=g}return r?s?h=pd(r)?{token:r.token,internalError:s}:mT(s):(h={token:r.token},ds(t,Object.assign(Object.assign({},i),{token:r})),yield fT(t,r)):h=mT(s),u&&kl(t,h),h})).apply(this,arguments)}function A_(n,e){const t=pr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ds(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function M_(n){const{app:e}=n,t=pr(e);let i=t.tokenRefresher;i||(i=function cS(n){const{app:e}=n;return new aT((0,me.Z)(function*(){let i;if(i=pr(e).token?yield I_(n,!0):yield I_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=pr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ds(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kl(n,e){const t=pr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function pd(n){return n.expireTimeMillis-Date.now()>0}function mT(n){return{token:y0(qc),error:n}}class uS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=pr(this.app);for(const t of e)A_(this.app,t.next);return Promise.resolve()}}const TT="app-check-internal";!function I0(){(0,qo._registerComponent)(new Hh.wA("app-check",n=>function _T(n,e){return new uS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TT).initialize()})),(0,qo._registerComponent)(new Hh.wA(TT,n=>function dS(n){return{getToken:e=>I_(n,e),addTokenListener:e=>function Lp(n,e,t,i){const{app:r}=n,s=pr(r),u={next:t,error:i,type:e};if(ds(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&pd(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),M_(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>M_(n))}(n,"INTERNAL",e),removeTokenListener:e=>A_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qo.registerVersion)("@firebase/app-check","0.5.15")}();class x_{constructor(){return(0,Jn.vb)("app-check")}}typeof window<"u"&&window;var M0=F(127);const ST=new l.OlP("angularfire2.auth.use-emulator"),k_=new l.OlP("angularfire2.auth.settings"),AT=new l.OlP("angularfire2.auth.tenant-id"),MT=new l.OlP("angularfire2.auth.langugage-code"),Vp=new l.OlP("angularfire2.auth.use-device-language"),P_=new l.OlP("angularfire.auth.persistence"),Up=(n,e,t,i,r,s,u,h)=>(0,fr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))g.settings[y]=E;return h&&g.setPersistence(h),g},[t,i,r,s,u,h]);let N0=(()=>{class n{constructor(t,i,r,s,u,h,g,y,E,I,O,k){const B=new It.x,H=Xe(void 0).pipe((0,kp.Q)(u.outsideAngular),Tn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9545)))),(0,Ze.U)(()=>(0,fr.on)(t,s,i)),(0,Ze.U)(Y=>Up(Y,s,h,y,E,I,g,O)),r0({bufferSize:1,refCount:!1}));if(ki(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{H.pipe(se()).subscribe();const we=H.pipe(Tn(Ae=>Ae.getRedirectResult().then(He=>He,()=>null)),Jn.iC,r0({bufferSize:1,refCount:!1})),Se=H.pipe(Tn(Ae=>new Rn.y(He=>({unsubscribe:s.runOutsideAngular(()=>Ae.onAuthStateChanged(ze=>He.next(ze),ze=>He.error(ze),()=>He.complete()))})))),Fe=H.pipe(Tn(Ae=>new Rn.y(He=>({unsubscribe:s.runOutsideAngular(()=>Ae.onIdTokenChanged(ze=>He.next(ze),ze=>He.error(ze),()=>He.complete()))}))));this.authState=we.pipe(s0(Se),(0,Rl.R)(u.outsideAngular),(0,kp.Q)(u.insideAngular)),this.user=we.pipe(s0(Fe),(0,Rl.R)(u.outsideAngular),(0,kp.Q)(u.insideAngular)),this.idToken=this.user.pipe(Tn(Ae=>Ae?(0,on.D)(Ae.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Tn(Ae=>Ae?(0,on.D)(Ae.getIdTokenResult()):Xe(null))),this.credential=(0,Rp.T)(we,B,this.authState.pipe(D(Ae=>!Ae))).pipe((0,Ze.U)(Ae=>Ae?.user?Ae:null),(0,Rl.R)(u.outsideAngular),(0,kp.Q)(u.insideAngular))}return(0,fr.pX)(this,H,s,{spy:{apply:(Y,we,Se)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&Se.then(Fe=>B.next(Fe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fr.Dh),l.LFG(fr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jn.HU),l.LFG(ST,8),l.LFG(k_,8),l.LFG(AT,8),l.LFG(MT,8),l.LFG(Vp,8),l.LFG(P_,8),l.LFG(x_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),O0=(()=>{class n{constructor(){M0.Z.registerVersion("angularfire",Jn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[N0]}),n})();var F_=F(4986);function L_(){return(0,Gn.e)((n,e)=>{let t,i=!1;n.subscribe((0,bn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function qh(n,e=Rs.y){return n=n??NT,(0,Gn.e)((t,i)=>{let r,s=!0;t.subscribe((0,bn.x)(i,u=>{const h=e(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function NT(n,e){return n===e}F(9545);var pt,B_=F(3942),Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},go={},md=md||{},Ht=Pl||self;function Wh(){}function Hp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _d="closure_uid_"+(1e9*Math.random()>>>0),wS=0;function Gx(n,e,t){return n.call.apply(n.bind,arguments)}function ES(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Qr(n,e,t){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gx:ES).apply(null,arguments)}function V_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function Wc(){this.s=this.s,this.o=this.o}var x0={};Wc.prototype.s=!1,Wc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function bS(n){return Object.prototype.hasOwnProperty.call(n,_d)&&n[_d]||(n[_d]=++wS)}(this);delete x0[n]}},Wc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $p(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function RT(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Hp(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function kr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}kr.prototype.h=function(){this.defaultPrevented=!0};var TS=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",Wh,e),Ht.removeEventListener("test",Wh,e)}catch{}return n}();function U_(n){return/^[\s\xa0]*$/.test(n)}var kT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function R0(n,e){return n<e?-1:n>e?1:0}function yd(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function Pr(n){return-1!=yd().indexOf(n)}function PT(n){return PT[" "](n),n}PT[" "]=Wh;var Na,n,CS=Pr("Opera"),Zh=Pr("Trident")||Pr("MSIE"),H_=Pr("Edge"),k0=H_||Zh,Zo=Pr("Gecko")&&!(-1!=yd().toLowerCase().indexOf("webkit")&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),zp=-1!=yd().toLowerCase().indexOf("webkit")&&!Pr("Edge");function mr(){var n=Ht.document;return n?n.documentMode:void 0}e:{var Kh="",hs=(n=yd(),Zo?/rv:([^\);]+)(\)|;)/.exec(n):H_?/Edge\/([\d\.]+)/.exec(n):Zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zp?/WebKit\/(\S+)/.exec(n):CS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hs&&(Kh=hs?hs[1]:""),Zh){var qp=mr();if(null!=qp&&qp>parseFloat(Kh)){Na=String(qp);break e}}Na=Kh}var Yh={};var Jh=Ht.document&&Zh&&(mr()||parseInt(Na,10))||void 0;function Oa(n,e){if(kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Zo){e:{try{PT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xh[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Oa.X.h.call(this)}}gr(Oa,kr);var Xh={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),ef=0;function FT(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++ef,this.ba=this.ea=!1}function Wp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function j_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function P0(n){const e={};for(const t in n)e[t]=n[t];return e}const F0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<F0.length;s++)t=F0[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Zp(n){this.src=n,this.g={},this.h=0}function $_(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=xT(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Wp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G_(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}Zp.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=G_(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new FT(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var B0="closure_lm_"+(1e6*Math.random()|0),V0={};function U0(n,e,t,i,r){if(i&&i.once)return z_(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)U0(n,e[s],t,i,r);return null}return t=tf(t),n&&n[xa]?n.N(e,t,jp(i)?!!i.capture:!!i,r):LT(n,e,t,!1,i,r)}function LT(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=jp(r)?!!r.capture:!!r,h=Yp(n);if(h||(n[B0]=h=new Zp(n)),(t=h.add(e,t,i,u,s)).proxy)return t;if(i=function BT(){const e=W_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)TS||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Kp(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function z_(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)z_(n,e[s],t,i,r);return null}return t=tf(t),n&&n[xa]?n.O(e,t,jp(i)?!!i.capture:!!i,r):LT(n,e,t,!0,i,r)}function q_(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)q_(n,e[s],t,i,r);else i=jp(i)?!!i.capture:!!i,t=tf(t),n&&n[xa]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G_(s=n.g[e],t,i,r))&&(Wp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Yp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G_(e,t,i,r)),(t=-1<n?e[n]:null)&&H0(t))}function H0(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[xa])$_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Kp(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Yp(e))?($_(t,n),0==t.h&&(t.src=null,e[B0]=null)):Wp(n)}}}function Kp(n){return n in V0?V0[n]:V0[n]="on"+n}function W_(n,e){if(n.ba)n=!0;else{e=new Oa(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&H0(n),n=t.call(i,e)}return n}function Yp(n){return(n=n[B0])instanceof Zp?n:null}var j0="__closure_events_fn_"+(1e9*Math.random()>>>0);function tf(n){return"function"==typeof n?n:(n[j0]||(n[j0]=function(e){return n.handleEvent(e)}),n[j0])}function Si(){Wc.call(this),this.i=new Zp(this),this.P=this,this.I=null}function nr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new kr(e,n);else if(e instanceof kr)e.target=e.target||n;else{var r=e;L0(e=new kr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=Qp(u,i,!0,e)&&r}if(r=Qp(u=e.g=n,i,!0,e)&&r,r=Qp(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Qp(u=e.g=t[s],i,!1,e)&&r}function Qp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ba&&u.capture==t){var h=u.listener,g=u.ha||u.src;u.ea&&$_(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}gr(Si,Wc),Si.prototype[xa]=!0,Si.prototype.removeEventListener=function(n,e,t,i){q_(this,n,e,t,i)},Si.prototype.M=function(){if(Si.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Wp(t[i]);delete n.g[e],n.h--}}this.I=null},Si.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Si.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jp=Ht.JSON.stringify;function VT(){var n=$T;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var K_,Z_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new HT,n=>n.reset());class HT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DS(n){Ht.setTimeout(()=>{throw n},0)}function $0(n,e){K_||function jT(){var n=Ht.Promise.resolve(void 0);K_=function(){n.then(GT)}}(),Y_||(K_(),Y_=!0),$T.add(n,e)}var Y_=!1,$T=new class UT{constructor(){this.h=this.g=null}add(e,t){const i=Z_.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function GT(){for(var n;n=VT();){try{n.h.call(n.g)}catch(t){DS(t)}var e=Z_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Y_=!1}function Xp(n,e){Si.call(this),this.h=n||1,this.g=e||Ht,this.j=Qr(this.lb,this),this.l=Date.now()}function eg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function nf(n,e,t){if("function"==typeof n)t&&(n=Qr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function G0(n){n.g=nf(()=>{n.g=null,n.i&&(n.i=!1,G0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gr(Xp,Si),(pt=Xp.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nr(this,"tick"),this.ca&&(eg(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){Xp.X.M.call(this),eg(this),delete this.g};class zT extends Wc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:G0(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rf(n){Wc.call(this),this.h=n,this.g={}}gr(rf,Wc);var z0=[];function q0(n,e,t,i){Array.isArray(t)||(t&&(z0[0]=t.toString()),t=z0);for(var r=0;r<t.length;r++){var s=U0(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function W0(n){j_(n.g,function(e,t){this.g.hasOwnProperty(t)&&H0(e)},n),n.g={}}function tg(){this.g=!0}function sf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return Jp(t)}catch{return e}}(n,t)+(i?" "+i:"")})}rf.prototype.M=function(){rf.X.M.call(this),W0(this)},rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Aa=function(){this.g=!1},tg.prototype.info=function(){};var bd={},Fi=null;function ng(){return Fi=Fi||new Si}function ZT(n){kr.call(this,bd.Pa,n)}function ig(n){const e=ng();nr(e,new ZT(e,n))}function Z0(n,e){kr.call(this,bd.STAT_EVENT,n),this.stat=e}function Jr(n){const e=ng();nr(e,new Z0(e,n))}function K0(n,e){kr.call(this,bd.Qa,n),this.size=e}function af(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}bd.Pa="serverreachability",gr(ZT,kr),bd.STAT_EVENT="statevent",gr(Z0,kr),bd.Qa="timingevent",gr(K0,kr);var Fl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},KT={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Y0(){}function YT(){}Y0.prototype.h=null;var sg,lf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function QT(){kr.call(this,"d")}function rg(){kr.call(this,"c")}function Bs(){}function og(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new rf(this),this.O=Ra,this.T=new Xp(n=k0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new J0}function J0(){this.i=null,this.g="",this.h=!1}gr(QT,kr),gr(rg,kr),gr(Bs,Y0),Bs.prototype.g=function(){return new XMLHttpRequest},Bs.prototype.i=function(){return{}},sg=new Bs;var Ra=45e3,Vs={},fs={};function Q_(n,e,t){n.K=1,n.v=dg(Ko(e)),n.s=t,n.P=!0,X0(n,null)}function X0(n,e){n.F=Date.now(),ag(n),n.A=Ko(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),aC(t.i,"t",i),n.C=0,t=n.l.H,n.h=new J0,n.g=mb(n.l,t?e:null,!n.s),0<n.N&&(n.L=new zT(Qr(n.La,n,n.g),n.N)),q0(n.S,n.g,"readystatechange",n.ib),e=n.H?P0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ig(1),function qT(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),g=0;g<h.length;g++){var y=h[g].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");u=2<=I.length&&"type"==I[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function JT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function XT(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=SS(n,t),r==fs){4==e&&(n.o=4,Jr(14),i=!1),sf(n.j,n.m,null,"[Incomplete Response]");break}if(r==Vs){n.o=4,Jr(15),sf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}sf(n.j,n.m,r,null),eb(n,r)}JT(n)&&r!=fs&&r!=Vs&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),fb(e),e.K=!0,Jr(11))):(sf(n.j,n.m,t,"[Invalid Chunked Response]"),Yc(n),lg(n))}function SS(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?fs:(t=Number(e.substring(t,i)),isNaN(t)?Vs:(i+=1)+t>e.length?fs:(e=e.substr(i,t),n.C=i+t,e))}function ag(n){n.V=Date.now()+n.O,J_(n,n.O)}function J_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=af(Qr(n.gb,n),e)}function Kc(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function lg(n){0==n.l.G||n.I||bC(n.l,n)}function Yc(n){Kc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,eg(n.T),W0(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function eb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ib(t.h,n)))if(!n.J&&ib(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;iy(t),_g(t)}hb(t),Jr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=af(Qr(t.cb,t),6e3));if(1>=uC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ka(t,11)}else if((n.J||t.g==n)&&iy(t),!U_(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.T=y[0],y=y[1],2==t.G)if("c"==y[0]){t.I=y[1],t.ka=y[2];const E=y[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const I=y[4];null!=I&&(t.Ca=I,t.j.info("SVER="+t.Ca));const O=y[5];null!=O&&"number"==typeof O&&0<O&&(t.J=i=1.5*O,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const k=n.g;if(k){const B=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.h;s.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(rb(s,s.h),s.h=null))}if(i.D){const H=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(i.za=H,qn(i.F,i.D,H))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=gb(i,i.H?i.ka:null,i.V),u.J){sb(i.h,u);var h=u,g=i.J;g&&h.setTimeout(g),h.B&&(Kc(h),ag(h)),i.g=u}else vC(i);0<t.i.length&&ny(t)}else"stop"!=y[0]&&"close"!=y[0]||ka(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?ka(t,7):_C(t):"noop"!=y[0]&&t.l&&t.l.wa(y),t.A=0)}ig(4)}catch{}}function cg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tC(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function eC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hp(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(pt=og.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==Ll(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const E=Ll(this.g);var e=this.g.Ea();const I=this.g.aa();if(!(3>E)&&(3!=E||k0||this.g&&(this.h.h||this.g.fa()||Ed(this.g)))){this.I||4!=E||7==e||ig(8==e||0>=I?3:2),Kc(this);var t=this.g.aa();this.Y=t;t:if(JT(this)){var i=Ed(this.g);n="";var r=i.length,s=4==Ll(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yc(this),lg(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function zx(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U_(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Jr(12),Yc(this),lg(this);break e}sf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eb(this,t)}this.P?(XT(this,E,u),k0&&this.i&&3==E&&(q0(this.S,this.T,"tick",this.hb),this.T.start())):(sf(this.j,this.m,u,null),eb(this,u)),4==E&&Yc(this),this.i&&!this.I&&(4==E?bC(this.l,this):(this.i=!1,ag(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Jr(12)):(this.o=0,Jr(13)),Yc(this),lg(this)}}}catch{}},pt.hb=function(){if(this.g){var n=Ll(this.g),e=this.g.fa();this.C<e.length&&(Kc(this),XT(this,n,e),this.i&&4!=n&&ag(this))}},pt.cancel=function(){this.I=!0,Yc(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function IS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ig(3),Jr(17)),Yc(this),this.o=2,lg(this)):J_(this,this.V-n)};var nC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qc){this.h=void 0!==e?e:n.h,wd(this,n.j),this.s=n.s,this.g=n.g,ug(this,n.m),this.l=n.l,e=n.i;var t=new hg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),tb(this,t),this.o=n.o}else n&&(t=String(n).match(nC))?(this.h=!!e,wd(this,t[1]||"",!0),this.s=cf(t[2]||""),this.g=cf(t[3]||"",!0),ug(this,t[4]),this.l=cf(t[5]||"",!0),tb(this,t[6]||"",!0),this.o=cf(t[7]||"")):(this.h=!!e,this.i=new hg(null,this.h))}function Ko(n){return new Qc(n)}function wd(n,e,t){n.j=t?cf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ug(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function tb(n,e,t){e instanceof hg?(n.i=e,function xS(n,e){e&&!n.j&&(Jc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(sC(this,i),aC(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=uf(e,NS)),n.i=new hg(e,n.h))}function qn(n,e,t){n.i.set(e,t)}function dg(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function uf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(uf(e,nb,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(uf(e,nb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(uf(t,"/"==t.charAt(0)?MS:AS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",uf(t,OS)),n.join("")};var nb=/[#\/\?@]/g,AS=/[#\?:]/g,MS=/[#\?]/g,NS=/[#\?@]/g,OS=/#/g;function hg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Jc(n){n.g||(n.g=new Map,n.h=0,n.i&&function iC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sC(n,e){Jc(n),e=df(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function oC(n,e){return Jc(n),e=df(n,e),n.g.has(e)}function aC(n,e,t){sC(n,e),0<t.length&&(n.i=null,n.g.set(df(n,e),$p(t)),n.h+=t.length)}function df(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lC(n){this.l=n||kS,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=hg.prototype).add=function(n,e){Jc(this),this.i=null,n=df(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Jc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},pt.oa=function(){Jc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},pt.W=function(n){Jc(this);let e=[];if("string"==typeof n)oC(this,n)&&(e=e.concat(this.g.get(df(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return Jc(this),this.i=null,oC(this,n=df(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var kS=10;function cC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uC(n){return n.h?1:n.g?n.g.size:0}function ib(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rb(n,e){n.g?n.g.add(e):n.h=e}function sb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ob(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $p(n.i)}function X_(){}function dC(){this.g=new X_}function hC(n,e,t){const i=t||"";try{cg(n,function(r,s){let u=r;jp(r)&&(u=Jp(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function fg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function hf(n){this.l=n.ac||null,this.j=n.jb||!1}function pg(n,e){Si.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=gg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lC.prototype.cancel=function(){if(this.i=ob(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},X_.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},X_.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},gr(hf,Y0),hf.prototype.g=function(){return new pg(this.l,this.j)},hf.prototype.i=function(n){return function(){return n}}({}),gr(pg,Si);var gg=0;function ey(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Yo(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mg(n)}function mg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=pg.prototype).open=function(n,e){if(this.readyState!=gg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mg(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yo(this)),this.readyState=gg},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mg(this)),this.g&&(this.readyState=3,mg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ey(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yo(this):mg(this),3==this.readyState&&ey(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,Yo(this))},pt.Ua=function(n){this.g&&(this.response=n,Yo(this))},pt.ga=function(){this.g&&Yo(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PS=Ht.JSON.parse;function Pn(n){Si.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=FS,this.K=this.L=!1}gr(Pn,Si);var FS="",ab=/^https?$/i,qx=["POST","PUT"];function lb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LS(n),ty(n)}function LS(n){n.D||(n.D=!0,nr(n,"complete"),nr(n,"error"))}function At(n){if(n.h&&typeof md<"u"&&(!n.C[1]||4!=Ll(n)||2!=n.aa()))if(n.v&&4==Ll(n))nf(n.Ha,0,n);else if(nr(n,"readystatechange"),4==Ll(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(nC)[1]||null;if(!r&&Ht.self&&Ht.self.location){var s=Ht.self.location.protocol;r=s.substr(0,s.length-1)}i=!ab.test(r?r.toLowerCase():"")}t=i}if(t)nr(n,"complete"),nr(n,"success");else{n.m=6;try{var u=2<Ll(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",LS(n)}}finally{ty(n)}}}function ty(n,e){if(n.g){gC(n);const t=n.g,i=n.C[0]?Wh:null;n.g=null,n.C=null,e||nr(n,"ready");try{t.onreadystatechange=i}catch{}}}function gC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function Ll(n){return n.g?n.g.readyState:0}function Ed(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case FS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mC(n){let e="";return j_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ff(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=mC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function Xc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oi(n){this.Ca=0,this.i=[],this.j=new tg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Xc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Xc("baseRetryDelayMs",5e3,n),this.bb=Xc("retryDelaySeedMs",1e4,n),this.$a=Xc("forwardChannelMaxRetries",2,n),this.ta=Xc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new lC(n&&n.concurrentRequestLimit),this.Fa=new dC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _C(n){if(cb(n),3==n.G){var e=n.U++,t=Ko(n.F);qn(t,"SID",n.I),qn(t,"RID",e),qn(t,"TYPE","terminate"),pf(n,t),(e=new og(n,n.j,e,void 0)).K=2,e.v=dg(Ko(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=mb(e.l,null),e.g.da(e.v)),e.F=Date.now(),ag(e)}pb(n)}function _g(n){n.g&&(fb(n),n.g.cancel(),n.g=null)}function cb(n){_g(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),iy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function ny(n){cC(n.h)||n.m||(n.m=!0,$0(n.Ja,n),n.C=0)}function ub(n,e){var t;t=e?e.m:n.U++;const i=Ko(n.F);qn(i,"SID",n.I),qn(i,"RID",t),qn(i,"AID",n.T),pf(n,i),n.o&&n.s&&ff(i,n.o,n.s),t=new og(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=db(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),rb(n.h,t),Q_(t,i,e)}function pf(n,e){n.ia&&j_(n.ia,function(t,i){qn(e,i,t)}),n.l&&cg({},function(t,i){qn(e,i,t)})}function db(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Qr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let g=0;g<t;g++){let y=r[g].h;const E=r[g].g;if(y-=s,0>y)s=Math.max(0,r[g].h-100),h=!1;else try{hC(E,u,"req"+y+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function vC(n){n.g||n.u||(n.Z=1,$0(n.Ia,n),n.A=0)}function hb(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=af(Qr(n.Ia,n),wC(n,n.A)),n.A++,0))}function fb(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function gf(n){n.g=new og(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ko(n.sa);qn(e,"RID","rpc"),qn(e,"SID",n.I),qn(e,"CI",n.L?"0":"1"),qn(e,"AID",n.T),qn(e,"TYPE","xmlhttp"),pf(n,e),n.o&&n.s&&ff(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=dg(Ko(e)),t.s=null,t.P=!0,X0(t,n)}function iy(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function bC(n,e){var t=null;if(n.g==e){iy(n),fb(n),n.g=null;var i=2}else{if(!ib(n.h,e))return;t=e.D,sb(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;nr(i=ng(),new K0(i,t,e,r)),ny(n)}else vC(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function yC(n,e){return!(uC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=af(Qr(n.Ja,n,e),wC(n,n.C)),n.C++,0)))}(n,e)||2==i&&hb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:ka(n,5);break;case 4:ka(n,10);break;case 3:ka(n,6);break;default:ka(n,2)}}function wC(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ka(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Qr(n.kb,n);t||(t=new Qc("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||wd(t,"https"),dg(t)),function fC(n,e){const t=new tg;if(Ht.Image){const i=new Image;i.onload=V_(fg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=V_(fg,t,i,"TestLoadImage: error",!1,e),i.onabort=V_(fg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=V_(fg,t,i,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Jr(2);n.G=0,n.l&&n.l.va(e),pb(n),cb(n)}function pb(n){if(n.G=0,n.la=[],n.l){const e=ob(n.h);(0!=e.length||0!=n.i.length)&&(RT(n.la,e),RT(n.la,n.i),n.h.i.length=0,$p(n.i),n.i.length=0),n.l.ua()}}function gb(n,e,t){var i=t instanceof Qc?Ko(t):new Qc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),ug(i,i.m);else{var r=Ht.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Qc(null,void 0);i&&wd(s,i),e&&(s.g=e),r&&ug(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&qn(i,t,e),qn(i,"VER",n.ma),pf(n,i),i}function mb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t&&n.Da&&!n.ra?new hf({jb:!0}):n.ra)).Ka(n.H),e}function EC(){}function eu(){if(Zh&&!(10<=Number(Jh)))throw Error("Environmental error: no available transport.")}function _r(n,e){Si.call(this),this.g=new oi(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!U_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!U_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mf(this)}function TC(n){QT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function CC(){rg.call(this),this.status=1}function mf(n){this.g=n}(pt=Pn.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sg.g(),this.C=function Q0(n){return n.h||(n.h=n.i())}(this.u?this.u:sg),this.g.onreadystatechange=Qr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void lb(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ht.FormData&&n instanceof Ht.FormData,!(0<=xT(qx,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gC(this),0<this.B&&((this.K=function pC(n){return Zh&&function Qh(){return function Gp(n){var e=Yh;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=kT(String(Na)).split("."),t=kT("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",s=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=R0(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||R0(0==r[2].length,0==s[2].length)||R0(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.qa,this)):this.A=nf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){lb(this,s)}},pt.qa=function(){typeof md<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,nr(this,"complete"),nr(this,"abort"),ty(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ty(this,!0)),Pn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?At(this):this.fb())},pt.fb=function(){At(this)},pt.aa=function(){try{return 2<Ll(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),PS(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=oi.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new og(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=P0(s),L0(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=db(this,r,e),qn(t=Ko(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),pf(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(mC(s)))+"&"+e:this.o&&ff(t,this.o,s)),rb(this.h,r),this.Ya&&qn(t,"TYPE","init"),this.O?(qn(t,"$req",e),qn(t,"SID","null"),r.Z=!0,Q_(r,t,null)):Q_(r,t,e),this.G=2}}else 3==this.G&&(n?ub(this,n):0==this.i.length||cC(this.h)||ub(this))},pt.Ia=function(){if(this.u=null,gf(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=af(Qr(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Jr(10),_g(this),gf(this))},pt.cb=function(){null!=this.v&&(this.v=null,_g(this),hb(this),Jr(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Jr(2)):(this.j.info("Failed to ping google.com"),Jr(1))},(pt=EC.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},eu.prototype.g=function(n,e){return new _r(n,e)},gr(_r,Si),_r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Jr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=gb(n,null,n.V),ny(n)},_r.prototype.close=function(){_C(this.g)},_r.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jp(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ny(e)},_r.prototype.M=function(){this.g.l=null,delete this.j,_C(this.g),delete this.g,_r.X.M.call(this)},gr(TC,QT),gr(CC,rg),gr(mf,EC),mf.prototype.xa=function(){nr(this.g,"a")},mf.prototype.wa=function(n){nr(this.g,new TC(n))},mf.prototype.va=function(n){nr(this.g,new CC(n))},mf.prototype.ua=function(){nr(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,_r.prototype.send=_r.prototype.u,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,Fl.NO_ERROR=0,Fl.TIMEOUT=8,Fl.HTTP_ERROR=6,KT.COMPLETE="complete",YT.EventType=lf,lf.OPEN="a",lf.CLOSE="b",lf.ERROR="c",lf.MESSAGE="d",Si.prototype.listen=Si.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.Oa,Pn.prototype.getLastErrorCode=Pn.prototype.Ea,Pn.prototype.getStatus=Pn.prototype.aa,Pn.prototype.getResponseJson=Pn.prototype.Sa,Pn.prototype.getResponseText=Pn.prototype.fa,Pn.prototype.send=Pn.prototype.da,Pn.prototype.setWithCredentials=Pn.prototype.Ka;var DC=go.createWebChannelTransport=function(){return new eu},IC=go.getStatEventTarget=function(){return ng()},ry=go.ErrorCode=Fl,BS=go.EventType=KT,SC=go.Event=bd,AC=go.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},VS=go.FetchXmlHttpFactory=hf,_b=go.WebChannel=YT,Wx=go.XhrIo=Pn;const US="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let Td="9.12.1";const Qo=new zc.Yd("@firebase/firestore");function yb(){return Qo.logLevel}function Le(n,...e){if(Qo.logLevel<=zc.in.DEBUG){const t=e.map(vb);Qo.debug(`Firestore (${Td}): ${n}`,...t)}}function Wn(n,...e){if(Qo.logLevel<=zc.in.ERROR){const t=e.map(vb);Qo.error(`Firestore (${Td}): ${n}`,...t)}}function Cd(n,...e){if(Qo.logLevel<=zc.in.WARN){const t=e.map(vb);Qo.warn(`Firestore (${Td}): ${n}`,...t)}}function vb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Td}) INTERNAL ASSERTION FAILED: `+n;throw Wn(e),new Error(e)}function xt(n,e){n||dt()}function et(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Wt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class MC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yr.UNAUTHENTICATED))}shutdown(){}}class $S{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OC{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,me.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},g=y=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xt("string"==typeof i.accessToken),new MC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new yr(e)}}class GS{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class xC{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new GS(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bb{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new RC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class wb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=kC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function jt(n,e){return n<e?-1:n>e?1:0}function _f(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function PC(n){return n+"\0"}class Vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Vn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Vn(0,0))}static max(){return new Rt(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yf{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===yf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends yf{construct(e,t,i){return new hn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const zS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends yf{construct(e,t,i){return new vi(e,t,i)}static isValidIdentifier(e){return zS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(hn.fromString(e))}static fromName(e){return new Je(hn.fromString(e).popFirst(5))}static empty(){return new Je(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new hn(e.slice()))}}class sy{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Eb(n){return n.fields.find(e=>2===e.kind)}function Dd(n){return n.fields.filter(e=>2!==e.kind)}sy.UNKNOWN_ID=-1;class yg{constructor(e,t){this.fieldPath=e,this.kind=t}}class vf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vf(0,ps.min())}}function LC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new Vn(t+1,0):new Vn(t,i));return new ps(r,Je.empty(),e)}function oy(n){return new ps(n.readTime,n.key,-1)}class ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ps(Rt.min(),Je.empty(),-1)}static max(){return new ps(Rt.max(),Je.empty(),-1)}}function Tb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const BC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ay{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Pa(n){return ly.apply(this,arguments)}function ly(){return ly=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==BC)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),ly.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,s=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&t()},g=>i(g))}),u=!0,s===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const s=e.length,u=new Array(s);let h=0;for(let g=0;g<s;g++){const y=g;t(e[y]).next(E=>{u[y]=E,++h,h===s&&i(u)},E=>r(E))}})}static doWhile(e,t){return new ae((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class cy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new vg(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=UC(i.target.error);this.P.reject(new vg(e,r))}}static open(e,t,i,r){try{return new cy(t,e.transaction(r,i))}catch(s){throw new vg(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bf(t)}}class Jo{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Jo.D((0,Wt.z$)())&&Wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),tu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Wt.hl)())return!1;if(Jo.N())return!0;const e=(0,Wt.z$)(),t=Jo.D(e),i=0<t&&t<10,r=Jo.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,me.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new vg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new ke(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new vg(e,h))},s.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,me.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.F(e);const g=cy.open(s.db,e,u?"readonly":"readwrite",i),y=r(g).next(E=>(g.V(),E)).catch(E=>(g.abort(E),ae.reject(E))).toPromise();return y.catch(()=>{}),yield g.v,y}catch(g){const y=g,E="FirebaseError"!==y.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),s.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Cb{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return tu(this.U.delete())}}class vg extends ke{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bl(n){return"IndexedDbTransactionError"===n.name}class bf{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),tu(i)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),tu(this.store.add(e))}get(e){return tu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),tu(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),tu(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ae((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,u,h)=>h.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=s=>{const u=UC(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(e,t){const i=[];return new ae((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new Cb(h),y=t(h.primaryKey,h.value,g);if(y instanceof ae){const E=y.catch(I=>(g.done(),ae.reject(I)));i.push(E)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tu(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=UC(i.target.error);t(r)}})}let VC=!1;function UC(n){const e=Jo.D((0,Wt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VC||(VC=!0,setTimeout(()=>{throw i},0)),i}}return n}class HC{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Bl(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Pa(i)}yield t.nt(6e4)}))}}class Db{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return ae.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,s)).next(h=>(Le("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const u=oy(s);Tb(u,i)>0&&(i=u)}),new ps(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class gs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function uy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Id(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ib(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}gs.at=-1;class Xn{constructor(e,t){this.comparator=e,this.root=t||ir.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bg(this.root,e,this.comparator,!0)}}class bg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??ir.RED,this.left=r??ir.EMPTY,this.right=s??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new ir(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ir.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ir(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wf(n){return n.hasNext()?n.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(vi.comparator)}static empty(){return new Us([])}unionWith(e){let t=new In(vi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class $i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $i(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new $i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const jC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sd(n){if(xt(!!n),"string"==typeof n){let e=0;const t=jC.exec(n);if(xt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:li(n.seconds),nanos:li(n.nanos)}}function li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ad(n){return"string"==typeof n?$i.fromBase64String(n):$i.fromUint8Array(n)}function Ab(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ZS(n){const e=n.mapValue.fields.__previous_value__;return Ab(e)?ZS(e):e}function dy(n){const e=Sd(n.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}class KS{constructor(e,t,i,r,s,u,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class nu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}function wg(n){return null==n}function Ef(n){return 0===n&&1/n==-1/0}function Mb(n){return"number"==typeof n&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hy={nullValue:"NULL_VALUE"};function Md(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ab(n)?4:zC(n)?9007199254740991:10:dt()}function Fa(n,e){if(n===e)return!0;const t=Md(n);if(t!==Md(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dy(n).isEqual(dy(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Sd(i.timestampValue),u=Sd(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ad(n.bytesValue).isEqual(Ad(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return li(i.geoPointValue.latitude)===li(r.geoPointValue.latitude)&&li(i.geoPointValue.longitude)===li(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return li(i.integerValue)===li(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=li(i.doubleValue),u=li(r.doubleValue);return s===u?Ef(s)===Ef(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return _f(n.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(uy(s)!==uy(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!Fa(s[h],u[h])))return!1;return!0}(n,e);default:return dt()}var r}function Eg(n,e){return void 0!==(n.values||[]).find(t=>Fa(t,e))}function iu(n,e){if(n===e)return 0;const t=Md(n),i=Md(e);if(t!==i)return jt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=li(r.integerValue||r.doubleValue),h=li(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return $C(n.timestampValue,e.timestampValue);case 4:return $C(dy(n),dy(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Ad(r),h=Ad(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let g=0;g<u.length&&g<h.length;g++){const y=jt(u[g],h[g]);if(0!==y)return y}return jt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=jt(li(r.latitude),li(s.latitude));return 0!==u?u:jt(li(r.longitude),li(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let g=0;g<u.length&&g<h.length;++g){const y=iu(u[g],h[g]);if(y)return y}return jt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Vl.mapValue&&s===Vl.mapValue)return 0;if(r===Vl.mapValue)return 1;if(s===Vl.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=s.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const I=jt(h[E],y[E]);if(0!==I)return I;const O=iu(u[h[E]],g[y[E]]);if(0!==O)return O}return jt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw dt()}}function $C(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Sd(n),i=Sd(e),r=jt(t.seconds,i.seconds);return 0!==r?r:jt(t.nanos,i.nanos)}function La(n){return fy(n)}function fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ad(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=fy(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${fy(i.fields[h])}`;return s+"}"}(n.mapValue):dt();var e}function ru(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function Tf(n){return!!n&&"arrayValue"in n}function Nb(n){return!!n&&"nullValue"in n}function GC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gy(n){return!!n&&"mapValue"in n}function my(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Id(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=my(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=my(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function YS(n){return"nullValue"in n?hy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ru(nu.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function QS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ru(nu.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vl:dt()}function qC(n,e){const t=iu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function WC(n,e){const t=iu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=my(t)}setAll(e){let t=vi.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=my(u):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Id(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ai(my(this.value))}}function ZC(n){const e=[];return Id(n.fields,(t,i)=>{const r=new vi([t]);if(gy(i)){const s=ZC(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new Us(e)}class Nn{constructor(e,t,i,r,s,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Nn(e,0,Rt.min(),Rt.min(),Ai.empty(),0)}static newFoundDocument(e,t,i){return new Nn(e,1,t,Rt.min(),i,0)}static newNoDocument(e,t){return new Nn(e,2,t,Rt.min(),Ai.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,Rt.min(),Ai.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ba{constructor(e,t=null,i=[],r=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.ht=null}}function KC(n,e=null,t=[],i=[],r=null,s=null,u=null){return new Ba(n,e,t,i,r,s,u)}function Va(n){const e=et(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+La(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),wg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>La(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>La(i)).join(",")),e.ht=t}return e.ht}function Cg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!XC(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Fa(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wy(n.startAt,e.startAt)&&wy(n.endAt,e.endAt)}function _y(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function yy(n,e){return n.filters.filter(t=>t instanceof vr&&t.field.isEqual(e))}function Dg(n,e,t){let i=hy,r=!0;for(const s of yy(n,e)){let u=hy,h=!0;switch(s.op){case"<":case"<=":u=YS(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=hy}qC({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];qC({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function Ig(n,e,t){let i=Vl,r=!0;for(const s of yy(n,e)){let u=Vl,h=!0;switch(s.op){case">=":case">":u=QS(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Vl}WC({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];WC({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class vr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new JS(e,t,i):"array-contains"===t?new JC(e,i):"in"===t?new XS(e,i):"not-in"===t?new eA(e,i):"array-contains-any"===t?new Kx(e,i):new vr(e,t,i)}static lt(e,t,i){return"in"===t?new YC(e,i):new QC(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(iu(t,this.value)):null!==t&&Md(this.value)===Md(t)&&this.ft(iu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JS extends vr{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.ft(t)}}class YC extends vr{constructor(e,t){super(e,"in",t),this.keys=vy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QC extends vr{constructor(e,t){super(e,"not-in",t),this.keys=vy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}class JC extends vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tf(t)&&Eg(t.arrayValue,this.value)}}class XS extends vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class eA extends vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class Kx extends vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Eg(this.value.arrayValue,i))}}class Ua{constructor(e,t){this.position=e,this.inclusive=t}}class su{constructor(e,t="asc"){this.field=e,this.dir=t}}function XC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function by(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?Je.comparator(Je.fromName(u.referenceValue),t.key):iu(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function wy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fa(n.position[t],e.position[t]))return!1;return!0}class Ul{constructor(e,t=null,i=[],r=[],s=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=g,this._t=null,this.wt=null}}function eD(n,e,t,i,r,s,u,h){return new Ul(n,e,t,i,r,s,u,h)}function Cf(n){return new Ul(n)}function tD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ey(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sg(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Ty(n){return null!==n.collectionGroup}function Nd(n){const e=et(n);if(null===e._t){e._t=[];const t=Sg(e),i=Ey(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new su(t)),e._t.push(new su(vi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new su(vi.keyField(),s))}}}return e._t}function Fr(n){const e=et(n);if(!e.wt)if("F"===e.limitType)e.wt=KC(e.path,e.collectionGroup,Nd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Nd(e))t.push(new su(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Ua(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ua(e.startAt.position,e.startAt.inclusive):null;e.wt=KC(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function Ag(n,e,t){return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mg(n,e){return Cg(Fr(n),Fr(e))&&n.limitType===e.limitType}function Ob(n){return`${Va(Fr(n))}|lt:${n.limitType}`}function Cy(n){return`Query(target=${function Tg(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${La(i.value)}`;var i}).join(", ")}]`),wg(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>La(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>La(t)).join(",")),`Target(${e})`}(Fr(n))}; limitType=${n.limitType})`}function xb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const h=by(r,s,u);return r.inclusive?h<=0:h<0}(t.startAt,Nd(t),i)||t.endAt&&!function(r,s,u){const h=by(r,s,u);return r.inclusive?h>=0:h>0}(t.endAt,Nd(t),i)));var t,i}function Rb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kb(n){return(e,t)=>{let i=!1;for(const r of Nd(n)){const s=Xr(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Xr(n,e,t){const i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(r,s,u){const h=s.data.field(r),g=u.data.field(r);return null!==h&&null!==g?iu(h,g):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function Od(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function nD(n){return{integerValue:""+n}}function iD(n,e){return Mb(e)?nD(e):Od(n,e)}class Pb{constructor(){this._=void 0}}function Yx(n,e,t){return n instanceof Ha?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof xd?Dy(n,e):n instanceof Rd?Lb(n,e):function(i,r){const s=Fb(i,r),u=sD(s)+sD(i.yt);return py(s)&&py(i.yt)?nD(u):Od(i.It,u)}(n,e)}function rD(n,e,t){return n instanceof xd?Dy(n,e):n instanceof Rd?Lb(n,e):t}function Fb(n,e){return n instanceof Df?py(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ha extends Pb{}class xd extends Pb{constructor(e){super(),this.elements=e}}function Dy(n,e){const t=oD(e);for(const i of n.elements)t.some(r=>Fa(r,i))||t.push(i);return{arrayValue:{values:t}}}class Rd extends Pb{constructor(e){super(),this.elements=e}}function Lb(n,e){let t=oD(e);for(const i of n.elements)t=t.filter(r=>!Fa(r,i));return{arrayValue:{values:t}}}class Df extends Pb{constructor(e,t){super(),this.It=e,this.yt=t}}function sD(n){return li(n.integerValue||n.doubleValue)}function oD(n){return Tf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kd{constructor(e,t){this.field=e,this.transform=t}}class lD{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bb{}function Vb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Mf(n.key,Fn.none()):new Pd(n.key,n.data,Fn.none());{const t=n.data,i=Ai.empty();let r=new In(vi.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Xo(n.key,i,new Us(r.toArray()),Fn.none())}}function tA(n,e,t){n instanceof Pd?function(i,r,s){const u=i.value.clone(),h=uD(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Xo?function(i,r,s){if(!If(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=uD(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(nA(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sf(n,e,t,i){return n instanceof Pd?function(r,s,u,h){if(!If(r.precondition,s))return u;const g=r.value.clone(),y=iA(r.fieldTransforms,h,s);return g.setAll(y),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xo?function(r,s,u,h){if(!If(r.precondition,s))return u;const g=iA(r.fieldTransforms,h,s),y=s.data;return y.setAll(nA(r)),y.setAll(g),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,e,t,i):(u=t,If(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function Af(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Fb(i.transform,r||null);null!=s&&(null===t&&(t=Ai.empty()),t.set(i.field,s))}return t||null}function cD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&_f(t,i,(r,s)=>function aD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof xd&&i instanceof xd||t instanceof Rd&&i instanceof Rd?_f(t.elements,i.elements,Fa):t instanceof Df&&i instanceof Df?Fa(t.yt,i.yt):t instanceof Ha&&i instanceof Ha);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Pd extends Bb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xo extends Bb{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function uD(n,e,t){const i=new Map;xt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,h=e.data.field(s.field);i.set(s.field,rD(u,h,t[r]))}return i}function iA(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,Yx(s,u,e))}return i}class Mf extends Bb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub extends Bb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rA{constructor(e){this.count=e}}var Mi,ln;function dD(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Hb(n){if(void 0===n)return Wn("GRPC error has no .code"),de.UNKNOWN;switch(n){case Mi.OK:return de.OK;case Mi.CANCELLED:return de.CANCELLED;case Mi.UNKNOWN:return de.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return de.INTERNAL;case Mi.UNAVAILABLE:return de.UNAVAILABLE;case Mi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Mi.NOT_FOUND:return de.NOT_FOUND;case Mi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Mi.ABORTED:return de.ABORTED;case Mi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Mi.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(ln=Mi||(Mi={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class Hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Id(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}const sA=new Xn(Je.comparator);function ms(){return sA}const jb=new Xn(Je.comparator);function Ng(...n){let e=jb;for(const t of n)e=e.insert(t.key,t);return e}function $b(n){let e=jb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ea(){return Nf()}function Gb(){return Nf()}function Nf(){return new Hl(n=>n.toString(),(n,e)=>n.isEqual(e))}const oA=new Xn(Je.comparator),aA=new In(Je.comparator);function Kt(...n){let e=aA;for(const t of n)e=e.add(t);return e}const hD=new In(jt);function zb(){return hD}class Iy{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Sy.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Iy(Rt.min(),r,zb(),ms(),Kt())}}class Sy{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sy(i,t,Kt(),Kt(),Kt())}}class qb{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class lA{constructor(e,t){this.targetId=e,this.At=t}}class cA{constructor(e,t,i=$i.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class uA{constructor(){this.Rt=0,this.bt=dA(),this.Pt=$i.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Kt(),t=Kt(),i=Kt();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new Sy(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=dA()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Qx{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ms(),this.qt=Og(),this.Kt=new In(jt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(_y(s))if(0===i){const u=new Je(s.path);this.jt(t,u,Nn.newNoDocument(u,Rt.min()))}else xt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,u)=>{const h=this.Xt(u);if(h){if(s.current&&_y(h.target)){const g=new Je(h.target.path);null!==this.Ut.get(g)||this.ee(u,g)||this.jt(u,g,Nn.newNoDocument(g,e))}s.Dt&&(t.set(u,s.xt()),s.Nt())}});let i=Kt();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(g=>{const y=this.Xt(g);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.Ut.forEach((s,u)=>u.setReadTime(e));const r=new Iy(e,t,this.Kt,this.Ut,i);return this.Ut=ms(),this.qt=Og(),this.Kt=new In(jt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new uA,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new In(jt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new uA),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Og(){return new Xn(Je.comparator)}function dA(){return new Xn(Je.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},Ay={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pD{constructor(e,t){this.databaseId=e,this.gt=t}}function Of(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hA(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Wb(n,e){return Of(n,e.toTimestamp())}function Gi(n){return xt(!!n),Rt.fromTimestamp(function(e){const t=Sd(e);return new Vn(t.seconds,t.nanos)}(n))}function Zb(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Kb(n){const e=hn.fromString(n);return xt(yD(e)),e}function My(n,e){return Zb(n.databaseId,e.path)}function ja(n,e){const t=Kb(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(mD(t))}function Yb(n,e){return Zb(n.databaseId,e)}function gD(n){const e=Kb(n);return 4===e.length?hn.emptyPath():mD(e)}function ou(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mD(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fA(n,e,t){return{name:My(n,e),fields:t.value.mapValue.fields}}function pA(n,e,t){const i=ja(n,e.name),r=Gi(e.updateTime),s=new Ai({mapValue:{fields:e.fields}}),u=Nn.newFoundDocument(i,r,s);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function xg(n,e){let t;if(e instanceof Pd)t={update:fA(n,e.key,e.value)};else if(e instanceof Mf)t={delete:My(n,e.key)};else if(e instanceof Xo)t={update:fA(n,e.key,e.data),updateMask:yA(e.fieldMask)};else{if(!(e instanceof Ub))return dt();t={verify:My(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof xd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Rd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Df)return{fieldPath:s.field.canonicalString(),increment:u.yt};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Wb(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function Qb(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Fn.updateTime(Gi(r.updateTime)):void 0!==r.exists?Fn.exists(r.exists):Fn.none():Fn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(xt("REQUEST_TIME"===u.setToServerValue),h=new Ha):"appendMissingElements"in u?h=new xd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Rd(u.removeAllFromArray.values||[]):"increment"in u?h=new Df(s,u.increment):dt();const g=vi.fromServerFormat(u.fieldPath);return new kd(g,h)}(n,r)):[];var r;if(e.update){const r=ja(n,e.update.name),s=new Ai({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Us((e.updateMask.fieldPaths||[]).map(y=>vi.fromServerFormat(y)));return new Xo(r,s,u,t,i)}return new Pd(r,s,t,i)}if(e.delete){const r=ja(n,e.delete);return new Mf(r,t)}if(e.verify){const r=ja(n,e.verify);return new Ub(r,t)}return dt()}function _D(n,e){return{documents:[Yb(n,e.path)]}}function Ny(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Yb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Yb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const y=g.map(E=>function(I){if("=="===I.op){if(GC(I.value))return{unaryFilter:{field:xf(I.field),op:"IS_NAN"}};if(Nb(I.value))return{unaryFilter:{field:xf(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(GC(I.value))return{unaryFilter:{field:xf(I.field),op:"IS_NOT_NAN"}};if(Nb(I.value))return{unaryFilter:{field:xf(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xf(I.field),op:Xb(I.op),value:I.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(y=>{return{field:xf((E=y).field),direction:mA(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(y=e.limit,n.gt||wg(y)?y:{value:y});var y,h,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function Jb(n){let e=gD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){xt(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=mo(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(E=>{return new su(br((I=E).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;t.limit&&(h=function(E){let I;return I="object"==typeof E?E.value:E,wg(I)?null:I}(t.limit));let g=null;var E;t.startAt&&(g=new Ua((E=t.startAt).values||[],!!E.before));let y=null;return t.endAt&&(y=function(E){return new Ua(E.values||[],!E.before)}(t.endAt)),eD(e,r,u,s,h,"F",g,y)}function mo(n){return n?void 0!==n.unaryFilter?[ew(n)]:void 0!==n.fieldFilter?[_A(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>mo(e)).reduce((e,t)=>e.concat(t)):dt():[]}function mA(n){return fD[n]}function Xb(n){return Ay[n]}function xf(n){return{fieldPath:n.canonicalString()}}function br(n){return vi.fromServerFormat(n.fieldPath)}function _A(n){return vr.create(br(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ew(n){switch(n.unaryFilter.op){case"IS_NAN":const e=br(n.unaryFilter.field);return vr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=br(n.unaryFilter.field);return vr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=br(n.unaryFilter.field);return vr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=br(n.unaryFilter.field);return vr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function yA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tw(e)),e=vD(n.get(t),e);return tw(e)}function vD(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function tw(n){return n+"\x01\x01"}function $a(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:dt()}s=u+2}return new hn(i)}const nw=["userId","batchId"];function Rg(n,e){return[n,wr(e)]}function bD(n,e,t){return[n,wr(e),t]}const wD={},vA=["prefixPath","collectionGroup","readTime","documentId"],iw=["prefixPath","collectionGroup","documentId"],au=["collectionGroup","readTime","prefixPath","documentId"],ED=["canonicalId","targetId"],rw=["targetId","path"],jl=["path","targetId"],bA=["collectionId","parent"],tR=["indexId","uid"],wA=["uid","sequenceNumber"],EA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],TA=["indexId","uid","orderedDocumentKey"],CA=["userId","collectionPath","documentId"],TD=["userId","collectionPath","largestBatchId"],nR=["userId","collectionGroup","largestBatchId"],sw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DA=[...sw,"documentOverlays"],ow=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IA=ow,aw=[...IA,"indexConfiguration","indexState","indexEntries"];class Oy extends ay{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function zi(n,e){const t=et(n);return Jo.M(t.ie,e)}class xy{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&tA(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Sf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Gb();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(r.key)?null:h;const g=Vb(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,(t,i)=>cD(t,i))&&_f(this.baseMutations,e.baseMutations,(t,i)=>cD(t,i))}}class Ry{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){xt(e.mutations.length===i.length);let r=oA;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new Ry(e,t,i,r)}}class ky{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ta{constructor(e,t,i,r,s=Rt.min(),u=Rt.min(),h=$i.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kg{constructor(e){this.re=e}}function DD(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:My(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Of(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:lu(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:lu(e.version)}}var r,s;return i}function Pg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function lu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fd(n){const e=new Vn(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function Ld(n,e){const t=(e.baseMutations||[]).map(s=>Qb(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Qb(n.re,s)),r=Vn.fromMillis(e.localWriteTimeMs);return new xy(e.batchId,r,t,i)}function Py(n){const e=Fd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fd(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(xt(1===(r=n.query).documents.length),i=Fr(Cf(gD(r.documents[0])))):i=Fr(Jb(n.query)),new ta(i,n.targetId,0,n.lastListenSequenceNumber,e,t,$i.fromBase64String(n.resumeToken))}function SA(n,e){const t=lu(e.snapshotVersion),i=lu(e.lastLimboFreeSnapshotVersion);let r;r=_y(e.target)?_D(n.re,e.target):Ny(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Va(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Fy(n){const e=Jb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ag(e,e.limit,"L"):e}function lw(n,e){return new ky(e.largestBatchId,Qb(n.re,e.overlayMutation))}function ID(n,e){const t=e.path.lastSegment();return[n,wr(e.path.popLast()),t]}function SD(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:lu(i.readTime),documentKey:wr(i.documentKey.path),largestBatchId:i.largestBatchId}}class iR{getBundleMetadata(e,t){return AA(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Fd(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return AA(e).put({bundleId:(i=t).id,createTime:lu(Gi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return MA(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Fy(r.bundledQuery),readTime:Fd(r.readTime)};var r})}saveNamedQuery(e,t){return MA(e).put({name:(i=t).name,readTime:lu(Gi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function AA(n){return zi(n,"bundles")}function MA(n){return zi(n,"namedQueries")}class cw{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new cw(e,t.uid||"")}getOverlay(e,t){return Ly(e).get(ID(this.userId,t)).next(i=>i?lw(this.It,i):null)}getOverlays(e,t){const i=ea();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const h=new ky(t,u);r.push(this.ue(e,h))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(wr(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Ly(e).Y("collectionPathOverlayIndex",h))}),ae.waitFor(s)}getOverlaysForCollection(e,t,i){const r=ea(),s=wr(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ly(e).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const y=lw(this.It,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=ea();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ly(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,y,E)=>{const I=lw(this.It,y);s.size()<r||I.largestBatchId===u?(s.set(I.getKey(),I),u=I.largestBatchId):E.done()}).next(()=>s)}ue(e,t){return Ly(e).put(function(i,r,s){const[u,h,g]=ID(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:xg(i.re,s.mutation)}}(this.It,this.userId,t))}}function Ly(n){return zi(n,"documentOverlays")}class Bd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(li(e.integerValue));else if("doubleValue"in e){const i=li(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Ef(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ad(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?zC(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):dt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Je.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function By(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function AD(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=By(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Bd.Te=new Bd;class NA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=AD(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=AD(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class MD{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Vd{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Rf{constructor(){this.Be=new NA,this.Le=new MD(this.Be),this.Ue=new Vd(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $l{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new $l(this.indexId,this.documentKey,this.arrayValue,i)}}function Gl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ND(n.arrayValue,e.arrayValue),0!==t?t:(t=ND(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function ND(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class uw{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=Eb(e);if(void 0!==t&&!this.ze(t))return!1;const i=Dd(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class dw{constructor(){this.Ye=new kf}addToCollectionParentIndex(e,t){return this.Ye.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ps.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class kf{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(hn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(hn.comparator)).toArray()}}const hw=new Uint8Array(0);class rR{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new kf,this.Ze=new Hl(i=>Va(i),(i,r)=>Cg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:wr(r)};return OA(e).put(s)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[PC(t),""],!1,!0);return OA(e).W(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push($a(u.parent))}return i})}addFieldIndex(e,t){const i=Fg(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(t.indexState){const u=Lg(e);return s.next(h=>{u.put(SD(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Fg(e),r=Lg(e),s=Vy(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Vy(e);let r=!0;const s=new Map;return ae.forEach(this.tn(t),u=>this.en(e,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Kt();const h=[];return ae.forEach(s,(g,y)=>{var E;Le("IndexedDbIndexManager",`Using index ${E=g,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Fe=>`${Fe.fieldPath}:${Fe.kind}`).join(",")}`} to execute ${Va(t)}`);const I=function(Fe,Ae){const He=Eb(Ae);if(void 0===He)return null;for(const ze of yy(Fe,He.fieldPath))switch(ze.op){case"array-contains-any":return ze.value.arrayValue.values||[];case"array-contains":return[ze.value]}return null}(y,g),O=function(Fe,Ae){const He=new Map;for(const ze of Dd(Ae))for(const ht of yy(Fe,ze.fieldPath))switch(ht.op){case"==":case"in":He.set(ze.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return He.set(ze.fieldPath.canonicalString(),ht.value),Array.from(He.values())}return null}(y,g),k=function(Fe,Ae){const He=[];let ze=!0;for(const ht of Dd(Ae)){const Bt=0===ht.kind?Dg(Fe,ht.fieldPath,Fe.startAt):Ig(Fe,ht.fieldPath,Fe.startAt);He.push(Bt.value),ze&&(ze=Bt.inclusive)}return new Ua(He,ze)}(y,g),B=function(Fe,Ae){const He=[];let ze=!0;for(const ht of Dd(Ae)){const Bt=0===ht.kind?Ig(Fe,ht.fieldPath,Fe.endAt):Dg(Fe,ht.fieldPath,Fe.endAt);He.push(Bt.value),ze&&(ze=Bt.inclusive)}return new Ua(He,ze)}(y,g),H=this.nn(g,y,k),Y=this.nn(g,y,B),we=this.sn(g,y,O),Se=this.rn(g.indexId,I,H,k.inclusive,Y,B.inclusive,we);return ae.forEach(Se,Fe=>i.J(Fe,t.limit).next(Ae=>{Ae.forEach(He=>{const ze=Je.fromSegments(He.documentKey);u.has(ze)||(u=u.add(ze),h.push(ze))})}))}).next(()=>h)}return ae.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,u,h){const g=(null!=t?t.length:1)*Math.max(i.length,s.length),y=g/(null!=t?t.length:1),E=[];for(let I=0;I<g;++I){const O=t?this.on(t[I/y]):hw,k=this.un(e,O,i[I%y],r),B=this.cn(e,O,s[I%y],u),H=h.map(Y=>this.un(e,O,Y,!0));E.push(...this.createRange(k,B,H))}return E}un(e,t,i,r){const s=new $l(e,Je.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new $l(e,Je.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new uw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let u=null;for(const h of s)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;return ae.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(u){let h=new In(vi.comparator),g=!1;for(const y of u.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?g=!0:h=h.add(E.field))}for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Rf;for(const r of Dd(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.qe(r.kind);Bd.Te.ce(s,u)}return i.$e()}on(e){const t=new Rf;return Bd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Rf;return Bd.Te.ce(ru(this.databaseId,t),i.qe(function(r){const s=Dd(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Rf);let s=0;for(const u of Dd(e)){const h=i[s++];for(const g of r)if(this.ln(t,u.fieldPath)&&Tf(h))r=this.fn(r,u,h);else{const y=g.qe(u.kind);Bd.Te.ce(h,y)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new Rf;g.seed(h.$e()),Bd.Te.ce(u,g.qe(t.kind)),s.push(g)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof vr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Fg(e),r=Lg(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const u=[];return ae.forEach(s,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(y,E){const I=E?new vf(E.sequenceNumber,new ps(Fd(E.readTime),new Je($a(E.documentKey)),E.largestBatchId)):vf.empty(),O=y.fields.map(([k,B])=>new yg(vi.fromServerFormat(k),B));return new sy(y.indexId,y.collectionGroup,O,I)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:jt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Fg(e),s=Lg(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,g=>s.put(SD(g.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,g=>this.wn(e,r,g).next(y=>{const E=this.mn(s,g);return y.isEqual(E)?ae.resolve():this.gn(e,s,g,y,E)}))))})}yn(e,t,i,r){return Vy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Vy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Vy(e);let s=new In(Gl);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,h)=>{s=s.add(new $l(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}mn(e,t){let i=new In(Gl);const r=this.an(t,e);if(null==r)return i;const s=Eb(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Tf(u))for(const h of u.arrayValue.values||[])i=i.add(new $l(t.indexId,e.key,this.on(h),r))}else i=i.add(new $l(t.indexId,e.key,hw,r));return i}gn(e,t,i,r,s){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,g,y,E,I){const O=h.getIterator(),k=g.getIterator();let B=wf(O),H=wf(k);for(;B||H;){let Y=!1,we=!1;if(B&&H){const Se=y(B,H);Se<0?we=!0:Se>0&&(Y=!0)}else null!=B?we=!0:Y=!0;Y?(E(H),H=wf(k)):we?(I(B),B=wf(O)):(B=wf(O),H=wf(k))}}(r,s,Gl,h=>{u.push(this.yn(e,t,i,h))},h=>{u.push(this.pn(e,t,i,h))}),ae.waitFor(u)}_n(e){let t=1;return Lg(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>Gl(u,h)).filter((u,h,g)=>!h||0!==Gl(u,g[h-1]));const r=[];r.push(e);for(const u of i){const h=Gl(u,e),g=Gl(u,t);if(0===h)r[0]=e.Ke();else if(h>0&&g<0)r.push(u),r.push(u.Ke());else if(g>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,hw,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,hw,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(OD)}getMinOffset(e,t){return ae.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||dt())).next(OD)}}function OA(n){return zi(n,"collectionParents")}function Vy(n){return zi(n,"indexEntries")}function Fg(n){return zi(n,"indexConfiguration")}function Lg(n){return zi(n,"indexState")}function OD(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Tb(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ps(e.readTime,e.documentKey,t)}const xD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _s{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fw(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const g=i.Z({range:u},(E,I,O)=>(h++,O.delete()));s.push(g.next(()=>{xt(1===h)}));const y=[];for(const E of t.mutations){const I=bD(e,E.key.path,t.batchId);s.push(r.delete(I)),y.push(E.key)}return ae.waitFor(s).next(()=>y)}function Bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class Vg{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Vg(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cu(e).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Ud(e),u=cu(e);return u.add({}).next(h=>{xt("number"==typeof h);const g=new xy(h,t,i,r),y=function(O,k,B){const H=B.baseMutations.map(we=>xg(O.re,we)),Y=B.mutations.map(we=>xg(O.re,we));return{userId:k,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:H,mutations:Y}}(this.It,this.userId,g),E=[];let I=new In((O,k)=>jt(O.canonicalString(),k.canonicalString()));for(const O of r){const k=bD(this.userId,O.key.path,h);I=I.add(O.key.path.popLast()),E.push(u.put(y)),E.push(s.put(k,wD))}return I.forEach(O=>{E.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),ae.waitFor(E).next(()=>g)})}lookupMutationBatch(e,t){return cu(e).get(t).next(i=>i?(xt(i.userId===this.userId),Ld(this.It,i)):null)}Tn(e,t){return this.In[t]?ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return cu(e).Z({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(xt(h.batchId>=i),s=Ld(this.It,h)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return cu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cu(e).W("userMutationsIndex",t).next(i=>i.map(r=>Ld(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Rg(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Ud(e).Z({range:r},(u,h,g)=>{const[y,E,I]=u,O=$a(E);if(y===this.userId&&t.path.isEqual(O))return cu(e).get(I).next(k=>{if(!k)throw dt();xt(k.userId===this.userId),s.push(Ld(this.It,k))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(jt);const r=[];return t.forEach(s=>{const u=Rg(this.userId,s.path),h=IDBKeyRange.lowerBound(u),g=Ud(e).Z({range:h},(y,E,I)=>{const[O,k,B]=y,H=$a(k);O===this.userId&&s.path.isEqual(H)?i=i.add(B):I.done()});r.push(g)}),ae.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Rg(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new In(jt);return Ud(e).Z({range:u},(g,y,E)=>{const[I,O,k]=g,B=$a(O);I===this.userId&&i.isPrefixOf(B)?B.length===r&&(h=h.add(k)):E.done()}).next(()=>this.En(e,h))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(cu(e).get(s).next(u=>{if(null===u)throw dt();xt(u.userId===this.userId),i.push(Ld(this.It,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return fw(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ud(e).Z({range:i},(s,u,h)=>{if(s[0]===this.userId){const g=$a(s[1]);r.push(g)}else h.done()}).next(()=>{xt(0===r.length)})})}containsKey(e,t){return RD(e,this.userId,t)}Rn(e){return Uy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RD(n,e,t){const i=Rg(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return Ud(n).Z({range:s,X:!0},(h,g,y)=>{const[E,I,O]=h;E===e&&I===r&&(u=!0),y.done()}).next(()=>u)}function cu(n){return zi(n,"mutations")}function Ud(n){return zi(n,"documentMutations")}function Uy(n){return zi(n,"mutationQueues")}class Pf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Pf(0)}static vn(){return new Pf(-1)}}class kD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Pf(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Rt.fromTimestamp(new Vn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(xt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return uu(e).Z((u,h)=>{const g=Py(h);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(e,g)))}).next(()=>ae.waitFor(s)).next(()=>r)}forEachTarget(e,t){return uu(e).Z((i,r)=>{const s=Py(r);t(s)})}Vn(e){return PD(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return PD(e).put("targetGlobalKey",t)}Dn(e,t){return uu(e).put(SA(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Va(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return uu(e).Z({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const y=Py(h);Cg(t,y.target)&&(s=y,g.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=du(e);return t.forEach(u=>{const h=wr(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=du(e);return ae.forEach(t,s=>{const u=wr(s.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=du(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=du(e);let s=Kt();return r.Z({range:i,X:!0},(u,h,g)=>{const y=$a(u[1]),E=new Je(y);s=s.add(E)}).next(()=>s)}containsKey(e,t){const i=wr(t.path),r=IDBKeyRange.bound([i],[PC(i)],!1,!0);let s=0;return du(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],g,y)=>{0!==u&&(s++,y.done())}).next(()=>s>0)}se(e,t){return uu(e).get(t).next(i=>i?Py(i):null)}}function uu(n){return zi(n,"targets")}function PD(n){return zi(n,"targetGlobal")}function du(n){return zi(n,"targetDocuments")}function xA([n,e],[t,i]){const r=jt(n,t);return 0===r?jt(e,i):r}class sR{constructor(e){this.xn=e,this.buffer=new In(xA),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Bl(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pa(i)}yield t.Fn(3e5)}))}}class kA{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(gs.at);const i=new sR(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(xD)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xD):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,u,h,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(e,i,t))).next(I=>(s=I,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),yb()<=zc.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(g-h)+`ms\n\tRemoved ${I} documents in `+(y-g)+`ms\nTotal Duration: ${y-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class PA{constructor(e,t){this.db=e,this.garbageCollector=new kA(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return pw(e,i)}removeReference(e,t,i){return pw(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return pw(e,t)}Gn(e,t){return function(i,r){let s=!1;return Uy(i).tt(u=>RD(i,u,r).next(h=>(h&&(s=!0),ae.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(u,h)=>{if(h<=t){const g=this.Gn(e,u).next(y=>{if(!y)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Rt.min()),du(e).delete([0,wr(u.path)])))});r.push(g)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return pw(e,t)}Kn(e,t){const i=du(e);let r,s=gs.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:y})=>{0===u?(s!==gs.at&&t(new Je($a(r)),s),s=y,r=g):s=gs.at}).next(()=>{s!==gs.at&&t(new Je($a(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pw(n,e){return du(n).put((i=n.currentSequenceNumber,{targetId:0,path:wr(e.path),sequenceNumber:i}));var i}class FA{constructor(){this.changes=new Hl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oR{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ff(e).put(i)}removeEntry(e,t,i){return Ff(e).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Pg(s),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Nn.newInvalidDocument(t);return Ff(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Hy(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:Nn.newInvalidDocument(t)};return Ff(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Hy(t))},(r,s)=>{i={document:this.jn(t,s),size:Bg(s)}}).next(()=>i)}getEntries(e,t){let i=ms();return this.zn(e,t,(r,s)=>{const u=this.jn(r,s);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=ms(),r=new Xn(Je.comparator);return this.zn(e,t,(s,u)=>{const h=this.jn(s,u);i=i.insert(s,h),r=r.insert(s,Bg(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ae.resolve();let r=new In(VA);t.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(Hy(r.first()),Hy(r.last())),u=r.getIterator();let h=u.getNext();return Ff(e).Z({index:"documentKeyIndex",range:s},(g,y,E)=>{const I=Je.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&VA(h,I)<0;)i(h,null),h=u.getNext();h&&h.isEqual(I)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?E.j(Hy(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Pg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ff(e).W(IDBKeyRange.bound(r,s,!0)).next(u=>{let h=ms();for(const g of u){const y=this.jn(Je.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(e,t,i,r){let s=ms();const u=BA(t,i),h=BA(t,ps.max());return Ff(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,y,E)=>{const I=this.jn(Je.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(I.key,I),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(e){return new aR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return FD(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return FD(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function CD(n,e){let t;if(e.document)t=pA(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Je.fromSegments(e.noDocument.path),r=Fd(e.noDocument.readTime);t=Nn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Je.fromSegments(e.unknownDocument.path),r=Fd(e.unknownDocument.version);t=Nn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Vn(i[0],i[1]);return Rt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Nn.newInvalidDocument(e)}}function LA(n){return new oR(n)}class aR extends FA{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Hl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new In((s,u)=>jt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,h.readTime)),u.isValidDocument()){const g=DD(this.Yn.It,u);r=r.add(s.path.popLast()),i+=Bg(g)-h.size,t.push(this.Yn.addEntry(e,s,g))}else if(i-=h.size,this.trackRemovals){const g=DD(this.Yn.It,u.convertToNoDocument(Rt.min()));t.push(this.Yn.addEntry(e,s,g))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function FD(n){return zi(n,"remoteDocumentGlobal")}function Ff(n){return zi(n,"remoteDocumentsV14")}function Hy(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BA(n,e){const t=e.documentKey.path.toArray();return[n,Pg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VA(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=jt(t[s],i[s]),r)return r;return r=jt(t.length,i.length),r||(r=jt(t[t.length-2],i[i.length-2]),r||jt(t[t.length-1],i[i.length-1]))}class UA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HA{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Sf(i.mutation,r,Us.empty(),Vn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Kt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Kt()){const r=ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=Ng();return s.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Kt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let s=ms();const u=Nf(),h=Nf();return t.forEach((g,y)=>{const E=i.get(y.key);r.has(y.key)&&(void 0===E||E.mutation instanceof Xo)?s=s.insert(y.key,y):void 0!==E&&(u.set(y.key,E.mutation.getFieldMask()),Sf(E.mutation,y,E.mutation.getFieldMask(),Vn.now()))}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((y,E)=>u.set(y,E)),t.forEach((y,E)=>{var I;return h.set(y,new UA(E,null!==(I=u.get(y))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Nf();let r=new Xn((u,h)=>u-h),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const y=t.get(g);if(null===y)return;let E=i.get(g)||Us.empty();E=h.applyToLocalView(y,E),i.set(g,E);const I=(r.get(h.batchId)||Kt()).add(g);r=r.insert(h.batchId,I)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,E=g.value,I=Gb();E.forEach(O=>{if(!s.has(O)){const k=Vb(t.get(O),i.get(O));null!==k&&I.set(O,k),s=s.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,I))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ty(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ae.resolve(ea());let h=-1,g=s;return u.next(y=>ae.forEach(y,(E,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),s.get(E)?ae.resolve():this.getBaseDocument(e,E,I).next(O=>{g=g.insert(E,O)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,g,y,Kt())).next(E=>({batchId:h,changes:$b(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(i=>{let r=Ng();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Ng();return this.indexManager.getCollectionParents(e,r).next(u=>ae.forEach(u,h=>{const g=(y=t,E=h.child(r),new Ul(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(y=>{y.forEach((E,I)=>{s=s.insert(E,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((h,g)=>{const y=g.getKey();null===r.get(y)&&(r=r.insert(y,Nn.newInvalidDocument(y)))});let u=Ng();return r.forEach((h,g)=>{const y=s.get(h);void 0!==y&&Sf(y.mutation,g,Us.empty(),Vn.now()),xb(t,g)&&(u=u.insert(h,g))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(Nn.newInvalidDocument(t))}}class o{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Gi(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Fy(i.bundledQuery),readTime:Gi(i.readTime)}),ae.resolve();var i}}class a{constructor(){this.overlays=new Xn(Je.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ea();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=ea(),s=t.length+1,u=new Je(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Xn((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=s.get(y.largestBatchId);null===E&&(E=ea(),s=s.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=ea(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return ae.resolve(h)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ky(t,i));let s=this.es.get(t);void 0===s&&(s=Kt(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class c{constructor(){this.ns=new In(d.ss),this.rs=new In(d.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new d(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new d(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Je(new hn([])),i=new d(t,e),r=new d(t,e+1),s=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Je(new hn([])),i=new d(t,e),r=new d(t,e+1);let s=Kt();return this.rs.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new d(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class d{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Je.comparator(e.key,t.key)||jt(e._s,t._s)}static os(e,t){return jt(e._s,t._s)||Je.comparator(e.key,t.key)}}class f{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(d.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const u=new xy(s,t,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new d(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new d(t,0),r=new d(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(jt);return t.forEach(r=>{const s=new d(r,0),u=new d(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],h=>{i=i.add(h._s)})}),ae.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Je.isDocumentKey(s)||(s=s.child(""));const u=new d(new Je(s),0);let h=new In(jt);return this.gs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(g._s)),!0)},u),ae.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ae.forEach(t.mutations,r=>{const s=new d(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new d(t,0),r=this.gs.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class m{constructor(e){this.Es=e,this.docs=new Xn(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let i=ms();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nn.newInvalidDocument(r))}),ae.resolve(i)}getAllFromCollection(e,t,i){let r=ms();const s=new Je(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||Tb(oy(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return ae.resolve(r)}getAllFromCollectionGroup(e,t,i,r){dt()}As(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new b(this)}getSize(e){return ae.resolve(this.size)}}class b extends FA{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class T{constructor(e){this.persistence=e,this.Rs=new Hl(t=>Va(t),Cg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new c,this.targetCount=0,this.vs=Pf.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Pf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(s).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class C{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new gs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new T(this),this.indexManager=new dw,this.remoteDocumentCache=new m(i=>this.referenceDelegate.xs(i)),this.It=new kg(t),this.Ns=new o(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new f(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Le("MemoryPersistence","Starting transaction:",e);const r=new A(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return ae.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class A extends ay{constructor(e){super(),this.currentSequenceNumber=e}}class x{constructor(e){this.persistence=e,this.Fs=new c,this.$s=null}static Bs(e){return new x(e)}get Ls(){if(this.$s)return this.$s;throw dt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,i=>{const r=Je.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,Rt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class L{constructor(e){this.It=e}$(e,t,i,r){const s=new cy("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nw,{unique:!0}),h.createObjectStore("documentMutations"),q(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),q(e)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nw,{unique:!0});const E=g.store("mutations"),I=y.map(O=>E.put(O));return ae.waitFor(I)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(s))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:CA});g.createIndex("collectionPathOverlayIndex",TD,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",nR,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:vA});g.createIndex("documentKeyIndex",iw),g.createIndex("collectionGroupIndex",au)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:tR}).createIndex("sequenceNumberIndex",wA,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:EA}).createIndex("documentKeyIndex",TA,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=Bg(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ae.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ae.forEach(h,g=>{xt(g.userId===s.userId);const y=Ld(this.It,g);return fw(e,s.userId,y).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,h)=>{const g=new hn(u),y=[0,wr(g)];s.push(t.get(y).next(E=>E?ae.resolve():t.put({targetId:0,path:wr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:bA});const i=t.store("collectionParents"),r=new kf,s=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:wr(g)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new hn(u);return s(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,g],y)=>{const E=$a(h);return s(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=Py(r),u=SA(this.It,s);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const h=t.store("remoteDocumentsV14"),g=(y=u,y.document?new Je(hn.fromString(y.document.name).popFirst(5)):y.noDocument?Je.fromSegments(y.noDocument.path):y.unknownDocument?Je.fromSegments(y.unknownDocument.path):dt()).path.toArray();var y;const E={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>ae.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=LA(this.It),s=new C(x.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(g=>{var y;let E=null!==(y=h.get(g.userId))&&void 0!==y?y:Kt();Ld(this.It,g).keys().forEach(I=>E=E.add(I)),h.set(g.userId,E)}),ae.forEach(h,(g,y)=>{const E=new yr(y),I=cw.oe(this.It,E),O=s.getIndexManager(E),k=Vg.oe(E,this.It,O,s.referenceDelegate);return new HA(r,k,I,O).recalculateAndSaveOverlaysForDocumentKeys(new Oy(t,gs.at),g).next()})})}}function q(n){n.createObjectStore("targetDocuments",{keyPath:rw}).createIndex("documentTargetsIndex",jl,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ED,{unique:!0}),n.createObjectStore("targetGlobal")}const ne="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ve{constructor(e,t,i,r,s,u,h,g,y,E,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=u,this.document=h,this.Js=y,this.Ys=E,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!ve.C())throw new ke(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PA(this,r),this.ii=t+"main",this.It=new kg(g),this.ri=new Jo(this.ii,this.Xs,new L(this.It)),this.Cs=new kD(this.referenceDelegate,this.It),this.remoteDocumentCache=LA(this.It),this.Ns=new iR,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Wn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,ne);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new gs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,me.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,me.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ke(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Bl(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Be(e).get("owner").next(t=>ae.resolve(this.mi(t)))}gi(e){return Ke(e).delete(this.clientId)}yi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=zi(i,"clientMetadata");return r.W().next(s=>{const u=e.Ii(s,18e5),h=s.filter(g=>-1===u.indexOf(g));return ae.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ae.resolve(!0):Be(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,ne);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ke(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Oy(t,gs.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ke(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Vg.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rR(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return cw.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Le("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(u=this.Xs)?aw:14===u?IA:13===u?ow:12===u?DA:11===u?sw:void dt();var u;let h;return this.ri.runTransaction(e,r,s,g=>(h=new Oy(g,this.Ss?this.Ss.next():gs.at),"readwrite-primary"===t?this.fi(h).next(y=>!!y||this.di(h)).next(y=>{if(!y)throw Wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(de.FAILED_PRECONDITION,BC);return i(h)}).next(y=>this.wi(h).next(()=>y)):this.Vi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return Be(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(de.FAILED_PRECONDITION,ne)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Be(e).put("owner",t)}static C(){return Jo.C()}_i(e){const t=Be(e);return t.get("owner").next(i=>this.mi(i)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Wn(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Wt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Wn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Wn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Be(n){return zi(n,"owner")}function Ke(n){return zi(n,"clientMetadata")}function ut(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Tt{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Kt(),r=Kt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Tt(e,t.fromCache,i,r)}}class xe{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(tD(t))return ae.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ag(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=Kt(...s);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.Fi(t,h);return this.$i(t,y,u,g.readTime)?this.ki(e,Ag(t,null,"F")):this.Bi(e,y,t,g)}))})))}Oi(e,t,i,r){return tD(t)||r.isEqual(Rt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const u=this.Fi(t,s);return this.$i(t,u,i,r)?this.Mi(e,t):(yb()<=zc.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cy(t)),this.Bi(e,u,t,LC(r,-1)))})}Fi(e,t){let i=new In(kb(e));return t.forEach((r,s)=>{xb(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return yb()<=zc.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Cy(t)),this.Ni.getDocumentsMatchingQuery(e,t,ps.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class kt{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Xn(jt),this.qi=new Hl(s=>Va(s),Cg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function yn(n,e,t,i){return new kt(n,e,t,i)}function Zn(n,e){return zl.apply(this,arguments)}function zl(){return zl=(0,me.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let g=Kt();for(const y of r){u.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of s){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next(y=>({ji:y,removedBatchIds:u,addedBatchIds:h}))})})}),zl.apply(this,arguments)}function gw(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,y){const E=g.batch,I=E.keys();let O=ae.resolve();return I.forEach(k=>{O=O.next(()=>y.getEntry(h,k)).next(B=>{const H=g.docVersions.get(k);xt(null!==H),B.version.compareTo(H)<0&&(E.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),y.addEntry(B)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Kt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function jy(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function mw(n,e){const t=et(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const h=[];e.targetChanges.forEach((E,I)=>{const O=r.get(I);if(!O)return;h.push(t.Cs.removeMatchingKeys(s,E.removedDocuments,I).next(()=>t.Cs.addMatchingKeys(s,E.addedDocuments,I)));let k=O.withSequenceNumber(s.currentSequenceNumber);var B,H,Y;e.targetMismatches.has(I)?k=k.withResumeToken($i.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,i)),r=r.insert(I,k),H=k,Y=E,(0===(B=O).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(s,k))});let g=ms(),y=Kt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push($y(s,u,e.documentUpdates).next(E=>{g=E.Wi,y=E.zi})),!i.isEqual(Rt.min())){const E=t.Cs.getLastRemoteSnapshotVersion(s).next(I=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return ae.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,y)).next(()=>g)}).then(s=>(t.Ui=r,s))}function $y(n,e,t){let i=Kt(),r=Kt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=ms();return t.forEach((h,g)=>{const y=s.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function _w(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function hu(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,ae.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new ta(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function fu(n,e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,me.Z)(function*(n,e,t){const i=et(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Bl(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),Ug.apply(this,arguments)}function Lf(n,e,t){const i=et(n);let r=Rt.min(),s=Kt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,y){const E=et(h),I=E.qi.get(y);return void 0!==I?ae.resolve(E.Ui.get(I)):E.Cs.getTargetData(g,y)}(i,u,Fr(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{s=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:Rt.min(),t?s:Kt())).next(h=>(uR(i,Rb(e),h),{documents:h,Hi:s})))}function lR(n,e){const t=et(n),i=et(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(u=>u?u.target:null))}function cR(n,e){const t=et(n),i=t.Ki.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,LC(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uR(t,e,r),r))}function uR(n,e,t){let i=n.Ki.get(e)||Rt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function jA(){return jA=(0,me.Z)(function*(n,e,t,i){const r=et(n);let s=Kt(),u=ms();for(const y of t){const E=e.Ji(y.metadata.name);y.document&&(s=s.add(E));const I=e.Yi(y);I.setReadTime(e.Xi(y.metadata.readTime)),u=u.insert(E,I)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield hu(r,(y=i,Fr(Cf(hn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>$y(y,h,u).next(E=>(h.apply(y),E)).next(E=>r.Cs.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Cs.addMatchingKeys(y,s,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,E.Wi,E.zi)).next(()=>E.Wi)))}),jA.apply(this,arguments)}function tV(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,me.Z)(function*(n,e,t=Kt()){const i=yield hu(n,Fr(Fy(e.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=Gi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(s,e);const h=i.withResumeToken($i.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(s,h).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),$A.apply(this,arguments)}function dR(n,e){return`firestore_clients_${n}_${e}`}function hR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function GA(n,e){return`firestore_targets_${n}_${e}`}class LD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new ke(r.error.code,r.error.message))),u?new LD(e,t,r.state,s):(Wn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ke(i.error.code,i.error.message))),s?new yw(e,i.state,r):(Wn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=zb();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Mb(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new BD(e,s):(Wn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zA(t.clientId,t.onlineState):(Wn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qA{constructor(){this.activeTargetIds=zb()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WA{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xn(jt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=dR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new qA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(dR(e.persistenceKey,r));if(s){const u=BD.Zi(r,s);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(GA(this.persistenceKey,e));if(i){const r=yw.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(GA(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Wn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let u=gs.at;if(null!=s)try{const h=JSON.parse(s);xt("number"==typeof h),u=h}catch(h){Wn("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==gs.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new LD(this.currentUser,e,t,i),s=hR(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=hR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=GA(this.persistenceKey,e),s=new yw(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return BD.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return LD.Zi(new yr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return yw.Zi(r,t)}yr(e){return zA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),u=[],h=[];return s.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{s.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=zb();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class fR{constructor(){this.Lr=new qA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new qA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nV{qr(e){}shutdown(){}}class pR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const iV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class sV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const u=this.ho(e,t);Le("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,s),this.fo(e,u,h,i).then(g=>(Le("RestConnection","Received: ",g),g),g=>{throw Cd("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",i),g})}_o(e,t,i,r,s,u){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Td,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${iV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,u)=>{const h=new Wx;h.setWithCredentials(!0),h.listenOnce(BS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ry.NO_ERROR:const y=h.getResponseJson();Le("Connection","XHR received:",JSON.stringify(y)),s(y);break;case ry.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case ry.HTTP_ERROR:const E=h.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const O=function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(B)>=0?B:de.UNKNOWN}(I.status);u(new ke(O,I.message))}else u(new ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);h.send(t,"POST",g,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DC(),u=IC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new VS({})),this.lo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=r.join("");Le("Connection","Creating WebChannel: "+g,h);const y=s.createWebChannel(g,h);let E=!1,I=!1;const O=new rV({Hr:B=>{I?Le("Connection","Not sending because WebChannel is closed:",B):(E||(Le("Connection","Opening WebChannel transport."),y.open(),E=!0),Le("Connection","WebChannel sending:",B),y.send(B))},Jr:()=>y.close()}),k=(B,H,Y)=>{B.listen(H,we=>{try{Y(we)}catch(Se){setTimeout(()=>{throw Se},0)}})};return k(y,_b.EventType.OPEN,()=>{I||Le("Connection","WebChannel transport opened.")}),k(y,_b.EventType.CLOSE,()=>{I||(I=!0,Le("Connection","WebChannel transport closed"),O.io())}),k(y,_b.EventType.ERROR,B=>{I||(I=!0,Cd("Connection","WebChannel transport errored:",B),O.io(new ke(de.UNAVAILABLE,"The operation could not be completed")))}),k(y,_b.EventType.MESSAGE,B=>{var H;if(!I){const Y=B.data[0];xt(!!Y);const we=Y,Se=we.error||(null===(H=we[0])||void 0===H?void 0:H.error);if(Se){Le("Connection","WebChannel received error:",Se);const Fe=Se.status;let Ae=function(ze){const ht=Mi[ze];if(void 0!==ht)return Hb(ht)}(Fe),He=Se.message;void 0===Ae&&(Ae=de.INTERNAL,He="Unknown error status: "+Fe+" with message "+Se.message),I=!0,O.io(new ke(Ae,He)),y.close()}else Le("Connection","WebChannel received:",Y),O.ro(Y)}}),k(u,SC.STAT_EVENT,B=>{B.stat===AC.PROXY?Le("Connection","Detected buffering proxy"):B.stat===AC.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function gR(){return typeof window<"u"?window:null}function VD(){return typeof document<"u"?document:null}function vw(n){return new pD(n,!0)}class ZA{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class mR{constructor(e,t,i,r,s,u,h,g){this.Hs=e,this.vo=i,this.Vo=r,this.So=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new ZA(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,me.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,me.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,me.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Wn(t.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new ke(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.No.Ro((0,me.Z)(function*(){e.state=0,e.start()}))}jo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oV extends mR{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function gA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:dt(),r=e.targetChange.targetIds||[],s=function(g,y){return g.gt?(xt(void 0===y||"string"==typeof y),$i.fromBase64String(y||"")):(xt(void 0===y||y instanceof Uint8Array),$i.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const y=void 0===g.code?de.UNKNOWN:Hb(g.code);return new ke(y,g.message||"")}(u);t=new cA(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=ja(n,i.document.name),s=Gi(i.document.updateTime),u=new Ai({mapValue:{fields:i.document.fields}}),h=Nn.newFoundDocument(r,s,u);t=new qb(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=ja(n,i.document),s=i.readTime?Gi(i.readTime):Rt.min(),u=Nn.newNoDocument(r,s);t=new qb([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=ja(n,i.document);t=new qb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,s=new rA(i.count||0);t=new lA(i.targetId,s)}}var g;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Rt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?Gi(s.readTime):Rt.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=ou(this.It),t.addTarget=function(r,s){let u;const h=s.target;return u=_y(h)?{documents:_D(r,h)}:{query:Ny(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=hA(r,s.resumeToken):s.snapshotVersion.compareTo(Rt.min())>0&&(u.readTime=Of(r,s.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function eR(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=ou(this.It),t.removeTarget=e,this.Lo(t)}}class aV extends mR{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Xx(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(i,r){let s=Gi(i.updateTime?i.updateTime:r);return s.isEqual(Rt.min())&&(s=Gi(r)),new lD(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Gi(e.commitTime);return this.listener.tu(i,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ou(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>xg(this.It,i))};this.Lo(t)}}class lV extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.It=r,this.su=!1}iu(){if(this.su)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So._o(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(de.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class uV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Wn(t),this.uu=!1):Le("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class dV{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(h=>{i.enqueueAndForget((0,me.Z)(function*(){var g;Hd(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,me.Z)(function*(y){const E=et(y);E.wu.add(4),yield Gy(E),E.yu.set("Unknown"),E.wu.delete(4),yield bw(E)}),function(y){return g.apply(this,arguments)})(u))}))}),this.yu=new uV(i,r)}}function bw(n){return YA.apply(this,arguments)}function YA(){return YA=(0,me.Z)(function*(n){if(Hd(n))for(const e of n.mu)yield e(!0)}),YA.apply(this,arguments)}function Gy(n){return QA.apply(this,arguments)}function QA(){return QA=(0,me.Z)(function*(n){for(const e of n.mu)yield e(!1)}),QA.apply(this,arguments)}function UD(n,e){const t=et(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),eM(t)?XA(t):qy(t).Oo()&&JA(t,e))}function ww(n,e){const t=et(n),i=qy(t);t._u.delete(e),i.Oo()&&_R(t,e),0===t._u.size&&(i.Oo()?i.$o():Hd(t)&&t.yu.set("Unknown"))}function JA(n,e){n.pu.Mt(e.targetId),qy(n).Ho(e)}function _R(n,e){n.pu.Mt(e),qy(n).Jo(e)}function XA(n){n.pu=new Qx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),qy(n).start(),n.yu.cu()}function eM(n){return Hd(n)&&!qy(n).ko()&&n._u.size>0}function Hd(n){return 0===et(n).wu.size}function yR(n){n.pu=void 0}function hV(n){return tM.apply(this,arguments)}function tM(){return tM=(0,me.Z)(function*(n){n._u.forEach((e,t)=>{JA(n,e)})}),tM.apply(this,arguments)}function fV(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,me.Z)(function*(n,e){yR(n),eM(n)?(n.yu.lu(e),XA(n)):n.yu.set("Unknown")}),nM.apply(this,arguments)}function pV(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,me.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof cA&&2===e.state&&e.cause)try{yield(i=(0,me.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield HD(n,i)}else if(e instanceof qb?n.pu.Gt(e):e instanceof lA?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Rt.min()))try{const i=yield jy(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.pu.te(s);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=r._u.get(g);y&&r._u.set(g,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const g=r._u.get(h);if(!g)return;r._u.set(h,g.withResumeToken($i.EMPTY_BYTE_STRING,g.snapshotVersion)),_R(r,h);const y=new ta(g.target,h,1,g.sequenceNumber);JA(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield HD(n,i)}var i}),iM.apply(this,arguments)}function HD(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,me.Z)(function*(n,e,t){if(!Bl(e))throw e;n.wu.add(1),yield Gy(n),n.yu.set("Offline"),t||(t=()=>jy(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield bw(n)}))}),rM.apply(this,arguments)}function vR(n,e){return e().catch(t=>HD(n,t,e))}function zy(n){return sM.apply(this,arguments)}function sM(){return sM=(0,me.Z)(function*(n){const e=et(n),t=Bf(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;gV(e);)try{const r=yield _w(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,mV(e,r)}catch(r){yield HD(e,r)}bR(e)&&wR(e)}),sM.apply(this,arguments)}function gV(n){return Hd(n)&&n.du.length<10}function mV(n,e){n.du.push(e);const t=Bf(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function bR(n){return Hd(n)&&!Bf(n).ko()&&n.du.length>0}function wR(n){Bf(n).start()}function _V(n){return oM.apply(this,arguments)}function oM(){return oM=(0,me.Z)(function*(n){Bf(n).nu()}),oM.apply(this,arguments)}function yV(n){return aM.apply(this,arguments)}function aM(){return aM=(0,me.Z)(function*(n){const e=Bf(n);for(const t of n.du)e.Zo(t.mutations)}),aM.apply(this,arguments)}function vV(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,me.Z)(function*(n,e,t){const i=n.du.shift(),r=Ry.from(i,e,t);yield vR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zy(n)}),lM.apply(this,arguments)}function bV(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,me.Z)(function*(n,e){var t;e&&Bf(n).Xo&&(yield(t=(0,me.Z)(function*(i,r){if(dD(s=r.code)&&s!==de.ABORTED){const u=i.du.shift();Bf(i).Fo(),yield vR(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield zy(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),bR(n)&&wR(n)}),cM.apply(this,arguments)}function ER(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,me.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Hd(t);t.wu.add(3),yield Gy(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield bw(t)}),uM.apply(this,arguments)}function dM(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,me.Z)(function*(n,e){const t=et(n);e?(t.wu.delete(2),yield bw(t)):e||(t.wu.add(2),yield Gy(t),t.yu.set("Unknown"))}),hM.apply(this,arguments)}function qy(n){return n.Iu||(n.Iu=function(e,t,i){const r=et(e);return r.iu(),new oV(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:hV.bind(null,n),Zr:fV.bind(null,n),zo:pV.bind(null,n)}),n.mu.push(function(){var e=(0,me.Z)(function*(t){t?(n.Iu.Fo(),eM(n)?XA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),yR(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Bf(n){return n.Tu||(n.Tu=function(e,t,i){const r=et(e);return r.iu(),new aV(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:_V.bind(null,n),Zr:bV.bind(null,n),eu:yV.bind(null,n),tu:vV.bind(null,n)}),n.mu.push(function(){var e=(0,me.Z)(function*(t){t?(n.Tu.Fo(),yield zy(n)):(yield n.Tu.stop(),n.du.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class fM{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,h=new fM(e,t,u,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(n,e){if(Wn("AsyncQueue",`${e}: ${n}`),Bl(n))return new ke(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Zy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=Ng(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new Zy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Zy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class TR{constructor(){this.Eu=new Xn(Je.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):dt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ky{constructor(e,t,i,r,s,u,h,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Ky(e,t,Zy.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class wV{constructor(){this.Ru=void 0,this.listeners=[]}}class EV{constructor(){this.queries=new Hl(e=>Ob(e),Mg),this.onlineState="Unknown",this.bu=new Set}}function pM(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,me.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new wV),r)try{s.Ru=yield t.onListen(i)}catch(u){const h=Wy(u,`Initialization of query '${Cy(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.vu(s.Ru)&&yM(t)}),gM.apply(this,arguments)}function mM(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,me.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),_M.apply(this,arguments)}function TV(n,e){const t=et(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.vu(r)&&(i=!0);u.Ru=r}}i&&yM(t)}function CV(n,e,t){const i=et(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function yM(n){n.bu.forEach(e=>{e.next()})}class vM{constructor(e,t,i){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Ky(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ky.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class DV{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class CR{constructor(e){this.It=e}Ji(e){return ja(this.It,e)}Yi(e){return e.metadata.exists?pA(this.It,e.document,!1):Nn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Gi(e)}}class IV{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new CR(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||Kt()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function eV(n,e,t,i){return jA.apply(this,arguments)}(e.localStore,new CR(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield tV(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function DR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IR{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class AR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Kt(),this.mutatedKeys=Kt(),this.Gu=kb(e),this.Qu=new Zy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new TR,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,I)=>{const O=r.get(E),k=xb(this.query,I)?I:null,B=!!O&&this.mutatedKeys.has(O.key),H=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Y=!1;O&&k?O.data.isEqual(k.data)?B!==H&&(i.track({type:3,doc:k}),Y=!0):this.Hu(O,k)||(i.track({type:2,doc:k}),Y=!0,(g&&this.Gu(k,g)>0||y&&this.Gu(k,y)<0)&&(h=!0)):!O&&k?(i.track({type:0,doc:k}),Y=!0):O&&!k&&(i.track({type:1,doc:O}),Y=!0,(g||y)&&(h=!0)),Y&&(k?(u=u.add(k),s=H?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{Qu:u,zu:i,$i:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((y,E)=>function(I,O){const k=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return k(I)-k(O)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(i);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==s.length||g?{snapshot:new Ky(this.query,e.Qu,r,s,e.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new TR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Kt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new SR(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new IR(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Kt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ky.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class SV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AV{constructor(e){this.key=e,this.nc=!1}}class MV{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Hl(h=>Ob(h),Mg),this.rc=new Map,this.oc=new Set,this.uc=new Xn(Je.comparator),this.cc=new Map,this.ac=new c,this.hc={},this.lc=new Map,this.fc=Pf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function NV(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,me.Z)(function*(n,e){const t=$M(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const u=yield hu(t.localStore,Fr(e));t.isPrimaryClient&&UD(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield wM(t,e,i,"current"===h,u.resumeToken)}return r}),bM.apply(this,arguments)}function wM(n,e,t,i,r){return EM.apply(this,arguments)}function EM(){return EM=(0,me.Z)(function*(n,e,t,i,r){n._c=(I,O,k)=>{return(B=(0,me.Z)(function*(H,Y,we,Se){let Fe=Y.view.Wu(we);Fe.$i&&(Fe=yield Lf(H.localStore,Y.query,!1).then(({documents:ze})=>Y.view.Wu(ze,Fe)));const Ae=Se&&Se.targetChanges.get(Y.targetId),He=Y.view.applyChanges(Fe,H.isPrimaryClient,Ae);return xM(H,Y.targetId,He.Xu),He.snapshot}),function(H,Y,we,Se){return B.apply(this,arguments)})(n,I,O,k);var B};const s=yield Lf(n.localStore,e,!0),u=new AR(e,s.Hi),h=u.Wu(s.documents),g=Sy.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,g);xM(n,t,y.Xu);const E=new SV(e,t,u);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),y.snapshot}),EM.apply(this,arguments)}function OV(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,me.Z)(function*(n,e){const t=et(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!Mg(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fu(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),ww(t.remoteStore,i.targetId),Yy(t,i.targetId)}).catch(Pa))):(Yy(t,i.targetId),yield fu(t.localStore,i.targetId,!0))}),TM.apply(this,arguments)}function CM(){return CM=(0,me.Z)(function*(n,e,t){const i=GM(n);try{const r=yield function(s,u){const h=et(s),g=Vn.now(),y=u.reduce((O,k)=>O.add(k.key),Kt());let E,I;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=ms(),B=Kt();return h.Gi.getEntries(O,y).next(H=>{k=H,k.forEach((Y,we)=>{we.isValidDocument()||(B=B.add(Y))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,k)).next(H=>{E=H;const Y=[];for(const we of u){const Se=Af(we,E.get(we.key).overlayedDocument);null!=Se&&Y.push(new Xo(we.key,Se,ZC(Se.value.mapValue),Fn.exists(!0)))}return h.mutationQueue.addMutationBatch(O,g,Y,u)}).next(H=>{I=H;const Y=H.applyToLocalDocumentSet(E,B);return h.documentOverlayCache.saveOverlays(O,H.batchId,Y)})}).then(()=>({batchId:I.batchId,changes:$b(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let g=s.hc[s.currentUser.toKey()];g||(g=new Xn(jt)),g=g.insert(u,h),s.hc[s.currentUser.toKey()]=g}(i,r.batchId,t),yield jd(i,r.changes),yield zy(i.remoteStore)}catch(r){const s=Wy(r,"Failed to persist write");t.reject(s)}}),CM.apply(this,arguments)}function MR(n,e){return DM.apply(this,arguments)}function DM(){return DM=(0,me.Z)(function*(n,e){const t=et(n);try{const i=yield mw(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.cc.get(s);u&&(xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?xt(u.nc):r.removedDocuments.size>0&&(xt(u.nc),u.nc=!1))}),yield jd(t,i,e)}catch(i){yield Pa(i)}}),DM.apply(this,arguments)}function NR(n,e,t){const i=et(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,u)=>{const h=u.view.Pu(e);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=et(s);h.onlineState=u;let g=!1;h.queries.forEach((y,E)=>{for(const I of E.listeners)I.Pu(u)&&(g=!0)}),g&&yM(h)}(i.eventManager,e),r.length&&i.sc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function RV(n,e,t){return IM.apply(this,arguments)}function IM(){return IM=(0,me.Z)(function*(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let u=new Xn(Je.comparator);u=u.insert(s,Nn.newNoDocument(s,Rt.min()));const h=Kt().add(s),g=new Iy(Rt.min(),new Map,new In(jt),u,h);yield MR(i,g),i.uc=i.uc.remove(s),i.cc.delete(e),RM(i)}else yield fu(i.localStore,e,!1).then(()=>Yy(i,e,t)).catch(Pa)}),IM.apply(this,arguments)}function kV(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,me.Z)(function*(n,e){const t=et(n),i=e.batch.batchId;try{const r=yield gw(t.localStore,e);OM(t,i,null),NM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield jd(t,r)}catch(r){yield Pa(r)}}),SM.apply(this,arguments)}function PV(n,e,t){return AM.apply(this,arguments)}function AM(){return AM=(0,me.Z)(function*(n,e,t){const i=et(n);try{const r=yield function(s,u){const h=et(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,u).next(E=>(xt(null!==E),y=E.keys(),h.mutationQueue.removeMutationBatch(g,E))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,e);OM(i,e,t),NM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield jd(i,r)}catch(r){yield Pa(r)}}),AM.apply(this,arguments)}function MM(){return MM=(0,me.Z)(function*(n,e){const t=et(n);Hd(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=et(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=Wy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),MM.apply(this,arguments)}function NM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function OM(n,e,t){const i=et(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Yy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||OR(n,i)})}function OR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(ww(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),RM(n))}function xM(n,e,t){for(const i of t)i instanceof IR?(n.ac.addReference(i.key,e),LV(n,i)):i instanceof SR?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||OR(n,i.key)):dt()}function LV(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Le("SyncEngine","New document in limbo: "+t),n.oc.add(i),RM(n))}function RM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Je(hn.fromString(e)),i=n.fc.next();n.cc.set(i,new AV(t)),n.uc=n.uc.insert(t,i),UD(n.remoteStore,new ta(Fr(Cf(t.path)),i,2,gs.at))}}function jd(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=(0,me.Z)(function*(n,e,t){const i=et(n),r=[],s=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,g)=>{u.push(i._c(g,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const E=Tt.Ci(g.targetId,y);s.push(E)}}))}),yield Promise.all(u),i.sc.zo(r),yield(h=(0,me.Z)(function*(g,y){const E=et(g);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ae.forEach(y,O=>ae.forEach(O.Si,k=>E.persistence.referenceDelegate.addReference(I,O.targetId,k)).next(()=>ae.forEach(O.Di,k=>E.persistence.referenceDelegate.removeReference(I,O.targetId,k)))))}catch(I){if(!Bl(I))throw I;Le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const O=I.targetId;if(!I.fromCache){const k=E.Ui.get(O),H=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);E.Ui=E.Ui.insert(O,H)}}}),function(g,y){return h.apply(this,arguments)})(i.localStore,s))}),kM.apply(this,arguments)}function BV(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,me.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const i=yield Zn(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new ke(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield jd(t,i.ji)}var r}),PM.apply(this,arguments)}function VV(n,e){const t=et(n),i=t.cc.get(e);if(i&&i.nc)return Kt().add(i.key);{let r=Kt();const s=t.rc.get(e);if(!s)return r;for(const u of s){const h=t.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function UV(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,me.Z)(function*(n,e){const t=et(n),i=yield Lf(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&xM(t,e.targetId,r.Xu),r}),FM.apply(this,arguments)}function HV(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,me.Z)(function*(n,e){const t=et(n);return cR(t.localStore,e).then(i=>jd(t,i))}),LM.apply(this,arguments)}function jV(n,e,t,i){return BM.apply(this,arguments)}function BM(){return BM=(0,me.Z)(function*(n,e,t,i){const r=et(n),s=yield function(u,h){const g=et(u),y=et(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Tn(E,h).next(I=>I?g.localDocuments.getDocuments(E,I):ae.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield zy(r.remoteStore):"acknowledged"===t||"rejected"===t?(OM(r,e,i||null),NM(r,e),h=e,et(et(r.localStore).mutationQueue).An(h)):dt(),yield jd(r,s)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),BM.apply(this,arguments)}function VM(){return VM=(0,me.Z)(function*(n,e){const t=et(n);if($M(t),GM(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield xR(t,i.toArray());t.dc=!0,yield dM(t.remoteStore,!0);for(const s of r)UD(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Yy(t,u),fu(t.localStore,u,!0))),ww(t.remoteStore,u)}),yield r,yield xR(t,i),function(s){const u=et(s);u.cc.forEach((h,g)=>{ww(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Xn(Je.comparator)}(t),t.dc=!1,yield dM(t.remoteStore,!1)}}),VM.apply(this,arguments)}function xR(n,e,t){return UM.apply(this,arguments)}function UM(){return UM=(0,me.Z)(function*(n,e,t){const i=et(n),r=[],s=[];for(const u of e){let h;const g=i.rc.get(u);if(g&&0!==g.length){h=yield hu(i.localStore,Fr(g[0]));for(const y of g){const E=i.ic.get(y),I=yield UV(i,E);I.snapshot&&s.push(I.snapshot)}}else{const y=yield lR(i.localStore,u);h=yield hu(i.localStore,y),yield wM(i,RR(y),u,!1,h.resumeToken)}r.push(h)}return i.sc.zo(s),r}),UM.apply(this,arguments)}function RR(n){return eD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function GV(n){const e=et(n);return et(et(e.localStore).persistence).vi()}function zV(n,e,t,i){return HM.apply(this,arguments)}function HM(){return HM=(0,me.Z)(function*(n,e,t,i){const r=et(n);if(r.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield cR(r.localStore,Rb(s[0])),h=Iy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$i.EMPTY_BYTE_STRING);yield jd(r,u,h);break}case"rejected":yield fu(r.localStore,e,!0),Yy(r,e,i);break;default:dt()}}),HM.apply(this,arguments)}function qV(n,e,t){return jM.apply(this,arguments)}function jM(){return jM=(0,me.Z)(function*(n,e,t){const i=$M(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const s=yield lR(i.localStore,r),u=yield hu(i.localStore,s);yield wM(i,RR(s),u.targetId,!1,u.resumeToken),UD(i.remoteStore,u)}for(const r of t)i.rc.has(r)&&(yield fu(i.localStore,r,!1).then(()=>{ww(i.remoteStore,r),Yy(i,r)}).catch(Pa))}}),jM.apply(this,arguments)}function $M(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RV.bind(null,e),e.sc.zo=TV.bind(null,e.eventManager),e.sc.wc=CV.bind(null,e.eventManager),e}function GM(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PV.bind(null,e),e}class kR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.It=vw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return yn(this.persistence,new xe,e.initialUser,this.It)}yc(e){return new C(x.Bs,this.It)}gc(e){return new fR}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PR extends kR{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield GM(i.Ac.syncEngine),yield zy(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return yn(this.persistence,new xe,e.initialUser,this.It)}Tc(e,t){return new RA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new Db(t,this.persistence);return new HC(e.asyncQueue,i)}yc(e){const t=ut(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new ve(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,gR(),VD(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new fR}}class ZV extends PR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof WA&&(i.sharedClientState.syncEngine={Fr:jV.bind(null,r),$r:zV.bind(null,r),Br:qV.bind(null,r),vi:GV.bind(null,r),Mr:HV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,me.Z)(function*(u){yield function $V(n,e){return VM.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(e){const t=gR();if(!WA.C(t))throw new ke(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ut(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new WA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class zM{initialize(e,t){var i=this;return(0,me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>NR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,i.syncEngine),yield dM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EV}createDatastore(e){const t=vw(e.databaseInfo.databaseId),i=new sV(e.databaseInfo);return new lV(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>NR(this.syncEngine,h,0),u=pR.C()?new pR:new nV,new dV(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,h,g,y){const E=new MV(i,r,s,u,h,g);return y&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const i=et(t);Le("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Gy(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qM(n,e,t){if(!t)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FR(n,e,t,i){if(!0===e&&!0===i)throw new ke(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LR(n){if(!Je.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BR(n){if(Je.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jD(n);throw new ke(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function VR(n,e){if(e<=0)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const UR=new Map;class HR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,FR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ew{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new NC;switch(t.type){case"gapi":return new xC(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UR.get(e);t&&(Le("ComponentProvider","Removing Datastore"),UR.delete(e),t.terminate())}(this),Promise.resolve()}}class ci{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class ys{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class pu extends ys{constructor(e,t,i){super(e,t,Cf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new Je(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function $R(n,e,...t){if(n=(0,Wt.m9)(n),qM("collection","path",e),n instanceof Ew){const i=hn.fromString(e,...t);return BR(i),new pu(n,null,i)}{if(!(n instanceof ci||n instanceof pu))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(e,...t));return BR(i),new pu(n.firestore,null,i)}}function $D(n,e,...t){if(n=(0,Wt.m9)(n),1===arguments.length&&(e=wb.R()),qM("doc","path",e),n instanceof Ew){const i=hn.fromString(e,...t);return LR(i),new ci(n,null,new Je(i))}{if(!(n instanceof ci||n instanceof pu))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(e,...t));return LR(i),new ci(n.firestore,n instanceof pu?n.converter:null,new Je(i))}}function GR(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),(n instanceof ci||n instanceof pu)&&(e instanceof ci||e instanceof pu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WM(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),n instanceof ys&&e instanceof ys&&n.firestore===e.firestore&&Mg(n._query,e._query)&&n.converter===e.converter}function zR(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class GD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class YV{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ai,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new DV(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,me.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class XV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,me.Z)(function*(s,u){const h=et(s),g=ou(h.It)+"/documents",y={documents:u.map(k=>My(h.It,k))},E=yield h._o("BatchGetDocuments",g,y,u.length),I=new Map;E.forEach(k=>{const B=function Jx(n,e){return"found"in e?function(t,i){xt(!!i.found);const r=ja(t,i.found.name),s=Gi(i.found.updateTime),u=new Ai({mapValue:{fields:i.found.fields}});return Nn.newFoundDocument(r,s,u)}(n,e):"missing"in e?function(t,i){xt(!!i.missing),xt(!!i.readTime);const r=ja(t,i.missing),s=Gi(i.readTime);return Nn.newNoDocument(r,s)}(n,e):dt()}(h.It,k);I.set(B.key.toString(),B)});const O=[];return u.forEach(k=>{const B=I.get(k.toString());xt(!!B),O.push(B)}),O}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Je.fromPath(r);e.mutations.push(new Ub(s,e.precondition(s)))}),yield(i=(0,me.Z)(function*(r,s){const u=et(r),h=ou(u.It)+"/documents",g={writes:s.map(y=>xg(u.It,y))};yield u.ao("Commit",h,g)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Rt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ke(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rt.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new ke(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eU{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.No=new ZA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,me.Z)(function*(){const t=new XV(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!wg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!dD(t)}return!1}}class tU{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=yr.UNAUTHENTICATED,this.clientId=wb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,me.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Wy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function qR(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,me.Z)(function*(s){i.isEqual(s)||(yield Zn(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),ZM.apply(this,arguments)}function WR(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YM(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>ER(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>ER(e.remoteStore,s)),n.onlineComponents=e}),KM.apply(this,arguments)}function YM(n){return QM.apply(this,arguments)}function QM(){return QM=(0,me.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield qR(n,new kR)),n.offlineComponents}),QM.apply(this,arguments)}function zD(n){return JM.apply(this,arguments)}function JM(){return JM=(0,me.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield WR(n,new zM)),n.onlineComponents}),JM.apply(this,arguments)}function ZR(n){return YM(n).then(e=>e.persistence)}function qD(n){return YM(n).then(e=>e.localStore)}function XM(n){return zD(n).then(e=>e.remoteStore)}function eN(n){return zD(n).then(e=>e.syncEngine)}function Qy(n){return tN.apply(this,arguments)}function tN(){return tN=(0,me.Z)(function*(n){const e=yield zD(n),t=e.eventManager;return t.onListen=NV.bind(null,e.syncEngine),t.onUnlisten=OV.bind(null,e.syncEngine),t}),tN.apply(this,arguments)}function YR(n,e,t={}){const i=new ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,s,u,h,g){const y=new GD({next:I=>{s.enqueueAndForget(()=>mM(r,E));const O=I.docs.has(u);!O&&I.fromCache?g.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&h&&"server"===h.source?g.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new vM(Cf(u.path),y,{includeMetadataChanges:!0,ku:!0});return pM(r,E)}(yield Qy(n),n.asyncQueue,e,t,i)})),i.promise}function QR(n,e,t={}){const i=new ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,s,u,h,g){const y=new GD({next:I=>{s.enqueueAndForget(()=>mM(r,E)),I.fromCache&&"server"===h.source?g.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new vM(u,y,{includeMetadataChanges:!0,ku:!0});return pM(r,E)}(yield Qy(n),n.asyncQueue,e,t,i)})),i.promise}class cU{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new ZA(this,"async_queue_retry"),this.Wc=()=>{const t=VD();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=VD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=VD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ai;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,me.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Bl(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Wn("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=fM.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&dt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function nN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class uU{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ui extends Ew{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new cU,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JR(this),this._firestoreClient.terminate()}}function qi(n){return n._firestoreClient||JR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JR(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new KS(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new tU(n._authCredentials,n._appCheckCredentials,n._queue,i)}function XR(n,e,t){const i=new ai;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield qR(n,t),yield WR(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;Cd("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function ek(n){if(n._initialized||n._terminated)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu($i.fromBase64String(e))}catch(t){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gu($i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $d{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._methodName=e}}class WD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const bU=/^__.*__$/;class wU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pd(e,this.data,t,this.fieldTransforms)}}class tk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class ZD{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ZD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return QD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(nk(this.sa)&&bU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class EU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||vw(e)}da(e,t,i,r=!1){return new ZD({sa:e,methodName:t,fa:i,path:vi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function jg(n){const e=n._freezeSettings(),t=vw(n._databaseId);return new EU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KD(n,e,t,i,r,s={}){const u=n.da(s.merge||s.mergeFields?2:0,e,t,r);oN("Data must be an object, but it was:",u,i);const h=sk(i,u);let g,y;if(s.merge)g=new Us(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const I of s.mergeFields){const O=aN(e,I,t);if(!u.contains(O))throw new ke(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);ak(E,O)||E.push(O)}g=new Us(E),y=u.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,y=u.fieldTransforms;return new wU(new Ai(h),g,y)}class Tw extends Hg{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tw}}function ik(n,e,t){return new ZD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class iN extends Hg{_toFieldTransform(e){return new kd(e.path,new Ha)}isEqual(e){return e instanceof iN}}class TU extends Hg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ik(this,e,!0),i=this._a.map(s=>$g(s,t)),r=new xd(i);return new kd(e.path,r)}isEqual(e){return this===e}}class CU extends Hg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ik(this,e,!0),i=this._a.map(s=>$g(s,t)),r=new Rd(i);return new kd(e.path,r)}isEqual(e){return this===e}}class DU extends Hg{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Df(e.It,iD(e.It,this.wa));return new kd(e.path,t)}isEqual(e){return this===e}}function rN(n,e,t,i){const r=n.da(1,e,t);oN("Data must be an object, but it was:",r,i);const s=[],u=Ai.empty();Id(i,(g,y)=>{const E=YD(e,g,t);y=(0,Wt.m9)(y);const I=r.ca(E);if(y instanceof Tw)s.push(E);else{const O=$g(y,I);null!=O&&(s.push(E),u.set(E,O))}});const h=new Us(s);return new tk(u,h,r.fieldTransforms)}function sN(n,e,t,i,r,s){const u=n.da(1,e,t),h=[aN(e,i,t)],g=[r];if(s.length%2!=0)throw new ke(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(aN(e,s[O])),g.push(s[O+1]);const y=[],E=Ai.empty();for(let O=h.length-1;O>=0;--O)if(!ak(y,h[O])){const k=h[O];let B=g[O];B=(0,Wt.m9)(B);const H=u.ca(k);if(B instanceof Tw)y.push(k);else{const Y=$g(B,H);null!=Y&&(y.push(k),E.set(k,Y))}}const I=new Us(y);return new tk(E,I,u.fieldTransforms)}function rk(n,e,t,i=!1){return $g(t,n.da(i?4:3,e))}function $g(n,e){if(ok(n=(0,Wt.m9)(n)))return oN("Unsupported field value:",e,n),sk(n,e);if(n instanceof Hg)return function(t,i){if(!nk(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let h=$g(u,i.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Wt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iD(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Vn.fromDate(t);return{timestampValue:Of(i.It,r)}}if(t instanceof Vn){const r=new Vn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Of(i.It,r)}}if(t instanceof WD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gu)return{bytesValue:hA(i.It,t._byteString)};if(t instanceof ci){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Zb(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${jD(t)}`)}(n,e)}function sk(n,e){const t={};return Ib(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Id(n,(i,r)=>{const s=$g(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function ok(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vn||n instanceof WD||n instanceof gu||n instanceof ci||n instanceof Hg)}function oN(n,e,t){if(!ok(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jD(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function aN(n,e,t){if((e=(0,Wt.m9)(e))instanceof $d)return e._internalPath;if("string"==typeof e)return YD(n,e);throw QD("Field path arguments must be of type string or ",n,!1,void 0,t)}const IU=new RegExp("[~\\*/\\[\\]]");function YD(n,e,t){if(e.search(IU)>=0)throw QD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $d(...e.split("."))._internalPath}catch{throw QD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function QD(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new ke(de.INVALID_ARGUMENT,h+n+g)}function ak(n,e){return n.some(t=>t.isEqual(e))}class Cw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new SU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class SU extends Cw{data(){return super.data()}}function JD(n,e){return"string"==typeof e?YD(n,e):e instanceof $d?e._internalPath:e._delegate._internalPath}function lk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}function Vf(n,...e){for(const t of e)n=t._apply(n);return n}class AU extends Dw{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=jg(e.firestore),i=function(r,s,u,h,g,y,E){let I;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){pk(E,y);const k=[];for(const B of E)k.push(fk(h,r,B));I={arrayValue:{values:k}}}else I=fk(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||pk(E,y),I=rk(u,"where",E,"in"===y||"not-in"===y);const O=vr.create(g,y,I);return function(k,B){if(B.dt()){const Y=Sg(k);if(null!==Y&&!Y.isEqual(B.field))throw new ke(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Y.toString()}' and '${B.field.toString()}'`);const we=Ey(k);null!==we&&gk(0,B.field,we)}const H=function(Y,we){for(const Se of Y.filters)if(we.indexOf(Se.op)>=0)return Se.op;return null}(k,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==H)throw new ke(de.INVALID_ARGUMENT,H===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${H.toString()}' filters.`)}(r,O),O}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ys(e.firestore,e.converter,function(r,s){const u=r.filters.concat([s]);return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class NU extends Dw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new su(r,s);return function(h,g){if(null===Ey(h)){const y=Sg(h);null!==y&&gk(0,y,g.field)}}(i,u),u}(e._query,this.ma,this.pa);return new ys(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ul(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class ck extends Dw{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new ys(e.firestore,e.converter,Ag(e._query,this.Ia,this.Ta))}}class uk extends Dw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=hk(e,this.type,this.Ea,this.Aa);return new ys(e.firestore,e.converter,(r=t,new Ul((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class dk extends Dw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=hk(e,this.type,this.Ea,this.Aa);return new ys(e.firestore,e.converter,(r=t,new Ul((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function hk(n,e,t,i){if(t[0]=(0,Wt.m9)(t[0]),t[0]instanceof Cw)return function(r,s,u,h,g){if(!h)throw new ke(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of Nd(r))if(E.field.isKeyField())y.push(ru(s,h.key));else{const I=h.data.field(E.field);if(Ab(I))throw new ke(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=E.field.canonicalString();throw new ke(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}y.push(I)}return new Ua(y,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=jg(n.firestore);return function(s,u,h,g,y,E){const I=s.explicitOrderBy;if(y.length>I.length)throw new ke(de.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let k=0;k<y.length;k++){const B=y[k];if(I[k].field.isKeyField()){if("string"!=typeof B)throw new ke(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof B}`);if(!Ty(s)&&-1!==B.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${B}' contains a slash.`);const H=s.path.child(hn.fromString(B));if(!Je.isDocumentKey(H))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const Y=new Je(H);O.push(ru(u,Y))}else{const H=rk(h,g,B);O.push(H)}}return new Ua(O,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function fk(n,e,t){if("string"==typeof(t=(0,Wt.m9)(t))){if(""===t)throw new ke(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ty(e)&&-1!==t.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(hn.fromString(t));if(!Je.isDocumentKey(i))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ru(n,new Je(i))}if(t instanceof ci)return ru(n,t._key);throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jD(t)}.`)}function pk(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gk(n,e,t){if(!t.isEqual(e))throw new ke(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lN{convertValue(e,t="none"){switch(Md(e)){case 0:return null;case 1:return e.booleanValue;case 2:return li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ad(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return Id(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new WD(li(e.latitude),li(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ZS(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dy(e));default:return null}}convertTimestamp(e){const t=Sd(e);return new Vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=hn.fromString(e);xt(yD(i));const r=new nu(i.get(1),i.get(3)),s=new Je(i.popFirst(5));return r.isEqual(t)||Wn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function XD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class BU extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}class Gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends Cw{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(JD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Iw extends Gd{data(e={}){return super.data(e)}}class Uf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Iw(this._firestore,this._userDataWriter,i.key,i,new Gg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Iw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Gg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Iw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Gg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==u.type&&(g=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:VU(u.type),doc:h,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function mk(n,e){return n instanceof Gd&&e instanceof Gd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Uf&&e instanceof Uf&&n._firestore===e._firestore&&WM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hf extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}function _k(n,e,t){n=fn(n,ci);const i=fn(n.firestore,ui),r=XD(n.converter,e,t);return Jy(i,[KD(jg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Fn.none())])}function yk(n,e,t,...i){n=fn(n,ci);const r=fn(n.firestore,ui),s=jg(r);let u;return u="string"==typeof(e=(0,Wt.m9)(e))||e instanceof $d?sN(s,"updateDoc",n._key,e,t,i):rN(s,"updateDoc",n._key,e),Jy(r,[u.toMutation(n._key,Fn.exists(!0))])}function vk(n,...e){var t,i,r;n=(0,Wt.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||nN(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(nN(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let g,y,E;if(n instanceof ci)y=fn(n.firestore,ui),E=Cf(n._key.path),g={next:I=>{e[u]&&e[u](cN(y,n,I))},error:e[u+1],complete:e[u+2]};else{const I=fn(n,ys);y=fn(I.firestore,ui),E=I._query;const O=new Hf(y);g={next:k=>{e[u]&&e[u](new Uf(y,O,I,k))},error:e[u+1],complete:e[u+2]},lk(n._query)}return function(I,O,k,B){const H=new GD(B),Y=new vM(O,H,k);return I.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return pM(yield Qy(I),Y)})),()=>{H.bc(),I.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return mM(yield Qy(I),Y)}))}}(qi(y),E,h,g)}function Jy(n,e){return function(t,i){const r=new ai;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function xV(n,e,t){return CM.apply(this,arguments)}(yield eN(t),i,r)})),r.promise}(qi(n),e)}function cN(n,e,t){const i=t.docs.get(e._key),r=new Hf(n);return new Gd(n,r,e._key,i,new Gg(t.hasPendingWrites,t.fromCache),e.converter)}const KU={maxAttempts:5};class bk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jg(e)}set(e,t,i){this._verifyNotCommitted();const r=jf(e,this._firestore),s=XD(r.converter,t,i),u=KD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Fn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=jf(e,this._firestore);let u;return u="string"==typeof(t=(0,Wt.m9)(t))||t instanceof $d?sN(this._dataReader,"WriteBatch.update",s._key,t,i,r):rN(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jf(e,this._firestore);return this._mutations=this._mutations.concat(new Mf(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jf(n,e){if((n=(0,Wt.m9)(n)).firestore!==e)throw new ke(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class YU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jg(e)}get(e){const t=jf(e,this._firestore),i=new BU(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const s=r[0];if(s.isFoundDocument())return new Cw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Cw(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=jf(e,this._firestore),s=XD(r.converter,t,i),u=KD(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=jf(e,this._firestore);let u;return u="string"==typeof(t=(0,Wt.m9)(t))||t instanceof $d?sN(this._dataReader,"Transaction.update",s._key,t,i,r):rN(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=jf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jf(e,this._firestore),i=new Hf(this._firestore);return super.get(e).then(r=>new Gd(this._firestore,i,t._key,r._document,new Gg(!1,!1),t.converter))}}function uN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ek(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function Tk(){if(!function WS(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Td=qo.SDK_VERSION,(0,qo._registerComponent)(new Hh.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),u=new ui(new OC(t.getProvider("auth-internal")),new bb(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(h.options.projectId,g)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(US,"3.7.1",n),(0,qo.registerVersion)(US,"3.7.1","esm2017")}();class Sw{constructor(e){this._delegate=e}static fromBase64String(e){return Tk(),new Sw(gu.fromBase64String(e))}static fromUint8Array(e){return Ek(),new Sw(gu.fromUint8Array(e))}toBase64(){return Tk(),this._delegate.toBase64()}toUint8Array(){return Ek(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dN(n){return function sH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class oH{enableIndexedDbPersistence(e,t){return function hU(n,e){ek(n=fn(n,ui));const t=qi(n),i=n._freezeSettings(),r=new zM;return XR(t,r,new PR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fU(n){ek(n=fn(n,ui));const e=qi(n),t=n._freezeSettings(),i=new zM;return XR(e,i,new ZV(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pU(n){if(n._initialized&&!n._terminated)throw new ke(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(i){if(!Jo.C())return Promise.resolve();const r=i+"main";yield Jo.delete(r)}),function(i){return t.apply(this,arguments)})(ut(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ck{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof nu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function jR(n,e,t,i={}){var r;const s=(n=fn(n,Ew))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Cd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=yr.MOCK_USER;else{u=(0,Wt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yr(g)}n._authCredentials=new $S(new MC(u,h))}}(this._delegate,e,t,i)}enableNetwork(){return function mU(n){return function nU(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield ZR(n),t=yield XM(n);return e.setNetworkEnabled(!0),function(i){const r=et(i);return r.wu.delete(0),bw(r)}(t)}))}(qi(n=fn(n,ui)))}(this._delegate)}disableNetwork(){return function _U(n){return function iU(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield ZR(n),t=yield XM(n);return e.setNetworkEnabled(!1),(i=(0,me.Z)(function*(r){const s=et(r);s.wu.add(0),yield Gy(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(qi(n=fn(n,ui)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,FR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gU(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function FV(n,e){return MM.apply(this,arguments)}(yield eN(e),t)})),t.promise}(qi(n=fn(n,ui)))}(this._delegate)}onSnapshotsInSync(e){return function ZU(n,e){return function oU(n,e){const t=new GD(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Qy(n),r=t,et(i).bu.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Qy(n),r=t,void et(i).bu.delete(r);var i,r}))}}(qi(n=fn(n,ui)),nN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xy(this,$R(this._delegate,e))}catch(t){throw Hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ga(this,$D(this._delegate,e))}catch(t){throw Hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new js(this,function KV(n,e){if(n=fn(n,Ew),qM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(n,null,(t=e,new Ul(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function QU(n,e,t){n=fn(n,ui);const i=Object.assign(Object.assign({},KU),t);return function(r){if(r.maxAttempts<1)throw new ke(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new ai;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const g=yield function KR(n){return zD(n).then(e=>e.datastore)}(r);new eU(r.asyncQueue,g,u,s,h).run()})),h.promise}(qi(n),r=>e(new YU(n,r)),i)}(this._delegate,t=>e(new Dk(this,t)))}batch(){return qi(this._delegate),new Ik(new bk(this._delegate,e=>Jy(this._delegate,e)))}loadBundle(e){return function yU(n,e){const t=qi(n=fn(n,ui)),i=new uU;return function aU(n,e,t,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,g=function(g,y){if(g instanceof Uint8Array)return zR(g,y);if(g instanceof ArrayBuffer)return zR(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new YV(g,u);var g}(t,vw(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function WV(n,e,t){const i=et(n);var r;(r=(0,me.Z)(function*(s,u,h){try{const g=yield u.getMetadata();if(yield function(O,k){const B=et(O),H=Gi(k.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",Y=>B.Ns.getBundleMetadata(Y,k.id)).then(Y=>!!Y&&Y.createTime.compareTo(H)>=0)}(s.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(DR(g));const y=new IV(g,s.localStore,u.It);let E=yield u.mc();for(;E;){const O=yield y.Fu(E);O&&h._updateProgress(O),E=yield u.mc()}const I=yield y.complete();return yield jd(s,I.Lu,void 0),yield function(O,k){const B=et(O);return B.persistence.runTransaction("Save bundle","readwrite",H=>B.Ns.saveBundleMetadata(H,k))}(s.localStore,g),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(g){return Cd("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var O}),function(s,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield eN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function vU(n,e){return function lU(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,i){const r=et(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield qD(n),e)}))}(qi(n=fn(n,ui)),e).then(t=>t?new ys(n,null,t.query):null)}(this._delegate,e).then(t=>t?new js(this,t):null)}}class eI extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sw(new gu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ga.forKey(t,this.firestore,null)}}class Dk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}get(e){const t=qg(e);return this._delegate.get(t).then(i=>new Aw(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=qg(e);return i?(uN("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=qg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=qg(e);return this._delegate.delete(t),this}}class Ik{constructor(e){this._delegate=e}set(e,t,i){const r=qg(e);return i?(uN("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=qg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=qg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Iw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=zg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new zg(e,new eI(e),t),r.set(t,s)),s}}zg.INSTANCES=new WeakMap;class Ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ga(t,new ci(t._delegate,i,new Je(e)))}static forKey(e,t,i){return new Ga(t,new ci(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xy(this.firestore,$R(this._delegate,e))}catch(t){throw Hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Wt.m9)(e))instanceof ci&&GR(this._delegate,e)}set(e,t){t=uN("DocumentReference.set",t);try{return t?_k(this._delegate,e,t):_k(this._delegate,e)}catch(i){throw Hs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?yk(this._delegate,e):yk(this._delegate,e,t,...i)}catch(r){throw Hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function qU(n){return Jy(fn(n.firestore,ui),[new Mf(n._key,Fn.none())])}(this._delegate)}onSnapshot(...e){const t=Sk(e),i=Ak(e,r=>new Aw(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return vk(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function HU(n){n=fn(n,ci);const e=fn(n.firestore,ui),t=qi(e),i=new Hf(e);return function rU(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,s,u){try{const h=yield function(g,y){const E=et(g);return E.persistence.runTransaction("read document","readonly",I=>E.localDocuments.getDocument(I,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=Wy(h,`Failed to get document '${s} from cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield qD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Gd(e,i,n._key,r,new Gg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function jU(n){n=fn(n,ci);const e=fn(n.firestore,ui);return YR(qi(e),n._key,{source:"server"}).then(t=>cN(e,n,t))}(this._delegate):function UU(n){n=fn(n,ci);const e=fn(n.firestore,ui);return YR(qi(e),n._key).then(t=>cN(e,n,t))}(this._delegate),t.then(i=>new Aw(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ga(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Hs(n,e,t){return n.message=n.message.replace(e,t),n}function Sk(n){for(const e of n)if("object"==typeof e&&!dN(e))return e;return{}}function Ak(n,e){var t,i;let r;return r=dN(n[0])?n[0]:dN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mk(this._delegate,e._delegate)}}class Mw extends Aw{data(e){const t=this._delegate.data(e);return function jS(n,e){n||dt()}(void 0!==t),t}}class js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}where(e,t,i){try{return new js(this.firestore,Vf(this._delegate,function MU(n,e,t){const i=e,r=JD("where",n);return new AU(r,i,t)}(e,t,i)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new js(this.firestore,Vf(this._delegate,function OU(n,e="asc"){const t=e,i=JD("orderBy",n);return new NU(i,t)}(e,t)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new js(this.firestore,Vf(this._delegate,function xU(n){return VR("limit",n),new ck("limit",n,"F")}(e)))}catch(t){throw Hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new js(this.firestore,Vf(this._delegate,function RU(n){return VR("limitToLast",n),new ck("limitToLast",n,"L")}(e)))}catch(t){throw Hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new js(this.firestore,Vf(this._delegate,function kU(...n){return new uk("startAt",n,!0)}(...e)))}catch(t){throw Hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new js(this.firestore,Vf(this._delegate,function PU(...n){return new uk("startAfter",n,!1)}(...e)))}catch(t){throw Hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new js(this.firestore,Vf(this._delegate,function FU(...n){return new dk("endBefore",n,!1)}(...e)))}catch(t){throw Hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new js(this.firestore,Vf(this._delegate,function LU(...n){return new dk("endAt",n,!0)}(...e)))}catch(t){throw Hs(t,"endAt()","Query.endAt()")}}isEqual(e){return WM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function GU(n){n=fn(n,ys);const e=fn(n.firestore,ui),t=qi(e),i=new Hf(e);return function sU(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,s,u){try{const h=yield Lf(r,s,!0),g=new AR(s,h.Hi),y=g.Wu(h.documents),E=g.applyChanges(y,!1);u.resolve(E.snapshot)}catch(h){const g=Wy(h,`Failed to execute query '${s} against cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield qD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Uf(e,i,n,r))}(this._delegate):"server"===e?.source?function zU(n){n=fn(n,ys);const e=fn(n.firestore,ui),t=qi(e),i=new Hf(e);return QR(t,n._query,{source:"server"}).then(r=>new Uf(e,i,n,r))}(this._delegate):function $U(n){n=fn(n,ys);const e=fn(n.firestore,ui),t=qi(e),i=new Hf(e);return lk(n._query),QR(t,n._query).then(r=>new Uf(e,i,n,r))}(this._delegate),t.then(i=>new hN(this.firestore,new Uf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Sk(e),i=Ak(e,r=>new hN(this.firestore,new Uf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return vk(this._delegate,t,i)}withConverter(e){return new js(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}class lH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new lH(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Mw(this._firestore,i))})}isEqual(e){return mk(this._delegate,e._delegate)}}class Xy extends js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ga(this.firestore,e):null}doc(e){try{return new Ga(this.firestore,void 0===e?$D(this._delegate):$D(this._delegate,e))}catch(t){throw Hs(t,"doc()","CollectionReference.doc()")}}add(e){return function WU(n,e){const t=fn(n.firestore,ui),i=$D(n),r=XD(n.converter,e);return Jy(t,[KD(jg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ga(this.firestore,t))}isEqual(e){return GR(this._delegate,e._delegate)}withConverter(e){return new Xy(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function qg(n){return fn(n,ci)}class fN{constructor(...e){this._delegate=new $d(...e)}static documentId(){return new fN(vi.keyField().canonicalString())}isEqual(e){return(e=(0,Wt.m9)(e))instanceof $d&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function XU(){return new iN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wg(e)}static delete(){const e=function JU(){return new Tw("deleteField")}();return e._methodName="FieldValue.delete",new Wg(e)}static arrayUnion(...e){const t=function eH(...n){return new TU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wg(t)}static arrayRemove(...e){const t=function tH(...n){return new CU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wg(t)}static increment(e){const t=function nH(n){return new DU("increment",n)}(e);return t._methodName="FieldValue.increment",new Wg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cH={Firestore:Ck,GeoPoint:WD,Timestamp:Vn,Blob:Sw,Transaction:Dk,WriteBatch:Ik,DocumentReference:Ga,DocumentSnapshot:Aw,Query:js,QueryDocumentSnapshot:Mw,QuerySnapshot:hN,CollectionReference:Xy,FieldPath:fN,FieldValue:Wg,setLogLevel:function aH(n){!function HS(n){Qo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Mk(n,e){return function hH(n,e=F_.z){return new Rn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function pN(n,e){return Mk(n,e).pipe((0,Ze.U)(t=>({payload:t,type:"query"})))}function tI(n,e){return pN(n,e).pipe(Wr(void 0),L_(),(0,Ze.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(E=>E.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(E=>E.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function Nk(n,e,t){return tI(n,t).pipe(Ft((i,r)=>function pH(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function gH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),qh(),(0,Ze.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function gN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Ok(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function dH(n){(function uH(n,e){n.INTERNAL.registerComponent(new Hh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},cH)))})(n,(e,t)=>new Ck(e,t,new oH)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(B_.Z);class xk{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=tI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ze.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Wr(void 0),L_(),D(([i,r])=>r.length>0||!i),(0,Ze.U)(([i,r])=>r),Jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ft((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Ok(e);return Nk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(e={}){return pN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Jn.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Jn.iC)}add(e){return this.ref.add(e)}doc(e){return new Rk(this.ref.doc(e),this.afs)}}class Rk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Fk(i,t);return new xk(r,s,this.afs)}snapshotChanges(){return function fH(n,e){return Mk(n,e).pipe(Wr(void 0),L_(),(0,Ze.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ze.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(Jn.iC)}}class mH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),D(t=>t.length>0),Jn.iC):tI(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ft((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Ok(e);return Nk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(e={}){return pN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Jn.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Jn.iC)}}const kk=new l.OlP("angularfire2.enableFirestorePersistence"),Pk=new l.OlP("angularfire2.firestore.persistenceSettings"),_H=new l.OlP("angularfire2.firestore.settings"),yH=new l.OlP("angularfire2.firestore.use-emulator");function Fk(n,e=(t=>t)){return{query:e(n),ref:n}}let Lk=(()=>{class n{constructor(t,i,r,s,u,h,g,y,E,I,O,k,B,H,Y,we,Se){this.schedulers=g;const Fe=(0,fr.on)(t,h,i),Ae=E;I&&Up(Fe,h,O,B,H,Y,k,we),[this.firestore,this.persistenceEnabled$]=(0,fr.cc)(`${Fe.name}.firestore`,"AngularFirestore",Fe.name,()=>{const He=h.runOutsideAngular(()=>Fe.firestore());if(s&&He.settings(s),Ae&&He.useEmulator(...Ae),r&&!ki(u)){const ze=()=>{try{return(0,on.D)(He.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),Xe(!1)}};return[He,h.runOutsideAngular(ze)]}return[He,Xe(!1)]},[s,Ae,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=Fk(r,i),h=this.schedulers.ngZone.run(()=>s);return new xk(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new mH(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Rk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fr.Dh),l.LFG(fr.xv,8),l.LFG(kk,8),l.LFG(_H,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jn.HU),l.LFG(Pk,8),l.LFG(yH,8),l.LFG(N0,8),l.LFG(ST,8),l.LFG(k_,8),l.LFG(AT,8),l.LFG(MT,8),l.LFG(Vp,8),l.LFG(P_,8),l.LFG(x_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vH=(()=>{class n{constructor(){M0.Z.registerVersion("angularfire",Jn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:kk,useValue:!0},{provide:Pk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Lk]}),n})();class Bk{}const zd="*";function mN(n,e){return{type:7,name:n,definitions:e,options:{}}}function Nw(n,e=null){return{type:4,styles:e,timings:n}}function Vk(n,e=null){return{type:2,steps:n,options:e}}function mu(n){return{type:6,styles:n,offset:null}}function Ow(n,e,t){return{type:0,name:n,styles:e,options:t}}function xw(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Uk(n){Promise.resolve().then(n)}class Rw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Uk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Hk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?Uk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const jk=["toast-component",""];function wH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function EH(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function TH(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,EH,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function CH(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function DH(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function IH(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class RH{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class PH{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new It.x,this._activate=new It.x,this._manualClose=new It.x,this._resetTimeout=new It.x,this._countDuplicate=new It.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class nI{constructor(e,t,i,r,s,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=u,this._onTap=new It.x,this._onAction=new It.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Gk=new l.OlP("ToastConfig");class FH extends class kH{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class LH{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let BH=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VH=(()=>{class n{constructor(t,i,r,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new FH(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new LH(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BH),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yN=(()=>{class n{constructor(t,i,r,s,u){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const g=u&&h.title===t;if((!u||g)&&h.message===i)return h.toastRef.onDuplicate(r,s),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let y=i;i&&s.enableHtml&&(y=this.sanitizer.sanitize(l.q3G.HTML,i));const E=new PH(g),I=new nI(this.index,s,y,r,t,E),k=l.zs3.create({providers:[{provide:nI,useValue:I}],parent:this._injector}),B=new RH(s.toastComponent,k),H=g.attach(B,s.newestOnTop);E.componentInstance=H.instance;const Y={toastId:this.index,title:r||"",message:i||"",toastRef:E,onShown:E.afterActivate(),onHidden:E.afterClosed(),onTap:I.onTap(),onAction:I.onAction(),portal:H};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Y.toastRef.activate()})),this.toasts.push(Y),Y}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gk),l.LFG(VH),l.LFG(l.zs3),l.LFG(Fo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UH={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yN),l.Y36(nI),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",i.state),l.Tol(i.toastClasses),l.Udp("display",i.displayStyle))},attrs:jk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(l.YNc(0,wH,3,0,"button",0),l.YNc(1,TH,3,5,"div",1),l.YNc(2,CH,1,3,"div",2),l.YNc(3,DH,2,4,"div",3),l.YNc(4,IH,2,2,"div",4)),2&t&&(l.Q6J("ngIf",i.options.closeButton),l.xp6(1),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",i.message&&i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.message&&!i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.options.progressBar))},dependencies:[dn],encapsulation:2,data:{animation:[mN("flyInOut",[Ow("inactive",mu({opacity:0})),Ow("active",mu({opacity:1})),Ow("removed",mu({opacity:0})),xw("inactive => active",Nw("{{ easeTime }}ms {{ easing }}")),xw("active => removed",Nw("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let HH=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Gk,useValue:{default:UH,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),ev=(()=>{class n{constructor(t){this.toastr=t}showSuccess(t,i,r){this.toastr.success(t,i,r||{timeOut:2e3})}showError(t,i,r){this.toastr.error(t,i,r||{timeOut:2e3,positionClass:"toast-top-center"})}showInfo(t,i,r){this.toastr.info(t,i,r||{timeOut:2e3,positionClass:"toast-bottom-right"})}showWarning(t,i,r){this.toastr.warning(t,i,r||{timeOut:2e3,positionClass:"toast-bottom-left"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zg=(()=>{class n{constructor(t,i,r,s){this.angularFireAuth=t,this.angularFirestore=i,this.notifyService=r,this.router=s,this.isAdmin=!1,this.isLogged=!1,this.user$=this.angularFireAuth.authState.pipe(Tn(u=>u?this.angularFirestore.doc(`usuarios/${u.uid}`).valueChanges():Xe(null)))}registerNewUser(t){this.angularFireAuth.createUserWithEmailAndPassword(t.email,t.password).then(i=>{i.user?.sendEmailVerification(),this.angularFirestore.collection("usuarios").doc(i.user?.uid).set({id:i.user?.uid,perfil:t.perfil,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,especialidad:t.especialidad,email:t.email,password:t.password,imagen1:t.imagen1,imagen2:t.imagen2,aprobado:t.aprobado}).then(()=>{this.notifyService.showInfo("Verifica tu email","Registro exitoso")}).catch(r=>{this.notifyService.showError(this.createMessage(r.code),"Error")})}).catch(i=>{this.notifyService.showError(this.createMessage(i.code),"Error")})}updateUser(t){this.angularFirestore.doc(`usuarios/${t.id}`).update({id:t.id,perfil:t.perfil,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,especialidad:t.especialidad,email:t.email,password:t.password,imagen1:t.imagen1,imagen2:t.imagen2,aprobado:t.aprobado}).then(()=>{}).catch(i=>{this.notifyService.showError("Ocurrio un error","Administrador")})}userLogin(t,i){var r=this;return(0,me.Z)(function*(){try{return yield r.angularFireAuth.signInWithEmailAndPassword(t,i)}catch(s){throw console.log(s.code),r.notifyService.showError("Email y/o contrase\xf1a invalidos","Inicio fallido"),s}})()}userLogout(){this.isAdmin=!1,this.isLogged=!1,this.angularFireAuth.signOut()}createUserLog(t,i){return this.angularFirestore.collection(t).add(i)}createMessage(t){let i="";switch(t){case"auth/internal-error":i="Los campos estan vacios";break;case"auth/operation-not-allowed":i="La operaci\xf3n no est\xe1 permitida.";break;case"auth/email-already-in-use":i="El email ya est\xe1 registrado.";break;case"auth/invalid-email":i="El email no es valido.";break;case"auth/weak-password":i="La contrase\xf1a debe tener al menos 6 caracteres";break;default:i="Error al crear el usuario."}return i}getUserLogged(){return this.angularFireAuth.authState}getUsers(){return this.angularFirestore.collection("usuarios").valueChanges()}getCollection(t){return this.angularFirestore.collection(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(N0),l.LFG(Lk),l.LFG(ev),l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var jH=F(1144);const $H=["addListener","removeListener"],GH=["addEventListener","removeEventListener"],zH=["on","off"];function vs(n,e,t,i){if((0,hr.m)(t)&&(i=t,t=void 0),i)return vs(n,e,t).pipe(wa(i));const[r,s]=function ZH(n){return(0,hr.m)(n.addEventListener)&&(0,hr.m)(n.removeEventListener)}(n)?GH.map(u=>h=>n[u](e,h,t)):function qH(n){return(0,hr.m)(n.addListener)&&(0,hr.m)(n.removeListener)}(n)?$H.map(zk(n,e)):function WH(n){return(0,hr.m)(n.on)&&(0,hr.m)(n.off)}(n)?zH.map(zk(n,e)):[];if(!r&&(0,jH.z)(n))return(0,S.z)(u=>vs(u,e,t))((0,Hi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Rn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>s(h)})}function zk(n,e){return t=>i=>n[t](e,i)}var KH=F(3532);function iI(n=0,e,t=F_.P){let i=-1;return null!=e&&((0,KH.K)(e)?t=e:i=e),new Rn.y(r=>{let s=function YH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:QH}=Array;function qk(n){return 1===n.length&&QH(n[0])?n[0]:n}var rI=F(5032);function sI(...n){const e=(0,dr.jO)(n),t=qk(n);return t.length?new Rn.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let u=0;!i.closed&&u<t.length;u++)(0,Hi.Xf)(t[u]).subscribe((0,bn.x)(i,h=>{if(r[u].push(h),r.every(g=>g.length)){const g=r.map(y=>y.shift());i.next(e?e(...g):g),r.some((y,E)=>!y.length&&s[E])&&i.complete()}},()=>{s[u]=!0,!r[u].length&&i.complete()}));return()=>{r=s=null}}):qr.E}function di(n){return(0,Gn.e)((e,t)=>{(0,Hi.Xf)(n).subscribe((0,bn.x)(t,()=>t.complete(),rI.Z)),!t.closed&&e.subscribe(t)})}function vN(...n){const e=(0,dr.jO)(n);return(0,Gn.e)((t,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,Hi.Xf)(n[g]).subscribe((0,bn.x)(i,y=>{s[g]=y,!h&&!u[g]&&(u[g]=!0,(h=u.every(Rs.y))&&(u=null))},rI.Z));t.subscribe((0,bn.x)(i,g=>{if(h){const y=[g,...s];i.next(e?e(...y):y)}}))})}function Kk(n,e){return e?t=>Gr(e.pipe(Ut(1),function ej(){return(0,Gn.e)((n,e)=>{n.subscribe((0,bn.x)(e,rI.Z))})}()),t.pipe(Kk(n))):(0,S.z)((t,i)=>n(t,i).pipe(Ut(1),Bo(t)))}function bN(n,e=F_.z){const t=iI(n,e);return Kk(()=>t)}function wN(n){return D((e,t)=>n<=t)}new Rn.y(rI.Z);let Qk=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Kg=(()=>{class n extends Qk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ql=new l.OlP("NgValueAccessor"),nj={provide:ql,useExisting:(0,l.Gpc)(()=>Yg),multi:!0},rj=new l.OlP("CompositionEventMode");let Yg=(()=>{class n extends Qk{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ij(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(rj,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([nj]),l.qOj]}),n})();function $f(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Xk(n){return null!=n&&"number"==typeof n.length}const bs=new l.OlP("NgValidators"),Gf=new l.OlP("NgAsyncValidators"),oj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Li{static min(e){return eP(e)}static max(e){return tP(e)}static required(e){return function nP(n){return $f(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function iP(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function rP(n){return $f(n.value)||oj.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function sP(n){return e=>$f(e.value)||!Xk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function oP(n){return e=>Xk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function aP(n){if(!n)return oI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if($f(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return fP(e)}static composeAsync(e){return pP(e)}}function eP(n){return e=>{if($f(e.value)||$f(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function tP(n){return e=>{if($f(e.value)||$f(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function oI(n){return null}function lP(n){return null!=n}function cP(n){return(0,l.QGY)(n)?(0,on.D)(n):n}function uP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function dP(n,e){return e.map(t=>t(n))}function hP(n){return n.map(e=>function aj(n){return!n.validate}(e)?e:t=>e.validate(t))}function fP(n){if(!n)return null;const e=n.filter(lP);return 0==e.length?null:function(t){return uP(dP(t,e))}}function EN(n){return null!=n?fP(hP(n)):null}function pP(n){if(!n)return null;const e=n.filter(lP);return 0==e.length?null:function(t){return function Yk(...n){const e=(0,dr.jO)(n),{args:t,keys:i}=_l(n),r=new Rn.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let g=u,y=u;for(let E=0;E<u;E++){let I=!1;(0,Hi.Xf)(t[E]).subscribe((0,bn.x)(s,O=>{I||(I=!0,y--),h[E]=O},()=>g--,void 0,()=>{(!g||!I)&&(y||s.next(i?Ea(i,h):h),s.complete())}))}});return e?r.pipe(wa(e)):r}(dP(t,e).map(cP)).pipe((0,Ze.U)(uP))}}function TN(n){return null!=n?pP(hP(n)):null}function gP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mP(n){return n._rawValidators}function _P(n){return n._rawAsyncValidators}function CN(n){return n?Array.isArray(n)?n:[n]:[]}function aI(n,e){return Array.isArray(n)?n.includes(e):n===e}function yP(n,e){const t=CN(e);return CN(n).forEach(r=>{aI(t,r)||t.push(r)}),t}function vP(n,e){return CN(e).filter(t=>!aI(n,t))}class bP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=EN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $s extends bP{get formDirective(){return null}get path(){return null}}class zf extends bP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kw=(()=>{class n extends wP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zf,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),Pw=(()=>{class n extends wP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($s,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const Fw="VALID",cI="INVALID",tv="PENDING",Lw="DISABLED";function AN(n){return(uI(n)?n.validators:n)||null}function TP(n){return Array.isArray(n)?EN(n):n||null}function MN(n,e){return(uI(e)?e.asyncValidators:n)||null}function CP(n){return Array.isArray(n)?TN(n):n||null}function uI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function DP(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function IP(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class dI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=TP(this._rawValidators),this._composedAsyncValidatorFn=CP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fw}get invalid(){return this.status===cI}get pending(){return this.status==tv}get disabled(){return this.status===Lw}get enabled(){return this.status!==Lw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=TP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CP(e)}addValidators(e){this.setValidators(yP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vP(e,this._rawAsyncValidators))}hasValidator(e){return aI(this._rawValidators,e)}hasAsyncValidator(e){return aI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fw||this.status===tv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lw:Fw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tv,this._hasOwnPendingAsyncValidator=!0;const t=cP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Lw:this.errors?cI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tv)?tv:this._anyControlsHaveStatus(cI)?cI:Fw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Bw extends dI{constructor(e,t,i){super(AN(t),MN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){IP(this,0,e),Object.keys(e).forEach(i=>{DP(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class SP extends Bw{}function Vw(n,e){NN(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function gj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AP(n,e)})}(n,e),function _j(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function pj(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function fI(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),gI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function pI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NN(n,e){const t=mP(n);null!==e.validator?n.setValidators(gP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=_P(n);null!==e.asyncValidator?n.setAsyncValidators(gP(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();pI(e._rawValidators,r),pI(e._rawAsyncValidators,r)}function gI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=mP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=_P(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return pI(e._rawValidators,i),pI(e._rawAsyncValidators,i),t}function AP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function RP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Hw=class extends dI{constructor(e=null,t,i){super(AN(t),MN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=RP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Ij={provide:ql,useExisting:(0,l.Gpc)(()=>$w),multi:!0};let $w=(()=>{class n extends Kg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([Ij]),l.qOj]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const kN=new l.OlP("NgModelWithFormControlWarning"),Oj={provide:$s,useExisting:(0,l.Gpc)(()=>Qg)};let Qg=(()=>{class n extends $s{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Vw(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){fI(t.control||null,t,!1),function wj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function OP(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(fI(i||null,t),(n=>n instanceof Hw)(r)&&(Vw(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function MP(n,e){NN(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function yj(n,e){return gI(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NN(this.form,this),this._oldForm&&gI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,10),l.Y36(Gf,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Oj]),l.qOj,l.TTD]}),n})();const kj={provide:zf,useExisting:(0,l.Gpc)(()=>nv)};let nv=(()=>{class n extends zf{constructor(t,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function xN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Yg?t=s:function bj(n){return Object.getPrototypeOf(n.constructor)===Kg}(s)?i=s:r=s}),r||i||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function ON(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function hI(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36($s,13),l.Y36(bs,10),l.Y36(Gf,10),l.Y36(ql,10),l.Y36(kN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([kj]),l.qOj,l.TTD]}),n})();const Pj={provide:ql,useExisting:(0,l.Gpc)(()=>mI),multi:!0};function $P(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let mI=(()=>{class n extends Kg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=$P(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Fj(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Pj]),l.qOj]}),n})(),GP=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($P(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(mI,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Lj={provide:ql,useExisting:(0,l.Gpc)(()=>LN),multi:!0};function zP(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let LN=(()=>{class n extends Kg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,u)=>{s._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const u=s;for(let h=0;h<u.length;h++){const y=this._getOptionValue(u[h].value);r.push(y)}}else{const u=i.options;for(let h=0;h<u.length;h++){const g=u[h];if(g.selected){const y=this._getOptionValue(g.value);r.push(y)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Bj(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Lj]),l.qOj]}),n})(),qP=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(zP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(LN,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function ZP(n){return"number"==typeof n?n:parseFloat(n)}let Jg=(()=>{class n{constructor(){this._validator=oI}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):oI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Vj={provide:bs,useExisting:(0,l.Gpc)(()=>Gw),multi:!0};let Gw=(()=>{class n extends Jg{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>ZP(t),this.createValidator=t=>tP(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[l._Bn([Vj]),l.qOj]}),n})();const Uj={provide:bs,useExisting:(0,l.Gpc)(()=>zw),multi:!0};let zw=(()=>{class n extends Jg{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>ZP(t),this.createValidator=t=>eP(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[l._Bn([Uj]),l.qOj]}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BP]}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[eF]}),n})(),nF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[eF]}),n})();class iF extends dI{constructor(e,t,i){super(AN(t),MN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){IP(this,0,e),e.forEach((i,r)=>{DP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function rF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let _I=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return rF(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Bw(r,s)}record(t,i=null){const r=this._reduceControls(t);return new SP(r,i)}control(t,i,r){let s={};return this.useNonNullable?(rF(i)?s=i:(s.validators=i,s.asyncValidators=r),new Hw(t,{...s,nonNullable:!0})):new Hw(t,i,r)}array(t,i,r){const s=t.map(u=>this._createControl(u));return new iF(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Hw||t instanceof dI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:nF}),n})();Math,Math,Math;const r$=["*"],E$=["dialog"];function YN(n){return"string"==typeof n}function tm(n){return null!=n}function av(n){return(n||document.body).getBoundingClientRect()}const EF={animation:!0,transitionTimerDelayMs:5},mG=()=>{},{transitionTimerDelayMs:_G}=EF,Jw=new Map,Gs=(n,e,t,i)=>{let r=i.context||{};const s=Jw.get(e);if(s)switch(i.runningTransition){case"continue":return qr.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Jw.delete(e)}const u=t(e,i.animation,r)||mG;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),Xe(void 0).pipe(function pG(n){return e=>new Rn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new It.x,g=new It.x,y=h.pipe(function XH(...n){return e=>Gr(e,Xe(...n))}(!0));Jw.set(e,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const E=function gG(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=vs(e,"transitionend").pipe(di(y),D(({target:k})=>k===e));(function Wk(...n){return 1===(n=qk(n)).length?(0,Hi.Xf)(n[0]):new Rn.y(function JH(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Hi.Xf)(n[i]).subscribe((0,bn.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(iI(E+_G).pipe(di(y)),I,g).pipe(di(y)).subscribe(()=>{Jw.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let TI=(()=>{class n{constructor(){this.animation=EF.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),MF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),xF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Er=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Er||(Er={})),Er))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const PF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function FF(n){const e=Array.from(n.querySelectorAll(PF)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let GF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn,tF]}),n})(),iO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class sm{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let l6=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ut(1)).subscribe(()=>{Gs(this._zone,this._el.nativeElement,(t,i)=>{i&&av(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Gs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class ZF{close(e){}dismiss(e){}}class c6{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new It.x,this._dismissed=new It.x,this._hidden=new It.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(di(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(di(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function wF(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Xe(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),sI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var nE=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(nE||(nE={})),nE))();let u6=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new It.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new It.x,this.hidden=new It.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":YN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ut(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=sI(Gs(this._zone,t,()=>t.classList.remove("show"),i),Gs(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};sI(Gs(this._zone,this._elRef.nativeElement,(s,u)=>{u&&av(s),s.classList.add("show")},t),Gs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{vs(t,"keydown").pipe(di(this._closed$),D(r=>r.which===Er.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(nE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;vs(this._dialogEl.nativeElement,"mousedown").pipe(di(this._closed$),(0,Pe.b)(()=>i=!1),Tn(()=>vs(t,"mouseup").pipe(di(this._closed$),Ut(1))),D(({target:r})=>t===r)).subscribe(()=>{i=!0}),vs(t,"click").pipe(di(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(nE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=FF(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Gs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ie),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(E$,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:r$,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),d6=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:u}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h6=(()=>{class n{constructor(t,i,r,s,u,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new It.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=vs(e,"focusin").pipe(di(t),(0,Ze.U)(s=>s.target));vs(e,"keydown").pipe(di(t),D(s=>s.which===Er.Tab),vN(r)).subscribe(([s,u])=>{const[h,g]=FF(e);(u===h||u===e)&&s.shiftKey&&(g.focus(),s.preventDefault()),u===g&&!s.shiftKey&&(h.focus(),s.preventDefault())}),i&&vs(e,"click").pipe(di(t),vN(r),(0,Ze.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:tm(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new ZF,g=this._getContentRef(r.injector||t,i,h,r);let y=!1!==r.backdrop?this._attachBackdrop(s):void 0,E=this._attachWindowComponent(s,g.nodes),I=new c6(E,g,y,r.beforeDismiss);return this._registerModalRef(I),this._registerWindowCmpt(E),I.hidden.pipe(Ut(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=O=>{I.close(O)},h.dismiss=O=>{I.dismiss(O)},this._applyWindowOptions(E.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),y&&y.instance&&(this._applyBackdropOptions(y.instance,r),y.changeDetectorRef.detectChanges()),E.changeDetectorRef.detectChanges(),I}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,l.LMc)(l6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,l.LMc)(u6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{tm(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{tm(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,r):YN(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new sm([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(s),new sm([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new sm([[i]])}_createFromComponent(t,i,r,s){const u=l.zs3.create({providers:[{provide:ZF,useValue:r}],parent:t}),h=(0,l.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:u}),g=h.location.nativeElement;return s.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new sm([[g]],h.hostView,h)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(ie),l.LFG(d6),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f6=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p6=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(h6),l.LFG(f6))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[p6]}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),aL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),uL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),dL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function S6(){return 100}});let gL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn]}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const A6=[AF,MF,xF,RF,GF,WF,KF,XF,mL,aL,cL,uL,dL,hL,fL,pL,gL];let M6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[A6,AF,MF,xF,RF,GF,WF,KF,XF,mL,aL,cL,uL,dL,hL,fL,pL,gL]}),n})();function N6(n,e){1&n&&(l.TgZ(0,"a",15)(1,"button",10),l._uU(2,"USUARIOS"),l.qZA()())}function O6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToRegister())}),l.TgZ(1,"span"),l._uU(2,"Registro"),l.qZA()()}}function x6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",17),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToLogin())}),l.TgZ(1,"span"),l._uU(2,"Login"),l.qZA()()}}function R6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.logout())}),l.TgZ(1,"span"),l._uU(2,"Logout"),l.qZA()()}}let aO,OI=(()=>{class n{constructor(t,i){this.router=t,this.authService=i,this.user=null}ngOnInit(){this.authService.user$.subscribe(t=>{t&&(this.user=t,this.authService.isLogged=!0,"administrador"==this.user.perfil&&(this.authService.isAdmin=!0))})}goToRegister(){this.router.navigate(["/registro"])}goToLogin(){this.router.navigate(["/login"])}logout(){this.authService.userLogout(),this.user=null,this.authService.isLogged=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yi),l.Y36(Zg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:17,vars:4,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["src","../../../favicon.ico","alt","icono principal",1,"imagenNav"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-light"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],[1,"btn-nav"],["class","nav-link active","aria-current","page","routerLink","/usuarios-admin",4,"ngIf"],["class","btn-nav btn-registro",3,"click",4,"ngIf"],["class","btn-nav btn-login",3,"click",4,"ngIf"],["class","btn-nav btn-logout",3,"click",4,"ngIf"],["aria-current","page","routerLink","/usuarios-admin",1,"nav-link","active"],[1,"btn-nav","btn-registro",3,"click"],[1,"btn-nav","btn-login",3,"click"],[1,"btn-nav","btn-logout",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9)(10,"button",10),l._uU(11,"Home"),l.qZA()()(),l.TgZ(12,"li",8),l.YNc(13,N6,3,0,"a",11),l.qZA()(),l.YNc(14,O6,3,0,"button",12),l.YNc(15,x6,3,0,"button",13),l.YNc(16,R6,3,0,"button",14),l.qZA()()()),2&t&&(l.xp6(13),l.Q6J("ngIf",i.authService.isAdmin),l.xp6(1),l.Q6J("ngIf",!i.authService.isLogged),l.xp6(1),l.Q6J("ngIf",!i.authService.isLogged),l.xp6(1),l.Q6J("ngIf",i.authService.isLogged))},dependencies:[dn,Np,iO],styles:[".navbar[_ngcontent-%COMP%]{width:100%;font-family:Poppins,sans-serif;background:rgb(0,0,0);background:linear-gradient(164deg,rgb(0,0,0) 0%,rgb(255,2,2) 39%);background-repeat:no-repeat;background-attachment:fixed;background-position:center;box-shadow:2px 2px 4px #444;text-align:center;z-index:1000}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 0.5)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.imagenNav[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:2rem;border:2px dotted #fff;border-radius:50%;box-shadow:2px 2px 4px #000}.userInfo[_ngcontent-%COMP%]{color:#fff;font-size:1rem;padding:5px;margin-right:10px;background:rgba(129,221,93,.623);border-radius:10px;text-shadow:1px 1px 2px #000}.btn-nav[_ngcontent-%COMP%]{font-size:17px;background:transparent;border:none;padding:1em 1.5em;color:#ffedd3;text-transform:uppercase;position:relative;transition:.5s ease}.btn-nav[_ngcontent-%COMP%]:before{content:\"\";position:absolute;left:0;bottom:0;height:2px;width:0;background-color:#fff;transition:.5s ease}.btn-nav[_ngcontent-%COMP%]:hover{color:#990b01;transition-delay:.5s}.btn-nav[_ngcontent-%COMP%]:hover:before{width:100%}.btn-nav[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#f8caca;transition:.4s ease;z-index:-1}.btn-nav[_ngcontent-%COMP%]:hover:after{height:100%;transition-delay:.4s;color:#000}.btn-login[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:#014d0b}.btn-login[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#9af097;transition:.4s ease;z-index:-1}.btn-registro[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:#007272}.btn-registro[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#a8fcfc;transition:.4s ease;z-index:-1}.btn-logout[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:red}.btn-logout[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#fdff84;transition:.4s ease;z-index:-1}"]}),n})(),k6=(()=>{class n{constructor(t,i){this.router=t,this.authService=i,this.user=null}ngOnInit(){this.authService.user$.subscribe(t=>{t&&(this.user=t)})}goToRegister(){this.router.navigate(["/registro"])}goToLogin(){this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yi),l.Y36(Zg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bienvenida"]],decls:19,vars:0,consts:[[1,"bienvenida"],[1,"tracking-in-expand"],[1,"tracking-in-expand",2,"margin-bottom","1rem"],[2,"margin-bottom","1rem"],[1,"custom-btn","btn-ingresar",3,"click"],[1,"custom-btn","btn-registrarse",3,"click"],[1,"home-container"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div")(2,"div",0)(3,"h1",1),l._uU(4,"Cl\xednica Online"),l.qZA(),l.TgZ(5,"h2",1),l._uU(6,"Trabajo Pr\xe1ctico N\xb0 2"),l.qZA(),l.TgZ(7,"h2",2),l._uU(8," Laboratorio IV "),l.qZA(),l.TgZ(9,"p",3),l._uU(10," Bienvenido, por favor inicia sesi\xf3n para continuar. "),l.qZA(),l.TgZ(11,"div")(12,"button",4),l.NdJ("click",function(){return i.goToLogin()}),l.TgZ(13,"span"),l._uU(14,"Ingresar"),l.qZA()(),l.TgZ(15,"button",5),l.NdJ("click",function(){return i.goToRegister()}),l.TgZ(16,"span"),l._uU(17,"Registrarse"),l.qZA()()()(),l._UZ(18,"div",6),l.qZA())},dependencies:[OI],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.home-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.bienvenida[_ngcontent-%COMP%]{position:absolute;top:8rem;left:3rem;z-index:100;padding:3rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.452)}.bienvenida[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;color:#df0000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0);margin-bottom:3rem}.bienvenida[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#302f2f;text-shadow:1px 1px 2px rgb(0,0,0)}.bienvenida[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#615f5f;text-shadow:1px 1px rgb(0,0,0);margin-top:2rem;padding-bottom:1rem}.tracking-in-expand[_ngcontent-%COMP%]{animation:tracking-in-expand 1s cubic-bezier(.215,.61,.355,1) both}@keyframes tracking-in-expand{0%{letter-spacing:-.5em;opacity:0}40%{opacity:.6}to{opacity:1}}.custom-btn[_ngcontent-%COMP%]{width:220px;height:40px;color:#fff;border-radius:5px;padding:10px 25px;font-family:Lato,sans-serif;font-weight:500;background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;box-shadow:inset 2px 2px 2px #ffffff80,7px 7px 20px #0000001a,4px 4px 5px #0000001a;outline:none}.btn-ingresar[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgb(30,255,0) 0%,rgb(0,105,9) 100%);line-height:42px;padding:0;border:none;margin-right:3rem;font-weight:bolder;text-transform:uppercase}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%}.btn-ingresar[_ngcontent-%COMP%]:before, .btn-ingresar[_ngcontent-%COMP%]:after{position:absolute;content:"";right:0;bottom:0;background:rgb(23,251,2);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-ingresar[_ngcontent-%COMP%]:before{height:0%;width:2px}.btn-ingresar[_ngcontent-%COMP%]:after{width:0%;height:2px}.btn-ingresar[_ngcontent-%COMP%]:hover{color:#07c700;background:transparent;font-weight:bolder}.btn-ingresar[_ngcontent-%COMP%]:hover:before{height:100%}.btn-ingresar[_ngcontent-%COMP%]:hover:after{width:100%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;background:rgb(6,194,0);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:2px;height:0%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:2px;width:0%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:before{height:100%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{width:100%}.btn-registrarse[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgb(0,195,230) 0%,rgb(0,110,124) 100%);line-height:42px;padding:0;border:none;font-weight:bolder;text-transform:uppercase}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%}.btn-registrarse[_ngcontent-%COMP%]:before, .btn-registrarse[_ngcontent-%COMP%]:after{position:absolute;content:"";right:0;bottom:0;background:rgb(0,191,216);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-registrarse[_ngcontent-%COMP%]:before{height:0%;width:2px}.btn-registrarse[_ngcontent-%COMP%]:after{width:0%;height:2px}.btn-registrarse[_ngcontent-%COMP%]:hover{color:#0097bd;background:transparent}.btn-registrarse[_ngcontent-%COMP%]:hover:before{height:100%}.btn-registrarse[_ngcontent-%COMP%]:hover:after{width:100%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;background:rgb(0,162,173);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:2px;height:0%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:2px;width:0%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:before{height:100%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{width:100%}']}),n})();class om{constructor(){this.id=0,this.perfil="",this.nombre="",this.apellido="",this.edad=0,this.dni=0,this.obraSocial="",this.especialidad="",this.email="",this.password="",this.imagen1="",this.imagen2="",this.aprobado=!1}}try{aO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aO=!1}let iE,am,lO,bu=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ic(n){return n===Ss}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rE(n){return function P6(){if(null==iE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iE=!0}))}finally{iE=iE||!1}return iE}()?n:!!n.capture}function F6(){if(null==am){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return am=!1,am;if("scrollBehavior"in document.documentElement.style)am=!0;else{const n=Element.prototype.scrollTo;am=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return am}function lm(n){return n.composedPath?n.composedPath()[0]:n.target}function cO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function hO(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function fO(n,e=F_.z){return(0,Gn.e)((t,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function g(){const y=u+n,E=e.now();if(E<y)return r=this.schedule(void 0,y-E),void i.add(r);h()}t.subscribe((0,bn.x)(i,y=>{s=y,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function cm(n){return null!=n&&"false"!=`${n}`}function PI(n){return Array.isArray(n)?n:[n]}function rr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function dv(n){return n instanceof l.SBq?n.nativeElement:n}const bL=new Set;let hv,tz=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function nz(n){if(!bL.has(n))try{hv||(hv=document.createElement("style"),hv.setAttribute("type","text/css"),document.head.appendChild(hv)),hv.sheet&&(hv.sheet.insertRule(`@media ${n} {body{ }}`,0),bL.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let rz=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new It.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return wL(PI(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=ks(wL(PI(t)).map(u=>this._registerQuery(u).observable));return s=Gr(s.pipe(Ut(1)),s.pipe(wN(1),fO(0))),s.pipe((0,Ze.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:y})=>{h.matches=h.matches||g,h.breakpoints[y]=g}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Rn.y(u=>{const h=g=>this._zone.run(()=>u.next(g));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Wr(i),(0,Ze.U)(({matches:u})=>({query:t,matches:u})),di(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tz),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class lz extends class az{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It.x,this._typeaheadSubscription=ri.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new It.x,this.change=new It.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Pe.b)(t=>this._pressedLetters.push(t)),fO(e),D(()=>this._pressedLetters.length>0),(0,Ze.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||hO(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function pO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function gO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const pz=new l.OlP("cdk-input-modality-detector-options"),gz={ignoreKeys:[18,17,224,91,16]},fv=rE({passive:!0,capture:!0});let mz=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new an(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=lm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(pO(u)?"keyboard":"mouse"),this._mostRecentTarget=lm(u))},this._onTouchstart=u=>{gO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lm(u))},this._options={...gz,...s},this.modalityDetected=this._modality.pipe(wN(1)),this.modalityChanged=this.modalityDetected.pipe(qh()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fv),r.addEventListener("mousedown",this._onMousedown,fv),r.addEventListener("touchstart",this._onTouchstart,fv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fv),document.removeEventListener("mousedown",this._onMousedown,fv),document.removeEventListener("touchstart",this._onTouchstart,fv))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bu),l.LFG(l.R0b),l.LFG(ie),l.LFG(pz,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yz=new l.OlP("cdk-focus-monitor-default-options"),FI=rE({passive:!0,capture:!0});let LI=(()=>{class n{constructor(t,i,r,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It.x,this._rootNodeFocusAndBlurListener=h=>{for(let y=lm(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=dv(t);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const s=function B6(n){if(function L6(){if(null==lO){const n=typeof document<"u"?document.head:null;lO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new It.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=dv(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=dv(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,g])=>this._originChanged(h,i,g)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=lm(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,FI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,FI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(di(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,FI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,FI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(bu),l.LFG(mz),l.LFG(ie,8),l.LFG(yz,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IL="cdk-high-contrast-black-on-white",SL="cdk-high-contrast-white-on-black",mO="cdk-high-contrast-active";let vz=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(rz).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mO,IL,SL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(mO,IL):2===i&&t.add(mO,SL)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bu),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bz=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function wz(){return(0,l.f3M)(ie)}}),Ez=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _O=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Tz(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Ez.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bz,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Dz=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function Cz(){return!0}});let wu=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!cO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vz),l.LFG(Dz,8),l.LFG(ie))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sE,sE]}),n})();function yO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=cm(e)}}}function NL(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function OL(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cm(e)}}}class Az{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xL={enterDuration:225,exitDuration:150},vO=rE({passive:!0}),RL=["mousedown","touchstart"],kL=["mouseup","mouseleave","touchend","touchcancel"];class Nz{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=dv(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...xL,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function Oz(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,g=t-r.top,y=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=g-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(E);const I=window.getComputedStyle(E),k=I.transitionDuration,B="none"===I.transitionProperty||"0s"===k||"0s, 0s"===k,H=new Az(this,E,i,B);E.style.transform="scale3d(1, 1, 1)",H.state=0,i.persistent||(this._mostRecentTransientRipple=H);let Y=null;return!B&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const we=()=>this._finishRippleTransition(H),Se=()=>this._destroyRipple(H);E.addEventListener("transitionend",we),E.addEventListener("transitioncancel",Se),Y={onTransitionEnd:we,onTransitionCancel:Se}}),this._activeRipples.set(H,Y),(B||!y)&&this._finishRippleTransition(H),H}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...xL,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=dv(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(RL))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(kL),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=pO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,vO)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(RL.forEach(e=>{this._triggerElement.removeEventListener(e,this,vO)}),this._pointerUpEventsRegistered&&kL.forEach(e=>{this._triggerElement.removeEventListener(e,this,vO)}))}}const xz=new l.OlP("mat-ripple-global-options");let bO=(()=>{class n{constructor(t,i,r,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Nz(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(bu),l.Y36(xz,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),PL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wu,wu]}),n})();const Rz=["mat-button",""],kz=["*"],Fz=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Lz=NL(yO(OL(class{constructor(n){this._elementRef=n}})));let Bz=(()=>{class n extends Lz{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Fz)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(LI),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(bO,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Rz,ngContentSelectors:kz,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[bO],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Vz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PL,wu,wu]}),n})();var FL=F(4408);let wO,Uz=1;const BI={};function LL(n){return n in BI&&(delete BI[n],!0)}const Hz={setImmediate(n){const e=Uz++;return BI[e]=!0,wO||(wO=Promise.resolve()),wO.then(()=>LL(e)&&n()),e},clearImmediate(n){LL(n)}},{setImmediate:jz,clearImmediate:$z}=Hz,VI={setImmediate(...n){const{delegate:e}=VI;return(e?.setImmediate||jz)(...n)},clearImmediate(n){const{delegate:e}=VI;return(e?.clearImmediate||$z)(n)},delegate:void 0};var BL=F(7565);const EO=new class zz extends BL.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Gz extends FL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=VI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(VI.clearImmediate(t),e._scheduled=void 0)}});class TO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class qz extends TO{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class VL extends TO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Wz extends TO{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class Kz extends class Zz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof qz?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof VL?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Wz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Yz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const aE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=aE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new ri.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=aE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=aE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Jz extends BL.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Qz extends FL.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=aE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(aE.cancelAnimationFrame(t),e._scheduled=void 0)}});function UL(n,e=F_.z){return function e8(n){return(0,Gn.e)((e,t)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}u&&t.complete()},g=()=>{s=null,u&&t.complete()};e.subscribe((0,bn.x)(t,y=>{i=!0,r=y,s||(0,Hi.Xf)(n(y)).subscribe(s=(0,bn.x)(t,h,g))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>iI(n,e))}let n8=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new It.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Rn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(UL(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(D(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=dv(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(bu),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HL=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new It.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(UL(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bu),l.LFG(l.R0b),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sE,CO,sE,CO]}),n})();const $L=F6();class r8{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rr(-this._previousScrollPosition.left),e.style.top=rr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),$L&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$L&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class s8{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class GL{enable(){}disable(){}attach(){}}function DO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function zL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class o8{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();DO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let a8=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new GL,this.close=u=>new s8(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new r8(this._viewportRuler,this._document),this.reposition=u=>new o8(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n8),l.LFG(HL),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qL{constructor(e){if(this.scrollStrategy=new GL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class l8{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let WL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c8=(()=>{class n extends WL{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u8=(()=>{class n extends WL{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=lm(s)},this._clickListener=s=>{const u=lm(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const E=g[y];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const I=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(bu),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZL=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||cO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),cO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(bu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class d8{constructor(e,t,i,r,s,u,h,g,y,E=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new It.x,this._attachments=new It.x,this._detachments=new It.x,this._locationChanges=ri.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new It.x,this._outsidePointerEvents=new It.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ut(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rr(this._config.width),e.height=rr(this._config.height),e.minWidth=rr(this._config.minWidth),e.minHeight=rr(this._config.minHeight),e.maxWidth=rr(this._config.maxWidth),e.maxHeight=rr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=PI(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(di((0,Rp.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const KL="cdk-overlay-connected-position-bounding-box",h8=/([A-Za-z%]+)$/;class f8{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new It.x,this._resizeSubscription=ri.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(KL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(e,r,h),y=this._getOverlayPoint(g,t,h),E=this._getOverlayFit(y,t,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(E,y,i)?s.push({position:h,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:y,originPoint:g,position:h,overlayRect:t})}if(s.length){let h=null,g=-1;for(const y of s){const E=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);E>g&&(g=E,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&um(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?u:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=QL(t);let{x:u,y:h}=e,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(u+=g),y&&(h+=y);let O=0-h,k=h+s.height-i.height,B=this._subtractOverflows(s.width,0-u,u+s.width-i.width),H=this._subtractOverflows(s.height,O,k),Y=B*H;return{visibleArea:Y,isCompletelyWithinViewport:s.width*s.height===Y,fitsInViewportVertically:H===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,u=YL(this._overlayRef.getConfig().minHeight),h=YL(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=QL(t),s=this._viewportRect,u=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),g=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let E=0,I=0;return E=r.width<=s.width?y||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,I=r.height<=s.height?g||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:E,y:I},{x:e.x+E,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new l8(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,u,h,E,I,O;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const k=Math.min(i.bottom-e.y+i.top,e.y),B=this._lastBoundingBoxSize.height;s=2*k,u=e.y-k,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-B/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=i.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)I=e.x,E=i.right-e.x;else{const k=Math.min(i.right-e.x+i.left,e.x),B=this._lastBoundingBoxSize.width;E=2*k,I=e.x-k,E>B&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-B/2)}return{top:u,left:I,bottom:h,right:O,width:E,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=rr(i.height),r.top=rr(i.top),r.bottom=rr(i.bottom),r.width=rr(i.width),r.left=rr(i.left),r.right=rr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=rr(s)),u&&(r.maxWidth=rr(u))}this._lastBoundingBoxSize=i,um(this._boundingBox.style,r)}_resetBoundingBoxStyles(){um(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){um(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();um(i,this._getExactOverlayY(t,e,E)),um(i,this._getExactOverlayX(t,e,E))}else i.position="static";let h="",g=this._getOffset(t,"x"),y=this._getOffset(t,"y");g&&(h+=`translateX(${g}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=rr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=rr(u.maxWidth):s&&(i.maxWidth="")),um(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=rr(s.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=rr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zL(e,i),isOriginOutsideView:DO(e,i),isOverlayClipped:zL(t,i),isOverlayOutsideView:DO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&PI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function um(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function YL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(h8);return t&&"px"!==t?null:parseFloat(e)}return n||null}function QL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const JL="cdk-global-overlay-wrapper";class p8{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(JL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,I=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let k="",B="",H="";g?H="flex-start":"center"===E?(H="center",O?B=I:k=I):O?"left"===E||"end"===E?(H="flex-end",k=I):("right"===E||"start"===E)&&(H="flex-start",B=I):"left"===E||"start"===E?(H="flex-start",k=I):("right"===E||"end"===E)&&(H="flex-end",B=I),e.position=this._cssPosition,e.marginLeft=g?"0":k,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":B,t.justifyContent=H,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(JL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let g8=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new p8}flexibleConnectedTo(t){return new f8(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HL),l.LFG(ie),l.LFG(bu),l.LFG(ZL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m8=0,UI=(()=>{class n{constructor(t,i,r,s,u,h,g,y,E,I,O,k){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=y,this._directionality=E,this._location=I,this._outsideClickDispatcher=O,this._animationsModuleType=k}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new qL(t);return u.direction=u.direction||this._directionality.value,new d8(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+m8++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new Kz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(a8),l.LFG(ZL),l.LFG(l._Vd),l.LFG(g8),l.LFG(c8),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ie),l.LFG(_O),l.LFG(Oe),l.LFG(u8),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const v8={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[UI],useFactory:function y8(n){return()=>n.scrollStrategies.reposition()}};let b8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[UI,v8],imports:[sE,Yz,jL,jL]}),n})();const w8=["mat-menu-item",""];function E8(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const XL=["*"];function T8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const HI={transformMenu:mN("transformMenu",[Ow("void",mu({opacity:0,transform:"scale(0.8)"})),xw("void => enter",Nw("120ms cubic-bezier(0, 0, 0.2, 1)",mu({opacity:1,transform:"scale(1)"}))),xw("* => void",Nw("100ms 25ms linear",mu({opacity:0})))]),fadeInItems:mN("fadeInItems",[Ow("showing",mu({opacity:1})),xw("void => *",[mu({opacity:0}),Nw("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},C8=new l.OlP("MatMenuContent"),IO=new l.OlP("MAT_MENU_PANEL"),D8=OL(yO(class{}));let jI=(()=>{class n extends D8{constructor(t,i,r,s,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new It.x,this._focused=new It.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ie),l.Y36(LI),l.Y36(IO,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:w8,ngContentSelectors:XL,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,E8,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[dn,bO],encapsulation:2,changeDetection:0}),n})();const e2=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function I8(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let S8=0,lE=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=ri.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new It.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+S8++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=cm(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=cm(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new lz(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Wr(this._directDescendantItems),Tn(t=>(0,Rp.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Wr(this._directDescendantItems),Tn(i=>(0,Rp.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:hO(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Ut(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Wr(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(e2),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,C8,5),l.Suo(r,jI,5),l.Suo(r,jI,4)),2&t){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),A8=(()=>{class n extends lE{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(e2),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:IO,useExisting:n}]),l.qOj],ngContentSelectors:XL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,T8,3,6,"ng-template"))},dependencies:[gn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[HI.transformMenu,HI.fadeInItems]},changeDetection:0}),n})();const t2=new l.OlP("mat-menu-scroll-strategy"),N8={provide:t2,deps:[UI],useFactory:function M8(n){return()=>n.scrollStrategies.reposition()}},n2=rE({passive:!0});let O8=(()=>{class n{constructor(t,i,r,s,u,h,g,y,E){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=g,this._focusMonitor=y,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ri.w0.EMPTY,this._hoverSubscription=ri.w0.EMPTY,this._menuCloseSubscription=ri.w0.EMPTY,this._handleTouchStart=I=>{gO(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=u instanceof lE?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,n2),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,n2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof lE&&(t._startAnimation(),t._directDescendantItems.changes.pipe(di(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof lE?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(D(r=>"void"===r.toState),Ut(1),di(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new qL({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,u)):t.setPositionClasses(s,u)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[u,h]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[g,y]=[u,h],[E,I]=[r,s],O=0;if(this.triggersSubmenu()){if(I=r="before"===t.xPosition?"start":"end",s=E="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const k=this._parentMaterialMenu.items.first;this._parentInnerPadding=k?k._getHostElement().offsetTop:0}O="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(g="top"===u?"bottom":"top",y="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:g,overlayX:E,overlayY:u,offsetY:O},{originX:s,originY:g,overlayX:I,overlayY:u,offsetY:O},{originX:r,originY:y,overlayX:E,overlayY:h,offsetY:-O},{originX:s,originY:y,overlayX:I,overlayY:h,offsetY:-O}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Xe(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(D(u=>u!==this._menuItemInstance),D(()=>this._menuOpen)):Xe();return(0,Rp.T)(t,r,s,i)}_handleMousedown(t){pO(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(D(t=>t===this._menuItemInstance&&!t.disabled),bN(0,EO)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof lE&&this.menu._isAnimating?this.menu._animationDone.pipe(Ut(1),bN(0,EO),di(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new VL(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(UI),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(t2),l.Y36(IO,8),l.Y36(jI,10),l.Y36(_O,8),l.Y36(LI),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),x8=(()=>{class n extends O8{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),R8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[N8],imports:[Yn,wu,PL,b8,CO,wu]}),n})();function k8(n,e){1&n&&(l.TgZ(0,"div",30)(1,"div",31),l._UZ(2,"div",32)(3,"div",32)(4,"div",32)(5,"div",33)(6,"div",33)(7,"div",33),l.qZA()())}function P8(n,e){1&n&&(l.TgZ(0,"small",34),l._uU(1," El Email es requerido "),l.qZA())}function F8(n,e){1&n&&(l.TgZ(0,"small",34),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let L8=(()=>{class n{constructor(t,i,r,s){this.formBuilder=t,this.notificationService=i,this.authService=r,this.router=s,this.userLogin=new om,this.spinner=!1,this.loadedField=!1,this.formLogin=this.formBuilder.group({email:["",[Li.required]],password:["",[Li.required]]})}ngOnInit(){}loginUser(){this.formLogin.valid?(this.spinner=!0,this.userLogin.email=this.formLogin.getRawValue().email,this.userLogin.password=this.formLogin.getRawValue().password,this.authService.userLogin(this.userLogin.email,this.userLogin.password).then(t=>{this.authService.user$.subscribe(i=>{i&&(i.test||t?.user?.emailVerified?"especialista"==i.perfil&&0==i.aprobado?(this.notificationService.showWarning("Tu Cuenta no esta aprobada por un Administrador","Inicio de Sesi\xf3n"),this.spinner=!1,this.authService.userLogout()):(this.authService.isLogged=!0,this.notificationService.showSuccess("Inicio exitoso, redirigiendo...","Inicio de Sesi\xf3n"),setTimeout(()=>{this.spinner=!1,this.router.navigate([""])},2e3)):(t?.user?.sendEmailVerification(),this.notificationService.showWarning("Debes verificar tu email!","Inicio de Sesi\xf3n"),this.spinner=!1,this.authService.userLogout()))})}).catch(t=>{this.spinner=!1})):this.notificationService.showWarning("Debes completar todos los campos requeridos","Inicio de Sesi\xf3n")}loadUser(t){switch(this.loadedField=!0,t){case 1:this.formLogin.setValue({email:"pacienteTest1@mail.com",password:"pacienteTest1"});break;case 2:this.formLogin.setValue({email:"pacienteTest2@mail.com",password:"pacienteTest2"});break;case 3:this.formLogin.setValue({email:"pacienteTest3@mail.com",password:"pacienteTest3"});break;case 4:this.formLogin.setValue({email:"especialistaTest1@mail.com",password:"especialistaTest1"});break;case 5:this.formLogin.setValue({email:"especialistaTest2@mail.com",password:"especialistaTest2"});break;case 6:this.formLogin.setValue({email:"adminTest1@mail.com",password:"adminTest1"})}this.notificationService.showInfo("Usurario cargado, puedes iniciar sesi\xf3n!","Inicio de Sesi\xf3n"),setTimeout(()=>{this.loadedField=!1},1e3)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_I),l.Y36(ev),l.Y36(Zg),l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:71,vars:12,consts:[["class","contenedor-spinner",4,"ngIf"],[1,"login-container"],[1,"example-button-row"],["type","button","color","light","mat-fab","",3,"matMenuTriggerFor"],["src","../../../assets/paciente1.png","alt","",1,"img-btn"],["yPosition","below"],["paciente1","matMenu"],[2,"text-align","center","font-weight","bolder"],["type","button","color","primary","mat-menu-item","",3,"click"],["src","../../../assets/paciente2.png","alt","",1,"img-btn"],["paciente2","matMenu"],["type","button","mat-menu-item","",3,"click"],["src","../../../assets/paciente3.png","alt","",1,"img-btn"],["paciente3","matMenu"],["src","../../../assets/medico2.png","alt","",1,"img-btn"],["especialista2","matMenu"],["src","../../../assets/medico1.png","alt","",1,"img-btn"],["especialista1","matMenu"],["src","../../../assets/admin.png","alt","",1,"img-btn"],["admin","matMenu"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"col-sm","mb-3",3,"ngClass"],["for","email",1,"form-label"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["class","mensaje-error",4,"ngIf"],["for","password",1,"form-label"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],[1,"btn"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(t,i){if(1&t&&(l._UZ(0,"app-navbar"),l.YNc(1,k8,8,0,"div",0),l.TgZ(2,"div",1)(3,"div",2)(4,"button",3),l._UZ(5,"img",4),l.qZA(),l.TgZ(6,"mat-menu",5,6)(8,"p",7),l._uU(9,"Paciente 1"),l.qZA(),l.TgZ(10,"button",8),l.NdJ("click",function(){return i.loadUser(1)}),l._uU(11," Cargar campos "),l.qZA()(),l.TgZ(12,"button",3),l._UZ(13,"img",9),l.qZA(),l.TgZ(14,"mat-menu",5,10)(16,"p",7),l._uU(17,"Paciente 2"),l.qZA(),l.TgZ(18,"button",11),l.NdJ("click",function(){return i.loadUser(2)}),l._uU(19," Cargar campos "),l.qZA()(),l.TgZ(20,"button",3),l._UZ(21,"img",12),l.qZA(),l.TgZ(22,"mat-menu",5,13)(24,"p",7),l._uU(25,"Paciente 3"),l.qZA(),l.TgZ(26,"button",11),l.NdJ("click",function(){return i.loadUser(3)}),l._uU(27," Cargar campos "),l.qZA()(),l.TgZ(28,"button",3),l._UZ(29,"img",14),l.qZA(),l.TgZ(30,"mat-menu",5,15)(32,"p",7),l._uU(33,"Especialista 1"),l.qZA(),l.TgZ(34,"button",11),l.NdJ("click",function(){return i.loadUser(4)}),l._uU(35," Cargar campos "),l.qZA()(),l.TgZ(36,"button",3),l._UZ(37,"img",16),l.qZA(),l.TgZ(38,"mat-menu",5,17)(40,"p",7),l._uU(41,"Especialista 2"),l.qZA(),l.TgZ(42,"button",11),l.NdJ("click",function(){return i.loadUser(5)}),l._uU(43," Cargar campos "),l.qZA()(),l.TgZ(44,"button",3),l._UZ(45,"img",18),l.qZA(),l.TgZ(46,"mat-menu",5,19)(48,"p",7),l._uU(49,"Administrador"),l.qZA(),l.TgZ(50,"button",11),l.NdJ("click",function(){return i.loadUser(6)}),l._uU(51," Cargar campos "),l.qZA()()()(),l.TgZ(52,"form",20),l.NdJ("ngSubmit",function(){return i.loginUser()}),l.TgZ(53,"h2"),l._uU(54,"INICIO DE SESI\xd3N"),l.qZA(),l.TgZ(55,"div",21)(56,"div",22)(57,"div",21)(58,"div",23)(59,"label",24),l._uU(60,"Email"),l.qZA(),l._UZ(61,"input",25),l.YNc(62,P8,2,0,"small",26),l.qZA()(),l.TgZ(63,"div",21)(64,"div",23)(65,"label",27),l._uU(66,"Contrase\xf1a"),l.qZA(),l._UZ(67,"input",28),l.YNc(68,F8,2,0,"small",26),l.qZA()(),l.TgZ(69,"button",29),l._uU(70,"Iniciar Sesi\xf3n"),l.qZA()()()()),2&t){const r=l.MAs(7),s=l.MAs(15),u=l.MAs(23),h=l.MAs(31),g=l.MAs(39),y=l.MAs(47);l.xp6(1),l.Q6J("ngIf",i.spinner),l.xp6(3),l.Q6J("matMenuTriggerFor",r),l.xp6(8),l.Q6J("matMenuTriggerFor",s),l.xp6(8),l.Q6J("matMenuTriggerFor",u),l.xp6(8),l.Q6J("matMenuTriggerFor",h),l.xp6(8),l.Q6J("matMenuTriggerFor",g),l.xp6(8),l.Q6J("matMenuTriggerFor",y),l.xp6(8),l.Q6J("formGroup",i.formLogin),l.xp6(6),l.Q6J("ngClass",i.loadedField?"shake-horizontal":""),l.xp6(4),l.Q6J("ngIf",(null==i.formLogin.controls.email.errors?null:i.formLogin.controls.email.errors.required)&&i.formLogin.controls.email.touched),l.xp6(2),l.Q6J("ngClass",i.loadedField?"shake-horizontal":""),l.xp6(4),l.Q6J("ngIf",(null==i.formLogin.controls.password.errors?null:i.formLogin.controls.password.errors.required)&&i.formLogin.controls.password.touched)}},dependencies:[gn,dn,jw,Yg,kw,Pw,Qg,nv,Bz,A8,jI,x8,OI],styles:[".login-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-registro.07e9e02b5bb9992f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh}form[_ngcontent-%COMP%]{position:absolute;z-index:100;left:22%;top:28%}.contenedor-form[_ngcontent-%COMP%]{width:60%;display:block;margin-left:auto;margin-right:auto;padding:2rem;border:2px solid #000;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 8px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00000091;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#00000091;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.img[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;border:2px solid #fff;border-radius:5px;box-shadow:2px 2px 2px #000}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background:rgba(255,0,0,.527);cursor:pointer;transition:background .5s}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:active{transform:scale(1.07);transition:transform .2s}.example-button-row[_ngcontent-%COMP%]{margin-top:1rem;position:absolute;z-index:101;left:1%;top:14%}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;box-shadow:2px 2px 2px #000}.img-btn[_ngcontent-%COMP%]{position:absolute;left:0%;top:0%;border-radius:50%;width:3.5rem}.img-btn[_ngcontent-%COMP%]:hover{border-radius:50%;background:rgba(243,50,50,.767);transition:background .5s}.btn[_ngcontent-%COMP%]{background-color:#e0000083;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #f83816;background-color:#ff0000e1}.btn[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}.shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}"]}),n})();const r2="firebasestorage.googleapis.com",s2="storageBucket";class Bi extends Wt.ZR{constructor(e,t,i=0){super(SO(e),`Firebase Storage: ${t} (${SO(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function SO(n){return"storage/"+n}function AO(){return new Bi("unknown","An unknown error occurred, please check the error payload for server response.")}function o2(){return new Bi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function a2(){return new Bi("canceled","User canceled the upload/download.")}function l2(){return new Bi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pv(n){return new Bi("invalid-argument",n)}function c2(){return new Bi("app-deleted","The Firebase app was deleted.")}function u2(n){return new Bi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cE(n,e){return new Bi("invalid-format","String does not match format '"+n+"': "+e)}function uE(n){throw new Bi("internal-error","Internal error: "+n)}class ws{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ws.makeFromUrl(e,t)}catch{return new ws(e,"")}if(""===i.path)return i;throw function W8(n){return new Bi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Ae){Ae.path_=decodeURIComponent(Ae.path)}const I=t.replace(/[.]/g,"\\."),Fe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ae){"/"===Ae.path.charAt(Ae.path.length-1)&&(Ae.path_=Ae.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===r2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Ae=0;Ae<Fe.length;Ae++){const He=Fe[Ae],ze=He.regex.exec(e);if(ze){let Bt=ze[He.indices.path];Bt||(Bt=""),i=new ws(ze[He.indices.bucket],Bt),He.postModify(i);break}}if(null==i)throw function q8(n){return new Bi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class Q8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $I(n){return"string"==typeof n||n instanceof String}function d2(n){return MO()&&n instanceof Blob}function MO(){return typeof Blob<"u"}function NO(n,e,t,i){if(i<e)throw pv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw pv(`Invalid value for '${n}'. Expected ${t} or less.`)}function Zd(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function h2(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Zf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Zf||(Zf={})),Zf))();function f2(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class i4{constructor(e,t,i,r,s,u,h,g,y,E,I,O=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=I,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,B)=>{this.resolve_=k,this.reject_=B,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function e4(n){return void 0!==n}(g)?s():s(g)}catch(g){u(g)}else if(null!==h){const g=AO();g.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,g):g)}else u(r.canceled?this.appDelete_?c2():a2():o2())};this.canceled_?t(0,new GI(!1,null,!0)):this.backoffId_=function J8(n,e,t){let i=1,r=null,s=null,u=!1,h=0;function g(){return 2===h}let y=!1;function E(...Y){y||(y=!0,e.apply(null,Y))}function I(Y){r=setTimeout(()=>{r=null,n(k,g())},Y)}function O(){s&&clearTimeout(s)}function k(Y,...we){if(y)return void O();if(Y)return O(),void E.call(null,Y,...we);if(g()||u)return O(),void E.call(null,Y,...we);let Fe;i<64&&(i*=2),1===h?(h=2,Fe=0):Fe=1e3*(i+Math.random()),I(Fe)}let B=!1;function H(Y){B||(B=!0,O(),!y&&(null!==r?(Y||(h=2),clearTimeout(r),I(0)):Y||(h=1)))}return I(0),s=setTimeout(()=>{u=!0,H(!0)},t),H}((i,r)=>{if(r)return void i(!1,new GI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===Zf.NO_ERROR,g=s.getStatus();if((!h||f2(g,this.additionalRetryCodes_))&&this.retry){const E=s.getErrorCode()===Zf.ABORT;return void i(!1,new GI(!1,null,E))}const y=-1!==this.successCodes_.indexOf(g);i(!0,new GI(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function X8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class GI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function u4(...n){const e=function c4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(MO())return new Blob(n);throw new Bi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class OO{constructor(e,t){this.data=e,this.contentType=t||null}}function xO(n,e){switch(n){case ra.RAW:return new OO(p2(e));case ra.BASE64:case ra.BASE64URL:return new OO(g2(n,e));case ra.DATA_URL:return new OO(function p4(n){const e=new m2(n);return e.base64?g2(ra.BASE64,e.rest):function f4(n){let e;try{e=decodeURIComponent(n)}catch{throw cE(ra.DATA_URL,"Malformed data URL.")}return p2(e)}(e.rest)}(e),function g4(n){return new m2(n).contentType}(e))}throw AO()}function p2(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function g2(n,e){switch(n){case ra.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw cE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ra.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw cE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function h4(n){return atob(n)}(e)}catch{throw cE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class m2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw cE(ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function m4(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Eu{constructor(e,t){let i=0,r="";d2(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(d2(this.data_)){const r=function d4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Eu(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Eu(i,!0)}}static getBlob(...e){if(MO()){const t=e.map(i=>i instanceof Eu?i.data_:i);return new Eu(u4.apply(null,t))}{const t=e.map(u=>$I(u)?xO(ra.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[s++]=u[h]}),new Eu(r,!0)}}uploadData(){return this.data_}}function RO(n){let e;try{e=JSON.parse(n)}catch{return null}return function n4(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function v4(n,e){return e}class zs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||v4}}let zI=null;function dE(){if(zI)return zI;const n=[];n.push(new zs("bucket")),n.push(new zs("generation")),n.push(new zs("metageneration")),n.push(new zs("name","fullPath",!0));const t=new zs("name");t.xform=function e(s,u){return function b4(n){return!$I(n)||n.length<2?n:_2(n)}(u)},n.push(t);const r=new zs("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new zs("timeCreated")),n.push(new zs("updated")),n.push(new zs("md5Hash",null,!0)),n.push(new zs("cacheControl",null,!0)),n.push(new zs("contentDisposition",null,!0)),n.push(new zs("contentEncoding",null,!0)),n.push(new zs("contentLanguage",null,!0)),n.push(new zs("contentType",null,!0)),n.push(new zs("metadata","customMetadata",!0)),zI=n,zI}function y2(n,e,t){const i=RO(e);return null===i?null:function E4(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const u=t[s];i[u.local]=u.xform(i,e[u.server])}return function w4(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ws(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function kO(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const v2="prefixes";class Tu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Cu(n){if(!n)throw AO()}function qI(n,e){return function t(i,r){const s=y2(n,r,e);return Cu(null!==s),s}}function gv(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function G8(){return new Bi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function $8(){return new Bi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function j8(n){return new Bi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function z8(n){return new Bi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function hE(n){const e=gv(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function H8(n){return new Bi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function w2(n,e,t){const r=Zd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Tu(r,"GET",qI(n,t),u);return h.errorHandler=hE(e),h}function A4(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Zd(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,E=new Tu(h,"GET",function I4(n,e){return function t(i,r){const s=function D4(n,e,t){const i=RO(t);return null===i?null:function C4(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[v2])for(const r of t[v2]){const s=r.replace(/\/$/,""),u=n._makeStorageReference(new ws(e,s));i.prefixes.push(u)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new ws(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Cu(null!==s),s}}(n,e.bucket),y);return E.urlParams=s,E.errorHandler=gv(e),E}function T2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function x4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class WI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function PO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Cu(!1)}return Cu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const F4={STATE_CHANGED:"state_changed"},qs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function FO(n){switch(n){case"running":case"pausing":case"canceling":return qs.RUNNING;case"paused":return qs.PAUSED;case"success":return qs.SUCCESS;case"canceled":return qs.CANCELED;default:return qs.ERROR}}class L4{constructor(e,t,i){if(function t4(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function mv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class V4 extends class B4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw uE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Yl(){return new V4}class S2{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=dE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(f2(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=o2()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function R4(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),u=T2(e,i,r),h={name:u.fullPath},g=Zd(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},I=kO(u,t),B=new Tu(g,"POST",function k(H){let Y;PO(H);try{Y=H.getResponseHeader("X-Goog-Upload-URL")}catch{Cu(!1)}return Cu($I(Y)),Y},n.maxUploadRetryTime);return B.urlParams=h,B.headers=E,B.body=I,B.errorHandler=gv(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Yl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function k4(n,e,t,i){const g=new Tu(t,"POST",function s(y){const E=PO(y,["active","final"]);let I=null;try{I=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cu(!1)}I||Cu(!1);const O=Number(I);return Cu(!isNaN(O)),new WI(O,i.size(),"final"===E)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=gv(e),g}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Yl,t,i);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new WI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let u;try{u=function P4(n,e,t,i,r,s,u,h){const g=new WI(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw function K8(){return new Bi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=g.total-g.current;let E=y;r>0&&(E=Math.min(E,r));const I=g.current;let k="";k=0===E?"finalize":y===E?"upload, finalize":"upload";const B={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${g.current}`},H=i.slice(I,I+E);if(null===H)throw l2();const Fe=new Tu(t,"POST",function Y(Ae,He){const ze=PO(Ae,["active","final"]),ht=g.current+E,Bt=i.size();let wn;return wn="final"===ze?qI(e,s)(Ae,He):null,new WI(ht,Bt,"final"===ze,wn)},e.maxUploadRetryTime);return Fe.headers=B,Fe.body=H.uploadData(),Fe.progressCallback=h||null,Fe.errorHandler=gv(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Yl,r,s,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=w2(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Yl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function C2(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let Fe="";for(let Ae=0;Ae<2;Ae++)Fe+=Math.random().toString().slice(2);return Fe}();u["Content-Type"]="multipart/related; boundary="+g;const y=T2(e,i,r),E=kO(y,t),k=Eu.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+g+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===k)throw l2();const B={name:y.fullPath},H=Zd(s,n.host,n._protocol),we=n.maxUploadRetryTime,Se=new Tu(H,"POST",qI(n,t),we);return Se.urlParams=B,Se.headers=u,Se.body=k.uploadData(),Se.errorHandler=gv(e),Se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Yl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=a2(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=FO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new L4(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(FO(this._state)){case qs.SUCCESS:mv(this._resolve.bind(null,this.snapshot))();break;case qs.CANCELED:case qs.ERROR:mv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(FO(this._state)){case qs.RUNNING:case qs.PAUSED:e.next&&mv(e.next.bind(e,this.snapshot))();break;case qs.SUCCESS:e.complete&&mv(e.complete.bind(e))();break;default:e.error&&mv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class dm{constructor(e,t){this._service=e,this._location=t instanceof ws?t:ws.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new dm(e,t)}get root(){const e=new ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _2(this._location.path)}get storage(){return this._service}get parent(){const e=function _4(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ws(this._location.bucket,e);return new dm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw u2(e)}}function M2(n,e,t){return LO.apply(this,arguments)}function LO(){return LO=(0,me.Z)(function*(n,e,t){const r=yield N2(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield M2(n,e,r.nextPageToken))}),LO.apply(this,arguments)}function N2(n,e){null!=e&&"number"==typeof e.maxResults&&NO("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=A4(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Yl)}function Q4(n){n._throwIfRoot("getDownloadURL");const e=function M4(n,e,t){const r=Zd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Tu(r,"GET",function S4(n,e){return function t(i,r){const s=y2(n,r,e);return Cu(null!==s),function T4(n,e,t,i){const r=RO(e);if(null===r||!$I(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(y=>{const I=n.fullPath;return Zd("/b/"+u(n.bucket)+"/o/"+u(I),t,i)+h2({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),u);return h.errorHandler=hE(e),h}(n.storage,n._location,dE());return n.storage.makeRequestWithTokens(e,Yl).then(t=>{if(null===t)throw function Y8(){return new Bi("no-download-url","The given file does not have any download URLs.")}();return t})}function O2(n,e){const t=function y4(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ws(n._location.bucket,t);return new dm(n.storage,i)}function x2(n,e){if(n instanceof BO){const t=n;if(null==t._bucket)throw function Z8(){return new Bi("no-default-bucket","No default bucket found. Did you set the '"+s2+"' property when initializing the app?")}();const i=new dm(t,t._bucket);return null!=e?x2(i,e):i}return void 0!==e?O2(n,e):n}function t5(n,e){if(e&&function X4(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof BO)return function e5(n,e){return new dm(n,e)}(n,e);throw pv("To use ref(service, url), the first argument must be a Storage instance.")}return x2(n,e)}function R2(n,e){const t=e?.[s2];return null==t?null:ws.makeFromBucketSpec(t,n)}class BO{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=r2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ws.makeFromBucketSpec(r,this._host):R2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ws.makeFromBucketSpec(this._url,e):R2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dm(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Q8(c2());{const u=function l4(n,e,t,i,r,s,u=!0){const h=h2(n.urlParams),g=n.url+h,y=Object.assign({},n.headers);return function o4(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function r4(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function s4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,s),function a4(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new i4(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,me.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const k2="@firebase/storage";function L2(n,e){return t5(n=(0,Wt.m9)(n),e)}function h5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new BO(t,i,r,e,qo.SDK_VERSION)}!function f5(){(0,qo._registerComponent)(new Hh.wA("storage",h5,"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(k2,"0.9.12",""),(0,qo.registerVersion)(k2,"0.9.12","esm2017")}();class ZI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class V2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ZI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new ZI(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?u=>t(new ZI(u,this,this._ref)):{next:t.next?u=>t.next(new ZI(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class U2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Kd(e,this._service))}get items(){return this._delegate.items.map(e=>new Kd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Kd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function d5(n,e){return O2(n,e)}(this._delegate,e);return new Kd(t,this.storage)}get root(){return new Kd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Kd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new V2(function r5(n,e,t){return function q4(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new S2(n,new Eu(e),t)}(n=(0,Wt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ra.RAW,i){this._throwIfRoot("putString");const r=xO(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new V2(new S2(this._delegate,new Eu(r.data,!0),s),this)}listAll(){return function l5(n){return function Z4(n){const e={prefixes:[],items:[]};return M2(n,e).then(()=>e)}(n=(0,Wt.m9)(n))}(this._delegate).then(e=>new U2(e,this.storage))}list(e){return function a5(n,e){return N2(n=(0,Wt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new U2(t,this.storage))}getMetadata(){return function s5(n){return function K4(n){n._throwIfRoot("getMetadata");const e=w2(n.storage,n._location,dE());return n.storage.makeRequestWithTokens(e,Yl)}(n=(0,Wt.m9)(n))}(this._delegate)}updateMetadata(e){return function o5(n,e){return function Y4(n,e){n._throwIfRoot("updateMetadata");const t=function N4(n,e,t,i){const s=Zd(e.fullServerUrl(),n.host,n._protocol),h=kO(t,i),y=n.maxOperationRetryTime,E=new Tu(s,"PATCH",qI(n,i),y);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=hE(e),E}(n.storage,n._location,e,dE());return n.storage.makeRequestWithTokens(t,Yl)}(n=(0,Wt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function c5(n){return Q4(n=(0,Wt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function u5(n){return function J4(n){n._throwIfRoot("deleteObject");const e=function O4(n,e){const i=Zd(e.fullServerUrl(),n.host,n._protocol),h=new Tu(i,"DELETE",function u(g,y){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=hE(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Yl)}(n=(0,Wt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw u2(e)}}class H2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(j2(e))throw pv("ref() expected a child path but got a URL, use refFromURL instead.");return new Kd(L2(this._delegate,e),this)}refFromURL(e){if(!j2(e))throw pv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ws.makeFromUrl(e,this._delegate.host)}catch{throw pv("refFromUrl() expected a valid full URL but got an invalid one.")}return new Kd(L2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function B2(n,e,t,i={}){!function n5(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Wt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function j2(n){return/^[A-Za-z]+:\/\//.test(n)}function _5(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new H2(t,i)}function $2(n){const e=function v5(n){return new Rn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe(fO(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ze.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function KI(n){return{getDownloadURL:()=>Xe(void 0).pipe(Jn.fc,Tn(()=>n.getDownloadURL()),Jn.iC),getMetadata:()=>Xe(void 0).pipe(Jn.fc,Tn(()=>n.getMetadata()),Jn.iC),delete:()=>(0,on.D)(n.delete()),child:e=>KI(n.child(e)),updateMetadata:e=>(0,on.D)(n.updateMetadata(e)),put:(e,t)=>$2(n.put(e,t)),putString:(e,t,i)=>$2(n.putString(e,t,i)),list:e=>(0,on.D)(n.list(e)),listAll:()=>(0,on.D)(n.listAll())}}!function y5(n){const e={TaskState:qs,TaskEvent:F4,StringFormat:ra,Storage:H2,Reference:Kd};n.INTERNAL.registerComponent(new Hh.wA("storage-compat",_5,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.20")}(B_.Z);const b5=new l.OlP("angularfire2.storageBucket"),w5=new l.OlP("angularfire2.storage.maxUploadRetryTime"),E5=new l.OlP("angularfire2.storage.maxOperationRetryTime"),T5=new l.OlP("angularfire2.storage.use-emulator");let YI=(()=>{class n{constructor(t,i,r,s,u,h,g,y,E,I){const O=(0,fr.on)(t,u,i);this.storage=(0,fr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const k=u.runOutsideAngular(()=>O.storage(r||void 0)),B=E;return B&&k.useEmulator(...B),g&&k.setMaxUploadRetryTime(g),y&&k.setMaxOperationRetryTime(y),k},[g,y])}ref(t){return KI(this.storage.ref(t))}refFromURL(t){return KI(this.storage.refFromURL(t))}upload(t,i,r){return KI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fr.Dh),l.LFG(fr.xv,8),l.LFG(b5,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jn.HU),l.LFG(w5,8),l.LFG(E5,8),l.LFG(T5,8),l.LFG(x_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),C5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),D5=(()=>{class n{constructor(){M0.Z.registerVersion("angularfire",Jn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YI],imports:[C5]}),n})();function I5(n,e){1&n&&(l.TgZ(0,"div",17)(1,"div",18),l._UZ(2,"div",19)(3,"div",19)(4,"div",19)(5,"div",20)(6,"div",20)(7,"div",20),l.qZA()())}function S5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El Nombre es requerido "),l.qZA())}function A5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El Apellido es requerido "),l.qZA())}function M5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Edad es requerida "),l.qZA())}function N5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function O5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El DNI es requerido "),l.qZA())}function x5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Obra Social es requerida "),l.qZA())}function R5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El Email es requerido "),l.qZA())}function k5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let G2=(()=>{class n{constructor(t,i,r,s){this.formBuilder=t,this.angularFireStorage=i,this.notificationService=r,this.authService=s,this.newPaciente=new om,this.spinner=!1,this.formPaciente=this.formBuilder.group({nombre:["",[Li.required]],apellido:["",[Li.required]],edad:["",[Li.required]],dni:["",[Li.required]],obraSocial:["",[Li.required]],email:["",[Li.required]],password:["",[Li.required]]})}ngOnInit(){}registerPaciente(){this.formPaciente.valid?""!=this.newPaciente.imagen1&&""!=this.newPaciente.imagen2?(this.spinner=!0,this.newPaciente.perfil="paciente",this.newPaciente.nombre=this.formPaciente.getRawValue().nombre,this.newPaciente.apellido=this.formPaciente.getRawValue().apellido,this.newPaciente.edad=this.formPaciente.getRawValue().edad,this.newPaciente.dni=this.formPaciente.getRawValue().dni,this.newPaciente.obraSocial=this.formPaciente.getRawValue().obraSocial,this.newPaciente.email=this.formPaciente.getRawValue().email,this.newPaciente.password=this.formPaciente.getRawValue().password,this.authService.registerNewUser(this.newPaciente),setTimeout(()=>{this.spinner=!1,this.formPaciente.reset(),this.newPaciente=new om},2e3)):this.notificationService.showWarning("Debes elegir im\xe1genes para tu perfil","Registro Paciente"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro Paciente")}uploadImage(t,i){var r=this;return(0,me.Z)(function*(){r.spinner=!0;const s=t.target.files[0],u="img "+Date.now()+10*Math.random(),h=r.angularFireStorage.ref(u);yield h.put(s).then((0,me.Z)(function*(){yield h.getDownloadURL().subscribe(g=>{r.spinner=!1,1==i?r.newPaciente.imagen1=g:2==i&&(r.newPaciente.imagen2=g)})}))})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_I),l.Y36(YI),l.Y36(ev),l.Y36(Zg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-alta-paciente"]],decls:39,vars:10,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","obraSocial","type","text","placeholder","Obra Social",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],["for","imagen2",1,"form-label"],["type","file","placeholder","Im\xe1gen Perfil 2",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(t,i){1&t&&(l.YNc(0,I5,8,0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return i.registerPaciente()}),l.TgZ(2,"h2"),l._uU(3,"REGISTRO DE PACIENTE"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3),l._UZ(6,"input",4),l.YNc(7,S5,2,0,"small",5),l.qZA(),l.TgZ(8,"div",3),l._UZ(9,"input",6),l.YNc(10,A5,2,0,"small",5),l.qZA(),l.TgZ(11,"div",3),l._UZ(12,"input",7),l.YNc(13,M5,2,0,"small",5),l.YNc(14,N5,2,0,"small",5),l.qZA(),l.TgZ(15,"div",3),l._UZ(16,"input",8),l.YNc(17,O5,2,0,"small",5),l.qZA()(),l.TgZ(18,"div",2)(19,"div",3),l._UZ(20,"input",9),l.YNc(21,x5,2,0,"small",5),l.qZA(),l.TgZ(22,"div",3),l._UZ(23,"input",10),l.YNc(24,R5,2,0,"small",5),l.qZA(),l.TgZ(25,"div",3),l._UZ(26,"input",11),l.YNc(27,k5,2,0,"small",5),l.qZA()(),l.TgZ(28,"div",2)(29,"div",3)(30,"label",12),l._uU(31,"Im\xe1gen Perfil 1"),l.qZA(),l.TgZ(32,"input",13),l.NdJ("change",function(s){return i.uploadImage(s,1)}),l.qZA()(),l.TgZ(33,"div",3)(34,"label",14),l._uU(35,"Im\xe1gen Perfil 2"),l.qZA(),l.TgZ(36,"input",15),l.NdJ("change",function(s){return i.uploadImage(s,2)}),l.qZA()()(),l.TgZ(37,"button",16),l._uU(38,"Registrar"),l.qZA()()),2&t&&(l.Q6J("ngIf",i.spinner),l.xp6(1),l.Q6J("formGroup",i.formPaciente),l.xp6(6),l.Q6J("ngIf",(null==i.formPaciente.controls.nombre.errors?null:i.formPaciente.controls.nombre.errors.required)&&i.formPaciente.controls.nombre.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formPaciente.controls.apellido.errors?null:i.formPaciente.controls.apellido.errors.required)&&i.formPaciente.controls.apellido.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formPaciente.controls.edad.errors?null:i.formPaciente.controls.edad.errors.required)&&i.formPaciente.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==i.formPaciente.controls.edad.errors?null:i.formPaciente.controls.edad.errors.min)||(null==i.formPaciente.controls.edad.errors?null:i.formPaciente.controls.edad.errors.max)&&i.formPaciente.controls.edad.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formPaciente.controls.dni.errors?null:i.formPaciente.controls.dni.errors.required)&&i.formPaciente.controls.dni.touched),l.xp6(4),l.Q6J("ngIf",(null==i.formPaciente.controls.obraSocial.errors?null:i.formPaciente.controls.obraSocial.errors.required)&&i.formPaciente.controls.obraSocial.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formPaciente.controls.email.errors?null:i.formPaciente.controls.email.errors.required)&&i.formPaciente.controls.email.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formPaciente.controls.password.errors?null:i.formPaciente.controls.password.errors.required)&&i.formPaciente.controls.password.touched))},dependencies:[dn,jw,Yg,$w,kw,Pw,zw,Gw,Qg,nv],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function P5(n,e){1&n&&(l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"div",22)(3,"div",22)(4,"div",22)(5,"div",23)(6,"div",23)(7,"div",23),l.qZA()())}function F5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El Nombre es requerido "),l.qZA())}function L5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El Apellido es requerido "),l.qZA())}function B5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La Edad es requerida "),l.qZA())}function V5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function U5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El DNI es requerido "),l.qZA())}function H5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La especialidad es requerida "),l.qZA())}function j5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La Especialidad es requerida "),l.qZA())}function $5(n,e){if(1&n&&(l.TgZ(0,"div",3),l._UZ(1,"input",25),l.YNc(2,j5,2,0,"small",5),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",(null==t.formEspecialista.controls.especialidad.errors?null:t.formEspecialista.controls.especialidad.errors.required)&&t.formEspecialista.controls.especialidad.touched)}}function G5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," El Email es requerido "),l.qZA())}function z5(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let z2=(()=>{class n{constructor(t,i,r,s){this.formBuilder=t,this.angularFireStorage=i,this.notificationService=r,this.authService=s,this.newEspecialista=new om,this.especialidad=!1,this.spinner=!1,this.formEspecialista=this.formBuilder.group({nombre:["",[Li.required]],apellido:["",[Li.required]],edad:["",[Li.required]],dni:["",[Li.required]],especialidad:["",[Li.required]],email:["",[Li.required]],password:["",[Li.required]]})}ngOnInit(){}registerEspecialista(){this.formEspecialista.valid?""!=this.newEspecialista.imagen1?(this.spinner=!0,this.newEspecialista.perfil="especialista",this.newEspecialista.nombre=this.formEspecialista.getRawValue().nombre,this.newEspecialista.apellido=this.formEspecialista.getRawValue().apellido,this.newEspecialista.edad=this.formEspecialista.getRawValue().edad,this.newEspecialista.dni=this.formEspecialista.getRawValue().dni,this.newEspecialista.especialidad=this.formEspecialista.getRawValue().especialidad,this.newEspecialista.email=this.formEspecialista.getRawValue().email,this.newEspecialista.password=this.formEspecialista.getRawValue().password,this.authService.registerNewUser(this.newEspecialista),setTimeout(()=>{this.spinner=!1,this.formEspecialista.reset(),this.newEspecialista=new om},2e3)):this.notificationService.showWarning("Debes elegir una im\xe1gen para tu perfil","Registro Especialista"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro Especialista")}uploadImage(t){var i=this;return(0,me.Z)(function*(){i.spinner=!0;const r=t.target.files[0],s="img "+Date.now()+10*Math.random(),u=i.angularFireStorage.ref(s);yield u.put(r).then((0,me.Z)(function*(){yield u.getDownloadURL().subscribe(h=>{i.newEspecialista.imagen1=h,i.spinner=!1})}))})()}addEspecialidad(){this.especialidad=""==this.formEspecialista.getRawValue().especialidad}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_I),l.Y36(YI),l.Y36(ev),l.Y36(Zg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-alta-especialista"]],decls:44,vars:11,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","especialidad",1,"form-control",3,"change"],["value","","disabled",""],["value","clinico"],["value","odontologo"],["value","oftalmologo"],["value",""],["class","col-sm mb-3",4,"ngIf"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"],["formControlName","especialidad","type","text","placeholder","Especialidad",1,"form-control"]],template:function(t,i){1&t&&(l.YNc(0,P5,8,0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return i.registerEspecialista()}),l.TgZ(2,"h2"),l._uU(3,"REGISTRO DE ESPECIALISTA"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3),l._UZ(6,"input",4),l.YNc(7,F5,2,0,"small",5),l.qZA(),l.TgZ(8,"div",3),l._UZ(9,"input",6),l.YNc(10,L5,2,0,"small",5),l.qZA(),l.TgZ(11,"div",3),l._UZ(12,"input",7),l.YNc(13,B5,2,0,"small",5),l.YNc(14,V5,2,0,"small",5),l.qZA()(),l.TgZ(15,"div",2)(16,"div",3),l._UZ(17,"input",8),l.YNc(18,U5,2,0,"small",5),l.qZA(),l.TgZ(19,"div",3)(20,"select",9),l.NdJ("change",function(){return i.addEspecialidad()}),l.TgZ(21,"option",10),l._uU(22,"Elegir especialidad..."),l.qZA(),l.TgZ(23,"option",11),l._uU(24,"Clinico"),l.qZA(),l.TgZ(25,"option",12),l._uU(26,"Odontologo"),l.qZA(),l.TgZ(27,"option",13),l._uU(28,"Oftalmologo"),l.qZA(),l.TgZ(29,"option",14),l._uU(30,"Agregar otra especialidad"),l.qZA()(),l.YNc(31,H5,2,0,"small",5),l.qZA(),l.YNc(32,$5,3,1,"div",15),l.qZA(),l.TgZ(33,"div",2)(34,"div",3),l._UZ(35,"input",16),l.YNc(36,G5,2,0,"small",5),l.qZA(),l.TgZ(37,"div",3),l._UZ(38,"input",17),l.YNc(39,z5,2,0,"small",5),l.qZA(),l.TgZ(40,"div",3)(41,"input",18),l.NdJ("change",function(s){return i.uploadImage(s)}),l.qZA()()(),l.TgZ(42,"button",19),l._uU(43,"Registrar"),l.qZA()()),2&t&&(l.Q6J("ngIf",i.spinner),l.xp6(1),l.Q6J("formGroup",i.formEspecialista),l.xp6(6),l.Q6J("ngIf",(null==i.formEspecialista.controls.nombre.errors?null:i.formEspecialista.controls.nombre.errors.required)&&i.formEspecialista.controls.nombre.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formEspecialista.controls.apellido.errors?null:i.formEspecialista.controls.apellido.errors.required)&&i.formEspecialista.controls.apellido.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formEspecialista.controls.edad.errors?null:i.formEspecialista.controls.edad.errors.required)&&i.formEspecialista.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==i.formEspecialista.controls.edad.errors?null:i.formEspecialista.controls.edad.errors.min)||(null==i.formEspecialista.controls.edad.errors?null:i.formEspecialista.controls.edad.errors.max)&&i.formEspecialista.controls.edad.touched),l.xp6(4),l.Q6J("ngIf",(null==i.formEspecialista.controls.dni.errors?null:i.formEspecialista.controls.dni.errors.required)&&i.formEspecialista.controls.dni.touched),l.xp6(13),l.Q6J("ngIf",(null==i.formEspecialista.controls.especialidad.errors?null:i.formEspecialista.controls.especialidad.errors.required)&&i.formEspecialista.controls.especialidad.touched&&!i.especialidad),l.xp6(1),l.Q6J("ngIf",i.especialidad),l.xp6(4),l.Q6J("ngIf",(null==i.formEspecialista.controls.email.errors?null:i.formEspecialista.controls.email.errors.required)&&i.formEspecialista.controls.email.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formEspecialista.controls.password.errors?null:i.formEspecialista.controls.password.errors.required)&&i.formEspecialista.controls.password.touched))},dependencies:[dn,jw,GP,qP,Yg,$w,mI,kw,Pw,zw,Gw,Qg,nv],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function q5(n,e){1&n&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"div",7)(3,"div",7)(4,"div",7)(5,"div",8)(6,"div",8)(7,"div",8),l.qZA()())}function W5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9)(1,"div",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToFormPaciente())}),l.TgZ(2,"div")(3,"h2"),l._uU(4,"Paciente"),l.qZA(),l._UZ(5,"img",11),l.qZA()(),l.TgZ(6,"div",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToFormEspecialista())}),l.TgZ(7,"div")(8,"h2"),l._uU(9,"Especialista"),l.qZA(),l._UZ(10,"img",12),l.qZA()()()}}function Z5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToRegistro())}),l._uU(2,"Volver"),l.qZA(),l._UZ(3,"app-form-alta-paciente"),l.qZA()}}function K5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",15)(1,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToRegistro())}),l._uU(2,"Volver"),l.qZA(),l._UZ(3,"app-form-alta-especialista"),l.qZA()}}let Y5=(()=>{class n{constructor(){this.formPaciente=!1,this.formEspecialista=!1,this.spinner=!1}ngOnInit(){}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register"]],decls:6,vars:4,consts:[["class","contenedor-spinner",4,"ngIf"],["class","opcion-registros",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"registro-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"opcion-registros"],[1,"row","card-form","text-focus-in",3,"click"],["src","../../../assets/paciente.png","alt","imagen paciente"],["src","../../../assets/especialista.png","alt","imagen especialista"],[1,"registro-paciente"],[1,"btn-volver","text-focus-in",3,"click"],[1,"registro-especialista"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.YNc(1,q5,8,0,"div",0),l.YNc(2,W5,11,0,"div",1),l.YNc(3,Z5,4,0,"div",2),l.YNc(4,K5,4,0,"div",3),l._UZ(5,"div",4)),2&t&&(l.xp6(1),l.Q6J("ngIf",i.spinner),l.xp6(1),l.Q6J("ngIf",!i.formPaciente&&!i.formEspecialista),l.xp6(1),l.Q6J("ngIf",i.formPaciente),l.xp6(1),l.Q6J("ngIf",i.formEspecialista))},dependencies:[dn,OI,G2,z2],styles:[".registro-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-registro.07e9e02b5bb9992f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.opcion-registros[_ngcontent-%COMP%]{z-index:100;position:absolute;top:58%;left:50%;transform:translate(-50%,-50%)}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80vw;margin-bottom:1rem;background:rgba(252,162,162,.5);border:2px solid #fff;box-shadow:2px 2px 4px #000}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px #000}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:10rem}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);cursor:pointer;transition:background .5s,color .5s}.registro-paciente[_ngcontent-%COMP%], .registro-especialista[_ngcontent-%COMP%]{position:absolute;z-index:100;top:18%;left:16%}.btn-volver[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;z-index:100;color:#fff;text-shadow:1px 1px #000;background:#ff0000;border-radius:.5rem;padding:0 1rem}.btn-volver[_ngcontent-%COMP%]:hover{background:#000;transition:background .5s}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function Q5(n,e){1&n&&(l.TgZ(0,"div",13)(1,"div",14),l._UZ(2,"div",15)(3,"div",15)(4,"div",15)(5,"div",16)(6,"div",16)(7,"div",16),l.qZA()())}function J5(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El Nombre es requerido "),l.qZA())}function X5(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El Apellido es requerido "),l.qZA())}function eq(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," La Edad es requerida "),l.qZA())}function tq(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function nq(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El DNI es requerido "),l.qZA())}function iq(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," El Email es requerido "),l.qZA())}function rq(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let sq=(()=>{class n{constructor(t,i,r,s){this.formBuilder=t,this.angularFireStorage=i,this.notificationService=r,this.authService=s,this.newAdministrador=new om,this.especialidad=!1,this.spinner=!1,this.formAdministrador=this.formBuilder.group({nombre:["",[Li.required]],apellido:["",[Li.required]],edad:["",[Li.required]],dni:["",[Li.required]],email:["",[Li.required]],password:["",[Li.required]]})}ngOnInit(){}registerAdministrador(){this.formAdministrador.valid?""!=this.newAdministrador.imagen1?(this.spinner=!0,this.newAdministrador.perfil="administrador",this.newAdministrador.nombre=this.formAdministrador.getRawValue().nombre,this.newAdministrador.apellido=this.formAdministrador.getRawValue().apellido,this.newAdministrador.edad=this.formAdministrador.getRawValue().edad,this.newAdministrador.dni=this.formAdministrador.getRawValue().dni,this.newAdministrador.email=this.formAdministrador.getRawValue().email,this.newAdministrador.password=this.formAdministrador.getRawValue().password,this.authService.registerNewUser(this.newAdministrador),setTimeout(()=>{this.spinner=!1,this.formAdministrador.reset(),this.newAdministrador=new om},2e3)):this.notificationService.showWarning("Debes elegir una im\xe1gen para el perfil","Registro Administrador"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro newAdministrador")}uploadImage(t){var i=this;return(0,me.Z)(function*(){i.spinner=!0;const r=t.target.files[0],s="img "+Date.now()+10*Math.random(),u=i.angularFireStorage.ref(s);yield u.put(r).then((0,me.Z)(function*(){yield u.getDownloadURL().subscribe(h=>{i.newAdministrador.imagen1=h,i.spinner=!1})}))})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_I),l.Y36(YI),l.Y36(ev),l.Y36(Zg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-alta-administrador"]],decls:30,vars:9,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(t,i){1&t&&(l.YNc(0,Q5,8,0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return i.registerAdministrador()}),l.TgZ(2,"h2"),l._uU(3,"REGISTRO DE ADMINISTRADOR"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3),l._UZ(6,"input",4),l.YNc(7,J5,2,0,"small",5),l.qZA(),l.TgZ(8,"div",3),l._UZ(9,"input",6),l.YNc(10,X5,2,0,"small",5),l.qZA()(),l.TgZ(11,"div",2)(12,"div",3),l._UZ(13,"input",7),l.YNc(14,eq,2,0,"small",5),l.YNc(15,tq,2,0,"small",5),l.qZA(),l.TgZ(16,"div",3),l._UZ(17,"input",8),l.YNc(18,nq,2,0,"small",5),l.qZA()(),l.TgZ(19,"div",2)(20,"div",3),l._UZ(21,"input",9),l.YNc(22,iq,2,0,"small",5),l.qZA(),l.TgZ(23,"div",3),l._UZ(24,"input",10),l.YNc(25,rq,2,0,"small",5),l.qZA(),l.TgZ(26,"div",3)(27,"input",11),l.NdJ("change",function(s){return i.uploadImage(s)}),l.qZA()()(),l.TgZ(28,"button",12),l._uU(29,"Registrar"),l.qZA()()),2&t&&(l.Q6J("ngIf",i.spinner),l.xp6(1),l.Q6J("formGroup",i.formAdministrador),l.xp6(6),l.Q6J("ngIf",(null==i.formAdministrador.controls.nombre.errors?null:i.formAdministrador.controls.nombre.errors.required)&&i.formAdministrador.controls.nombre.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formAdministrador.controls.apellido.errors?null:i.formAdministrador.controls.apellido.errors.required)&&i.formAdministrador.controls.apellido.touched),l.xp6(4),l.Q6J("ngIf",(null==i.formAdministrador.controls.edad.errors?null:i.formAdministrador.controls.edad.errors.required)&&i.formAdministrador.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==i.formAdministrador.controls.edad.errors?null:i.formAdministrador.controls.edad.errors.min)||(null==i.formAdministrador.controls.edad.errors?null:i.formAdministrador.controls.edad.errors.max)&&i.formAdministrador.controls.edad.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formAdministrador.controls.dni.errors?null:i.formAdministrador.controls.dni.errors.required)&&i.formAdministrador.controls.dni.touched),l.xp6(4),l.Q6J("ngIf",(null==i.formAdministrador.controls.email.errors?null:i.formAdministrador.controls.email.errors.required)&&i.formAdministrador.controls.email.touched),l.xp6(3),l.Q6J("ngIf",(null==i.formAdministrador.controls.password.errors?null:i.formAdministrador.controls.password.errors.required)&&i.formAdministrador.controls.password.touched))},dependencies:[dn,jw,Yg,$w,kw,Pw,zw,Gw,Qg,nv],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function oq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2).$implicit,s=l.oxw(2);return l.KtG(s.updateUser(r,1))}),l._uU(1," Habilitar "),l.qZA()}}function aq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2).$implicit,s=l.oxw(2);return l.KtG(s.updateUser(r,2))}),l._uU(1," Deshabilitar "),l.qZA()}}function lq(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,oq,2,0,"button",16),l.YNc(2,aq,2,0,"button",17),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngIf",!t.aprobado),l.xp6(1),l.Q6J("ngIf",t.aprobado)}}function cq(n,e){if(1&n&&(l.TgZ(0,"tr",12)(1,"td"),l._UZ(2,"img",13),l.qZA(),l.TgZ(3,"td",14),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l.YNc(10,lq,3,2,"div",15),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.imagen1,l.LSH),l.xp6(2),l.Oqu(t.perfil),l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.apellido),l.xp6(2),l.Q6J("ngIf","especialista"==t.perfil)}}function uq(n,e){if(1&n&&(l.TgZ(0,"div",8)(1,"h3"),l._uU(2,"LISTADO DE USUARIOS"),l.qZA(),l.TgZ(3,"table",9)(4,"thead")(5,"tr")(6,"th",10),l._uU(7,"FOTO"),l.qZA(),l.TgZ(8,"th",10),l._uU(9,"PERFIL"),l.qZA(),l.TgZ(10,"th",10),l._uU(11,"NOMBRE"),l.qZA(),l.TgZ(12,"th",10),l._uU(13,"APELLIDO"),l.qZA(),l.TgZ(14,"th",10),l._uU(15,"ACCI\xd3N"),l.qZA()()(),l.TgZ(16,"tbody"),l.YNc(17,cq,11,5,"tr",11),l.qZA()()()),2&n){const t=l.oxw();l.xp6(17),l.Q6J("ngForOf",t.usersList)}}function dq(n,e){1&n&&(l.TgZ(0,"div",20)(1,"div",21),l._UZ(2,"div",22)(3,"div",22)(4,"div",22)(5,"div",23)(6,"div",23)(7,"div",23),l.qZA()())}function hq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.showCreateUserMenu())}),l._uU(1," Registrar Nuevo Usuario\n"),l.qZA()}}function fq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.showUserList())}),l._uU(1," Ver Listado de Usuarios\n"),l.qZA()}}function pq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",26)(1,"div",27),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToFormPaciente())}),l.TgZ(2,"div")(3,"h2"),l._uU(4,"Paciente"),l.qZA(),l._UZ(5,"img",28),l.qZA()(),l.TgZ(6,"div",27),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToFormEspecialista())}),l.TgZ(7,"div")(8,"h2"),l._uU(9,"Especialista"),l.qZA(),l._UZ(10,"img",29),l.qZA()(),l.TgZ(11,"div",27),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToFormAdministrador())}),l.TgZ(12,"div")(13,"h2"),l._uU(14,"Administrador"),l.qZA(),l._UZ(15,"img",30),l.qZA()()()}}function gq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",31)(1,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToRegistro())}),l._uU(2," Volver "),l.qZA(),l._UZ(3,"app-form-alta-paciente"),l.qZA()}}function mq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33)(1,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToRegistro())}),l._uU(2," Volver "),l.qZA(),l._UZ(3,"app-form-alta-especialista"),l.qZA()}}function _q(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33)(1,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToRegistro())}),l._uU(2," Volver "),l.qZA(),l._UZ(3,"app-form-alta-administrador"),l.qZA()}}const yq=[{path:"registro",component:Y5},{path:"login",component:L8},{path:"usuarios-admin",component:(()=>{class n{constructor(t,i){this.authService=t,this.notificationService=i,this.usersList=[],this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1,this.spinner=!1}ngOnInit(){this.spinner=!0,this.authService.getUsers().subscribe(t=>{this.spinner=!1,t&&(this.usersList=t)})}updateUser(t,i){"especialista"==t.perfil&&(1==i?(t.aprobado=!0,this.authService.updateUser(t),this.notificationService.showSuccess("Especialista Habilitado","Administrador")):2==i&&(t.aprobado=!1,this.authService.updateUser(t),this.notificationService.showSuccess("Especialista Deshabilitado","Administrador")))}showCreateUserMenu(){this.createrUserMenu=!0}showUserList(){this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToFormAdministrador(){this.formAdministrador=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zg),l.Y36(ev))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-usuarios-admin"]],decls:10,vars:8,consts:[["class","tabla-usuario text-focus-in",4,"ngIf"],["class","contenedor-spinner",4,"ngIf"],["class","btn-habilitar btn-nuevo-usuario",3,"click",4,"ngIf"],["class","btn-habilitar btn-menu-volver",3,"click",4,"ngIf"],["class","opcion-registros row",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"usuarios-container"],[1,"tabla-usuario","text-focus-in"],[1,"table"],["scope","col"],["class","tr-tabla","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"tr-tabla",2,"cursor","pointer"],["width","50","alt","imagen",3,"src"],[2,"text-transform","upperCase"],[4,"ngIf"],["class","btn-habilitar",3,"click",4,"ngIf"],["class","btn-deshabilitar",3,"click",4,"ngIf"],[1,"btn-habilitar",3,"click"],[1,"btn-deshabilitar",3,"click"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"btn-habilitar","btn-nuevo-usuario",3,"click"],[1,"btn-habilitar","btn-menu-volver",3,"click"],[1,"opcion-registros","row"],[1,"col","text-focus-in",3,"click"],["src","../../../assets/paciente.png","alt","imagen paciente"],["src","../../../assets/especialista.png","alt","imagen especialista"],["src","../../../assets/admin.png","alt","imagen adminitrador"],[1,"registro-paciente"],[1,"btn-volver","text-focus-in",3,"click"],[1,"registro-especialista"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.YNc(1,uq,18,1,"div",0),l.YNc(2,dq,8,0,"div",1),l.YNc(3,hq,2,0,"button",2),l.YNc(4,fq,2,0,"button",3),l.YNc(5,pq,16,0,"div",4),l.YNc(6,gq,4,0,"div",5),l.YNc(7,mq,4,0,"div",6),l.YNc(8,_q,4,0,"div",6),l._UZ(9,"div",7)),2&t&&(l.xp6(1),l.Q6J("ngIf",!i.createrUserMenu),l.xp6(1),l.Q6J("ngIf",i.spinner),l.xp6(1),l.Q6J("ngIf",!i.createrUserMenu),l.xp6(1),l.Q6J("ngIf",i.createrUserMenu),l.xp6(1),l.Q6J("ngIf",!i.formPaciente&&!i.formEspecialista&&!i.formAdministrador&&i.createrUserMenu),l.xp6(1),l.Q6J("ngIf",i.formPaciente),l.xp6(1),l.Q6J("ngIf",i.formEspecialista),l.xp6(1),l.Q6J("ngIf",i.formAdministrador))},dependencies:[Vr,dn,OI,G2,z2,sq],styles:[".usuarios-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-usuarios-admin.5d3337631900be50.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.tabla-usuario[_ngcontent-%COMP%]{position:absolute;width:90vw;height:75vh;overflow-y:scroll;z-index:100;left:5%;top:18%;background:#000;color:#fff;padding:1rem;background:rgba(182,85,85,.678);border:2px solid #fff;box-shadow:2px 2px 4px #000;text-shadow:1px 1px #000}.tabla-usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.tabla-usuario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff;font-weight:400}.tr-tabla[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);transition:background .5s}.opcion-registros[_ngcontent-%COMP%]{position:absolute;z-index:100;left:6%;top:27%}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;background:rgba(252,162,162,.5);border-radius:2rem;border:2px solid #fff;box-shadow:2px 2px 4px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:20rem}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);cursor:pointer;transition:background .5s,color .5s}.registro-paciente[_ngcontent-%COMP%], .registro-especialista[_ngcontent-%COMP%]{position:absolute;z-index:100;top:18%;left:16%}.btn-volver[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;z-index:100;color:#fff;text-shadow:1px 1px #000;background:#ff0000;border-radius:.5rem;padding:0 1rem}.btn-volver[_ngcontent-%COMP%]:hover{background:#000;transition:background .5s}.btn-habilitar[_ngcontent-%COMP%]{width:12rem;background-color:#209e0083;padding:5px 20px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;text-shadow:1px 1px 1px #000}.btn-habilitar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn-habilitar[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #16bb00;background-color:#09ff00e1}.btn-habilitar[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.btn-deshabilitar[_ngcontent-%COMP%]{width:12rem;background-color:#9e000083;padding:5px 20px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;text-shadow:1px 1px 1px #000}.btn-deshabilitar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn-deshabilitar[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #bb1600;background-color:#ff3300e1}.btn-deshabilitar[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}.btn-nuevo-usuario[_ngcontent-%COMP%]{width:20rem;position:absolute;z-index:200;top:18%;left:5%}.btn-menu-volver[_ngcontent-%COMP%]{width:20rem;position:absolute;z-index:200;top:18%;left:16%}"]}),n})()},{path:"",component:k6}];let vq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[eT.forRoot(yq),eT]}),n})(),bq=(()=>{class n{constructor(){this.title="Clinica Online"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ml]}),n})();const q2_firebase={projectId:"clinica-online-tp2-labo-iv",appId:"1:351841093003:web:a8a480d780672b1b049b8e",storageBucket:"clinica-online-tp2-labo-iv.appspot.com",locationId:"us-central",apiKey:"AIzaSyBM7xWF_eZKdUxFVOdsKiUy-Yii_NomHB4",authDomain:"clinica-online-tp2-labo-iv.firebaseapp.com",messagingSenderId:"351841093003"};function W2(n){return new l.vHH(3e3,!1)}function tW(){return typeof window<"u"&&typeof window.document<"u"}function VO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kf(n){switch(n.length){case 0:return new Rw;case 1:return n[0];default:return new Hk(n)}}function Z2(n,e,t,i,r=new Map,s=new Map){const u=[],h=[];let g=-1,y=null;if(i.forEach(E=>{const I=E.get("offset"),O=I==g,k=O&&y||new Map;E.forEach((B,H)=>{let Y=H,we=B;if("offset"!==H)switch(Y=e.normalizePropertyName(Y,u),we){case"!":we=r.get(H);break;case zd:we=s.get(H);break;default:we=e.normalizeStyleValue(H,Y,we,u)}k.set(Y,we)}),O||h.push(k),y=k,g=I}),u.length)throw function $q(n){return new l.vHH(3502,!1)}();return h}function UO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&HO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&HO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&HO(t,"destroy",n)))}}function HO(n,e,t){const s=jO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function jO(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function sa(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function K2(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let $O=(n,e)=>!1,Y2=(n,e,t)=>[],Q2=null;function GO(n){const e=n.parentNode||n.host;return e===Q2?null:e}(VO()||typeof Element<"u")&&(tW()?(Q2=(()=>document.documentElement)(),$O=(n,e)=>{for(;e;){if(e===n)return!0;e=GO(e)}return!1}):$O=(n,e)=>n.contains(e),Y2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let hm=null,J2=!1;const X2=$O,eB=Y2;let tB=(()=>{class n{validateStyleProperty(t){return function iW(n){hm||(hm=function rW(){return typeof document<"u"?document.body:null}()||{},J2=!!hm.style&&"WebkitAppearance"in hm.style);let e=!0;return hm.style&&!function nW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in hm.style,!e&&J2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return X2(t,i)}getParentElement(t){return GO(t)}query(t,i,r){return eB(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,h=[],g){return new Rw(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zO=(()=>{class n{}return n.NOOP=new tB,n})();const qO="ng-enter",QI="ng-leave",JI="ng-trigger",XI=".ng-trigger",iB="ng-animating",WO=".ng-animating";function Yd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ZO(parseFloat(e[1]),e[2])}function ZO(n,e){return"s"===e?1e3*n:n}function e1(n,e,t){return n.hasOwnProperty("duration")?n:function aW(n,e,t){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(W2()),{duration:0,delay:0,easing:""};r=ZO(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(s=ZO(parseFloat(g),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,g=e.length;r<0&&(e.push(function wq(){return new l.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function Eq(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,W2())}return{duration:r,delay:s,easing:u}}(n,e,t)}function fE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Yf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function oB(n,e,t){return t?e+":"+t+";":""}function aB(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=oB(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oB(0,dW(t),n.style[t]));n.setAttribute("style",e)}function Du(n,e,t){n.style&&(e.forEach((i,r)=>{const s=YO(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),VO()&&aB(n))}function fm(n,e){n.style&&(e.forEach((t,i)=>{const r=YO(i);n.style[r]=""}),VO()&&aB(n))}function pE(n){return Array.isArray(n)?1==n.length?n[0]:Vk(n):n}const KO=new RegExp("{{\\s*(.+?)\\s*}}","g");function lB(n){let e=[];if("string"==typeof n){let t;for(;t=KO.exec(n);)e.push(t[1]);KO.lastIndex=0}return e}function gE(n,e,t){const i=n.toString(),r=i.replace(KO,(s,u)=>{let h=e[u];return null==h&&(t.push(function Cq(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function t1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const uW=/-+([a-z0-9])/g;function YO(n){return n.replace(uW,(...e)=>e[1].toUpperCase())}function dW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Dq(n){return new l.vHH(3004,!1)}()}}function cB(n,e){return window.getComputedStyle(n)[e]}function _W(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function yW(n,e,t){if(":"==n[0]){const g=function vW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Vq(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Bq(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(uB(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&e.push(uB(u,r))}(i,t,e)):t.push(n),t}const o1=new Set(["true","1"]),a1=new Set(["false","0"]);function uB(n,e){const t=o1.has(n)||a1.has(n),i=o1.has(e)||a1.has(e);return(r,s)=>{let u="*"==n||n==r,h="*"==e||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?o1.has(n):a1.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?o1.has(e):a1.has(e)),u&&h}}const bW=new RegExp("s*:selfs*,?","g");function QO(n,e,t,i){return new wW(n).build(e,t,i)}class wW{constructor(e){this._driver=e}build(e,t,i){const r=new CW(t);return this._resetContextStyleTimingState(r),oa(this,pE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Sq(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,y=g.name;y.toString().split(/\s*,\s*/).forEach(E=>{g.name=E,s.push(this.visitState(g,t))}),g.name=y}else if(1==h.type){const g=this.visitTransition(h,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function Aq(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{lB(g).forEach(y=>{u.hasOwnProperty(y)||s.add(y)})})}),s.size&&(t1(s.values()),t.errors.push(function Mq(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=oa(this,pE(e.animation),t);return{type:1,matchers:_W(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:pm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>oa(this,i,t)),options:pm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const h=oa(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:pm(e.options)}}visitAnimate(e,t){const i=function IW(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return JO(e1(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=JO(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=e1(t,e);return JO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:mu({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=mu(y)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=h,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===zd?i.push(h):t.errors.push(new l.vHH(3002,!1)):i.push(rB(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let g of h.values())if(g.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const y=t.collectedStyles.get(t.currentQuerySelector),E=y.get(g);let I=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(t.errors.push(function Oq(n,e,t,i,r){return new l.vHH(3010,!1)}()),I=!1),s=E.startTime),I&&y.set(g,{startTime:s,endTime:r}),t.options&&function cW(n,e,t){const i=e.params||{},r=lB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Tq(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function xq(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,g=!1,y=0;const E=e.steps.map(we=>{const Se=this._makeStyleAst(we,t);let Fe=null!=Se.offset?Se.offset:function DW(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Se.styles),Ae=0;return null!=Fe&&(s++,Ae=Se.offset=Fe),g=g||Ae<0||Ae>1,h=h||Ae<y,y=Ae,u.push(Ae),Se});g&&t.errors.push(function Rq(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function kq(){return new l.vHH(3200,!1)}());const I=e.steps.length;let O=0;s>0&&s<I?t.errors.push(function Pq(){return new l.vHH(3202,!1)}()):0==s&&(O=1/(I-1));const k=I-1,B=t.currentTime,H=t.currentAnimateTimings,Y=H.duration;return E.forEach((we,Se)=>{const Fe=O>0?Se==k?1:O*Se:u[Se],Ae=Fe*Y;t.currentTime=B+H.delay+Ae,H.duration=Ae,this._validateStyleAst(we,t),we.offset=Fe,i.styles.push(we)}),i}visitReference(e,t){return{type:8,animation:oa(this,pE(e.animation),t),options:pm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:pm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:pm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function EW(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(bW,"")),n=n.replace(/@\*/g,XI).replace(/@\w+/g,t=>XI+"-"+t.slice(1)).replace(/:animating/g,WO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,sa(t.collectedStyles,t.currentQuerySelector,new Map);const h=oa(this,pE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:pm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Fq(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:e1(e.timings,t.errors,!0);return{type:12,animation:oa(this,pE(e.animation),t),timings:i,options:null}}}class CW{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pm(n){return n?(n=fE(n)).params&&(n.params=function TW(n){return n?fE(n):null}(n.params)):n={},n}function JO(n,e,t){return{duration:n,delay:e,easing:t}}function XO(n,e,t,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class l1{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MW=new RegExp(":enter","g"),OW=new RegExp(":leave","g");function ex(n,e,t,i,r,s=new Map,u=new Map,h,g,y=[]){return(new xW).buildKeyframes(n,e,t,i,r,s,u,h,g,y)}class xW{buildKeyframes(e,t,i,r,s,u,h,g,y,E=[]){y=y||new l1;const I=new tx(e,t,y,r,s,E,[]);I.options=g;const O=g.delay?Yd(g.delay):0;I.currentTimeline.delayNextStep(O),I.currentTimeline.setStyles([u],null,I.errors,g),oa(this,i,I);const k=I.timelines.filter(B=>B.containsAnimation());if(k.length&&h.size){let B;for(let H=k.length-1;H>=0;H--){const Y=k[H];if(Y.element===t){B=Y;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([h],null,I.errors,g)}return k.length?k.map(B=>B.buildKeyframes()):[XO(t,[],[],[],0,O,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const u="number"==typeof s?s:Yd(gE(s,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?Yd(i.duration):null,h=null!=i.delay?Yd(i.delay):null;return 0!==u&&e.forEach(g=>{const y=t.appendInstructionToTimeline(g,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),oa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=c1);const u=Yd(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>oa(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Yd(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),oa(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return e1(t.params?gE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*s),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Yd(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=c1);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((y,E)=>{t.currentQueryIndex=E;const I=t.createSubContext(e.options,y);s&&I.delayNextStep(s),y===t.element&&(g=I.currentTimeline),oa(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const E=t.currentTimeline;g&&E.delayNextStep(g);const I=E.currentTime;oa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const c1={};class tx{constructor(e,t,i,r,s,u,h,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=c1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new u1(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Yd(i.duration)),null!=i.delay&&(r.delay=Yd(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=gE(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new tx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=c1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new RW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(MW,"."+this._enterClassName)).replace(OW,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function Lq(n){return new l.vHH(3014,!1)}()),h}}class u1{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new u1(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||zd),this._currentKeyframe.set(t,zd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function kW(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,zd)}else Yf(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of u){const y=gE(g,s,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??zd),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const y=Yf(h,new Map,this._backFill);y.forEach((E,I)=>{"!"===E?e.add(I):E===zd&&t.add(I)}),i||y.set("offset",g/this.duration),r.push(y)});const s=e.size?t1(e.values()):[],u=t.size?t1(t.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return XO(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class RW extends u1{constructor(e,t,i,r,s,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,h=t/u,g=Yf(e[0]);g.set("offset",0),s.push(g);const y=Yf(e[0]);y.set("offset",fB(h)),s.push(y);const E=e.length-1;for(let I=1;I<=E;I++){let O=Yf(e[I]);const k=O.get("offset");O.set("offset",fB((t+k*i)/u)),s.push(O)}i=u,t=0,r="",e=s}return XO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function fB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class nx{}const PW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class FW extends nx{normalizePropertyName(e,t){return YO(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(PW.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function Iq(n,e){return new l.vHH(3005,!1)}())}return u+s}}function pB(n,e,t,i,r,s,u,h,g,y,E,I,O){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:y,postStyleProps:E,totalTime:I,errors:O}}const ix={};class gB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function LW(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,h,g,y,E){const I=[],O=this.ast.options&&this.ast.options.params||ix,B=this.buildStyles(i,h&&h.params||ix,I),H=g&&g.params||ix,Y=this.buildStyles(r,H,I),we=new Set,Se=new Map,Fe=new Map,Ae="void"===r,He={params:BW(H,O),delay:this.ast.options?.delay},ze=E?[]:ex(e,t,this.ast.animation,s,u,B,Y,He,y,I);let ht=0;if(ze.forEach(wn=>{ht=Math.max(wn.duration+wn.delay,ht)}),I.length)return pB(t,this._triggerName,i,r,Ae,B,Y,[],[],Se,Fe,ht,I);ze.forEach(wn=>{const Ln=wn.element,wi=sa(Se,Ln,new Set);wn.preStyleProps.forEach(Ni=>wi.add(Ni));const ts=sa(Fe,Ln,new Set);wn.postStyleProps.forEach(Ni=>ts.add(Ni)),Ln!==t&&we.add(Ln)});const Bt=t1(we.values());return pB(t,this._triggerName,i,r,Ae,B,Y,ze,Bt,Se,Fe,ht)}}function BW(n,e){const t=fE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class VW{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=fE(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=gE(u,r,t));const g=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,g,u,t),i.set(g,u)})}),i}}class HW{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new VW(r.style,r.options&&r.options.params||{},i))}),mB(this.states,"true","1"),mB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new gB(e,r,this.states))}),this.fallbackTransition=function jW(n,e,t){return new gB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function mB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $W=new l1;class GW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=QO(this._driver,t,i,[]);if(i.length)throw function Gq(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=Z2(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const h=new Map;if(s?(u=ex(this._driver,t,s,qO,QI,new Map,new Map,i,$W,r),u.forEach(E=>{const I=sa(h,E.element,new Map);E.postStyleProps.forEach(O=>I.set(O,null))})):(r.push(function zq(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function qq(n){return new l.vHH(3504,!1)}();h.forEach((E,I)=>{E.forEach((O,k)=>{E.set(k,this._driver.computeStyle(I,k,zd))})});const y=Kf(u.map(E=>{const I=h.get(E.element);return this._buildPlayer(E,new Map,I)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Wq(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=jO(t,"","","");return UO(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const _B="ng-animate-queued",rx="ng-animate-disabled",KW=[],yB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class sx{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function eZ(n){return n??null}(i?e.value:e),i){const s=fE(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const mE="void",ox=new sx(mE);class QW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Za(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Zq(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function Kq(n){return new l.vHH(3303,!1)}();if(!function tZ(n){return"start"==n||"done"==n}(i))throw function Yq(n,e){return new l.vHH(3400,!1)}();const s=sa(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const h=sa(this._engine.statesByElement,e,new Map);return h.has(t)||(Za(e,JI),Za(e,JI+"-"+t),h.set(t,ox)),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(u);g>=0&&s.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Qq(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new ax(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Za(e,JI),Za(e,JI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const y=new sx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),h.set(t,y),g||(g=ox),y.value!==mE&&g.value===y.value){if(!function rZ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(g.params,y.params)){const H=[],Y=s.matchStyles(g.value,g.params,H),we=s.matchStyles(y.value,y.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{fm(e,Y),Du(e,we)})}return}const O=sa(this._engine.playersByElement,e,[]);O.forEach(H=>{H.namespaceId==this.id&&H.triggerName==t&&H.queued&&H.destroy()});let k=s.matchTransition(g.value,y.value,e,y.params),B=!1;if(!k){if(!r)return;k=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:g,toState:y,player:u,isFallbackTransition:B}),B||(Za(e,_B),u.onStart(()=>{_v(e,_B)})),u.onDone(()=>{let H=this.players.indexOf(u);H>=0&&this.players.splice(H,1);const Y=this._engine.playersByElement.get(e);if(Y){let we=Y.indexOf(u);we>=0&&Y.splice(we,1)}}),this.players.push(u),O.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,XI,!0);i.forEach(r=>{if(r[Wa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(s.forEach((g,y)=>{if(u.set(y,g.value),this._triggers.has(y)){const E=this.trigger(e,y,mE,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Kf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,y=i.get(u)||ox,E=new sx(mE),I=new ax(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wa];(!s||s===yB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Za(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=jO(s,i.triggerName,i.fromState.value,i.toState.value);g._data=e,UO(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class JW{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new QW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const g=r.get(h);if(g){const y=i.indexOf(g);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(d1(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!d1(t))return;const s=t[Wa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Za(e,rx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_v(e,rx))}removeNode(e,t,i,r){if(d1(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Wa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return d1(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,XI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,WO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wa];if(t&&t.setForRemoval){if(e[Wa]=yB,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Za(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Kf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Jq(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new l1,r=[],s=new Map,u=[],h=new Map,g=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(it=>{E.add(it);const gt=this.driver.query(it,".ng-animate-queued",!0);for(let Nt=0;Nt<gt.length;Nt++)E.add(gt[Nt])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),k=wB(O,this.collectedEnterElements),B=new Map;let H=0;k.forEach((it,gt)=>{const Nt=qO+H++;B.set(gt,Nt),it.forEach(Jt=>Za(Jt,Nt))});const Y=[],we=new Set,Se=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const gt=this.collectedLeaveElements[it],Nt=gt[Wa];Nt&&Nt.setForRemoval&&(Y.push(gt),we.add(gt),Nt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Jt=>we.add(Jt)):Se.add(gt))}const Fe=new Map,Ae=wB(O,Array.from(we));Ae.forEach((it,gt)=>{const Nt=QI+H++;Fe.set(gt,Nt),it.forEach(Jt=>Za(Jt,Nt))}),e.push(()=>{k.forEach((it,gt)=>{const Nt=B.get(gt);it.forEach(Jt=>_v(Jt,Nt))}),Ae.forEach((it,gt)=>{const Nt=Fe.get(gt);it.forEach(Jt=>_v(Jt,Nt))}),Y.forEach(it=>{this.processLeaveNode(it)})});const He=[],ze=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Nt=>{const Jt=Nt.player,Oi=Nt.element;if(He.push(Jt),this.collectedEnterElements.length){const Wi=Oi[Wa];if(Wi&&Wi.setForMove){if(Wi.previousTriggersValues&&Wi.previousTriggersValues.has(Nt.triggerName)){const Ws=Wi.previousTriggersValues.get(Nt.triggerName),Es=this.statesByElement.get(Nt.element);if(Es&&Es.has(Nt.triggerName)){const yv=Es.get(Nt.triggerName);yv.value=Ws,Es.set(Nt.triggerName,yv)}}return void Jt.destroy()}}const _o=!I||!this.driver.containsElement(I,Oi),Tr=Fe.get(Oi),aa=B.get(Oi),On=this._buildInstruction(Nt,i,aa,Tr,_o);if(On.errors&&On.errors.length)return void ze.push(On);if(_o)return Jt.onStart(()=>fm(Oi,On.fromStyles)),Jt.onDestroy(()=>Du(Oi,On.toStyles)),void r.push(Jt);if(Nt.isFallbackTransition)return Jt.onStart(()=>fm(Oi,On.fromStyles)),Jt.onDestroy(()=>Du(Oi,On.toStyles)),void r.push(Jt);const Ql=[];On.timelines.forEach(Wi=>{Wi.stretchStartingKeyframe=!0,this.disabledNodes.has(Wi.element)||Ql.push(Wi)}),On.timelines=Ql,i.append(Oi,On.timelines),u.push({instruction:On,player:Jt,element:Oi}),On.queriedElements.forEach(Wi=>sa(h,Wi,[]).push(Jt)),On.preStyleProps.forEach((Wi,Ws)=>{if(Wi.size){let Es=g.get(Ws);Es||g.set(Ws,Es=new Set),Wi.forEach((yv,_m)=>Es.add(_m))}}),On.postStyleProps.forEach((Wi,Ws)=>{let Es=y.get(Ws);Es||y.set(Ws,Es=new Set),Wi.forEach((yv,_m)=>Es.add(_m))})});if(ze.length){const it=[];ze.forEach(gt=>{it.push(function Xq(n,e){return new l.vHH(3505,!1)}())}),He.forEach(gt=>gt.destroy()),this.reportError(it)}const ht=new Map,Bt=new Map;u.forEach(it=>{const gt=it.element;i.has(gt)&&(Bt.set(gt,gt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,ht))}),r.forEach(it=>{const gt=it.element;this._getPreviousPlayers(gt,!1,it.namespaceId,it.triggerName,null).forEach(Jt=>{sa(ht,gt,[]).push(Jt),Jt.destroy()})});const wn=Y.filter(it=>TB(it,g,y)),Ln=new Map;bB(Ln,this.driver,Se,y,zd).forEach(it=>{TB(it,g,y)&&wn.push(it)});const ts=new Map;k.forEach((it,gt)=>{bB(ts,this.driver,new Set(it),g,"!")}),wn.forEach(it=>{const gt=Ln.get(it),Nt=ts.get(it);Ln.set(it,new Map([...Array.from(gt?.entries()??[]),...Array.from(Nt?.entries()??[])]))});const Ni=[],Iu=[],Su={};u.forEach(it=>{const{element:gt,player:Nt,instruction:Jt}=it;if(i.has(gt)){if(E.has(gt))return Nt.onDestroy(()=>Du(gt,Jt.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Jt.totalTime),void r.push(Nt);let Oi=Su;if(Bt.size>1){let Tr=gt;const aa=[];for(;Tr=Tr.parentNode;){const On=Bt.get(Tr);if(On){Oi=On;break}aa.push(Tr)}aa.forEach(On=>Bt.set(On,Oi))}const _o=this._buildAnimation(Nt.namespaceId,Jt,ht,s,ts,Ln);if(Nt.setRealPlayer(_o),Oi===Su)Ni.push(Nt);else{const Tr=this.playersByElement.get(Oi);Tr&&Tr.length&&(Nt.parentPlayer=Kf(Tr)),r.push(Nt)}}else fm(gt,Jt.fromStyles),Nt.onDestroy(()=>Du(gt,Jt.toStyles)),Iu.push(Nt),E.has(gt)&&r.push(Nt)}),Iu.forEach(it=>{const gt=s.get(it.element);if(gt&&gt.length){const Nt=Kf(gt);it.setRealPlayer(Nt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<Y.length;it++){const gt=Y[it],Nt=gt[Wa];if(_v(gt,QI),Nt&&Nt.hasAnimation)continue;let Jt=[];if(h.size){let _o=h.get(gt);_o&&_o.length&&Jt.push(..._o);let Tr=this.driver.query(gt,WO,!0);for(let aa=0;aa<Tr.length;aa++){let On=h.get(Tr[aa]);On&&On.length&&Jt.push(...On)}}const Oi=Jt.filter(_o=>!_o.destroyed);Oi.length?nZ(this,gt,Oi):this.processLeaveNode(gt)}return Y.length=0,Ni.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const gt=this.players.indexOf(it);this.players.splice(gt,1)}),it.play()}),Ni}elementContainsData(e,t){let i=!1;const r=t[Wa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const g=!s||s==mE;h.forEach(y=>{y.queued||!g&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const y=g.element,E=y!==s,I=sa(i,y,[]);this._getPreviousPlayers(y,E,u,h,t.toState).forEach(k=>{const B=k.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),k.destroy(),I.push(k)})}fm(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const h=t.triggerName,g=t.element,y=[],E=new Set,I=new Set,O=t.timelines.map(B=>{const H=B.element;E.add(H);const Y=H[Wa];if(Y&&Y.removedBeforeQueried)return new Rw(B.duration,B.delay);const we=H!==g,Se=function iZ(n){const e=[];return EB(n,e),e}((i.get(H)||KW).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===H),Fe=s.get(H),Ae=u.get(H),He=Z2(0,this._normalizer,0,B.keyframes,Fe,Ae),ze=this._buildPlayer(B,He,Se);if(B.subTimeline&&r&&I.add(H),we){const ht=new ax(e,h,H);ht.setRealPlayer(ze),y.push(ht)}return ze});y.forEach(B=>{sa(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function XW(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,B.element,B))}),E.forEach(B=>Za(B,iB));const k=Kf(O);return k.onDestroy(()=>{E.forEach(B=>_v(B,iB)),Du(g,t.toStyles)}),I.forEach(B=>{sa(r,B,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Rw(e.duration,e.delay)}}class ax{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Rw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>UO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function d1(n){return n&&1===n.nodeType}function vB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function bB(n,e,t,i,r){const s=[];t.forEach(g=>s.push(vB(g)));const u=[];i.forEach((g,y)=>{const E=new Map;g.forEach(I=>{const O=e.computeStyle(y,I,r);E.set(I,O),(!O||0==O.length)&&(y[Wa]=YW,u.push(y))}),n.set(y,E)});let h=0;return t.forEach(g=>vB(g,s[h++])),u}function wB(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(h){if(!h)return 1;let g=s.get(h);if(g)return g;const y=h.parentNode;return g=t.has(y)?y:r.has(y)?1:u(y),s.set(h,g),g}return e.forEach(h=>{const g=u(h);1!==g&&t.get(g).push(h)}),t}function Za(n,e){n.classList?.add(e)}function _v(n,e){n.classList?.remove(e)}function nZ(n,e,t){Kf(t).onDone(()=>n.processLeaveNode(e))}function EB(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Hk?EB(i.players,e):e.push(i)}}function TB(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class h1{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new JW(e,t,i),this._timelineEngine=new GW(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],E=QO(this._driver,s,g,[]);if(g.length)throw function jq(n,e){return new l.vHH(3404,!1)}();h=function UW(n,e,t){return new HW(n,e,t)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=K2(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,h]=K2(i);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oZ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Du(this._element,this._initialStyles),this._endStyles&&(Du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fm(this._element,this._endStyles),this._endStyles=null),Du(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lx(n){let e=null;return n.forEach((t,i)=>{(function aZ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class CB{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:cB(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class lZ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return X2(e,t)}getParentElement(e){return GO(e)}query(e,t,i){return eB(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(g.easing=s);const y=new Map,E=u.filter(k=>k instanceof CB);(function hW(n,e){return 0===n||0===e})(i,r)&&E.forEach(k=>{k.currentSnapshot.forEach((B,H)=>y.set(H,B))});let I=function lW(n){return n.length?n[0]instanceof Map?n:n.map(e=>rB(e)):[]}(t).map(k=>Yf(k));I=function fW(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(h=>u.set(h,cB(n,h)))}}return e}(e,I,y);const O=function sZ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=lx(e[0]),e.length>1&&(i=lx(e[e.length-1]))):e instanceof Map&&(t=lx(e)),t||i?new oZ(n,t,i):null}(e,I);return new CB(e,I,g,O)}}let cZ=(()=>{class n extends Bk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Vk(t):t;return DB(this._renderer,null,i,"register",[r]),new uZ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uZ extends class bH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new dZ(this._id,e,t||{},this._renderer)}}class dZ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return DB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function DB(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const IB="@.disabled";let hZ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new SB("",s,this.engine),this._rendererCache.set(s,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=E=>{Array.isArray(E)?E.forEach(g):this.engine.registerTrigger(u,h,t,E.name,E)};return i.data.animation.forEach(g),new fZ(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(h1),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class SB{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==IB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fZ extends SB{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IB?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function pZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function gZ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let mZ=(()=>{class n extends h1{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(zO),l.LFG(nx),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const AB=[{provide:Bk,useClass:cZ},{provide:nx,useFactory:function _Z(){return new FW}},{provide:h1,useClass:mZ},{provide:l.FYo,useFactory:function yZ(n,e,t){return new hZ(n,e,t)},deps:[No,h1,l.R0b]}],cx=[{provide:zO,useFactory:()=>new lZ},{provide:l.QbO,useValue:"BrowserAnimations"},...AB],MB=[{provide:zO,useClass:tB},{provide:l.QbO,useValue:"NoopAnimations"},...AB];let vZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MB:cx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:cx,imports:[Ac]}),n})(),NZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yn,wu,wu]}),n})(),qZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wu,wu]}),n})(),WZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[bq]}),n.\u0275inj=l.cJS({imports:[Ac,vq,M6,tF,nF,fr.hO.initializeApp(q2_firebase),vH,O0,D5,vZ,HH.forRoot({preventDuplicates:!0}),NZ,Vz,qZ,R8]}),n})();(0,l.G48)(),Sc().bootstrapModule(WZ).catch(n=>console.error(n))},5867:(mt,Ie,F)=>{F.d(Ie,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.12.1","app")},127:(mt,Ie,F)=>{F.d(Ie,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(mt,Ie,F)=>{F.r(Ie);var l=F(5861),te=F(3942),P=F(2090),le=F(9681),ce=F(1877),he=F(655),ie=F(4859);const Te=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ce.Yd("@firebase/auth");function ft(v,...p){st.logLevel<=ce.in.ERROR&&st.error(`Auth (${le.SDK_VERSION}): ${v}`,...p)}function Oe(v,...p){throw We(v,...p)}function be(v,...p){return We(v,...p)}function De(v,p,_){const w=Object.assign(Object.assign({},lt()),{[p]:_});return new P.LL("auth","Firebase",w).create(p,{appName:v.name})}function qe(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Oe(v,"argument-error"),De(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...p){if("string"!=typeof v){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(_,...w)}return ye.create(v,...p)}function j(v,p,..._){if(!v)throw We(p,..._)}function _e(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ft(p),new Error(p)}function Z(v,p){v||_e(p)}const ee=new Map;function oe(v){Z(v instanceof Function,"Expected a class definition");let p=ee.get(v);return p?(Z(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ee.set(v,p),p)}function Ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function wt(){return"http:"===rn()||"https:"===rn()}function rn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class mn{constructor(p,_){this.shortDelay=p,this.longDelay=_,Z(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(v,p){Z(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class tn{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zi=new mn(3e4,6e4);function Vt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function vn(v,p,_,w){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(v,p,_,w,M={}){return Lr(v,M,(0,l.Z)(function*(){let R={},W={};w&&("GET"===p?W=w:R={body:JSON.stringify(w)});const ue=(0,P.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),$e=yield v._getAdditionalHeaders();return $e["Content-Type"]="application/json",v.languageCode&&($e["X-Firebase-Locale"]=v.languageCode),tn.fetch()(Br(v,v.config.apiHost,_,ue),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Lr(v,p,_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(v,p,_){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},sn),p);try{const M=new Cr(v),R=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw Dr(v,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const ue=R.ok?W.errorMessage:W.error.message,[$e,rt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Dr(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===$e)throw Dr(v,"email-already-in-use",W);if("USER_DISABLED"===$e)throw Dr(v,"user-disabled",W);const Ct=w[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw De(v,Ct,rt);Oe(v,Ct)}}catch(M){if(M instanceof P.ZR)throw M;Oe(v,"network-request-failed")}})).apply(this,arguments)}function sr(v,p,_,w){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(v,p,_,w,M={}){const R=yield vn(v,p,_,w,M);return"mfaPendingCredential"in R&&Oe(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Br(v,p,_,w){const M=`${p}${_}?${w}`;return v.config.emulator?Sn(v.config,M):`${v.config.apiScheme}://${M}`}class Cr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),Zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(v,p,_){const w={appName:v.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=be(v,p,w);return M.customData._tokenResponse=_,M}function nt(){return(nt=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Vi(v,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hi(v,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ns(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Cn(){return(Cn=(0,l.Z)(function*(v,p=!1){const _=(0,P.m9)(v),w=yield _.getIdToken(p),M=_t(w);j(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const R="object"==typeof M.firebase?M.firebase:void 0,W=R?.sign_in_provider;return{claims:M,token:w,authTime:ns(Et(M.auth_time)),issuedAtTime:ns(Et(M.iat)),expirationTime:ns(Et(M.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Et(v){return 1e3*Number(v)}function _t(v){var p;const[_,w,M]=v.split(".");if(void 0===_||void 0===w||void 0===M)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,P.tV)(w);return R?JSON.parse(R):(ft("Failed to decode base64 JWT payload"),null)}catch(R){return ft("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function xi(v,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof P.ZR&&or(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function or({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Pt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){var _;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(_=w)||void 0===_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class Ks{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ns(this.lastLoginAt),this.creationTime=ns(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(v){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(v){var p;const _=v.auth,w=yield v.getIdToken(),M=yield xi(v,hi(_,{idToken:w}));j(M?.users.length,_,"internal-error");const R=M.users[0];v._notifyReloadListener(R);const W=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?at(R.providerUserInfo):[],ue=Yi(v.providerData,W),Ct=!!v.isAnonymous&&!(v.email&&R.passwordHash||ue?.length),bt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new Ks(R.createdAt,R.lastLoginAt),isAnonymous:Ct};Object.assign(v,bt)})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(v){const p=(0,P.m9)(v);yield cn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Yi(v,p){return[...v.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function at(v){return v.map(p=>{var{providerId:_}=p,w=(0,he._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ot(){return(ot=(0,l.Z)(function*(v,p){const _=yield Lr(v,{},(0,l.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:R}=v.config,W=Br(v,M,"/v1/token",`key=${R}`),ue=yield v._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(W,{method:"POST",headers:ue,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function pn(v){const p=_t(v);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,l.Z)(function*(){return j(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:R,expiresIn:W}=yield function Me(v,p){return ot.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(M,R,Number(W))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:M,expirationTime:R}=_,W=new Mt;return w&&(j("string"==typeof w,"internal-error",{appName:p}),W.refreshToken=w),M&&(j("string"==typeof M,"internal-error",{appName:p}),W.accessToken=M),R&&(j("number"==typeof R,"internal-error",{appName:p}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Dt(v,p){j("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:_,auth:w,stsTokenManager:M}=p,R=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ks(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const w=yield xi(_,_.stsTokenManager.getToken(_.auth,p));return j(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function ei(v){return Cn.apply(this,arguments)}(this,p)}reload(){return function un(v){return fi.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield cn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield xi(p,function Ya(v,p){return nt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,M,R,W,ue,$e,rt,Ct;const bt=null!==(w=_.displayName)&&void 0!==w?w:void 0,_n=null!==(M=_.email)&&void 0!==M?M:void 0,xr=null!==(R=_.phoneNumber)&&void 0!==R?R:void 0,Nl=null!==(W=_.photoURL)&&void 0!==W?W:void 0,Pv=null!==(ue=_.tenantId)&&void 0!==ue?ue:void 0,dd=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,Xm=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,Ph=null!==(Ct=_.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:e_,emailVerified:Fv,isAnonymous:jc,providerData:Ol,stsTokenManager:Tp}=_;j(e_&&Tp,p,"internal-error");const Cp=Mt.fromJSON(this.name,Tp);j("string"==typeof e_,p,"internal-error"),Dt(bt,p.name),Dt(_n,p.name),j("boolean"==typeof Fv,p,"internal-error"),j("boolean"==typeof jc,p,"internal-error"),Dt(xr,p.name),Dt(Nl,p.name),Dt(Pv,p.name),Dt(dd,p.name),Dt(Xm,p.name),Dt(Ph,p.name);const Ia=new $t({uid:e_,auth:p,email:_n,emailVerified:Fv,displayName:bt,isAnonymous:jc,photoURL:Nl,phoneNumber:xr,tenantId:Pv,stsTokenManager:Cp,createdAt:Xm,lastLoginAt:Ph});return Ol&&Array.isArray(Ol)&&(Ia.providerData=Ol.map($c=>Object.assign({},$c))),dd&&(Ia._redirectEventId=dd),Ia}static _fromIdTokenResponse(p,_,w=!1){return(0,l.Z)(function*(){const M=new Mt;M.updateFromServerResponse(_);const R=new $t({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield cn(R),R})()}}const U=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,l.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return v.type="NONE",v})();function K(v,p,_){return`firebase:${v}:${p}:${_}`}class Ee{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:M,name:R}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,R),this.fullPersistenceKey=K("persistence",M.apiKey,R),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?$t._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Ee(oe(U),p,w);const M=(yield Promise.all(_.map(function(){var rt=(0,l.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let R=M[0]||oe(U);const W=K(w,p.config.apiKey,p.name);let ue=null;for(const rt of _)try{const Ct=yield rt._get(W);if(Ct){const bt=$t._fromJSON(p,Ct);rt!==R&&(ue=bt),R=rt;break}}catch{}const $e=M.filter(rt=>rt._shouldAllowMigration);return R._shouldAllowMigration&&$e.length?(R=$e[0],ue&&(yield R._set(W,ue.toJSON())),yield Promise.all(_.map(function(){var rt=(0,l.Z)(function*(Ct){if(Ct!==R)try{yield Ct._remove(W)}catch{}});return function(Ct){return rt.apply(this,arguments)}}())),new Ee(R,p,w)):new Ee(R,p,w)})()}}function X(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(En(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Qe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ge(p))return"Blackberry";if(Ye(p))return"Webos";if(yt(p))return"Safari";if((p.includes("chrome/")||nn(p))&&!p.includes("edge/"))return"Chrome";if(Xt(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Qe(v=(0,P.z$)()){return/firefox\//i.test(v)}function yt(v=(0,P.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function nn(v=(0,P.z$)()){return/crios\//i.test(v)}function En(v=(0,P.z$)()){return/iemobile/i.test(v)}function Xt(v=(0,P.z$)()){return/android/i.test(v)}function Ge(v=(0,P.z$)()){return/blackberry/i.test(v)}function Ye(v=(0,P.z$)()){return/webos/i.test(v)}function qt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function vo(v=(0,P.z$)()){return qt(v)||Xt(v)||Ye(v)||Ge(v)||/windows phone/i.test(v)||En(v)}function Ys(v,p=[]){let _;switch(v){case"Browser":_=X((0,P.z$)());break;case"Worker":_=`${X((0,P.z$)())}-${v}`;break;default:_=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${w}`}class la{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=R=>new Promise((W,ue)=>{try{W(p(R))}catch($e){ue($e)}});w.onAbort=_,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){var w;if(_.auth.currentUser===p)return;const M=[];try{for(const R of _.queue)yield R(p),R.onAbort&&M.push(R.onAbort)}catch(R){M.reverse();for(const W of M)try{W()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Gt{constructor(p,_,w){this.app=p,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bo(this),this.idTokenSubscription=new bo(this),this.beforeStateQueue=new la(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=oe(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,R;if(!w._deleted&&(w.persistenceManager=yield Ee.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var w;const M=yield _.assertedPersistence.getCurrentUser();let R=M,W=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ue=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,$e=R?._redirectEventId,rt=yield _.tryRedirectSignIn(p);(!ue||ue===$e)&&rt?.user&&(R=rt.user,W=!0)}if(!R)return _.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield _.beforeStateQueue.runMiddleware(R)}catch(ue){R=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ue))}return R?_.reloadAndSetCurrentUserOrClear(R):_.directlySetCurrentUser(null)}return j(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===R._redirectEventId?_.directlySetCurrentUser(R):_.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){var w;try{yield cn(p)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const w=p?(0,P.m9)(p):null;return w&&j(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&j(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&oe(p)||_._popupRedirectResolver;j(w,_,"argument-error"),_.redirectPersistenceManager=yield Ee.create(_,[oe(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,M){if(this._deleted)return()=>{};const R="function"==typeof _?_:_.next.bind(_),W=this._isInitialized?Promise.resolve():this._initializationPromise;return j(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof _?p.addObserver(_,w,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function xn(v){return(0,P.m9)(v)}class bo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(_=>this.observer=_)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rs(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Qs(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ri{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,_){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function ii(v,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:resetPassword",Vt(v,p))})).apply(this,arguments)}function gn(v,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mu(v,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:update",Vt(v,p))})).apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithPassword",Vt(v,p))})).apply(this,arguments)}function Xs(v,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:sendOobCode",Vt(v,p))})).apply(this,arguments)}function dn(v,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,l.Z)(function*(v,p){return Xs(v,p)})).apply(this,arguments)}function Ti(v,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,p){return Xs(v,p)})).apply(this,arguments)}function ec(v,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(v,p){return Xs(v,p)})).apply(this,arguments)}function Ou(v,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(v,p){return Xs(v,p)})).apply(this,arguments)}function Qd(){return(Qd=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,p))})).apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,p))})).apply(this,arguments)}class xu extends Ri{constructor(p,_,w,M=null){super("password",w),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new xu(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new xu(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Qa(v,p){return Vr.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Xf(v,p){return Qd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Oe(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return gn(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Jd(v,p){return Eo.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:Oe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function gi(v,p){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithIdp",Vt(v,p))})).apply(this,arguments)}class Cs extends Ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Cs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Oe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=_,R=(0,he._T)(_,["providerId","signInMethod"]);if(!w||!M)return null;const W=new Cs(w,M);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(p){return gi(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,gi(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,gi(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,P.xO)(_)}return p}}function bm(v,p){return eh.apply(this,arguments)}function eh(){return(eh=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:sendVerificationCode",Vt(v,p))})).apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,p))})).apply(this,arguments)}function th(){return(th=(0,l.Z)(function*(v,p){const _=yield sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,p));if(_.temporaryProof)throw Dr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Em={USER_NOT_FOUND:"user-not-found"};function nh(){return(nh=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Em)})).apply(this,arguments)}class to extends Ri{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new to({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new to({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Ru(v,p){return eo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function wm(v,p){return th.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Tm(v,p){return nh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:R}=p;return w||_||M||R?new to({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:R}):null}}class tc{constructor(p){var _,w,M,R,W,ue;const $e=(0,P.zd)((0,P.pd)(p)),rt=null!==(_=$e.apiKey)&&void 0!==_?_:null,Ct=null!==(w=$e.oobCode)&&void 0!==w?w:null,bt=function ih(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=$e.mode)&&void 0!==M?M:null);j(rt&&Ct&&bt,"argument-error"),this.apiKey=rt,this.operation=bt,this.code=Ct,this.continueUrl=null!==(R=$e.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=$e.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ue=$e.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const _=function rh(v){const p=(0,P.zd)((0,P.pd)(v)).link,_=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||_||p||v}(p);try{return new tc(_)}catch{return null}}}let ss=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,w){return xu._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=tc.parseLink(w);return j(M,"argument-error"),xu._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ds{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Is extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class To extends Is{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return j("providerId"in _&&"signInMethod"in _,"argument-error"),Cs._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),Cs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return To.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return To.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:R,nonce:W,providerId:ue}=p;if(!w&&!M&&!_&&!R||!ue)return null;try{return new To(ue)._credential({idToken:_,accessToken:w,nonce:W,pendingToken:R})}catch{return null}}}let Xa=(()=>{class v extends Is{constructor(){super("facebook.com")}static credential(_){return Cs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),nc=(()=>{class v extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Cs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return v.credential(w,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ku=(()=>{class v extends Is{constructor(){super("github.com")}static credential(_){return Cs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Yn extends Ri{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return gi(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,gi(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,gi(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:R}=_;return w&&M&&R&&w===M?new Yn(w,R):null}static _create(p,_){return new Yn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends Ds{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Sr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Sr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Yn.fromJSON(p);return j(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return Yn._create(w,_)}catch{return null}}}let lr=(()=>{class v extends Is{constructor(){super("twitter.com")}static credential(_,w){return Cs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return v.credential(w,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ca(v,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signUp",Vt(v,p))})).apply(this,arguments)}class ki{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,M=!1){return(0,l.Z)(function*(){const R=yield $t._fromIdTokenResponse(p,w,M),W=np(w);return new ki({user:R,providerId:W,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=np(w);return new ki({user:p,providerId:M,_tokenResponse:w,operationType:_})})()}}function np(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Un(){return(Un=(0,l.Z)(function*(v){var p;const _=xn(v);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new ki({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ca(_,{returnSecureToken:!0}),M=yield ki._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class rc extends P.ZR{constructor(p,_,w,M){var R;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,M){return new rc(p,_,w,M)}}function rp(v,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?rc._fromErrorAndOperation(v,R,p,w):R})}function Ar(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function sc(){return(sc=(0,l.Z)(function*(v,p){const _=(0,P.m9)(v);yield en(!0,_,p);const{providerUserInfo:w}=yield Vi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Ar(w||[]);return _.providerData=_.providerData.filter(R=>M.has(R.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ua(v,p){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(v,p,_=!1){const w=yield xi(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return ki._forOperation(v,"link",w)})).apply(this,arguments)}function en(v,p,_){return oc.apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(v,p,_){yield cn(p);const M=!1===v?"provider-already-linked":"no-such-provider";j(Ar(p.providerData).has(_)===v,p.auth,M)})).apply(this,arguments)}function Co(v,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(v,p,_=!1){var w;const{auth:M}=v,R="reauthenticate";try{const W=yield xi(v,rp(M,R,p,v),_);j(W.idToken,M,"internal-error");const ue=_t(W.idToken);j(ue,M,"internal-error");const{sub:$e}=ue;return j(v.uid===$e,M,"user-mismatch"),ki._forOperation(v,R,W)}catch(W){throw"auth/user-not-found"===(null===(w=W)||void 0===w?void 0:w.code)&&Oe(M,"user-mismatch"),W}})).apply(this,arguments)}function Hr(v,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(v,p,_=!1){const w="signIn",M=yield rp(v,w,p),R=yield ki._fromIdTokenResponse(v,w,M);return _||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Bn(v,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(v,p){return Hr(xn(v),p)})).apply(this,arguments)}function cc(v,p){return sp.apply(this,arguments)}function sp(){return(sp=(0,l.Z)(function*(v,p){const _=(0,P.m9)(v);return yield en(!1,_,p.providerId),ua(_,p)})).apply(this,arguments)}function uc(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(v,p){return Co((0,P.m9)(v),p)})).apply(this,arguments)}function Pu(v,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(v,p){return sr(v,"POST","/v1/accounts:signInWithCustomToken",Vt(v,p))})).apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(v,p){const _=xn(v),w=yield Pu(_,{token:p,returnSecureToken:!0}),M=yield ki._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ne{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Yt._fromServerResponse(p,_):Oe(p,"internal-error")}}class Yt extends Ne{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Yt(_)}}function hc(v,p,_){var w;j((null===(w=_.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),j(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(j(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(j(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Hn(){return(Hn=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v),M={requestType:"PASSWORD_RESET",email:p};_&&hc(w,M,_),yield Ti(w,M)})).apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(v,p,_){yield ii((0,P.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(v,p){yield Mu((0,P.m9)(v),{oobCode:p})})).apply(this,arguments)}function nl(v,p){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(v,p){const _=(0,P.m9)(v),w=yield ii(_,{oobCode:p}),M=w.requestType;switch(j(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(w.mfaInfo,_,"internal-error");default:j(w.email,_,"internal-error")}let R=null;return w.mfaInfo&&(R=Ne._fromServerResponse(xn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:M}})).apply(this,arguments)}function sh(){return(sh=(0,l.Z)(function*(v,p){const{data:_}=yield nl((0,P.m9)(v),p);return _.email})).apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(v,p,_){const w=xn(v),M=yield ca(w,{returnSecureToken:!0,email:p,password:_}),R=yield ki._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v),M={requestType:"EMAIL_SIGNIN",email:p};j(_.handleCodeInApp,w,"argument-error"),_&&hc(w,M,_),yield ec(w,M)})).apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v),M=ss.credentialWithLink(p,_||Ve());return j(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Bn(w,M)})).apply(this,arguments)}function Dm(v,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:createAuthUri",Vt(v,p))})).apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(v,p){const w={identifier:p,continueUri:wt()?Ve():"http://localhost"},{signinMethods:M}=yield Dm((0,P.m9)(v),w);return M||[]})).apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(v,p){const _=(0,P.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&hc(_.auth,M,p);const{email:R}=yield dn(_.auth,M);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&hc(w.auth,R,_);const{email:W}=yield Ou(w.auth,R);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function _c(v,p){return $u.apply(this,arguments)}function $u(){return($u=(0,l.Z)(function*(v,p){return vn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zu(){return(zu=(0,l.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,P.m9)(v),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},W=yield xi(w,_c(w.auth,R));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const ue=w.providerData.find(({providerId:$e})=>"password"===$e);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)})).apply(this,arguments)}function So(v,p,_){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(v,p,_){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),_&&(R.password=_);const W=yield xi(v,gn(w,R));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class cr{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class Mn extends cr{constructor(p,_,w,M){super(p,_,w),this.username=M}}class qu extends cr{constructor(p,_){super(p,"facebook.com",_)}}class Wu extends Mn{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class op extends cr{constructor(p,_){super(p,"google.com",_)}}class Zu extends Mn{constructor(p,_,w){super(p,"twitter.com",_,w)}}function vc(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function mi(v){var p,_;if(!v)return null;const{providerId:w}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const W=null===(_=null===(p=_t(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(W)return new cr(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new qu(R,M);case"github.com":return new Wu(R,M);case"google.com":return new op(R,M);case"twitter.com":return new Zu(R,M,v.screenName||null);case"custom":case"anonymous":return new cr(R,null);default:return new cr(R,w,M)}}(_)}class Mo{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new Mo("enroll",p,_)}static _fromMfaPendingCredential(p){return new Mo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Mo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Mo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class wc{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=xn(p),M=_.customData._serverResponse,R=(M.mfaInfo||[]).map(ue=>Ne._fromServerResponse(w,ue));j(M.mfaPendingCredential,w,"internal-error");const W=Mo._fromMfaPendingCredential(M.mfaPendingCredential);return new wc(W,R,function(){var ue=(0,l.Z)(function*($e){const rt=yield $e._process(w,W);delete M.mfaInfo,delete M.mfaPendingCredential;const Ct=Object.assign(Object.assign({},M),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const bt=yield ki._fromIdTokenResponse(w,_.operationType,Ct);return yield w._updateCurrentUser(bt.user),bt;case"reauthenticate":return j(_.user,w,"internal-error"),ki._forOperation(_.user,_.operationType,Ct);default:Oe(w,"internal-error")}});return function($e){return ue.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function Ec(v,p){return vn(v,"POST","/v2/accounts/mfaEnrollment:start",Vt(v,p))}class ap{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Ne._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ap(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Mo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,l.Z)(function*(){const M=p,R=yield w.getSession(),W=yield xi(w.user,M._process(w.user.auth,R,_));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){var w;const M="string"==typeof p?p:p.uid,R=yield _.user.getIdToken(),W=yield xi(_.user,function uh(v,p){return vn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(v,p))}(_.user.auth,{idToken:R,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ue})=>ue!==M),yield _.user._updateTokensIfNecessary(W);try{yield _.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(w=ue)||void 0===w?void 0:w.code))throw ue}})()}}const No=new WeakMap,Oo="__sak";class Cc{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ll=(()=>{class v extends Cc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function al(){const v=(0,P.z$)();return yt(v)||qt(v)}()&&function An(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),R=this.localCache[w];M!==R&&_(w,R,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ue,$e,rt)=>{this.notifyListeners(ue,rt)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(M);if(_.newValue!==ue)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const R=()=>{const ue=this.storage.getItem(M);!w&&this.localCache[M]===ue||this.notifyListeners(M,ue)},W=this.storage.getItem(M);!function pi(){return(0,P.w1)()&&10===document.documentMode}()||W===_.newValue||_.newValue===_.oldValue?R():setTimeout(R,10)}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const R of Array.from(M))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,R=this;return(0,l.Z)(function*(){yield M().call(R,_,w),R.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const R=yield w().call(M,_);return M.localCache[_]=JSON.stringify(R),R})()}_remove(_){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),as=(()=>{class v extends Cc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return v.type="SESSION",v})();let fh=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(R=>R.isListeningto(_));if(w)return w;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const M=_,{eventId:R,eventType:W,data:ue}=M.data,$e=w.handlersMap[W];if(!$e?.size)return;M.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const rt=Array.from($e).map(function(){var bt=(0,l.Z)(function*(_n){return _n(M.origin,ue)});return function(_n){return bt.apply(this,arguments)}}()),Ct=yield function ul(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:Ct})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function dl(v="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return v+_}class Ku{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var M=this;return(0,l.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,ue;return new Promise(($e,rt)=>{const Ct=dl("",20);R.port1.start();const bt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ue={messageChannel:R,onMessage(_n){const xr=_n;if(xr.data.eventId===Ct)switch(xr.data.status){case"ack":clearTimeout(bt),W=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),$e(xr.data.response);break;default:clearTimeout(bt),clearTimeout(W),rt(new Error("invalid_response"))}}},M.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),M.target.postMessage({eventType:p,eventId:Ct,data:_},[R.port2])}).finally(()=>{ue&&M.removeMessageHandler(ue)})})()}}function Qn(){return window}function Dc(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function hl(){return(hl=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ro="firebaseLocalStorageDb",so="firebaseLocalStorage",Ac="fbase_key";class Ro{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function fl(v,p){return v.transaction([so],p?"readwrite":"readonly").objectStore(so)}function ga(){const v=indexedDB.open(ro,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(so,{keyPath:Ac})}catch(M){_(M)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(so)?p(w):(w.close(),yield function gh(){const v=indexedDB.deleteDatabase(ro);return new Ro(v).toPromise()}(),p(yield ga()))}))})}function Os(v,p,_){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(v,p,_){const w=fl(v,!0).put({[Ac]:p,value:_});return new Ro(w).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(v,p){const _=fl(v,!1).get(p),w=yield new Ro(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ko(v,p){const _=fl(v,!0).delete(p);return new Ro(_).toPromise()}const ma=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ga()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const R=yield w._openDb();return yield _(R)}catch(R){if(M++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Dc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=fh._getInstance(function Sc(){return Dc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,R){return{keyProcessed:(yield _._poll()).includes(R.key)}});return function(M,R){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,R){return["keyChanged"]});return function(M,R){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function xo(){return hl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ku(_.activeServiceWorker);const R=yield _.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=R[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ic(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ga();return yield Os(_,Oo,"1"),yield ko(_,Oo),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(R=>Os(R,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(R=>function Mc(v,p){return pl.apply(this,arguments)}(R,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>ko(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(W=>{const ue=fl(W,!1).getAll();return new Ro(ue).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],R=new Set;for(const{fbase_key:W,value:ue}of w)R.add(W),JSON.stringify(_.localCache[W])!==JSON.stringify(ue)&&(_.notifyListeners(W,ue),M.push(W));for(const W of Object.keys(_.localCache))_.localCache[W]&&!R.has(W)&&(_.notifyListeners(W,null),M.push(W));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const R of Array.from(M))R(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function _a(v,p){return vn(v,"POST","/v2/accounts/mfaSignIn:start",Vt(v,p))}function oo(){return(oo=(0,l.Z)(function*(v){return(yield vn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function va(v){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=M=>{const R=be("internal-error");R.customData=M,_(R)},w.type="text/javascript",w.charset="UTF-8",function ya(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function xc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const gl=1e12;class Dn{constructor(p){this.auth=p,this.counter=gl,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new Im(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||gl;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||gl))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(p||gl))||void 0===w||w.execute(),""})()}}class Im{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;j(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vv(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sm=xc("rcb"),bv=new mn(3e4,6e4);class lp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Qn().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return j(function bE(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Qn().grecaptcha):new Promise((w,M)=>{const R=Qn().setTimeout(()=>{M(be(p,"network-request-failed"))},bv.get());Qn()[Sm]=()=>{Qn().clearTimeout(R),delete Qn()[Sm];const ue=Qn().grecaptcha;if(!ue)return void M(be(p,"internal-error"));const $e=ue.render;ue.render=(rt,Ct)=>{const bt=$e(rt,Ct);return this.counter++,bt},this.hostLanguage=_,w(ue)},va(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Sm,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(R),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Qn().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fo{load(p){return(0,l.Z)(function*(){return new Dn(p)})()}clearedOneInstance(){}}const Am="recaptcha",Mm={theme:"light",type:"image"};class Di{constructor(p,_=Object.assign({},Mm),w){this.parameters=_,this.type=Am,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(w),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;j(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fo:new lp,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(R=>{const W=ue=>{!ue||(p.tokenChangeListeners.delete(W),R(ue))};p.tokenChangeListeners.add(W),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=Qn()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){j(wt()&&!Dc(),p.auth,"internal-error"),yield function on(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ur(v){return oo.apply(this,arguments)}(p.auth);j(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dr{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=to._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function It(){return(It=(0,l.Z)(function*(v,p,_){const w=xn(v),M=yield ao(w,p,(0,P.m9)(_));return new dr(M,R=>Bn(w,R))})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v);yield en(!1,w,"phone");const M=yield ao(w.auth,p,(0,P.m9)(_));return new dr(M,R=>cc(w,R))})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v),M=yield ao(w.auth,p,(0,P.m9)(_));return new dr(M,R=>uc(w,R))})).apply(this,arguments)}function ao(v,p,_){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,l.Z)(function*(v,p,_){var w;const M=yield _.verify();try{let R;if(j("string"==typeof M,v,"argument-error"),j(_.type===Am,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const W=R.session;if("phoneNumber"in R)return j("enroll"===W.type,v,"internal-error"),(yield Ec(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{j("signin"===W.type,v,"internal-error");const ue=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return j(ue,v,"missing-multi-factor-info"),(yield _a(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield bm(v,{phoneNumber:R.phoneNumber,recaptchaToken:M});return W}}finally{_._reset()}})).apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(v,p){yield ua((0,P.m9)(v),p)})).apply(this,arguments)}let _l=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=xn(_)}verifyPhoneNumber(_,w){return ao(this.auth,_,(0,P.m9)(w))}static credential(_,w){return to._fromVerification(_,w)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?to._fromTokenResponse(w,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Lo(v,p){return p?oe(p):(j(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Rs extends Ri{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return gi(p,this._buildIdpRequest())}_linkToIdToken(p,_){return gi(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return gi(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Ze(v){return Hr(v.auth,new Rs(v),v.bypassAuthState)}function yl(v){const{auth:p,user:_}=v;return j(_,p,"internal-error"),Co(_,new Rs(v),v.bypassAuthState)}function lo(v){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(v){const{auth:p,user:_}=v;return j(_,p,"internal-error"),ua(_,new Rs(v),v.bypassAuthState)})).apply(this,arguments)}class Ea{constructor(p,_,w,M,R=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:R,tenantId:W,error:ue,type:$e}=p;if(ue)return void _.reject(ue);const rt={auth:_.auth,requestUri:w,sessionId:M,tenantId:W||void 0,postBody:R||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(rt))}catch(Ct){_.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ze;case"linkViaPopup":case"linkViaRedirect":return lo;case"reauthViaPopup":case"reauthViaRedirect":return yl;default:Oe(this.auth,"internal-error")}}resolve(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bn=new mn(2e3,1e4);function ks(){return(ks=(0,l.Z)(function*(v,p,_){const w=xn(v);qe(v,p,Ds);const M=Lo(w,_);return new Gr(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function ed(){return(ed=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v);qe(w.auth,p,Ds);const M=Lo(w.auth,_);return new Gr(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v);qe(w.auth,p,Ds);const M=Lo(w.auth,_);return new Gr(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let Gr=(()=>{class v extends Ea{constructor(_,w,M,R,W){super(_,w,R,W),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return j(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){Z(1===_.filter.length,"Popup operations only handle one event");const w=dl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(be(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,bn.get())};_()}}return v.currentPopupAction=null,v})();const zr=new Map;class td extends Ea{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=zr.get(_.auth._key());if(!w){try{const R=(yield function hr(v,p){return Xi.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(R)}catch(M){w=()=>Promise.reject(M)}zr.set(_.auth._key(),w)}return _.bypassAuthState||zr.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Xi(){return(Xi=(0,l.Z)(function*(v,p){const _=Tn(p),w=Ps(v);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function qr(v,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(v,p){return Ps(v)._set(Tn(p),"true")})).apply(this,arguments)}function co(v,p){zr.set(v._key(),p)}function Ps(v){return oe(v._redirectPersistence)}function Tn(v){return K("pendingRedirect",v.config.apiKey,v.name)}function D(){return(D=(0,l.Z)(function*(v,p,_){const w=xn(v);qe(v,p,Ds);const M=Lo(w,_);return yield qr(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v);qe(w.auth,p,Ds);const M=Lo(w.auth,_);yield qr(M,w.auth);const R=yield vt(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(v,p,_){const w=(0,P.m9)(v);qe(w.auth,p,Ds);const M=Lo(w.auth,_);yield en(!1,w,p.providerId),yield qr(M,w.auth);const R=yield vt(w);return M._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(v,p){return yield xn(v)._initializationPromise,St(v,p,!1)})).apply(this,arguments)}function St(v,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(v,p,_=!1){const w=xn(v),M=Lo(w,p),W=yield new td(w,M,_).execute();return W&&!_&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,p)),W})).apply(this,arguments)}function vt(v){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(v){const p=dl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Bo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ls(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lt(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!Lt(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(be(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fs(p))}saveEventToCache(p){this.cachedEventUids.add(Fs(p)),this.lastProcessedEventTime=Date.now()}}function Fs(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Lt({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function uo(v){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(v,p={}){return vn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Ta=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vo=/^https?/;function cp(){return(cp=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield uo(v);for(const _ of p)try{if(xm(_))return}catch{}Oe(v,"unauthorized-domain")})).apply(this,arguments)}function xm(v){const p=Ve(),{protocol:_,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===w?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&W.hostname===w}if(!Vo.test(_))return!1;if(Ta.test(v))return w===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Rm=new mn(3e4,6e4);function Ev(){const v=Qn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let cs=null;function up(v){return cs=cs||function _i(v){return new Promise((p,_)=>{var w,M,R;function W(){Ev(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ev(),_(be(v,"network-request-failed"))},timeout:Rm.get()})}if(null!==(M=null===(w=Qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Qn().gapi)||void 0===R||!R.load){const ue=xc("iframefcb");return Qn()[ue]=()=>{gapi.load?W():_(be(v,"network-request-failed"))},va(`https://apis.google.com/js/api.js?onload=${ue}`).catch($e=>_($e))}W()}}).catch(p=>{throw cs=null,p})}(v),cs}const km=new mn(5e3,15e3),Tv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pm(v){const p=v.config;j(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?Sn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:le.SDK_VERSION},M=hp.get(v.config.apiHost);M&&(w.eid=M);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${_}?${(0,P.xO)(w).slice(1)}`}function bl(){return bl=(0,l.Z)(function*(v){const p=yield up(v),_=Qn().gapi;return j(_,v,"internal-error"),p.open({where:document.body,url:Pm(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tv,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(R,W){yield w.restyle({setHideOnLeave:!1});const ue=be(v,"network-request-failed"),$e=Qn().setTimeout(()=>{W(ue)},km.get());function rt(){Qn().clearTimeout($e),R(w)}w.ping(rt).then(rt,()=>{W(ue)})});return function(R,W){return M.apply(this,arguments)}}()))}),bl.apply(this,arguments)}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jo(v,p,_,w,M,R){j(v.config.authDomain,v,"auth-domain-config-required"),j(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:w,v:le.SDK_VERSION,eventId:M};if(p instanceof Ds){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,rt]of Object.entries(R||{}))W[$e]=rt}if(p instanceof Is){const $e=p.getScopes().filter(rt=>""!==rt);$e.length>0&&(W.scopes=$e.join(","))}v.tenantId&&(W.tid=v.tenantId);const ue=W;for(const $e of Object.keys(ue))void 0===ue[$e]&&delete ue[$e];return`${function vh({config:v}){return v.emulator?Sn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,P.xO)(ue).slice(1)}`}const El="webStorageSupport";class Kr extends class Cv{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kr(p)}_finalizeEnroll(p,_,w){return function Tc(v,p){return vn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(v,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Oc(v,p){return vn(v,"POST","/v2/accounts/mfaSignIn:finalize",Vt(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $o=(()=>{class v{constructor(){}static assertion(_){return Kr._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var pp="@firebase/auth",gp="0.20.10";class Dv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tl(){return window}function Cl(){return(Cl=(0,l.Z)(function*(v,p,_){var w;const{BuildInfo:M}=Tl();Z(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Dl(p.sessionId),W={};return qt()?W.ibi=M.packageName:Xt()?W.apn=M.packageName:Oe(v,"operation-not-supported-in-this-environment"),M.displayName&&(W.appDisplayName=M.displayName),W.sessionId=R,jo(v,_,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,W)})).apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(v){const{BuildInfo:p}=Tl(),_={};qt()?_.iosBundleId=p.packageName:Xt()?_.androidPackageName=p.packageName:Oe(v,"operation-not-supported-in-this-environment"),yield uo(v,_)})).apply(this,arguments)}function Hm(){return(Hm=(0,l.Z)(function*(v,p,_){const{cordova:w}=Tl();let M=()=>{};try{yield new Promise((R,W)=>{let ue=null;function $e(){var bt;R();const _n=null===(bt=w.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof _n&&_n(),"function"==typeof _?.close&&_.close()}function rt(){ue||(ue=window.setTimeout(()=>{W(be(v,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===document?.visibilityState&&rt()}p.addPassiveListener($e),document.addEventListener("resume",rt,!1),Xt()&&document.addEventListener("visibilitychange",Ct,!1),M=()=>{p.removePassiveListener($e),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",Ct,!1),ue&&window.clearTimeout(ue)}})}finally{M()}})).apply(this,arguments)}function Dl(v){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(v){const p=rd(v),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rd(v){if(Z(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),_=new Uint8Array(p);for(let w=0;w<v.length;w++)_[w]=v.charCodeAt(w);return _}(0,P.Pz)("authIdTokenMaxAge"),function Sv(v){(0,le._registerComponent)(new ie.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:R,authDomain:W}=w.options;return((ue,$e)=>{j(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),j(!W?.includes(":"),"argument-error",{appName:ue.name});const rt={apiKey:R,authDomain:W,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ys(v)},Ct=new Gt(ue,$e,rt);return function Ue(v,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(oe);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(Ct,_),Ct})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ie.wA("auth-internal",p=>{const _=xn(p.getProvider("auth").getImmediate());return new Dv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(pp,gp,function Iv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,le.registerVersion)(pp,gp,"esm2017")}("Browser");class mp extends Bo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function $m(v){return _p.apply(this,arguments)}function _p(){return(_p=(0,l.Z)(function*(v){const p=yield Bc()._get(zo(v));return p&&(yield Bc()._remove(zo(v))),p})).apply(this,arguments)}function wh(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Bc(){return oe(ll)}function zo(v){return K("authEvent",v.config.apiKey,v.name)}function sd(v){if(!v?.includes("?"))return{};const[p,..._]=v.split("?");return(0,P.zd)(_.join("?"))}function Th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Dh(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Vc(v=(0,P.z$)()){return!("file:"!==Dh()&&"ionic:"!==Dh()&&"capacitor:"!==Dh()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Km(){try{const v=self.localStorage,p=dl();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Zm(v=(0,P.z$)()){return function qm(){return(0,P.w1)()&&11===document?.documentMode}()||function Wm(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch{return Ih()&&(0,P.hl)()}return!1}function Ih(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sh(){return(function DE(){return"http:"===Dh()||"https:"===Dh()}()||(0,P.ru)()||Vc())&&!function vp(){return(0,P.b$)()||(0,P.UG)()}()&&Km()&&!Ih()}function od(){return Vc()&&typeof document<"u"}function Ah(){return(Ah=(0,l.Z)(function*(){return!!od()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const er={LOCAL:"local",NONE:"none",SESSION:"session"},Or=j,Yr="persistence";function Uc(v){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(v){yield v._initializationPromise;const p=ld(),_=K(Yr,v.config.apiKey,v.name);p&&p.setItem(_,v._getPersistence())})).apply(this,arguments)}function ld(){var v;try{return(null===(v=function ad(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Mh=j;class ji{constructor(){this.browserResolver=oe(class Bm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=as,this._completeRedirectFn=St,this._overrideRedirectResult=co}_openPopup(p,_,w,M){var R=this;return(0,l.Z)(function*(){var W;Z(null===(W=R.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ue=jo(p,_,w,Ve(),M);return function Ho(v,p,_,w=500,M=600){const R=Math.max((window.screen.availHeight-M)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const $e=Object.assign(Object.assign({},mh),{width:w.toString(),height:M.toString(),top:R,left:W}),rt=(0,P.z$)().toLowerCase();_&&(ue=nn(rt)?"_blank":_),Qe(rt)&&(p=p||"http://localhost",$e.scrollbars="yes");const Ct=Object.entries($e).reduce((_n,[xr,Nl])=>`${_n}${xr}=${Nl},`,"");if(function ar(v=(0,P.z$)()){var p;return qt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ue)return function Lm(v,p){const _=document.createElement("a");_.href=v,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",ue),new nd(null);const bt=window.open(p||"",ue,Ct);j(bt,v,"popup-blocked");try{bt.focus()}catch{}return new nd(bt)}(p,ue,dl())})()}_openRedirect(p,_,w,M){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),function jr(v){Qn().location.href=v}(jo(p,_,w,Ve(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:R}=this.eventManagers[_];return M?Promise.resolve(M):(Z(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const w=yield function Fm(v){return bl.apply(this,arguments)}(p),M=new Bo(p);return w.register("authEvent",R=>(j(R?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(El,{type:El},M=>{var R;const W=null===(R=M?.[0])||void 0===R?void 0:R[El];void 0!==W&&_(!!W),Oe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Zr(v){return cp.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return vo()||yt()||qt()}}),this.cordovaResolver=oe(class Eh{constructor(){this._redirectPersistence=as,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=St,this._overrideRedirectResult=co}_initialize(p){var _=this;return(0,l.Z)(function*(){const w=p._key();let M=_.eventManagers.get(w);return M||(M=new mp(p),_.eventManagers.set(w,M),_.attachCallbackListeners(p,M)),M})()}_openPopup(p){Oe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,w,M){var R=this;return(0,l.Z)(function*(){!function CE(v){var p,_,w,M,R,W,ue,$e,rt,Ct;const bt=Tl();j("function"==typeof(null===(p=bt?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(_=bt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(R=null===(M=null===(w=bt?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===($e=null===(ue=null===(W=bt?.cordova)||void 0===W?void 0:W.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===$e?void 0:$e.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Ct=null===(rt=bt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===Ct?void 0:Ct.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield R._initialize(p);yield W.initialized(),W.resetRedirect(),function Gn(){zr.clear()}(),yield R._originValidation(p);const ue=function jm(v,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:wh(),postBody:null,tenantId:v.tenantId,error:be(v,"no-auth-event")}}(p,w,M);yield function Lc(v,p){return Bc()._set(zo(v),p)}(p,ue);const $e=yield function us(v,p,_){return Cl.apply(this,arguments)}(p,ue,_),rt=yield function Mv(v){const{cordova:p}=Tl();return new Promise(_=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(v):M=p.InAppBrowser.open(v,function Ei(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(M)})})}($e);return function TE(v,p,_){return Hm.apply(this,arguments)}(p,W,rt)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ca(v){return Fc.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:w,handleOpenURL:M,BuildInfo:R}=Tl(),W=setTimeout((0,l.Z)(function*(){yield $m(p),_.onEvent(Th())}),500),ue=function(){var Ct=(0,l.Z)(function*(bt){clearTimeout(W);const _n=yield $m(p);let xr=null;_n&&bt?.url&&(xr=function yp(v,p){var _,w;const M=function zn(v){const p=sd(v),_=p.link?decodeURIComponent(p.link):void 0,w=sd(_).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return sd(M).link||M||w||_||v}(p);if(M.includes("/__/auth/callback")){const R=sd(M),W=R.firebaseError?function Ov(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(w=null===(_=W?.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],$e=ue?be(ue):null;return $e?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:M,postBody:null}}return null}(_n,bt.url)),_.onEvent(xr||Th())});return function(_n){return Ct.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const $e=M,rt=`${R.packageName.toLowerCase()}://`;Tl().handleOpenURL=function(){var Ct=(0,l.Z)(function*(bt){if(bt.toLowerCase().startsWith(rt)&&ue({url:bt}),"function"==typeof $e)try{$e(bt)}catch(_n){console.error(_n)}});return function(bt){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=as,this._completeRedirectFn=St,this._overrideRedirectResult=co}_initialize(p){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,w,M){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,_,w,M)})()}_openRedirect(p,_,w,M){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,_,w,M)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return od()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const _=yield function IE(){return Ah.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Nh(v){return v.unwrap()}function Qm(v){return ud(v)}function ud(v){const{_tokenResponse:p}=v instanceof P.ZR?v.customData:v;if(!p)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return _l.credentialFromResult(v);const _=p.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=nc;break;case"facebook.com":w=Xa;break;case"github.com":w=ku;break;case"twitter.com":w=lr;break;default:const{oauthIdToken:M,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:ue,nonce:$e}=p;return R||W||M||ue?ue?_.startsWith("saml.")?Yn._create(_,ue):Cs._fromParams({providerId:_,signInMethod:_,pendingToken:ue,idToken:M,accessToken:R}):new To(_).credential({idToken:M,accessToken:R,rawNonce:$e}):null}return v instanceof P.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Ii(v,p){return p.catch(_=>{throw _ instanceof P.ZR&&function bp(v,p){var _,w;const M=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Rv(v,function $n(v,p){var _;const w=(0,P.m9)(v),M=p;return j(p.customData.operationType,w,"argument-error"),j(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),wc._fromError(w,M)}(v,p));else if(M){const R=ud(p),W=p;R&&(W.credential=R,W.tenantId=M.tenantId||void 0,W.email=M.email||void 0,W.phoneNumber=M.phoneNumber||void 0)}}(v,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:Qm(_),additionalUserInfo:vc(_),user:Ls.getOrCreate(M)}})}function Al(v,p){return wp.apply(this,arguments)}function wp(){return(wp=(0,l.Z)(function*(v,p){const _=yield p;return{verificationId:_.verificationId,confirm:w=>Ii(v,_.confirm(w))}})).apply(this,arguments)}class Rv{constructor(p,_){this.resolver=_,this.auth=function cd(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ii(Nh(this.auth),this.resolver.resolveSignIn(p))}}class Ls{constructor(p){this._delegate=p,this.multiFactor=function pa(v){const p=(0,P.m9)(v);return No.has(p)||No.set(p,ap._fromUser(p)),No.get(p)}(p)}static getOrCreate(p){return Ls.USER_MAP.has(p)||Ls.USER_MAP.set(p,new Ls(p)),Ls.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,l.Z)(function*(){return Ii(_.auth,cc(_._delegate,p))})()}linkWithPhoneNumber(p,_){var w=this;return(0,l.Z)(function*(){return Al(w.auth,function an(v,p,_){return $r.apply(this,arguments)}(w._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,l.Z)(function*(){return Ii(_.auth,function kc(v,p,_){return vl.apply(this,arguments)}(_._delegate,p,ji))})()}linkWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield Uc(xn(_.auth)),function J(v,p,_){return function se(v,p,_){return Ce.apply(this,arguments)}(v,p,_)}(_._delegate,p,ji)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,l.Z)(function*(){return Ii(_.auth,uc(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return Al(this.auth,function ml(v,p,_){return Rn.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Ii(this.auth,function Om(v,p,_){return ed.apply(this,arguments)}(this._delegate,p,ji))}reauthenticateWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield Uc(xn(_.auth)),function S(v,p,_){return function N(v,p,_){return V.apply(this,arguments)}(v,p,_)}(_._delegate,p,ji)})()}sendEmailVerification(p){return function Hu(v,p){return ol.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,l.Z)(function*(){return yield function Ji(v,p){return sc.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function oh(v,p){return So((0,P.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function Io(v,p){return So((0,P.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Nm(v,p){return Ju.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Gu(v,p){return zu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function ju(v,p,_){return mc.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const Da=j;let Ep=(()=>{class v{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;Da(M,"invalid-api-key",{appName:_.name}),Da(M,"invalid-api-key",{appName:_.name});const R=typeof window<"u"?ji:void 0;this._delegate=w.initialize({options:{persistence:Jm(M,_.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function Jl(v,p,_){const w=xn(v);j(w._canInitEmulator,w,"emulator-config-failed"),j(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!_?.disableWarnings,R=rs(p),{host:W,port:ue}=function ni(v){const p=rs(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const R=M[1];return{host:R,port:Qs(w.substr(R.length+1))}}{const[R,W]=w.split(":");return{host:R,port:Qs(W)}}}(p);w.config.emulator={url:`${R}//${W}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Js(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,w)}applyActionCode(_){return function Mr(v,p){return tl.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return nl(this._delegate,_)}confirmPasswordReset(_,w){return function pc(v,p,_){return da.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var M=this;return(0,l.Z)(function*(){return Ii(M._delegate,function il(v,p,_){return jn.apply(this,arguments)}(M._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function gc(v,p){return sl.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ns(v,p){return"EMAIL_SIGNIN"===tc.parseLink(p)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Da(Sh(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function Pe(v,p){return ct.apply(this,arguments)}(_._delegate,ji);return w?Ii(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Il(v,p){xn(v)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,w,M){const{next:R,error:W,complete:ue}=Oh(_,w,M);return this._delegate.onAuthStateChanged(R,W,ue)}onIdTokenChanged(_,w,M){const{next:R,error:W,complete:ue}=Oh(_,w,M);return this._delegate.onIdTokenChanged(R,W,ue)}sendSignInLinkToEmail(_,w){return function Vu(v,p,_){return Do.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function fc(v,p,_){return Hn.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,l.Z)(function*(){let M;switch(function Ym(v,p){Or(Object.values(er).includes(p),v,"invalid-persistence-type"),(0,P.b$)()?Or(p!==er.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?Or(p===er.NONE,v,"unsupported-persistence-type"):Ih()?Or(p===er.NONE||p===er.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):Or(p===er.NONE||Km(),v,"unsupported-persistence-type")}(w._delegate,_),_){case er.SESSION:M=as;break;case er.LOCAL:M=(yield oe(ma)._isAvailable())?ma:ll;break;case er.NONE:M=U;break;default:return Oe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Ii(this._delegate,function ip(v){return Un.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Ii(this._delegate,Bn(this._delegate,_))}signInWithCustomToken(_){return Ii(this._delegate,function Fu(v,p){return el.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return Ii(this._delegate,function os(v,p,_){return Bn((0,P.m9)(v),ss.credential(p,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return Ii(this._delegate,function Cm(v,p,_){return rl.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Al(this._delegate,function Xe(v,p,_){return It.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,l.Z)(function*(){return Da(Sh(),w._delegate,"operation-not-supported-in-this-environment"),Ii(w._delegate,function Xu(v,p,_){return ks.apply(this,arguments)}(w._delegate,_,ji))})()}signInWithRedirect(_){var w=this;return(0,l.Z)(function*(){return Da(Sh(),w._delegate,"operation-not-supported-in-this-environment"),yield Uc(w._delegate),function Ut(v,p,_){return function Wr(v,p,_){return D.apply(this,arguments)}(v,p,_)}(w._delegate,_,ji)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Bu(v,p){return sh.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=er,v})();function Oh(v,p,_){let w=v;"function"!=typeof v&&({next:w,error:p,complete:_}=v);const M=w;return{next:W=>M(W&&Ls.getOrCreate(W)),error:p,complete:_}}function Jm(v,p){const _=function Sl(v,p){const _=ld();if(!_)return[];const w=K(Yr,v,p);switch(_.getItem(w)){case er.NONE:return[U];case er.LOCAL:return[ma,as];case er.SESSION:return[as];default:return[]}}(v,p);if(typeof self<"u"&&!_.includes(ma)&&_.push(ma),typeof window<"u")for(const w of[ll,as])_.includes(w)||_.push(w);return _.includes(U)||_.push(U),_}class xh{constructor(){this.providerId="phone",this._delegate=new _l(Nh(te.Z.auth()))}static credential(p,_){return _l.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}xh.PHONE_SIGN_IN_METHOD=_l.PHONE_SIGN_IN_METHOD,xh.PROVIDER_ID=_l.PROVIDER_ID;const Rh=j;class kh{constructor(p,_,w=te.Z.app()){var M;Rh(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Di(p,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kv(v){v.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Ep(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ss,FacebookAuthProvider:Xa,GithubAuthProvider:ku,GoogleAuthProvider:nc,OAuthProvider:To,SAMLAuthProvider:Sr,PhoneAuthProvider:xh,PhoneMultiFactorGenerator:$o,RecaptchaVerifier:kh,TwitterAuthProvider:lr,Auth:Ep,AuthCredential:Ri,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.23")}(te.Z)},9751:(mt,Ie,F)=>{F.d(Ie,{y:()=>fe});var l=F(930),te=F(727),P=F(8822),le=F(9635),ce=F(2416),he=F(576),ie=F(2806);let fe=(()=>{class Q{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Te=new Q;return Te.source=this,Te.operator=Re,Te}subscribe(Re,Te,lt){const ye=function G(Q){return Q&&Q instanceof l.Lv||function $(Q){return Q&&(0,he.m)(Q.next)&&(0,he.m)(Q.error)&&(0,he.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(Re)?Re:new l.Hp(Re,Te,lt);return(0,ie.x)(()=>{const{operator:ge,source:st}=this;ye.add(ge?ge.call(ye,st):st?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Te){Re.error(Te)}}forEach(Re,Te){return new(Te=pe(Te))((lt,ye)=>{const ge=new l.Hp({next:st=>{try{Re(st)}catch(ft){ye(ft),ge.unsubscribe()}},error:ye,complete:lt});this.subscribe(ge)})}_subscribe(Re){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Re)}[P.L](){return this}pipe(...Re){return(0,le.U)(Re)(this)}toPromise(Re){return new(Re=pe(Re))((Te,lt)=>{let ye;this.subscribe(ge=>ye=ge,ge=>lt(ge),()=>Te(ye))})}}return Q.create=je=>new Q(je),Q})();function pe(Q){var je;return null!==(je=Q??ce.v.Promise)&&void 0!==je?je:Promise}},7579:(mt,Ie,F)=>{F.d(Ie,{x:()=>ie});var l=F(9751),te=F(727);const le=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(8737),he=F(2806);let ie=(()=>{class pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new fe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new le}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:je,observers:Re}=this;return Q||je?te.Lc:(this.currentObservers=null,Re.push(G),new te.w0(()=>{this.currentObservers=null,(0,ce.P)(Re,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:je,isStopped:Re}=this;Q?G.error(je):Re&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return pe.create=($,G)=>new fe($,G),pe})();class fe extends ie{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,$)}error($){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==Q?Q:te.Lc}}},930:(mt,Ie,F)=>{F.d(Ie,{Hp:()=>lt,Lv:()=>Q});var l=F(576),te=F(727),P=F(2416),le=F(7849),ce=F(5032);const he=pe("C",void 0,void 0);function pe(Oe,be,De){return{kind:Oe,value:be,error:De}}var $=F(3410),G=F(2806);class Q extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=ft}static create(be,De,qe){return new lt(be,De,qe)}next(be){this.isStopped?st(function fe(Oe){return pe("N",Oe,void 0)}(be),this):this._next(be)}error(be){this.isStopped?st(function ie(Oe){return pe("E",void 0,Oe)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?st(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Re(Oe,be){return je.call(Oe,be)}class Te{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(qe){ye(qe)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(qe){ye(qe)}else ye(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){ye(De)}}}class lt extends Q{constructor(be,De,qe){let We;if(super(),(0,l.m)(be)||!be)We={next:be??void 0,error:De??void 0,complete:qe??void 0};else{let j;this&&P.v.useDeprecatedNextContext?(j=Object.create(be),j.unsubscribe=()=>this.unsubscribe(),We={next:be.next&&Re(be.next,j),error:be.error&&Re(be.error,j),complete:be.complete&&Re(be.complete,j)}):We=be}this.destination=new Te(We)}}function ye(Oe){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Oe):(0,le.h)(Oe)}function st(Oe,be){const{onStoppedNotification:De}=P.v;De&&$.z.setTimeout(()=>De(Oe,be))}const ft={closed:!0,next:ce.Z,error:function ge(Oe){throw Oe},complete:ce.Z}},727:(mt,Ie,F)=>{F.d(Ie,{Lc:()=>he,w0:()=>ce,Nn:()=>ie});var l=F(576);const P=(0,F(3888).d)(pe=>function(G){pe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,je)=>`${je+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var le=F(8737);class ce{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Re of G)Re.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(Re){$=Re instanceof P?Re.errors:[Re]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Re of je)try{fe(Re)}catch(Te){$=$??[],Te instanceof P?$=[...$,...Te.errors]:$.push(Te)}}if($)throw new P($)}}add($){var G;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof ce){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,le.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,le.P)(G,$),$ instanceof ce&&$._removeParent(this)}}ce.EMPTY=(()=>{const pe=new ce;return pe.closed=!0,pe})();const he=ce.EMPTY;function ie(pe){return pe instanceof ce||pe&&"closed"in pe&&(0,l.m)(pe.remove)&&(0,l.m)(pe.add)&&(0,l.m)(pe.unsubscribe)}function fe(pe){(0,l.m)(pe)?pe():pe.unsubscribe()}},2416:(mt,Ie,F)=>{F.d(Ie,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ie,F)=>{F.d(Ie,{E:()=>te});const te=new(F(9751).y)(ce=>ce.complete())},8996:(mt,Ie,F)=>{F.d(Ie,{D:()=>be});var l=F(8421),te=F(5363),P=F(9468),he=F(9751),fe=F(2202),pe=F(576),$=F(9672);function Q(De,qe){if(!De)throw new Error("Iterable cannot be null");return new he.y(We=>{(0,$.f)(We,qe,()=>{const j=De[Symbol.asyncIterator]();(0,$.f)(We,qe,()=>{j.next().then(_e=>{_e.done?We.complete():We.next(_e.value)})},0,!0)})})}var je=F(3670),Re=F(8239),Te=F(1144),lt=F(6495),ye=F(2206),ge=F(4532),st=F(3260);function be(De,qe){return qe?function Oe(De,qe){if(null!=De){if((0,je.c)(De))return function le(De,qe){return(0,l.Xf)(De).pipe((0,P.R)(qe),(0,te.Q)(qe))}(De,qe);if((0,Te.z)(De))return function ie(De,qe){return new he.y(We=>{let j=0;return qe.schedule(function(){j===De.length?We.complete():(We.next(De[j++]),We.closed||this.schedule())})})}(De,qe);if((0,Re.t)(De))return function ce(De,qe){return(0,l.Xf)(De).pipe((0,P.R)(qe),(0,te.Q)(qe))}(De,qe);if((0,ye.D)(De))return Q(De,qe);if((0,lt.T)(De))return function G(De,qe){return new he.y(We=>{let j;return(0,$.f)(We,qe,()=>{j=De[fe.h](),(0,$.f)(We,qe,()=>{let _e,Z;try{({value:_e,done:Z}=j.next())}catch(ee){return void We.error(ee)}Z?We.complete():We.next(_e)},0,!0)}),()=>(0,pe.m)(j?.return)&&j.return()})}(De,qe);if((0,st.L)(De))return function ft(De,qe){return Q((0,st.Q)(De),qe)}(De,qe)}throw(0,ge.z)(De)}(De,qe):(0,l.Xf)(De)}},8421:(mt,Ie,F)=>{F.d(Ie,{Xf:()=>je});var l=F(655),te=F(1144),P=F(8239),le=F(9751),ce=F(3670),he=F(2206),ie=F(4532),fe=F(6495),pe=F(3260),$=F(576),G=F(7849),Q=F(8822);function je(Oe){if(Oe instanceof le.y)return Oe;if(null!=Oe){if((0,ce.c)(Oe))return function Re(Oe){return new le.y(be=>{const De=Oe[Q.L]();if((0,$.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,te.z)(Oe))return function Te(Oe){return new le.y(be=>{for(let De=0;De<Oe.length&&!be.closed;De++)be.next(Oe[De]);be.complete()})}(Oe);if((0,P.t)(Oe))return function lt(Oe){return new le.y(be=>{Oe.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,G.h)})}(Oe);if((0,he.D)(Oe))return ge(Oe);if((0,fe.T)(Oe))return function ye(Oe){return new le.y(be=>{for(const De of Oe)if(be.next(De),be.closed)return;be.complete()})}(Oe);if((0,pe.L)(Oe))return function st(Oe){return ge((0,pe.Q)(Oe))}(Oe)}throw(0,ie.z)(Oe)}function ge(Oe){return new le.y(be=>{(function ft(Oe,be){var De,qe,We,j;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Oe);!(qe=yield De.next()).done;)if(be.next(qe.value),be.closed)return}catch(_e){We={error:_e}}finally{try{qe&&!qe.done&&(j=De.return)&&(yield j.call(De))}finally{if(We)throw We.error}}be.complete()})})(Oe,be).catch(De=>be.error(De))})}},6451:(mt,Ie,F)=>{F.d(Ie,{T:()=>he});var l=F(8189),te=F(8421),P=F(515),le=F(3269),ce=F(8996);function he(...ie){const fe=(0,le.yG)(ie),pe=(0,le._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,te.Xf)($[0]):(0,l.J)(pe)((0,ce.D)($,fe)):P.E}},5403:(mt,Ie,F)=>{F.d(Ie,{x:()=>te});var l=F(930);function te(le,ce,he,ie,fe){return new P(le,ce,he,ie,fe)}class P extends l.Lv{constructor(ce,he,ie,fe,pe,$){super(ce),this.onFinalize=pe,this.shouldUnsubscribe=$,this._next=he?function(G){try{he(G)}catch(Q){ce.error(Q)}}:super._next,this._error=fe?function(G){try{fe(G)}catch(Q){ce.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(mt,Ie,F)=>{F.d(Ie,{U:()=>P});var l=F(4482),te=F(5403);function P(le,ce){return(0,l.e)((he,ie)=>{let fe=0;he.subscribe((0,te.x)(ie,pe=>{ie.next(le.call(ce,pe,fe++))}))})}},8189:(mt,Ie,F)=>{F.d(Ie,{J:()=>P});var l=F(5577),te=F(4671);function P(le=1/0){return(0,l.z)(te.y,le)}},5577:(mt,Ie,F)=>{F.d(Ie,{z:()=>fe});var l=F(4004),te=F(8421),P=F(4482),le=F(9672),ce=F(5403),ie=F(576);function fe(pe,$,G=1/0){return(0,ie.m)($)?fe((Q,je)=>(0,l.U)((Re,Te)=>$(Q,Re,je,Te))((0,te.Xf)(pe(Q,je))),G):("number"==typeof $&&(G=$),(0,P.e)((Q,je)=>function he(pe,$,G,Q,je,Re,Te,lt){const ye=[];let ge=0,st=0,ft=!1;const Oe=()=>{ft&&!ye.length&&!ge&&$.complete()},be=qe=>ge<Q?De(qe):ye.push(qe),De=qe=>{Re&&$.next(qe),ge++;let We=!1;(0,te.Xf)(G(qe,st++)).subscribe((0,ce.x)($,j=>{je?.(j),Re?be(j):$.next(j)},()=>{We=!0},void 0,()=>{if(We)try{for(ge--;ye.length&&ge<Q;){const j=ye.shift();Te?(0,le.f)($,Te,()=>De(j)):De(j)}Oe()}catch(j){$.error(j)}}))};return pe.subscribe((0,ce.x)($,be,()=>{ft=!0,Oe()})),()=>{lt?.()}}(Q,je,pe,G)))}},5363:(mt,Ie,F)=>{F.d(Ie,{Q:()=>le});var l=F(9672),te=F(4482),P=F(5403);function le(ce,he=0){return(0,te.e)((ie,fe)=>{ie.subscribe((0,P.x)(fe,pe=>(0,l.f)(fe,ce,()=>fe.next(pe),he),()=>(0,l.f)(fe,ce,()=>fe.complete(),he),pe=>(0,l.f)(fe,ce,()=>fe.error(pe),he)))})}},3099:(mt,Ie,F)=>{F.d(Ie,{B:()=>ce});var l=F(8421),te=F(7579),P=F(930),le=F(4482);function ce(ie={}){const{connector:fe=(()=>new te.x),resetOnError:pe=!0,resetOnComplete:$=!0,resetOnRefCountZero:G=!0}=ie;return Q=>{let je,Re,Te,lt=0,ye=!1,ge=!1;const st=()=>{Re?.unsubscribe(),Re=void 0},ft=()=>{st(),je=Te=void 0,ye=ge=!1},Oe=()=>{const be=je;ft(),be?.unsubscribe()};return(0,le.e)((be,De)=>{lt++,!ge&&!ye&&st();const qe=Te=Te??fe();De.add(()=>{lt--,0===lt&&!ge&&!ye&&(Re=he(Oe,G))}),qe.subscribe(De),!je&&lt>0&&(je=new P.Hp({next:We=>qe.next(We),error:We=>{ge=!0,st(),Re=he(ft,pe,We),qe.error(We)},complete:()=>{ye=!0,st(),Re=he(ft,$),qe.complete()}}),(0,l.Xf)(be).subscribe(je))})(Q)}}function he(ie,fe,...pe){if(!0===fe)return void ie();if(!1===fe)return;const $=new P.Hp({next:()=>{$.unsubscribe(),ie()}});return fe(...pe).subscribe($)}},9468:(mt,Ie,F)=>{F.d(Ie,{R:()=>te});var l=F(4482);function te(P,le=0){return(0,l.e)((ce,he)=>{he.add(P.schedule(()=>ce.subscribe(he),le))})}},8505:(mt,Ie,F)=>{F.d(Ie,{b:()=>ce});var l=F(576),te=F(4482),P=F(5403),le=F(4671);function ce(he,ie,fe){const pe=(0,l.m)(he)||ie||fe?{next:he,error:ie,complete:fe}:he;return pe?(0,te.e)(($,G)=>{var Q;null===(Q=pe.subscribe)||void 0===Q||Q.call(pe);let je=!0;$.subscribe((0,P.x)(G,Re=>{var Te;null===(Te=pe.next)||void 0===Te||Te.call(pe,Re),G.next(Re)},()=>{var Re;je=!1,null===(Re=pe.complete)||void 0===Re||Re.call(pe),G.complete()},Re=>{var Te;je=!1,null===(Te=pe.error)||void 0===Te||Te.call(pe,Re),G.error(Re)},()=>{var Re,Te;je&&(null===(Re=pe.unsubscribe)||void 0===Re||Re.call(pe)),null===(Te=pe.finalize)||void 0===Te||Te.call(pe)}))}):le.y}},4408:(mt,Ie,F)=>{F.d(Ie,{o:()=>ce});var l=F(727);class te extends l.w0{constructor(ie,fe){super()}schedule(ie,fe=0){return this}}const P={setInterval(he,ie,...fe){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(he,ie,...fe):setInterval(he,ie,...fe)},clearInterval(he){const{delegate:ie}=P;return(ie?.clearInterval||clearInterval)(he)},delegate:void 0};var le=F(8737);class ce extends te{constructor(ie,fe){super(ie,fe),this.scheduler=ie,this.work=fe,this.pending=!1}schedule(ie,fe=0){var pe;if(this.closed)return this;this.state=ie;const $=this.id,G=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(G,$,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(G,this.id,fe),this}requestAsyncId(ie,fe,pe=0){return P.setInterval(ie.flush.bind(ie,this),pe)}recycleAsyncId(ie,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ie,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,fe){let $,pe=!1;try{this.work(ie)}catch(G){pe=!0,$=G||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(pe,this),null!=ie&&(this.id=this.recycleAsyncId(fe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Ie,F)=>{F.d(Ie,{v:()=>P});var l=F(6063);class te{constructor(ce,he=te.now){this.schedulerActionCtor=ce,this.now=he}schedule(ce,he=0,ie){return new this.schedulerActionCtor(this,ce).schedule(ie,he)}}te.now=l.l.now;class P extends te{constructor(ce,he=te.now){super(ce,he),this.actions=[],this._active=!1}flush(ce){const{actions:he}=this;if(this._active)return void he.push(ce);let ie;this._active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=he.shift());if(this._active=!1,ie){for(;ce=he.shift();)ce.unsubscribe();throw ie}}}},4986:(mt,Ie,F)=>{F.d(Ie,{P:()=>le,z:()=>P});var l=F(4408);const P=new(F(7565).v)(l.o),le=P},6063:(mt,Ie,F)=>{F.d(Ie,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(mt,Ie,F)=>{F.d(Ie,{z:()=>l});const l={setTimeout(te,P,...le){const{delegate:ce}=l;return ce?.setTimeout?ce.setTimeout(te,P,...le):setTimeout(te,P,...le)},clearTimeout(te){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(mt,Ie,F)=>{F.d(Ie,{h:()=>te});const te=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ie,F)=>{F.d(Ie,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ie,F)=>{F.d(Ie,{_6:()=>he,jO:()=>le,yG:()=>ce});var l=F(576),te=F(3532);function P(ie){return ie[ie.length-1]}function le(ie){return(0,l.m)(P(ie))?ie.pop():void 0}function ce(ie){return(0,te.K)(P(ie))?ie.pop():void 0}function he(ie,fe){return"number"==typeof P(ie)?ie.pop():fe}},8737:(mt,Ie,F)=>{function l(te,P){if(te){const le=te.indexOf(P);0<=le&&te.splice(le,1)}}F.d(Ie,{P:()=>l})},3888:(mt,Ie,F)=>{function l(te){const le=te(ce=>{Error.call(ce),ce.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ie,{d:()=>l})},2806:(mt,Ie,F)=>{F.d(Ie,{O:()=>le,x:()=>P});var l=F(2416);let te=null;function P(ce){if(l.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),ce(),he){const{errorThrown:ie,error:fe}=te;if(te=null,ie)throw fe}}else ce()}function le(ce){l.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ce)}},9672:(mt,Ie,F)=>{function l(te,P,le,ce=0,he=!1){const ie=P.schedule(function(){le(),he?te.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(te.add(ie),!he)return ie}F.d(Ie,{f:()=>l})},4671:(mt,Ie,F)=>{function l(te){return te}F.d(Ie,{y:()=>l})},1144:(mt,Ie,F)=>{F.d(Ie,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(mt,Ie,F)=>{F.d(Ie,{D:()=>te});var l=F(576);function te(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(mt,Ie,F)=>{function l(te){return"function"==typeof te}F.d(Ie,{m:()=>l})},3670:(mt,Ie,F)=>{F.d(Ie,{c:()=>P});var l=F(8822),te=F(576);function P(le){return(0,te.m)(le[l.L])}},6495:(mt,Ie,F)=>{F.d(Ie,{T:()=>P});var l=F(2202),te=F(576);function P(le){return(0,te.m)(le?.[l.h])}},8239:(mt,Ie,F)=>{F.d(Ie,{t:()=>te});var l=F(576);function te(P){return(0,l.m)(P?.then)}},3260:(mt,Ie,F)=>{F.d(Ie,{L:()=>le,Q:()=>P});var l=F(655),te=F(576);function P(ce){return(0,l.FC)(this,arguments,function*(){const ie=ce.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,l.qq)(ie.read());if(pe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{ie.releaseLock()}})}function le(ce){return(0,te.m)(ce?.getReader)}},3532:(mt,Ie,F)=>{F.d(Ie,{K:()=>te});var l=F(576);function te(P){return P&&(0,l.m)(P.schedule)}},4482:(mt,Ie,F)=>{F.d(Ie,{A:()=>te,e:()=>P});var l=F(576);function te(le){return(0,l.m)(le?.lift)}function P(le){return ce=>{if(te(ce))return ce.lift(function(he){try{return le(he,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ie,F)=>{function l(){}F.d(Ie,{Z:()=>l})},9635:(mt,Ie,F)=>{F.d(Ie,{U:()=>P,z:()=>te});var l=F(4671);function te(...le){return P(le)}function P(le){return 0===le.length?l.y:1===le.length?le[0]:function(he){return le.reduce((ie,fe)=>fe(ie),he)}}},7849:(mt,Ie,F)=>{F.d(Ie,{h:()=>P});var l=F(2416),te=F(3410);function P(le){te.z.setTimeout(()=>{const{onUnhandledError:ce}=l.v;if(!ce)throw le;ce(le)})}},4532:(mt,Ie,F)=>{function l(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>l})},655:(mt,Ie,F)=>{function le(Z,ee){var oe={};for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&ee.indexOf(re)<0&&(oe[re]=Z[re]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(re=Object.getOwnPropertySymbols(Z);Ue<re.length;Ue++)ee.indexOf(re[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Z,re[Ue])&&(oe[re[Ue]]=Z[re[Ue]])}return oe}function fe(Z,ee,oe,re){return new(oe||(oe=Promise))(function(Ve,wt){function rn(mn){try{tt(re.next(mn))}catch(Sn){wt(Sn)}}function Zt(mn){try{tt(re.throw(mn))}catch(Sn){wt(Sn)}}function tt(mn){mn.done?Ve(mn.value):function Ue(Ve){return Ve instanceof oe?Ve:new oe(function(wt){wt(Ve)})}(mn.value).then(rn,Zt)}tt((re=re.apply(Z,ee||[])).next())})}function ye(Z){return this instanceof ye?(this.v=Z,this):new ye(Z)}function ge(Z,ee,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,re=oe.apply(Z,ee||[]),Ve=[];return Ue={},wt("next"),wt("throw"),wt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function wt(tn){re[tn]&&(Ue[tn]=function(sn){return new Promise(function(Zi,Vt){Ve.push([tn,sn,Zi,Vt])>1||rn(tn,sn)})})}function rn(tn,sn){try{!function Zt(tn){tn.value instanceof ye?Promise.resolve(tn.value.v).then(tt,mn):Sn(Ve[0][2],tn)}(re[tn](sn))}catch(Zi){Sn(Ve[0][3],Zi)}}function tt(tn){rn("next",tn)}function mn(tn){rn("throw",tn)}function Sn(tn,sn){tn(sn),Ve.shift(),Ve.length&&rn(Ve[0][0],Ve[0][1])}}function ft(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=Z[Symbol.asyncIterator];return ee?ee.call(Z):(Z=function Q(Z){var ee="function"==typeof Symbol&&Symbol.iterator,oe=ee&&Z[ee],re=0;if(oe)return oe.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&re>=Z.length&&(Z=void 0),{value:Z&&Z[re++],done:!Z}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),oe={},re("next"),re("throw"),re("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function re(Ve){oe[Ve]=Z[Ve]&&function(wt){return new Promise(function(rn,Zt){!function Ue(Ve,wt,rn,Zt){Promise.resolve(Zt).then(function(tt){Ve({value:tt,done:rn})},wt)}(rn,Zt,(wt=Z[Ve](wt)).done,wt.value)})}}}F.d(Ie,{FC:()=>ge,KL:()=>ft,_T:()=>le,mG:()=>fe,qq:()=>ye})},4650:(mt,Ie,F)=>{F.d(Ie,{$8M:()=>Oc,$Z:()=>sT,AFp:()=>pD,AaK:()=>fe,BQk:()=>Si,CHM:()=>hc,CRH:()=>Ag,CZH:()=>Ay,CqO:()=>UT,D6c:()=>PA,EJc:()=>mD,EiD:()=>Bc,EpF:()=>Qp,F$t:()=>GT,F4k:()=>VT,FYo:()=>M,FiY:()=>Pe,G48:()=>Ld,Gf:()=>Nd,GfV:()=>$e,Gpc:()=>G,Hsn:()=>Xp,Ikx:()=>gg,JOm:()=>Sa,JVY:()=>gp,KtG:()=>fc,L6k:()=>Dv,LAX:()=>Sv,LFG:()=>Ut,LMc:()=>UA,LSH:()=>Eh,Lbi:()=>Zb,Lck:()=>VC,MAs:()=>BT,MGl:()=>nf,MMx:()=>uy,NdJ:()=>Z_,O4$:()=>qu,OlP:()=>Dn,Oqu:()=>Ko,PXZ:()=>EA,Q6J:()=>z_,QGY:()=>Jp,QP$:()=>nn,QbO:()=>ja,Qsj:()=>R,QtT:()=>ps,R0b:()=>br,RDi:()=>Pm,Rgc:()=>Tg,SBq:()=>p,SDv:()=>vf,Sil:()=>xg,Suo:()=>Fr,TTD:()=>Is,TgZ:()=>Kp,Tol:()=>J0,Udp:()=>rg,VKq:()=>Ef,W1O:()=>kb,WLB:()=>Mb,X6Q:()=>Fd,XFs:()=>nt,Xpm:()=>Me,Xts:()=>vp,Y36:()=>jh,YKP:()=>tu,YNc:()=>U0,Yjl:()=>Ee,Yz7:()=>sn,Z0I:()=>Ts,ZZ4:()=>Uy,_Bn:()=>Bl,_UZ:()=>Yp,_Vd:()=>Ml,_c5:()=>RA,_uU:()=>Qc,aQg:()=>uu,c2e:()=>Yb,cJS:()=>Vt,cg1:()=>ab,d8E:()=>ey,dDg:()=>bD,dqk:()=>pn,eBb:()=>Iv,eFA:()=>sw,ekj:()=>sg,eoX:()=>wD,f3M:()=>D,g9A:()=>Gi,h0i:()=>bf,hGG:()=>kA,hij:()=>wd,iGM:()=>Ty,ifc:()=>_t,ip1:()=>fD,jDz:()=>Ib,kEZ:()=>Vl,kL8:()=>pC,lG2:()=>K,lqb:()=>ji,lri:()=>nw,mCW:()=>Pc,n5z:()=>xs,n_E:()=>Va,oAB:()=>$t,oJD:()=>sd,oxw:()=>Y_,pB0:()=>bh,pQV:()=>oy,q3G:()=>zn,q4F:()=>rt,qLn:()=>Dp,qOj:()=>x0,qZA:()=>W_,qzn:()=>$o,rWj:()=>Rg,s9C:()=>eg,sBO:()=>lw,sIi:()=>Gp,s_b:()=>Ig,soG:()=>ou,tb:()=>Kb,tp0:()=>St,uIk:()=>qp,vHH:()=>Te,vpe:()=>Ba,wAp:()=>At,xp6:()=>tT,ynx:()=>tf,z2F:()=>ta,z3N:()=>Kr,zSh:()=>Uc,zs3:()=>Rl});var l=F(7579),te=F(727),P=F(9751),le=F(6451),ce=F(3099);function he(o){for(let a in o)if(o[a]===he)return a;throw Error("Could not find renamed property on target object.")}function ie(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function fe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(fe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function pe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const $=he({__forward_ref__:he});function G(o){return o.__forward_ref__=G,o.toString=function(){return fe(this())},o}function Q(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===G}class Te extends Error{constructor(a,c){super(function lt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function ye(o){return"string"==typeof o?o:null==o?"":String(o)}function be(o,a){throw new Te(-201,!1)}function tt(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}function sn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Vt(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return Lr(o,Br)||Lr(o,Dr)}function Ts(o){return null!==vn(o)}function Lr(o,a){return o.hasOwnProperty(a)?o[a]:null}function yo(o){return o&&(o.hasOwnProperty(Cr)||o.hasOwnProperty(Ya))?o[Cr]:null}const Br=he({\u0275prov:he}),Cr=he({\u0275inj:he}),Dr=he({ngInjectableDef:he}),Ya=he({ngInjectorDef:he});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Vi;function hi(o){const a=Vi;return Vi=o,a}function Ir(o,a,c){const d=vn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&nt.Optional?null:void 0!==a?a:void be(fe(o))}function Kn(o){return{toString:o}.toString()}var ei=(()=>((ei=ei||{})[ei.OnPush=0]="OnPush",ei[ei.Default=1]="Default",ei))(),_t=(()=>{return(o=_t||(_t={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",_t;var o})();const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),or={},Pt=[],Ks=he({\u0275cmp:he}),cn=he({\u0275dir:he}),is=he({\u0275pipe:he}),un=he({\u0275mod:he}),fi=he({\u0275fac:he}),Yi=he({__NG_ELEMENT_ID__:he});let at=0;function Me(o){return Kn(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ei.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Pt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||_t.Emulated,id:"c"+at++,styles:o.styles||Pt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,b=o.features;return f.inputs=U(o.inputs,d),f.outputs=U(o.outputs),b&&b.forEach(T=>T(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Mt).filter(Dt):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(yt).filter(Dt):null,f})}function Mt(o){return X(o)||Qe(o)}function Dt(o){return null!==o}function $t(o){return Kn(()=>({type:o.type,bootstrap:o.bootstrap||Pt,declarations:o.declarations||Pt,imports:o.imports||Pt,exports:o.exports||Pt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function U(o,a){if(null==o)return or;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,a&&(a[f]=m)}return c}const K=Me;function Ee(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function X(o){return o[Ks]||null}function Qe(o){return o[cn]||null}function yt(o){return o[is]||null}function nn(o){const a=X(o)||Qe(o)||yt(o);return null!==a&&a.standalone}function En(o,a){const c=o[un]||null;if(!c&&!0===a)throw new Error(`Type ${fe(o)} does not have '\u0275mod' property.`);return c}function Ti(o){return Array.isArray(o)&&"object"==typeof o[1]}function Qi(o){return Array.isArray(o)&&!0===o[1]}function ec(o){return 0!=(8&o.flags)}function Ja(o){return 2==(2&o.flags)}function Ou(o){return 1==(1&o.flags)}function Ui(o){return null!==o.template}function Xf(o){return 0!=(256&o[2])}function ss(o,a){return o.hasOwnProperty(fi)?o[fi]:null}class Ds{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Is(){return To}function To(o){return o.type.prototype.ngOnChanges&&(o.setInput=nc),Xa}function Xa(){const o=tp(this),a=o?.current;if(a){const c=o.previous;if(c===or)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function nc(o,a,c,d){const f=tp(o)||function Yn(o,a){return o[ku]=a}(o,{previous:or,current:null}),m=f.current||(f.current={}),b=f.previous,T=this.declaredInputs[c],C=b[T];m[T]=new Ds(C&&C.currentValue,a,b===or),o[d]=a}Is.ngInherit=!0;const ku="__ngSimpleChanges__";function tp(o){return o[ku]||null}function Un(o){for(;Array.isArray(o);)o=o[0];return o}function Ar(o,a){return Un(a[o])}function Ji(o,a){return Un(a[o.index])}function ua(o,a){return o.data[a]}function en(o,a){const c=a[o];return Ti(c)?c:c[0]}function Co(o){return 64==(64&o[2])}function Hr(o,a){return null==a?null:o[a]}function lc(o){o[18]=0}function Bn(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Ot={lFrame:Gu(null),bindingsEnabled:!0};function Ms(){return Ot.bindingsEnabled}function Ne(){return Ot.lFrame.lView}function Yt(){return Ot.lFrame.tView}function hc(o){return Ot.lFrame.contextLView=o,o[8]}function fc(o){return Ot.lFrame.contextLView=null,o}function Hn(){let o=pc();for(;null!==o&&64===o.type;)o=o.parent;return o}function pc(){return Ot.lFrame.currentTNode}function da(){const o=Ot.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Mr(o,a){const c=Ot.lFrame;c.currentTNode=o,c.isParent=a}function tl(){return Ot.lFrame.isParent}function nl(){Ot.lFrame.isParent=!1}function jn(){const o=Ot.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Do(){return Ot.lFrame.bindingIndex++}function Ns(o){const a=Ot.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function rl(o){Ot.lFrame.inI18n=o}function Dm(o,a){const c=Ot.lFrame;c.bindingIndex=c.bindingRootIndex=o,gc(a)}function gc(o){Ot.lFrame.currentDirectiveIndex=o}function sl(o){const a=Ot.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Hu(){return Ot.lFrame.currentQueryIndex}function ol(o){Ot.lFrame.currentQueryIndex=o}function ju(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function mc(o,a,c){if(c&nt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||c&nt.Host||(f=ju(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=Ot.lFrame=$u();return d.currentTNode=a,d.lView=o,!0}function _c(o){const a=$u(),c=o[1];Ot.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function $u(){const o=Ot.lFrame,a=null===o?null:o.child;return null===a?Gu(o):a}function Gu(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function zu(){const o=Ot.lFrame;return Ot.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const oh=zu;function Io(){const o=zu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function mi(){return Ot.lFrame.selectedIndex}function cr(o){Ot.lFrame.selectedIndex=o}function Mn(){const o=Ot.lFrame;return ua(o.tView,o.selectedIndex)}function qu(){Ot.lFrame.currentNamespace="svg"}function bc(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:x}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-c,b),T&&((o.contentHooks||(o.contentHooks=[])).push(c,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,T)),C&&(o.viewHooks||(o.viewHooks=[])).push(-c,C),A&&((o.viewHooks||(o.viewHooks=[])).push(c,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,A)),null!=x&&(o.destroyHooks||(o.destroyHooks=[])).push(c,x)}}function Ao(o,a,c){fa(o,a,3,c)}function ha(o,a,c,d){(3&o[2])===c&&fa(o,a,c,d)}function lh(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function fa(o,a,c,d){const m=d??-1,b=a.length-1;let T=0;for(let C=void 0!==d?65535&o[18]:0;C<b;C++)if("number"==typeof a[C+1]){if(T=a[C],null!=d&&T>=d)break}else a[C]<0&&(o[18]+=65536),(T<m||-1==m)&&(ch(o,c,a,C),o[18]=(4294901760&o[18])+C+2),C++}function ch(o,a,c,d){const f=c[d]<0,m=c[d+1],T=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class io{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function pa(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],b=c[d++],T=c[d++];o.setAttribute(a,b,T,m)}else{const m=f,b=c[++d];Cc(m)?o.setProperty(a,m,b):o.setAttribute(a,m,b),d++}}return d}function Oo(o){return 3===o||4===o||6===o}function Cc(o){return 64===o.charCodeAt(0)}function al(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||dh(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function dh(o,a,c,d,f){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const T=o[m++];if("number"==typeof T){if(T===a){b=-1;break}if(T>a){b=m-1;break}}}for(;m<o.length;){const T=o[m];if("number"==typeof T)break;if(T===c){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function hh(o){return-1!==o}function Ci(o){return 32767&o}function cl(o,a){let c=function ll(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let as=!0;function ul(o){const a=as;return as=o,a}let Qn=0;const jr={};function xo(o,a){const c=Ic(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,hl(d.data,o),hl(a,null),hl(d.blueprint,null));const f=Sc(o,a),m=o.injectorIndex;if(hh(f)){const b=Ci(f),T=cl(f,a),C=T[1].data;for(let A=0;A<8;A++)a[m+A]=T[b+A]|C[b+A]}return a[m+8]=f,m}function hl(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ic(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Sc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=_a(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ro(o,a,c){!function Dc(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Yi)&&(d=c[Yi]),null==d&&(d=c[Yi]=Qn++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function so(o,a,c){if(c&nt.Optional||void 0!==o)return o;be()}function Ac(o,a,c,d){if(c&nt.Optional&&void 0===d&&(d=null),0==(c&(nt.Self|nt.Host))){const f=o[9],m=hi(void 0);try{return f?f.get(a,d,c&nt.Optional):Ir(a,d,c&nt.Optional)}finally{hi(m)}}return so(d,0,c)}function Ro(o,a,c,d=nt.Default,f){if(null!==o){if(1024&a[2]){const b=function ma(o,a,c,d,f){let m=o,b=a;for(;null!==m&&null!==b&&1024&b[2]&&!(256&b[2]);){const T=fl(m,b,c,d|nt.Self,jr);if(T!==jr)return T;let C=m.parent;if(!C){const A=b[21];if(A){const x=A.get(c,jr,d);if(x!==jr)return x}C=_a(b),b=b[15]}m=C}return f}(o,a,c,d,jr);if(b!==jr)return b}const m=fl(o,a,c,d,jr);if(m!==jr)return m}return Ac(a,c,d,f)}function fl(o,a,c,d,f){const m=function Yu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Yi)?o[Yi]:void 0;return"number"==typeof a?a>=0?255&a:Qu:a}(c);if("function"==typeof m){if(!mc(a,o,d))return d&nt.Host?so(f,0,d):Ac(a,c,d,f);try{const b=m(d);if(null!=b||d&nt.Optional)return b;be()}finally{oh()}}else if("number"==typeof m){let b=null,T=Ic(o,a),C=-1,A=d&nt.Host?a[16][6]:null;for((-1===T||d&nt.SkipSelf)&&(C=-1===T?Sc(o,a):a[T+8],-1!==C&&pl(d,!1)?(b=a[1],T=Ci(C),a=cl(C,a)):T=-1);-1!==T;){const x=a[1];if(Mc(m,T,x.data)){const L=gh(T,a,c,b,d,A);if(L!==jr)return L}C=a[T+8],-1!==C&&pl(d,a[1].data[T+8]===A)&&Mc(m,T,a)?(b=x,T=Ci(C),a=cl(C,a)):T=-1}}return f}function gh(o,a,c,d,f,m){const b=a[1],T=b.data[o+8],x=ga(T,b,c,null==d?Ja(T)&&as:d!=b&&0!=(3&T.type),f&nt.Host&&m===T);return null!==x?Os(a,b,x,T):jr}function ga(o,a,c,d,f){const m=o.providerIndexes,b=a.data,T=1048575&m,C=o.directiveStart,x=m>>20,q=f?T+x:o.directiveEnd;for(let ne=d?T:T+x;ne<q;ne++){const ve=b[ne];if(ne<C&&c===ve||ne>=C&&ve.type===c)return ne}if(f){const ne=b[C];if(ne&&Ui(ne)&&ne.type===c)return C}return null}function Os(o,a,c,d){let f=o[c];const m=a.data;if(function Mo(o){return o instanceof io}(f)){const b=f;b.resolving&&function st(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Te(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ge(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ye(o)}(m[c]));const T=ul(b.canSeeViewProviders);b.resolving=!0;const C=b.injectImpl?hi(b.injectImpl):null;mc(o,d,nt.Default);try{f=o[c]=b.factory(void 0,m,o,d),a.firstCreatePass&&c>=d.directiveStart&&function ah(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const b=To(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==C&&hi(C),ul(T),b.resolving=!1,oh()}}return f}function Mc(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function pl(o,a){return!(o&nt.Self||o&nt.Host&&a)}class ko{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ro(this._tNode,this._lView,a,d,c)}}function Qu(){return new ko(Hn(),Ne())}function xs(o){return Kn(()=>{const a=o.prototype.constructor,c=a[fi]||Nc(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[fi]||Nc(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Nc(o){return je(o)?()=>{const a=Nc(Q(o));return a&&a()}:ss(o)}function _a(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function Oc(o){return function ph(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Oo(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(Hn(),o)}const oo="__parameters__";function ba(o,a,c){return Kn(()=>{const d=function xc(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const b=new f(...m);return T.annotation=b,T;function T(C,A,x){const L=C.hasOwnProperty(oo)?C[oo]:Object.defineProperty(C,oo,{value:[]})[oo];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(b),C}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Dn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function an(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),an(d,a)):a!==o&&a.push(d)}return a}function $r(o,a){o.forEach(c=>Array.isArray(c)?$r(c,a):a(c))}function ml(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Rn(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ao(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Ze(o,a,c){let d=lo(o,a);return d>=0?o[1|d]=c:(d=~d,function Ju(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function yl(o,a){const c=lo(o,a);if(c>=0)return o[1|c]}function lo(o,a){return function Ea(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const m=d+(f-d>>1),b=o[m<<c];if(a===b)return m<<c;b>a?f=m:d=m+1}return~(f<<c)}(o,a,1)}const zr={},td="__NG_DI_FLAG__",hr="ngTempTokenPath",qr=/\n/gm,Gn="__source";let co;function Ps(o){const a=co;return co=o,a}function Tn(o,a=nt.Default){if(void 0===co)throw new Te(-203,!1);return null===co?Ir(o,void 0,a):co.get(o,a&nt.Optional?null:void 0,a)}function Ut(o,a=nt.Default){return(function Zs(){return Vi}()||Tn)(Q(o),a)}function D(o,a=nt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Ut(o,a)}function S(o){const a=[];for(let c=0;c<o.length;c++){const d=Q(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let f,m=nt.Default;for(let b=0;b<d.length;b++){const T=d[b],C=V(T);"number"==typeof C?-1===C?f=T.token:m|=C:f=T}a.push(Ut(f,m))}else a.push(Ut(d))}return a}function N(o,a){return o[td]=a,o.prototype[td]=a,o}function V(o){return o[td]}const Pe=N(ba("Optional"),8),St=N(ba("SkipSelf"),4);let hp,bl,nd;function Pm(o){hp=o}function Fm(){return void 0!==hp?hp:typeof document<"u"?document:void 0}function Uo(o){return function mh(){if(void 0===bl&&(bl=null,pn.trustedTypes))try{bl=pn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return bl}()?.createHTML(o)||o}function Lm(o){return function Ho(){if(void 0===nd&&(nd=null,pn.trustedTypes))try{nd=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return nd}()?.createHTML(o)||o}class jo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vh extends jo{getTypeName(){return"HTML"}}class El extends jo{getTypeName(){return"Style"}}class Bm extends jo{getTypeName(){return"Script"}}class id extends jo{getTypeName(){return"URL"}}class Cv extends jo{getTypeName(){return"ResourceURL"}}function Kr(o){return o instanceof jo?o.changingThisBreaksApplicationSecurity:o}function $o(o,a){const c=function pp(o){return o instanceof jo&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function gp(o){return new vh(o)}function Dv(o){return new El(o)}function Iv(o){return new Bm(o)}function Sv(o){return new id(o)}function bh(o){return new Cv(o)}function Vm(o){const a=new Av(o);return function EE(){try{return!!(new window.DOMParser).parseFromString(Uo(""),"text/html")}catch{return!1}}()?new Um(a):a}class Um{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Uo(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Av{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Uo(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Uo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Tl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Pc(o){return(o=String(o)).match(Tl)?o:"unsafe:"+o}function us(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Cl(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const Ca=us("area,br,col,hr,img,wbr"),Fc=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mv=us("rp,rt"),Dl=Cl(Ca,Cl(Fc,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cl(Mv,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cl(Mv,Fc)),Go=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mp=Cl(Go,us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jm=us("script,style,template");class Lc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Dl.hasOwnProperty(c))return this.sanitizedSomething=!0,!jm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),b=m.name,T=b.toLowerCase();if(!mp.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let C=m.value;Go[T]&&(C=Pc(C)),this.buf.push(" ",b,'="',yp(C),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Dl.hasOwnProperty(c)&&!Ca.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(yp(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const $m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_p=/([^\#-~ |!])/g;function yp(o){return o.replace(/&/g,"&amp;").replace($m,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(_p,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wh;function Bc(o,a){let c=null;try{wh=wh||Vm(o);let d=a?String(a):"";c=wh.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=wh.getInertBodyElement(d)}while(d!==m);return Uo((new Lc).sanitizeChildren(zo(c)||c))}finally{if(c){const d=zo(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function zo(o){return"content"in o&&function Ov(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function sd(o){const a=Vc();return a?Lm(a.sanitize(zn.HTML,o)||""):$o(o,"HTML")?Lm(Kr(o)):Bc(Fm(),ye(o))}function Eh(o){const a=Vc();return a?a.sanitize(zn.URL,o)||"":$o(o,"URL")?Kr(o):Pc(ye(o))}function Vc(){const o=Ne();return o&&o[12]}const vp=new Dn("ENVIRONMENT_INITIALIZER"),qm=new Dn("INJECTOR",-1),Wm=new Dn("INJECTOR_DEF_TYPES");class Zm{get(a,c=zr){if(c===zr){const d=new Error(`NullInjectorError: No provider for ${fe(a)}!`);throw d.name="NullInjectorError",d}return c}}function Km(...o){return{\u0275providers:Ih(0,o)}}function Ih(o,...a){const c=[],d=new Set;let f;return $r(a,m=>{const b=m;od(b,c,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&Sh(f,c),c}function Sh(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];$r(f,m=>{a.push(m)})}}function od(o,a,c,d){if(!(o=Q(o)))return!1;let f=null,m=yo(o);const b=!m&&X(o);if(m||b){if(b&&!b.standalone)return!1;f=o}else{const C=o.ngModule;if(m=yo(C),!m)return!1;f=C}const T=d.has(f);if(b){if(T)return!1;if(d.add(f),b.dependencies){const C="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const A of C)od(A,a,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!T){let A;d.add(f);try{$r(m.imports,x=>{od(x,a,c,d)&&(A||(A=[]),A.push(x))})}finally{}void 0!==A&&Sh(A,a)}if(!T){const A=ss(f)||(()=>new f);a.push({provide:f,useFactory:A,deps:Pt},{provide:Wm,useValue:f,multi:!0},{provide:vp,useValue:()=>Ut(f),multi:!0})}const C=m.providers;null==C||T||$r(C,x=>{a.push(x)})}}return f!==o&&void 0!==o.providers}const Ah=he({provide:String,useValue:he});function ad(o){return null!==o&&"object"==typeof o&&Ah in o}function Yr(o){return"function"==typeof o}const Uc=new Dn("Set Injector scope."),Hc={},Sl={};let ld;function Mh(){return void 0===ld&&(ld=new Zm),ld}class ji{}class Nh extends ji{constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Da(a,b=>this.processProvider(b)),this.records.set(qm,Ii(void 0,this)),f.has("environment")&&this.records.set(ji,Ii(void 0,this));const m=this.records.get(Uc);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Wm.multi,Pt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Ps(this),d=hi(void 0);try{return a()}finally{Ps(c),hi(d)}}get(a,c=zr,d=nt.Default){this.assertNotDestroyed();const f=Ps(this),m=hi(void 0);try{if(!(d&nt.SkipSelf)){let T=this.records.get(a);if(void 0===T){const C=function Rv(o){return"function"==typeof o||"object"==typeof o&&o instanceof Dn}(a)&&vn(a);T=C&&this.injectableDefInScope(C)?Ii(cd(a),Hc):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(d&nt.Self?Mh():this.parent).get(a,c=d&nt.Optional&&c===zr?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[hr]=b[hr]||[]).unshift(fe(a)),f)throw b;return function J(o,a,c,d){const f=o[hr];throw a[Gn]&&f.unshift(a[Gn]),o.message=function se(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=fe(a);if(Array.isArray(a))f=a.map(fe).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let T=a[b];m.push(b+":"+("string"==typeof T?JSON.stringify(T):fe(T)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(qr,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[hr]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{hi(m),Ps(f)}}resolveInjectorInitializers(){const a=Ps(this),c=hi(void 0);try{const d=this.get(vp.multi,Pt,nt.Self);for(const f of d)f()}finally{Ps(a),hi(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(fe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(a){let c=Yr(a=Q(a))?a:Q(a&&a.provide);const d=function bp(o){return ad(o)?Ii(void 0,o.useValue):Ii(ud(o),Hc)}(a);if(Yr(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Ii(void 0,Hc,!0),f.factory=()=>S(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Hc&&(c.value=Sl,c.value=c.factory()),"object"==typeof c.value&&c.value&&function wp(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function cd(o){const a=vn(o),c=null!==a?a.factory:ss(o);if(null!==c)return c;if(o instanceof Dn)throw new Te(204,!1);if(o instanceof Function)return function Qm(o){const a=o.length;if(a>0)throw ao(a,"?"),new Te(204,!1);const c=function Ki(o){const a=o&&(o[Br]||o[Dr]);if(a){const c=function sr(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Te(204,!1)}function ud(o,a,c){let d;if(Yr(o)){const f=Q(o);return ss(f)||cd(f)}if(ad(o))d=()=>Q(o.useValue);else if(function Or(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...S(o.deps||[]));else if(function er(o){return!(!o||!o.useExisting)}(o))d=()=>Ut(Q(o.useExisting));else{const f=Q(o&&(o.useClass||o.provide));if(!function Al(o){return!!o.deps}(o))return ss(f)||cd(f);d=()=>new f(...S(o.deps))}return d}function Ii(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Ls(o){return!!o.\u0275providers}function Da(o,a){for(const c of o)Array.isArray(c)?Da(c,a):Ls(c)?Da(c.\u0275providers,a):a(c)}class Oh{}class kh{resolveComponentFactory(a){throw function Jm(o){const a=Error(`No component factory found for ${fe(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ml=(()=>{class o{}return o.NULL=new kh,o})();function kv(){return v(Hn(),Ne())}function v(o,a){return new p(Ji(o,a))}let p=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=kv,o})();function _(o){return o instanceof p?o.nativeElement:o}class M{}let R=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function W(){const o=Ne(),c=en(Hn().index,o);return(Ti(c)?c:o)[11]}(),o})(),ue=(()=>{class o{}return o.\u0275prov=sn({token:o,providedIn:"root",factory:()=>null}),o})();class $e{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const rt=new $e("14.2.6"),Ct={};function Bv(o){return o.ngOriginalError}class Dp{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Bv(a);for(;c&&Bv(c);)c=Bv(c);return c||null}}const v1=/^>|^->|<!--|-->|--!>|<!-$/g,gx=/(<|>)/;const Vv=new Map;let T1=0;const r_="__ngContext__";function tr(o,a){Ti(a)?(o[r_]=a[20],function D1(o){Vv.set(o[20],o)}(a)):o[r_]=a}function xl(o){return o instanceof Function?o():o}var Sa=(()=>((Sa=Sa||{})[Sa.Important=1]="Important",Sa[Sa.DashCase=2]="DashCase",Sa))();let $v;function Gv(o,a){return $v(o,a)}function Bh(o){const a=o[3];return Qi(a)?a[3]:a}function a_(o){return LE(o[13])}function l_(o){return LE(o[4])}function LE(o){for(;null!==o&&!Qi(o);)o=o[4];return o}function Vh(o,a,c,d,f){if(null!=d){let m,b=!1;Qi(d)?m=d:Ti(d)&&(b=!0,d=d[0]);const T=Un(d);0===o&&null!==c?null==f?GE(a,c,T):Aa(a,c,T,f||null,!0):1===o&&null!==c?Aa(a,c,T,f||null,!0):2===o?V1(a,T,b):3===o&&a.destroyNode(T),null!=m&&function wx(o,a,c,d,f){const m=c[7];m!==Un(c)&&Vh(a,o,d,m,f);for(let T=10;T<c.length;T++){const C=c[T];hd(C[1],C,o,a,d,m)}}(a,o,m,c,f)}}function qv(o,a){return o.createText(a)}function BE(o,a,c){o.setValue(a,c)}function P1(o,a){return o.createComment(function t_(o){return o.replace(v1,a=>a.replace(gx,"\u200b$1\u200b"))}(a))}function c_(o,a,c){return o.createElement(a,c)}function HE(o,a){const c=o[9],d=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Bn(f,-1)),c.splice(d,1)}function Zv(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&HE(f,d),a>0&&(o[c-1][4]=d[4]);const m=Rn(o,10+a);!function Wv(o,a){hd(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const b=m[19];null!==b&&b.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Ap(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&hd(o,a,c,3,null,null),function vx(o){let a=o[13];if(!a)return u_(o[1],o);for(;a;){let c=null;if(Ti(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)Ti(a)&&u_(a[1],a),a=a[3];null===a&&(a=o),Ti(a)&&u_(a[1],a),c=a&&a[4]}a=c}}(a)}}function u_(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Yv(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof io)){const m=c[d+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const T=f[m[b]],C=m[b+1];try{C.call(T)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function Kv(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+1],T="function"==typeof b?b(a):Un(a[b]),C=d[f=c[m+2]],A=c[m+3];"boolean"==typeof A?T.removeEventListener(c[m],C,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),m+=2}else{const b=d[f=c[m+1]];c[m].call(b)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&Qi(a[3])){c!==a[3]&&HE(c,a);const d=a[19];null!==d&&d.detachView(o)}!function I1(o){Vv.delete(o[20])}(a)}}function jE(o,a,c){return $E(o,a.parent,c)}function $E(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===_t.None||f===_t.Emulated)return null}return Ji(d,c)}function Aa(o,a,c,d,f){o.insertBefore(a,c,d,f)}function GE(o,a,c){o.appendChild(a,c)}function zE(o,a,c,d,f){null!==d?Aa(o,a,c,d,f):GE(o,a,c)}function d_(o,a){return o.parentNode(a)}function yi(o,a,c){return Qv(o,a,c)}function WE(o,a,c){return 40&o.type?Ji(o,c):null}let Mp,Qv=WE;function Np(o,a){Qv=o,Mp=a}function h_(o,a,c,d){const f=jE(o,d,a),m=a[11],T=yi(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let C=0;C<c.length;C++)zE(m,f,c[C],T,!1);else zE(m,f,c,T,!1);void 0!==Mp&&Mp(m,d,a,c,f)}function f_(o,a){if(null!==a){const c=a.type;if(3&c)return Ji(a,o);if(4&c)return ZE(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return f_(o,d);{const f=o[a.index];return Qi(f)?ZE(-1,f):Un(f)}}if(32&c)return Gv(a,o)()||Un(o[a.index]);{const d=Jv(o,a);return null!==d?Array.isArray(d)?d[0]:f_(Bh(o[16]),d):f_(o,a.next)}}return null}function Jv(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ZE(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return f_(d,f)}return a[7]}function V1(o,a,c){const d=d_(o,a);d&&function B1(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}function Xv(o,a,c,d,f,m,b){for(;null!=c;){const T=d[c.index],C=c.type;if(b&&0===a&&(T&&tr(Un(T),d),c.flags|=4),64!=(64&c.flags))if(8&C)Xv(o,a,c.child,d,f,m,!1),Vh(a,o,f,T,m);else if(32&C){const A=Gv(c,d);let x;for(;x=A();)Vh(a,o,f,x,m);Vh(a,o,f,T,m)}else 16&C?Op(o,a,d,c,f,m):Vh(a,o,f,T,m);c=b?c.projectionNext:c.next}}function hd(o,a,c,d,f,m){Xv(c,d,o.firstChild,a,f,m,!1)}function Op(o,a,c,d,f,m){const b=c[16],C=b[6].projection[d.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)Vh(a,o,f,C[A],m);else Xv(o,a,C,b[3],f,m,!0)}function fd(o,a,c){o.setAttribute(a,"style",c)}function xp(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function U1(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}c=f+1}}const e0="ng-template";function t0(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==U1(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function QE(o){return 4===o.type&&o.value!==e0}function j1(o,a,c){return a===(4!==o.type||c?o.value:e0)}function $1(o,a,c){let d=4;const f=o.attrs||[],m=function Ex(o){for(let a=0;a<o.length;a++)if(Oo(o[a]))return a;return o.length}(f);let b=!1;for(let T=0;T<a.length;T++){const C=a[T];if("number"!=typeof C){if(!b)if(4&d){if(d=2|1&d,""!==C&&!j1(o,C,c)||""===C&&1===a.length){if(fo(d))return!1;b=!0}}else{const A=8&d?C:a[++T];if(8&d&&null!==o.attrs){if(!t0(o.attrs,A,c)){if(fo(d))return!1;b=!0}continue}const L=G1(8&d?"class":C,f,QE(o),c);if(-1===L){if(fo(d))return!1;b=!0;continue}if(""!==A){let q;q=L>m?"":f[L+1].toLowerCase();const ne=8&d?q:null;if(ne&&-1!==U1(ne,A,0)||2&d&&A!==q){if(fo(d))return!1;b=!0}}}}else{if(!b&&!fo(d)&&!fo(C))return!1;if(b&&fo(C))continue;b=!1,d=C|1&d}}return fo(d)||b}function fo(o){return 0==(1&o)}function G1(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let m=!1;for(;f<a.length;){const b=a[f];if(b===o)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let T=a[++f];for(;"string"==typeof T;)T=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function JE(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function z1(o,a,c=!1){for(let d=0;d<a.length;d++)if($1(o,a[d],c))return!0;return!1}function q1(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function XE(o,a){return o?":not("+a.trim()+")":a}function eT(o){let a=o[0],c=1,d=2,f="",m=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&d){const T=o[++c];f+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!fo(b)&&(a+=XE(m,f),f=""),d=b,m=m||!fo(d);c++}return""!==f&&(a+=XE(m,f)),a}const zt={};function tT(o){nT(Yt(),Ne(),mi()+o,!1)}function nT(o,a,c,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Ao(a,m,c)}else{const m=o.preOrderHooks;null!==m&&ha(a,m,0,c)}cr(c)}function r0(o,a=null,c=null,d){const f=s0(o,a,c,d);return f.resolveInjectorInitializers(),f}function s0(o,a=null,c=null,d,f=new Set){const m=[c||Pt,Km(o)];return d=d||("object"==typeof o?void 0:fe(o)),new Nh(m,a||Mh(),d||null,f)}let Rl=(()=>{class o{static create(c,d){if(Array.isArray(c))return r0({name:""},d,c,"");{const f=c.name??"";return r0({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=zr,o.NULL=new Zm,o.\u0275prov=sn({token:o,providedIn:"any",factory:()=>Ut(qm)}),o.__NG_ELEMENT_ID__=-1,o})();function jh(o,a=nt.Default){const c=Ne();return null===c?Ut(o,a):Ro(Hn(),c,Q(o),a)}function sT(){throw new Error("invalid")}function Pp(o,a){return o<<17|a<<2}function Wo(o){return o>>17&32767}function u0(o){return 2|o}function si(o){return(131068&o)>>2}function $h(o,a){return-131069&o|a<<2}function Fp(o){return 1|o}function _T(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const b=o.data[m];ol(f),b.contentQueries(2,a[m],m)}}}function N_(o,a,c,d,f,m,b,T,C,A,x){const L=a.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==x||o&&1024&o[2])&&(L[2]|=1024),lc(L),L[3]=L[15]=o,L[8]=c,L[10]=b||o&&o[10],L[11]=T||o&&o[11],L[12]=C||o&&o[12]||null,L[9]=A||o&&o[9]||null,L[6]=m,L[20]=function C1(){return T1++}(),L[21]=x,L[16]=2==a.type?o[16]:L,L}function Gh(o,a,c,d,f){let m=o.data[a];if(null===m)m=v0(o,a,c,d,f),function Cm(){return Ot.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const b=da();m.injectorIndex=null===b?-1:b.injectorIndex}return Mr(m,!0),m}function v0(o,a,c,d,f){const m=pc(),b=tl(),C=o.data[a]=function wT(o,a,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=C),null!==m&&(b?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}function zh(o,a,c,d){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function b0(o,a,c){_c(a);try{const d=o.viewQuery;null!==d&&O0(1,d,c);const f=o.template;null!==f&&w0(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&_T(o,a),o.staticViewQueries&&O0(2,o.viewQuery,c);const m=o.components;null!==m&&function hS(o,a){for(let c=0;c<a.length;c++)AT(o,a[c])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Io()}}function gd(o,a,c,d){const f=a[2];if(128!=(128&f)){_c(a);try{lc(a),function Vu(o){return Ot.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&w0(o,a,c,2,d);const b=3==(3&f);if(b){const A=o.preOrderCheckHooks;null!==A&&Ao(a,A,null)}else{const A=o.preOrderHooks;null!==A&&ha(a,A,0,null),lh(a,0)}if(function yS(o){for(let a=a_(o);null!==a;a=l_(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&Bn(m,1),f[2]|=512}}}(a),function M0(o){for(let a=a_(o);null!==a;a=l_(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];Co(d)&&gd(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&_T(o,a),b){const A=o.contentCheckHooks;null!==A&&Ao(a,A)}else{const A=o.contentHooks;null!==A&&ha(a,A,1),lh(a,1)}!function uS(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)cr(~f);else{const m=f,b=c[++d],T=c[++d];Dm(b,m),T(2,a[m])}}}finally{cr(-1)}}(o,a);const T=o.components;null!==T&&function dS(o,a){for(let c=0;c<a.length;c++)ST(o,a[c])}(a,T);const C=o.viewQuery;if(null!==C&&O0(2,C,d),b){const A=o.viewCheckHooks;null!==A&&Ao(a,A)}else{const A=o.viewHooks;null!==A&&ha(a,A,2),lh(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Bn(a[3],-1))}finally{Io()}}}function w0(o,a,c,d,f){const m=mi(),b=2&d;try{cr(-1),b&&a.length>22&&nT(o,a,22,!1),c(d,f)}finally{cr(m)}}function E0(o,a,c){if(ec(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}function Bp(o,a,c){!Ms()||(function x_(o,a,c,d){const f=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||xo(c,a),tr(d,a);const b=c.initialInputs;for(let T=f;T<m;T++){const C=o.data[T],A=Ui(C);A&&Hx(a,c,C);const x=Os(a,o,T,c);tr(x,a),null!==b&&jx(0,T-f,x,C,0,b),A&&(en(c.index,a)[8]=x)}}(o,a,c,Ji(c,a)),128==(128&c.flags)&&function Bx(o,a,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,b=function Uu(){return Ot.lFrame.currentDirectiveIndex}();try{cr(m);for(let T=d;T<f;T++){const C=o.data[T],A=a[T];gc(T),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&R_(C,A)}}finally{cr(-1),gc(b)}}(o,a,c))}function T0(o,a,c=Ji){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const b=d[m+1],T=-1===b?c(a,o):o[b];o[f++]=T}}}function yT(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=C0(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function C0(o,a,c,d,f,m,b,T,C,A){const x=22+d,L=x+f,q=function vT(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:zt);return c}(x,L),ne="function"==typeof A?A():A;return q[1]={type:o,blueprint:q,template:c,queries:null,viewQuery:T,declTNode:a,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:C,consts:ne,incompleteFirstPass:!1}}function D0(o,a,c,d){const f=L_(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&qh(o).push(d,f.length-1))}function pS(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function ET(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,b=[];let T=null,C=null;for(let A=a.directiveStart;A<d;A++){const x=f[A],L=x.inputs,q=null===m||QE(a)?null:$x(L,m);b.push(q),T=pS(L,A,T),C=pS(x.outputs,A,C)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=16),T.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=T,a.outputs=C}function po(o,a,c,d,f,m,b,T){const C=Ji(a,c);let x,A=a.inputs;!T&&null!=A&&(x=A[d])?(B_(o,c,x,d,f),Ja(a)&&O_(c,a.index)):3&a.type&&(d=function Px(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=b?b(f,a.value||"",d):f,m.setProperty(C,d,f))}function O_(o,a){const c=en(a,o);16&c[2]||(c[2]|=32)}function I0(o,a,c,d){let f=!1;if(Ms()){const m=function Vx(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const b=d[m];z1(c,b.selectors,!1)&&(f||(f=[]),ro(xo(c,a),o,b.type),Ui(b)?(CT(o,c),f.unshift(b)):f.push(b))}return f}(o,a,c),b=null===d?null:{"":-1};if(null!==m){f=!0,DT(c,o.data.length,m.length);for(let x=0;x<m.length;x++){const L=m[x];L.providersResolver&&L.providersResolver(L)}let T=!1,C=!1,A=zh(o,a,m.length,null);for(let x=0;x<m.length;x++){const L=m[x];c.mergedAttrs=al(c.mergedAttrs,L.hostAttrs),mS(o,c,a,A,L),gS(A,L,b),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const q=L.type.prototype;!T&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),T=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),C=!0),A++}ET(o,c)}b&&function Ux(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new Te(-301,!1);d.push(a[f],m)}}}(c,d,b)}return c.mergedAttrs=al(c.mergedAttrs,c.attrs),f}function S0(o,a,c,d,f,m){const b=m.hostBindings;if(b){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const C=~a.index;(function A0(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(T)!=C&&T.push(C),T.push(d,f,b)}}function R_(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function CT(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function gS(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Ui(a)&&(c[""]=o)}}function DT(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function mS(o,a,c,d,f){o.data[d]=f;const m=f.factory||(f.factory=ss(f.type)),b=new io(m,Ui(f),jh);o.blueprint[d]=b,c[d]=b,S0(o,a,0,d,zh(o,c,f.hostVars,zt),f)}function Hx(o,a,c){const d=Ji(a,o),f=yT(c),m=o[10],b=Vp(o,N_(o,f,null,c.onPush?32:16,d,a,m,m.createRenderer(d,c),null,null,null));o[a.index]=b}function IT(o,a,c,d,f,m,b){if(null==m)o.removeAttribute(a,f,c);else{const T=null==b?ye(m):b(m,d||"",f);o.setAttribute(a,f,T,c)}}function jx(o,a,c,d,f,m){const b=m[a];if(null!==b){const T=d.setInput;for(let C=0;C<b.length;){const A=b[C++],x=b[C++],L=b[C++];null!==T?d.setInput(c,L,A,x):c[x]=L}}}function $x(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function _S(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function ST(o,a){const c=en(a,o);if(Co(c)){const d=c[1];48&c[2]?gd(d,c,d.template,c[8]):c[5]>0&&k_(c)}}function k_(o){for(let d=a_(o);null!==d;d=l_(d))for(let f=10;f<d.length;f++){const m=d[f];if(Co(m))if(512&m[2]){const b=m[1];gd(b,m,b.template,m[8])}else m[5]>0&&k_(m)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=en(c[d],o);Co(f)&&f[5]>0&&k_(f)}}function AT(o,a){const c=en(a,o),d=c[1];(function MT(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),b0(d,c,c[8])}function Vp(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function P_(o){for(;o;){o[2]|=32;const a=Bh(o);if(Xf(o)&&!a)return o;o=a}return null}function Up(o,a,c,d=!0){const f=a[10];f.begin&&f.begin();try{gd(o,a,o.template,c)}catch(b){throw d&&vS(a,b),b}finally{f.end&&f.end()}}function O0(o,a,c){ol(0),a(o,c)}function L_(o){return o[7]||(o[7]=[])}function qh(o){return o.cleanup||(o.cleanup=[])}function vS(o,a){const c=o[9],d=c?c.get(Dp,null):null;d&&d.handleError(a)}function B_(o,a,c,d,f){for(let m=0;m<c.length;){const b=c[m++],T=c[m++],C=a[b],A=o.data[b];null!==A.setInput?A.setInput(C,f,d,T):C[T]=f}}function go(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const T=a[b];"number"==typeof T?m=T:1==m?f=pe(f,T):2==m&&(d=pe(d,T+": "+a[++b]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function pt(o,a,c,d,f=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(Un(m)),Qi(m))for(let T=10;T<m.length;T++){const C=m[T],A=C[1].firstChild;null!==A&&pt(C[1],C,A,d)}const b=c.type;if(8&b)pt(o,a,c.child,d);else if(32&b){const T=Gv(c,a);let C;for(;C=T();)d.push(C)}else if(16&b){const T=Jv(a,c);if(Array.isArray(T))d.push(...T);else{const C=Bh(a[16]);pt(C[1],C,T,d,!0)}}c=f?c.projectionNext:c.next}return d}class md{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return pt(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Qi(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Zv(a,d),Rn(c,d))}this._attachedToViewContainer=!1}Ap(this._lView[1],this._lView)}onDestroy(a){D0(this._lView[1],this._lView,null,a)}markForCheck(){P_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Up(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UE(o,a){hd(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=a}}class Ht extends md{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Up(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Wh extends Ml{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=X(a);return new _d(c,this.ngModule)}}function Hp(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class bS{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const f=this.injector.get(a,Ct,d);return f!==Ct||c===Ct?f:this.parentInjector.get(a,c,d)}}class _d extends Oh{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function W1(o){return o.map(eT).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Hp(this.componentDef.inputs)}get outputs(){return Hp(this.componentDef.outputs)}create(a,c,d,f){let m=(f=f||this.ngModule)instanceof ji?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new bS(a,m):a,T=b.get(M,null);if(null===T)throw new Te(407,!1);const C=b.get(ue,null),A=T.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",L=d?function bT(o,a,c){return o.selectRootElement(a,c===_t.ShadowDom)}(A,d,this.componentDef.encapsulation):c_(T.createRenderer(null,this.componentDef),x,function jp(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),q=this.componentDef.onPush?288:272,ne=C0(0,null,null,1,0,null,null,null,null,null),ve=N_(null,ne,null,q,null,null,T,A,C,b,null);let Be,Ke;_c(ve);try{const ut=function V_(o,a,c,d,f,m){const b=c[1];c[22]=o;const C=Gh(b,22,2,"#host",null),A=C.mergedAttrs=a.hostAttrs;null!==A&&(go(C,A,!0),null!==o&&(pa(f,o,A),null!==C.classes&&xp(f,o,C.classes),null!==C.styles&&fd(f,o,C.styles)));const x=d.createRenderer(o,a),L=N_(c,yT(a),null,a.onPush?32:16,c[22],C,d,x,m||null,null,null);return b.firstCreatePass&&(ro(xo(C,c),b,a.type),CT(b,C),DT(C,c.length,1)),Vp(c,L),c[22]=L}(L,this.componentDef,ve,T,A);if(L)if(d)pa(A,L,["ng-version",rt.full]);else{const{attrs:Tt,classes:xe}=function Z1(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&c.push(m);else{if(!fo(f))break;f=m}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Tt&&pa(A,L,Tt),xe&&xe.length>0&&xp(A,L,xe.join(" "))}if(Ke=ua(ne,22),void 0!==c){const Tt=Ke.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const kt=c[xe];Tt.push(null!=kt?Array.from(kt):null)}}Be=function gr(o,a,c,d){const f=c[1],m=function TT(o,a,c){const d=Hn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),mS(o,d,a,zh(o,a,1,null),c),ET(o,d));const f=Os(a,o,d.directiveStart,d);tr(f,a);const m=Ji(d,a);return m&&tr(m,a),f}(f,c,a);if(o[8]=c[8]=m,null!==d)for(const T of d)T(m,a);if(a.contentQueries){const T=Hn();a.contentQueries(1,m,T.directiveStart)}const b=Hn();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(cr(b.index),S0(c[1],b,0,b.directiveStart,b.directiveEnd,a),R_(a,m)),m}(ut,this.componentDef,ve,[Wc]),b0(ne,ve,null)}finally{Io()}return new ES(this.componentType,Be,v(Ke,ve),ve,Ke)}}class ES extends class Ep{}{constructor(a,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new Ht(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;B_(m[1],m,f,a,c),O_(m,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Wc(){const o=Hn();bc(Ne()[1],o)}function x0(o){let a=function OT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(Ui(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Te(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const b=o;b.inputs=$p(o.inputs),b.declaredInputs=$p(o.declaredInputs),b.outputs=$p(o.outputs);const T=f.hostBindings;T&&TS(o,T);const C=f.viewQuery,A=f.contentQueries;if(C&&RT(o,C),A&&kr(o,A),ie(o.inputs,f.inputs),ie(o.declaredInputs,f.declaredInputs),ie(o.outputs,f.outputs),Ui(f)&&f.data.animation){const x=o.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const T=m[b];T&&T.ngInherit&&T(o),T===x0&&(c=!1)}}a=Object.getPrototypeOf(a)}!function xT(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=al(f.hostAttrs,c=al(c,f.hostAttrs))}}(d)}function $p(o){return o===or?{}:o===Pt?[]:o}function RT(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function kr(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,m)=>{a(d,f,m),c(d,f,m)}:a}function TS(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let yd=null;function Pr(){if(!yd){const o=pn.Symbol;if(o&&o.iterator)yd=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(yd=d)}}}return yd}function Gp(o){return!!H_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Pr()in o)}function H_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Zo(o,a,c){return o[a]=c}function mr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Na(o,a,c,d){const f=mr(o,a,c);return mr(o,a+1,d)||f}function qp(o,a,c,d){const f=Ne();return mr(f,Do(),a)&&(Yt(),function Ma(o,a,c,d,f,m){const b=Ji(o,a);IT(a[11],b,m,o.value,c,d,f)}(Mn(),f,o,a,c,d)),qp}function Qh(o,a,c,d){return mr(o,Do(),c)?a+ye(c)+d:zt}function U0(o,a,c,d,f,m,b,T){const C=Ne(),A=Yt(),x=o+22,L=A.firstCreatePass?function V0(o,a,c,d,f,m,b,T,C){const A=a.consts,x=Gh(a,o,4,b||null,Hr(A,T));I0(a,c,x,Hr(A,C)),bc(a,x);const L=x.tViews=C0(2,x,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A);return null!==a.queries&&(a.queries.template(a,x),L.queries=a.queries.embeddedTView(x)),x}(x,A,C,a,c,d,f,m,b):A.data[x];Mr(L,!1);const q=C[11].createComment("");h_(A,C,q,L),tr(q,C),Vp(C,C[x]=_S(q,C,q,L)),Ou(L)&&Bp(A,C,L),null!=b&&T0(C,L,T)}function BT(o){return function As(o,a){return o[a]}(function Bu(){return Ot.lFrame.contextLView}(),22+o)}function z_(o,a,c){const d=Ne();return mr(d,Do(),a)&&po(Yt(),Mn(),d,o,a,d[11],c,!1),z_}function q_(o,a,c,d,f){const b=f?"class":"style";B_(o,c,a.inputs[b],b,d)}function Kp(o,a,c,d){const f=Ne(),m=Yt(),b=22+o,T=f[11],C=f[b]=c_(T,a,function vc(){return Ot.lFrame.currentNamespace}()),A=m.firstCreatePass?function H0(o,a,c,d,f,m,b){const T=a.consts,A=Gh(a,o,2,f,Hr(T,m));return I0(a,c,A,Hr(T,b)),null!==A.attrs&&go(A,A.attrs,!1),null!==A.mergedAttrs&&go(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(b,m,f,0,a,c,d):m.data[b];Mr(A,!0);const x=A.mergedAttrs;null!==x&&pa(T,C,x);const L=A.classes;null!==L&&xp(T,C,L);const q=A.styles;return null!==q&&fd(T,C,q),64!=(64&A.flags)&&h_(m,f,C,A),0===function uc(){return Ot.lFrame.elementDepthCount}()&&tr(C,f),function dc(){Ot.lFrame.elementDepthCount++}(),Ou(A)&&(Bp(m,f,A),E0(m,A,f)),null!==d&&T0(f,A),Kp}function W_(){let o=Hn();tl()?nl():(o=o.parent,Mr(o,!1));const a=o;!function Pu(){Ot.lFrame.elementDepthCount--}();const c=Yt();return c.firstCreatePass&&(bc(c,o),ec(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Tc(o){return 0!=(16&o.flags)}(a)&&q_(c,a,Ne(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function uh(o){return 0!=(32&o.flags)}(a)&&q_(c,a,Ne(),a.stylesWithoutHost,!1),W_}function Yp(o,a,c,d){return Kp(o,a,c,d),W_(),Yp}function tf(o,a,c){const d=Ne(),f=Yt(),m=o+22,b=f.firstCreatePass?function j0(o,a,c,d,f){const m=a.consts,b=Hr(m,d),T=Gh(a,o,8,"ng-container",b);return null!==b&&go(T,b,!0),I0(a,c,T,Hr(m,f)),null!==a.queries&&a.queries.elementStart(a,T),T}(m,f,d,a,c):f.data[m];Mr(b,!0);const T=d[m]=d[11].createComment("");return h_(f,d,T,b),tr(T,d),Ou(b)&&(Bp(f,d,b),E0(f,b,d)),null!=c&&T0(d,b),tf}function Si(){let o=Hn();const a=Yt();return tl()?nl():(o=o.parent,Mr(o,!1)),a.firstCreatePass&&(bc(a,o),ec(o)&&a.queries.elementEnd(o)),Si}function Qp(){return Ne()}function Jp(o){return!!o&&"function"==typeof o.then}function VT(o){return!!o&&"function"==typeof o.subscribe}const UT=VT;function Z_(o,a,c,d){const f=Ne(),m=Yt(),b=Hn();return function $0(o,a,c,d,f,m,b,T){const C=Ou(d),x=o.firstCreatePass&&qh(o),L=a[8],q=L_(a);let ne=!0;if(3&d.type||T){const Ke=Ji(d,a),ut=T?T(Ke):Ke,Tt=q.length,xe=T?yn=>T(Un(yn[d.index])):d.index;let kt=null;if(!T&&C&&(kt=function DS(o,a,c,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===c&&f[m+1]===d){const T=a[7],C=f[m+2];return T.length>C?T[C]:null}"string"==typeof b&&(m+=2)}return null}(o,a,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,ne=!1;else{m=jT(d,a,L,m,!1);const yn=c.listen(ut,f,m);q.push(m,yn),x&&x.push(f,xe,Tt,Tt+1)}}else m=jT(d,a,L,m,!1);const ve=d.outputs;let Be;if(ne&&null!==ve&&(Be=ve[f])){const Ke=Be.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Zn=a[Be[ut]][Be[ut+1]].subscribe(m),zl=q.length;q.push(m,Zn),x&&x.push(f,d.index,zl,-(zl+1))}}}(m,f,f[11],b,o,a,0,d),Z_}function K_(o,a,c,d){try{return!1!==c(d)}catch(f){return vS(o,f),!1}}function jT(o,a,c,d,f){return function m(b){if(b===Function)return d;P_(2&o.flags?en(o.index,a):a);let C=K_(a,0,d,b),A=m.__ngNextListenerFn__;for(;A;)C=K_(a,0,A,b)&&C,A=A.__ngNextListenerFn__;return f&&!1===C&&(b.preventDefault(),b.returnValue=!1),C}}function Y_(o=1){return function So(o){return(Ot.lFrame.contextLView=function yc(o,a){for(;o>0;)a=a[15],o--;return a}(o,Ot.lFrame.contextLView))[8]}(o)}function $T(o,a){let c=null;const d=function p_(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?z1(o,m,!0):q1(d,m))return f}else c=f}return c}function GT(o){const a=Ne()[16][6];if(!a.projection){const d=a.projection=ao(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const b=o?$T(m,o):0;null!==b&&(f[b]?f[b].projectionNext=m:d[b]=m,f[b]=m),m=m.next}}}function Xp(o,a=0,c){const d=Ne(),f=Yt(),m=Gh(f,22+o,16,null,c||null);null===m.projection&&(m.projection=a),nl(),64!=(64&m.flags)&&function KE(o,a,c){Op(a[11],0,a,c,jE(o,c,a),yi(c.parent||a[6],c,a))}(f,d,m)}function eg(o,a,c){return nf(o,"",a,"",c),eg}function nf(o,a,c,d,f){const m=Ne(),b=Qh(m,a,c,d);return b!==zt&&po(Yt(),Mn(),m,o,b,m[11],f,!1),nf}function WT(o,a,c,d,f){const m=o[c+1],b=null===a;let T=d?Wo(m):si(m),C=!1;for(;0!==T&&(!1===C||b);){const x=o[T+1];bd(o[T],a)&&(C=!0,o[T+1]=d?Fp(x):u0(x)),T=d?Wo(x):si(x)}C&&(o[c+1]=d?u0(m):Fp(m))}function bd(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&lo(o,a)>=0}const Fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ng(o){return o.substring(Fi.key,Fi.keyEnd)}function Z0(o,a){const c=Fi.textEnd;return c===a?-1:(a=Fi.keyEnd=function KT(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Fi.key=a,c),Fl(o,a,c))}function Fl(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function rg(o,a,c){return Vs(o,a,c,!1),rg}function sg(o,a){return Vs(o,a,null,!0),sg}function J0(o){!function fs(o,a,c,d){const f=Yt(),m=Ns(2);f.firstUpdatePass&&X0(f,null,m,d);const b=Ne();if(c!==zt&&mr(b,m,c)){const T=f.data[mi()];if(iC(T,d)&&!Q_(f,m)){let C=d?T.classesWithoutHost:T.stylesWithoutHost;null!==C&&(c=pe(C,c||"")),q_(f,T,b,c,d)}else!function eb(o,a,c,d,f,m,b,T){f===zt&&(f=Pt);let C=0,A=0,x=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==x||null!==L;){const q=C<f.length?f[C+1]:void 0,ne=A<m.length?m[A+1]:void 0;let Be,ve=null;x===L?(C+=2,A+=2,q!==ne&&(ve=L,Be=ne)):null===L||null!==x&&x<L?(C+=2,ve=x):(A+=2,ve=L,Be=ne),null!==ve&&eC(o,a,c,d,ve,Be,b,T),x=C<f.length?f[C]:null,L=A<m.length?m[A]:null}}(f,T,b,b[11],b[m+1],b[m+1]=function lg(o,a,c){if(null==c||""===c)return Pt;const d=[],f=Kr(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,m)}}(Ze,Ra,o,!0)}function Ra(o,a){for(let c=function ig(o){return function af(o){Fi.key=0,Fi.keyEnd=0,Fi.value=0,Fi.valueEnd=0,Fi.textEnd=o.length}(o),Z0(o,Fl(o,0,Fi.textEnd))}(a);c>=0;c=Z0(a,c))Ze(o,ng(a),!0)}function Vs(o,a,c,d){const f=Ne(),m=Yt(),b=Ns(2);m.firstUpdatePass&&X0(m,o,b,d),a!==zt&&mr(f,b,a)&&eC(m,m.data[mi()],f,f[11],o,f[b+1]=function nC(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=fe(Kr(o)))),o}(a,c),d,b)}function Q_(o,a){return a>=o.expandoStartIndex}function X0(o,a,c,d){const f=o.data;if(null===f[c+1]){const m=f[mi()],b=Q_(o,c);iC(m,d)&&null===a&&!b&&(a=!1),a=function JT(o,a,c,d){const f=sl(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Kc(c=J_(null,o,a,c,d),a.attrs,d),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==f)if(c=J_(f,o,a,c,d),null===m){let C=function XT(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==si(d))return o[Wo(d)]}(o,a,d);void 0!==C&&Array.isArray(C)&&(C=J_(null,o,a,C[1],d),C=Kc(C,a.attrs,d),function SS(o,a,c,d){o[Wo(c?a.classBindings:a.styleBindings)]=d}(o,a,d,C))}else m=function ag(o,a,c){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Kc(d,o[m].hostAttrs,c);return Kc(d,a.attrs,c)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,d),function sf(o,a,c,d,f,m){let b=m?a.classBindings:a.styleBindings,T=Wo(b),C=si(b);o[d]=c;let x,A=!1;if(Array.isArray(c)){const L=c;x=L[1],(null===x||lo(L,x)>0)&&(A=!0)}else x=c;if(f)if(0!==C){const q=Wo(o[T+1]);o[d+1]=Pp(q,T),0!==q&&(o[q+1]=$h(o[q+1],d)),o[T+1]=function iS(o,a){return 131071&o|a<<17}(o[T+1],d)}else o[d+1]=Pp(T,0),0!==T&&(o[T+1]=$h(o[T+1],d)),T=d;else o[d+1]=Pp(C,0),0===T?T=d:o[C+1]=$h(o[C+1],d),C=d;A&&(o[d+1]=u0(o[d+1])),WT(o,x,d,!0),WT(o,x,d,!1),function IS(o,a,c,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&lo(m,a)>=0&&(c[d+1]=Fp(c[d+1]))}(a,x,o,d,m),b=Pp(T,C),m?a.classBindings=b:a.styleBindings=b}(f,m,a,c,b,d)}}function J_(o,a,c,d,f){let m=null;const b=c.directiveEnd;let T=c.directiveStylingLast;for(-1===T?T=c.directiveStart:T++;T<b&&(m=a[T],d=Kc(d,m.hostAttrs,f),m!==o);)T++;return null!==o&&(c.directiveStylingLast=T),d}function Kc(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?f=b:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ze(o,b,!!c||a[++m]))}return void 0===o?null:o}function eC(o,a,c,d,f,m,b,T){if(!(3&a.type))return;const C=o.data,A=C[T+1];cg(function d0(o){return 1==(1&o)}(A)?tC(C,a,c,f,si(A),b):void 0)||(cg(m)||function aT(o){return 2==(2&o)}(A)&&(m=tC(C,null,c,f,T,b)),function YE(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Sa.DashCase;null==f?o.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Sa.Important),o.setStyle(c,d,f,m))}}(d,b,Ar(mi(),c),f,m))}function tC(o,a,c,d,f,m){const b=null===a;let T;for(;f>0;){const C=o[f],A=Array.isArray(C),x=A?C[1]:C,L=null===x;let q=c[f+1];q===zt&&(q=L?Pt:void 0);let ne=L?yl(q,d):x===d?q:void 0;if(A&&!cg(ne)&&(ne=yl(C,d)),cg(ne)&&(T=ne,b))return T;const ve=o[f+1];f=b?Wo(ve):si(ve)}if(null!==a){let C=m?a.residualClasses:a.residualStyles;null!=C&&(T=yl(C,d))}return T}function cg(o){return void 0!==o}function iC(o,a){return 0!=(o.flags&(a?16:32))}function Qc(o,a=""){const c=Ne(),d=Yt(),f=o+22,m=d.firstCreatePass?Gh(d,f,1,a,null):d.data[f],b=c[f]=qv(c[11],a);h_(d,c,b,m),Mr(m,!1)}function Ko(o){return wd("",o,""),Ko}function wd(o,a,c){const d=Ne(),f=Qh(d,o,a,c);return f!==zt&&function Pl(o,a,c){const d=Ar(a,o);BE(o[11],d,c)}(d,mi(),f),wd}function gg(o,a,c){const d=Ne();return mr(d,Do(),a)&&po(Yt(),Mn(),d,o,a,d[11],c,!0),gg}function ey(o,a,c){const d=Ne();if(mr(d,Do(),a)){const m=Yt(),b=Mn();po(m,b,d,o,a,function NT(o,a,c){return(null===o||Ui(o))&&(c=function rc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}(sl(m.data),b,d),c,!0)}return ey}const Yo=void 0;var PS=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mg(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Pn={};function ab(o){const a=function ty(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=lb(a);if(c)return c;const d=a.split("-")[0];if(c=lb(d),c)return c;if("en"===d)return PS;throw new Te(701,!1)}function pC(o){return ab(o)[At.PluralCase]}function lb(o){return o in Pn||(Pn[o]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[o]),Pn[o]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const gC=["zero","one","two","few","many"],Ed="en-US",ff={marker:"element"},Xc={marker:"ICU"};var oi=(()=>((oi=oi||{})[oi.SHIFT=2]="SHIFT",oi[oi.APPEND_EAGERLY=1]="APPEND_EAGERLY",oi[oi.COMMENT=2]="COMMENT",oi))();let _g=Ed;function cb(o){(function Zt(o,a){null==o&&tt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(_g=o.toLowerCase().replace(/_/g,"-"))}function yC(o,a,c){const d=a.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?WE(o,0,c):Un(c[f])}function ub(o,a,c,d,f){const m=a.insertBeforeIndex;if(Array.isArray(m)){let b=d,T=null;if(3&a.type||(T=b,b=f),null!==b&&0==(2&a.flags))for(let C=1;C<m.length;C++)Aa(o,b,c[m[C]],T,!1)}}function pf(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const d=o[c];db(d)||vC(d,a)&&null===hb(d)&&fb(d,a.index)}}function db(o){return!(64&o.type)}function vC(o,a){return db(a)||o.index>a.index}function hb(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function fb(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(Np(yC,ub),o.insertBeforeIndex=a)}function gf(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function wC(o,a,c){const d=v0(o,c,64,null,null);return pf(a,d),d}function ka(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function pb(o){return o>>>17}function gb(o){return(131070&o)>>>1}let eu=0,_r=0;function DC(o,a,c,d){const f=c[11];let b,m=null;for(let T=0;T<a.length;T++){const C=a[T];if("string"==typeof C){const A=a[++T];null===c[A]&&(c[A]=qv(f,C))}else if("number"==typeof C)switch(1&C){case 0:const A=pb(C);let x,L;if(null===m&&(m=A,b=d_(f,d)),A===m?(x=d,L=b):(x=null,L=Un(c[A])),null!==L){const Be=gb(C);Aa(f,L,c[Be],x,!1);const ut=gf(o,Be);if(null!==ut&&"object"==typeof ut){const Tt=ka(ut,c);null!==Tt&&DC(o,ut.create[Tt],c,c[ut.anchorIdx])}}break;case 1:const ne=a[++T],ve=a[++T];IT(f,Ar(C>>>1,c),null,null,ne,ve,null)}else switch(C){case Xc:const A=a[++T],x=a[++T];null===c[x]&&tr(c[x]=P1(f,A),c);break;case ff:const L=a[++T],q=a[++T];null===c[q]&&tr(c[q]=c_(f,L,null),c)}}}function IC(o,a,c,d,f){for(let m=0;m<c.length;m++){const b=c[m],T=c[++m];if(b&f){let C="";for(let A=m+1;A<=m+T;A++){const x=c[A];if("string"==typeof x)C+=x;else if("number"==typeof x)if(x<0)C+=ye(a[d-x]);else{const L=x>>>2;switch(3&x){case 1:const q=c[++A],ne=c[++A],ve=o.data[L];"string"==typeof ve?IT(a[11],a[L],null,ve,q,C,ne):po(o,ve,a,q,C,a[11],ne,!1);break;case 0:const Be=a[L];null!==Be&&BE(a[11],Be,C);break;case 2:BS(o,gf(o,L),a,C);break;case 3:ry(o,gf(o,L),d,a)}}}}else{const C=c[m+1];if(C>0&&3==(3&C)){const x=gf(o,C>>>2);a[x.currentCaseLViewIndex]<0&&ry(o,x,d,a)}}m+=T}}function ry(o,a,c,d){let f=d[a.currentCaseLViewIndex];if(null!==f){let m=eu;f<0&&(f=d[a.currentCaseLViewIndex]=~f,m=-1),IC(o,d,a.update[f],c,m)}}function BS(o,a,c,d){const f=function AC(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const d=function Ll(o,a){const c=pC(a)(parseInt(o,10)),d=gC[c];return void 0!==d?d:"other"}(a,function ny(){return _g}());c=o.cases.indexOf(d),-1===c&&"other"!==d&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,d);if(ka(a,c)!==f&&(SC(o,a,c),c[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=c[a.anchorIdx];b&&DC(o,a.create[f],c,b)}}function SC(o,a,c){let d=ka(a,c);if(null!==d){const f=a.remove[d];for(let m=0;m<f.length;m++){const b=f[m];if(b>0){const T=Ar(b,c);null!==T&&V1(c[11],T)}else SC(o,gf(o,~b),c)}}}function VS(){const o=[];let c,d,a=-1;function m(T,C){a=0;const A=ka(T,C);d=null!==A?T.remove[A]:Pt}function b(){if(a<d.length){const T=d[a++];return T>0?c[T]:(o.push(a,d),m(c[1].data[~T],c),b())}return 0===o.length?null:(d=o.pop(),a=o.pop(),b())}return function f(T,C){for(c=C;o.length;)o.pop();return m(T.value,C),b}}const Qo=/\ufffd(\d+):?\d*\ufffd/gi,HS=/\ufffd(\d+)\ufffd/,Le=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,vb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dt=/\uE500/g;function et(o,a,c,d,f,m,b){const T=zh(o,d,1,null);let C=T<<oi.SHIFT,A=da();a===A&&(A=null),null===A&&(C|=oi.APPEND_EAGERLY),b&&(C|=oi.COMMENT,function R1(o){void 0===$v&&($v=o())}(VS)),f.push(C,null===m?"":m);const x=v0(o,T,b?32:1,null===m?"":m,null);pf(c,x);const L=x.index;return Mr(x,!1),null!==A&&a!==A&&function bC(o,a){let c=o.insertBeforeIndex;null===c?(Np(yC,ub),c=o.insertBeforeIndex=[null,a]):(function _e(o,a,c){o!=a&&tt(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(A,L),x}function de(o,a,c,d,f,m,b){const T=b.match(Qo),C=et(o,a,c,m,d,T?null:b,!1);T&&ai(f,b,C.index,null,0,null)}function ai(o,a,c,d,f,m){const b=o.length,T=b+1;o.push(null,null);const C=b+2,A=a.split(Qo);let x=0;for(let L=0;L<A.length;L++){const q=A[L];if(1&L){const ne=f+parseInt(q,10);o.push(-1-ne),x|=NC(ne)}else""!==q&&o.push(q)}return o.push(c<<2|(d?1:0)),d&&o.push(d,m),o[b]=x,o[T]=o.length-C,x}function NC(o){return 1<<Math.min(o,31)}function OC(o){let a,m,c="",d=0,f=!1;for(;null!==(a=Cd.exec(o));)f?a[0]===`\ufffd/*${m}\ufffd`&&(d=a.index,f=!1):(c+=o.substring(d,a.index+a[0].length),m=a[1],f=!0);return c+=o.slice(d),c}function xC(o,a,c,d,f,m){let b=0;const T={type:f.type,currentCaseLViewIndex:zh(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function _f(o,a,c){o.push(NC(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,f,m),function iy(o,a,c){const d=o.data[a];null===d?o.data[a]=c:d.value=c}(o,m,T);const C=f.values;for(let A=0;A<C.length;A++){const x=C[A],L=[];for(let q=0;q<x.length;q++){const ne=x[q];if("string"!=typeof ne){const ve=L.push(ne)-1;x[q]=`\x3c!--\ufffd${ve}\ufffd--\x3e`}}b=Zx(o,T,a,c,d,f.cases[A],x.join(""),L)|b}b&&function PC(o,a,c){o.push(a,1,c<<2|3)}(c,b,m)}function RC(o){const a=[],c=[];let d=1,f=0;const m=bb(o=o.replace(Le,function(b,T,C){return d="select"===C?0:1,f=parseInt(T.slice(1),10),""}));for(let b=0;b<m.length;){let T=m[b++].trim();1===d&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&a.push(T);const C=bb(m[b++]);a.length>c.length&&c.push(C)}return{type:d,mainBinding:f,cases:a,values:c}}function bb(o){if(!o)return[];let a=0;const c=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(o);){const T=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const C=o.substring(a,T);Le.test(C)?d.push(RC(C)):d.push(C),a=T+1}}else{if(0==c.length){const C=o.substring(a,T);d.push(C),a=T+1}c.push("{")}}const b=o.substring(a);return d.push(b),d}function Zx(o,a,c,d,f,m,b,T){const C=[],A=[],x=[];a.cases.push(m),a.create.push(C),a.remove.push(A),a.update.push(x);const q=Vm(Fm()).getInertBodyElement(b),ne=zo(q)||q;return ne?kC(o,a,c,d,C,A,x,ne,f,T,0):0}function kC(o,a,c,d,f,m,b,T,C,A,x){let L=0,q=T.firstChild;for(;q;){const ne=zh(o,c,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const ve=q,Be=ve.tagName.toLowerCase();if(Dl.hasOwnProperty(Be)){Vn(f,ff,Be,C,ne),o.data[ne]=Be;const xe=ve.attributes;for(let kt=0;kt<xe.length;kt++){const yn=xe.item(kt),Zn=yn.name.toLowerCase();yn.value.match(Qo)?mp.hasOwnProperty(Zn)&&ai(b,yn.value,ne,yn.name,0,Go[Zn]?Pc:null):Rt(f,ne,yn)}L=kC(o,a,c,d,f,m,b,q,ne,A,x+1)|L,wb(m,ne,x)}break;case Node.TEXT_NODE:const Ke=q.textContent||"",ut=Ke.match(Qo);Vn(f,null,ut?"":Ke,C,ne),wb(m,ne,x),ut&&(L=ai(b,Ke,ne,null,0,null)|L);break;case Node.COMMENT_NODE:const Tt=HS.exec(q.textContent||"");if(Tt){const kt=A[parseInt(Tt[1],10)];Vn(f,Xc,"",C,ne),xC(o,c,d,C,kt,ne),jt(m,ne,x)}}q=q.nextSibling}return L}function wb(o,a,c){0===c&&o.push(a)}function jt(o,a,c){0===c&&(o.push(~a),o.push(a))}function Vn(o,a,c,d,f){null!==a&&o.push(a),o.push(c,f,function EC(o,a,c){return o|a<<17|c<<1}(0,d,f))}function Rt(o,a,c){o.push(a<<1|1,c.name,c.value)}function yg(o,a,c=-1){const d=Yt(),f=Ne(),m=22+o,b=Hr(d.consts,a),T=da();d.firstCreatePass&&function jS(o,a,c,d,f,m){const b=da(),T=[],C=[],A=[[]];f=function GS(o,a){if(function $S(o){return-1===o}(a))return OC(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return OC(o.substring(c,d))}}(f,m);const x=function xt(o){return o.replace(dt," ")}(f).split(vb);for(let L=0;L<x.length;L++){let q=x[L];if(0==(1&L)){const ne=bb(q);for(let ve=0;ve<ne.length;ve++){let Be=ne[ve];if(0==(1&ve)){const Ke=Be;""!==Ke&&de(o,b,A[0],T,C,c,Ke)}else{const Ke=Be;if("object"!=typeof Ke)throw new Error(`Unable to parse ICU expression in "${f}" message.`);xC(o,c,C,a,Ke,et(o,b,A[0],c,T,"",!0).index)}}}else{const ne=47===q.charCodeAt(0),Be=(q.charCodeAt(ne?1:0),22+Number.parseInt(q.substring(ne?2:1)));if(ne)A.shift(),Mr(da(),!1);else{const Ke=wC(o,A[0],Be);A.unshift([]),Mr(Ke,!0)}}}o.data[d]={create:T,update:C}}(d,null===T?0:T.index,f,m,b,c);const C=d.data[m],x=$E(d,T===f[6]?null:T,f);(function mf(o,a,c,d){const f=o[11];for(let m=0;m<a.length;m++){const b=a[m++],T=a[m],C=(b&oi.COMMENT)===oi.COMMENT,A=(b&oi.APPEND_EAGERLY)===oi.APPEND_EAGERLY,x=b>>>oi.SHIFT;let L=o[x];null===L&&(L=o[x]=C?f.createComment(T):qv(f,T)),A&&null!==c&&Aa(f,c,L,d,!1)}})(f,C.create,x,T&&8&T.type?f[T.index]:null),rl(!0)}function vf(o,a,c){yg(o,a,c),function FC(){rl(!1)}()}function oy(o){return function TC(o){o&&(eu|=1<<Math.min(_r,31)),_r++}(mr(Ne(),Do(),o)),oy}function ps(o){!function CC(o,a,c){if(_r>0){const d=o.data[c];IC(o,a,Array.isArray(d)?d:d.update,function os(){return Ot.lFrame.bindingIndex}()-_r-1,eu)}eu=0,_r=0}(Yt(),Ne(),o+22)}function ay(o,a,c,d,f){if(o=Q(o),Array.isArray(o))for(let m=0;m<o.length;m++)ay(o[m],a,c,d,f);else{const m=Yt(),b=Ne();let T=Yr(o)?o:Q(o.provide),C=ud(o);const A=Hn(),x=1048575&A.providerIndexes,L=A.directiveStart,q=A.providerIndexes>>20;if(Yr(o)||!o.multi){const ne=new io(C,f,jh),ve=ae(T,a,f?x:x+q,L);-1===ve?(ro(xo(A,b),m,T),Pa(m,o,a.length),a.push(T),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ne),b.push(ne)):(c[ve]=ne,b[ve]=ne)}else{const ne=ae(T,a,x+q,L),ve=ae(T,a,x,x+q),Be=ne>=0&&c[ne],Ke=ve>=0&&c[ve];if(f&&!Ke||!f&&!Be){ro(xo(A,b),m,T);const ut=function vg(o,a,c,d,f){const m=new io(o,c,jh);return m.multi=[],m.index=a,m.componentProviders=0,ly(m,f,d&&!c),m}(f?Jo:cy,c.length,f,d,C);!f&&Ke&&(c[ve].providerFactory=ut),Pa(m,o,a.length,0),a.push(T),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ut),b.push(ut)}else Pa(m,o,ne>-1?ne:ve,ly(c[f?ve:ne],C,!f&&d));!f&&d&&Ke&&c[ve].componentProviders++}}}function Pa(o,a,c,d){const f=Yr(a),m=function Ym(o){return!!o.useClass}(a);if(f||m){const C=(m?Q(a.useClass):a).prototype.ngOnDestroy;if(C){const A=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const x=A.indexOf(c);-1===x?A.push(c,[d,C]):A[x+1].push(d,C)}else A.push(c,C)}}}function ly(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function ae(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function cy(o,a,c,d){return Cb(this.multi,[])}function Jo(o,a,c,d){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=Os(c,c[1],this.providerFactory.index,d);m=T.slice(0,b),Cb(f,m);for(let C=b;C<T.length;C++)m.push(T[C])}else m=[],Cb(f,m);return m}function Cb(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Bl(o,a=[]){return c=>{c.providersResolver=(d,f)=>function BC(o,a,c){const d=Yt();if(d.firstCreatePass){const f=Ui(o);ay(c,d.data,d.blueprint,f,!0),ay(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class bf{}class tu{}function VC(o,a){return new HC(o,a??null)}class HC extends bf{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wh(this);const d=En(a);this._bootstrapComponents=xl(d.bootstrap),this._r3Injector=s0(a,c,[{provide:bf,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],fe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Db extends tu{constructor(a){super(),this.moduleType=a}create(a){return new HC(this.moduleType,a)}}class gs extends bf{constructor(a,c,d){super(),this.componentFactoryResolver=new Wh(this),this.instance=null;const f=new Nh([...a,{provide:bf,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],c||Mh(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function uy(o,a,c=null){return new gs(o,a,c).injector}let Id=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Ih(0,c.type),f=d.length>0?uy([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=sn({token:o,providedIn:"environment",factory:()=>new o(Ut(ji))}),o})();function Ib(o){o.getStandaloneInjector=a=>a.get(Id).getOrCreateStandaloneInjector(o)}function Ef(o,a,c,d){return function fy(o,a,c,d,f,m){const b=a+c;return mr(o,b,f)?Zo(o,b+1,m?d.call(m,f):d(f)):La(o,b+1)}(Ne(),jn(),o,a,c,d)}function Mb(o,a,c,d,f){return function ru(o,a,c,d,f,m,b){const T=a+c;return Na(o,T,f,m)?Zo(o,T+2,b?d.call(b,f,m):d(f,m)):La(o,T+2)}(Ne(),jn(),o,a,c,d,f)}function Vl(o,a,c,d,f,m){return function py(o,a,c,d,f,m,b,T){const C=a+c;return function Kh(o,a,c,d,f){const m=Na(o,a,c,d);return mr(o,a+2,f)||m}(o,C,f,m,b)?Zo(o,C+3,T?d.call(T,f,m,b):d(f,m,b)):La(o,C+3)}(Ne(),jn(),o,a,c,d,f,m)}function La(o,a){const c=o[a];return c===zt?void 0:c}function Nn(o){return a=>{setTimeout(o,void 0,a)}}const Ba=class ZC extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,m=c||(()=>null),b=d;if(a&&"object"==typeof a){const C=a;f=C.next?.bind(C),m=C.error?.bind(C),b=C.complete?.bind(C)}this.__isAsync&&(m=Nn(m),f&&(f=Nn(f)),b&&(b=Nn(b)));const T=super.subscribe({next:f,error:m,complete:b});return a instanceof te.w0&&a.add(T),T}};function KC(){return this._results[Pr()]()}class Va{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Pr(),d=Va.prototype;d[c]||(d[c]=KC)}get changes(){return this._changes||(this._changes=new Ba)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=an(a);(this._changesDetected=!function It(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tg=(()=>{class o{}return o.__NG_ELEMENT_ID__=yy,o})();const Cg=Tg,_y=class extends Cg{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,f=N_(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(d)),b0(d,f,a),new md(f)}};function yy(){return Dg(Hn(),Ne())}function Dg(o,a){return 4&o.type?new _y(a,o,v(o,a)):null}let Ig=(()=>{class o{}return o.__NG_ELEMENT_ID__=vr,o})();function vr(){return JC(Hn(),Ne())}const JS=Ig,YC=class extends JS{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return v(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const a=Sc(this._hostTNode,this._hostLView);if(hh(a)){const c=cl(a,this._hostLView),d=Ci(a);return new ko(c[1].data[d+8],c)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=QC(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const b=a.createEmbeddedView(c||{},m);return this.insert(b,f),b}createComponent(a,c,d,f,m){const b=a&&!function dr(o){return"function"==typeof o}(a);let T;if(b)T=c;else{const L=c||{};T=L.index,d=L.injector,f=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const C=b?a:new _d(X(a)),A=d||this.parentInjector;if(!m&&null==C.ngModule){const q=(b?A:this.parentInjector).get(ji,null);q&&(m=q)}const x=C.create(A,f,void 0,m);return this.insert(x.hostView,T),x}insert(a,c){const d=a._lView,f=d[1];if(function ac(o){return Qi(o[3])}(d)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const L=d[3],q=new YC(L,L[6],L[3]);q.detach(q.indexOf(a))}}const m=this._adjustIndex(c),b=this._lContainer;!function F1(o,a,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=a),d<m-10?(a[4]=c[f],ml(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const b=a[17];null!==b&&c!==b&&function L1(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(b,a);const T=a[19];null!==T&&T.insertView(o),a[2]|=64}(f,d,b,m);const T=ZE(m,b),C=d[11],A=d_(C,b[7]);return null!==A&&function VE(o,a,c,d,f,m){d[0]=f,d[6]=a,hd(o,d,c,1,f,m)}(f,b[6],C,d,A,T),a.attachToViewContainerRef(),ml(vy(b),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=QC(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Zv(this._lContainer,c);d&&(Rn(vy(this._lContainer),c),Ap(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=Zv(this._lContainer,c);return d&&null!=Rn(vy(this._lContainer),c)?new md(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function QC(o){return o[8]}function vy(o){return o[8]||(o[8]=[])}function JC(o,a){let c;const d=a[o.index];if(Qi(d))c=d;else{let f;if(8&o.type)f=Un(d);else{const m=a[11];f=m.createComment("");const b=Ji(o,a);Aa(m,d_(m,b),f,function qE(o,a){return o.nextSibling(a)}(m,b),!1)}a[o.index]=c=_S(d,a,f,o),Vp(a,c)}return new YC(c,o,a)}class Ua{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ua(this.queryList)}setDirty(){this.queryList.setDirty()}}class su{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const b=c.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new su(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Rb(a,c).matches&&this.queries[c].setDirty()}}class XC{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class by{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new by(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class wy{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new wy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,c,Ul(c,m)),this.matchTNodeWithReadOption(a,c,ga(c,a,m,!1,!1))}else d===Tg?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ga(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===p||f===Ig||f===Tg&&4&c.type)this.addMatch(c.index,-2);else{const m=ga(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Ul(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Cf(o,a,c,d){return-1===c?function eD(o,a){return 11&o.type?v(o,a):4&o.type?Dg(o,a):null}(a,o):-2===c?function tD(o,a,c){return c===p?v(a,o):c===Tg?Dg(a,o):c===Ig?JC(a,o):void 0}(o,a,d):Os(o,o[1],c,a)}function Ey(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,b=c.matches,T=[];for(let C=0;C<b.length;C+=2){const A=b[C];T.push(A<0?null:Cf(a,m[A],b[C+1],c.metadata.read))}f.matches=T}return f.matches}function Sg(o,a,c,d){const f=o.queries.getByIndex(c),m=f.matches;if(null!==m){const b=Ey(o,a,f,c);for(let T=0;T<m.length;T+=2){const C=m[T];if(C>0)d.push(b[T/2]);else{const A=m[T+1],x=a[-C];for(let L=10;L<x.length;L++){const q=x[L];q[17]===q[3]&&Sg(q[1],q,A,d)}if(null!==x[9]){const L=x[9];for(let q=0;q<L.length;q++){const ne=L[q];Sg(ne[1],ne,A,d)}}}}}return d}function Ty(o){const a=Ne(),c=Yt(),d=Hu();ol(d+1);const f=Rb(c,d);if(o.dirty&&function oc(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Sg(c,a,d,[]):Ey(c,a,f,d);o.reset(m,_),o.notifyOnChanges()}return!0}return!1}function Nd(o,a,c){const d=Yt();d.firstCreatePass&&(Cy(d,new XC(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Ob(d,Ne(),a)}function Fr(o,a,c,d){const f=Yt();if(f.firstCreatePass){const m=Hn();Cy(f,new XC(a,c,d),m.index),function xb(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}Ob(f,Ne(),c)}function Ag(){return function Mg(o,a){return o[19].queries[a].queryList}(Ne(),Hu())}function Ob(o,a,c){const d=new Va(4==(4&c));D0(o,a,d,d.destroy),null===a[19]&&(a[19]=new su),a[19].queries.push(new Ua(d))}function Cy(o,a,c){null===o.queries&&(o.queries=new by),o.queries.track(new wy(a,c))}function Rb(o,a){return o.queries.getByIndex(a)}function kb(o,a){return Dg(o,a)}function Og(...o){}const fD=new Dn("Application Initializer");let Ay=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Og,this.reject=Og,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Jp(m))c.push(m);else if(UT(m)){const b=new Promise((T,C)=>{m.subscribe({complete:T,error:C})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Ut(fD,8))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const pD=new Dn("AppId",{providedIn:"root",factory:function Of(){return`${Wb()}${Wb()}${Wb()}`}});function Wb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gi=new Dn("Platform Initializer"),Zb=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kb=new Dn("appBootstrapListener"),ja=new Dn("AnimationModuleType");let Yb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ou=new Dn("LocaleId",{providedIn:"root",factory:()=>D(ou,nt.Optional|nt.SkipSelf)||function gD(){return typeof $localize<"u"&&$localize.locale||Ed}()}),mD=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gA{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let xg=(()=>{class o{compileModuleSync(c){return new Db(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=xl(En(c).declarations).reduce((b,T)=>{const C=X(T);return C&&b.push(new _d(C)),b},[]);return new gA(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const mA=(()=>Promise.resolve(0))();function Xb(o){typeof Zone>"u"?mA.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class br{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function xf(){let o=pn.requestAnimationFrame,a=pn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function yD(o){const a=()=>{!function yA(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(pn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,wr(o),o.isCheckStableRunning=!0,ew(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),wr(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,b,T)=>{try{return vD(o),c.invokeTask(f,m,b,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),tw(o)}},onInvoke:(c,d,f,m,b,T,C)=>{try{return vD(o),c.invoke(f,m,b,T,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),tw(o)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,wr(o),ew(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!br.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(br.isInAngularZone())throw new Te(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,a,_A,Og,Og);try{return m.runTask(b,c,d)}finally{m.cancelTask(b)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const _A={};function ew(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function wr(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function vD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function tw(o){o._nesting--,ew(o)}class $a{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const nw=new Dn(""),Rg=new Dn("");let iw,bD=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iw||(function vA(o){iw=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{br.assertNotInAngularZone(),Xb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xb(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Ut(br),Ut(wD),Ut(Rg))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})(),wD=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return iw?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),au=null;const ED=new Dn("AllowMultipleToken"),rw=new Dn("PlatformDestroyListeners");class EA{constructor(a,c){this.name=a,this.token=c}}function sw(o,a,c=[]){const d=`Platform: ${a}`,f=new Dn(d);return(m=[])=>{let b=aw();if(!b||b.injector.get(ED,!1)){const T=[...c,...m,{provide:f,useValue:!0}];o?o(T):function TA(o){if(au&&!au.get(ED,!1))throw new Te(400,!1);au=o;const a=o.get(Oy);(function TD(o){const a=o.get(Gi,null);a&&a.forEach(c=>c())})(o)}(function ow(o=[],a){return Rl.create({name:a,providers:[{provide:Uc,useValue:"platform"},{provide:rw,useValue:new Set([()=>au=null])},...o]})}(T,d))}return function DA(o){const a=aw();if(!a)throw new Te(401,!1);return a}()}}function aw(){return au?.get(Oy)??null}let Oy=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function xy(o,a){let c;return c="noop"===o?new $a:("zone.js"===o?void 0:o)||new br(a),c}(d?.ngZone,function zi(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:br,useValue:f}];return f.run(()=>{const b=Rl.create({providers:m,parent:this.injector,name:c.moduleType.name}),T=c.create(b),C=T.injector.get(Dp,null);if(!C)throw new Te(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:x=>{C.handleError(x)}});T.onDestroy(()=>{kg(this._modules,T),A.unsubscribe()})}),function Ry(o,a,c){try{const d=c();return Jp(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(C,f,()=>{const A=T.injector.get(Ay);return A.runInitializers(),A.donePromise.then(()=>(cb(T.injector.get(ou,Ed)||Ed),this._moduleDoBootstrap(T),T))})})}bootstrapModule(c,d=[]){const f=ky({},d);return function bA(o,a,c){const d=new Db(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(ta);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Te(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(rw,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Ut(Rl))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function ky(o,a){return Array.isArray(a)?a.reduce(ky,o):{...o,...a}}let ta=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new P.y(T=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{br.assertNotInAngularZone(),Xb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{br.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{C.unsubscribe(),A.unsubscribe()}});this.isStable=(0,le.T)(m,b.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Oh;if(!this._injector.get(Ay).done)throw!f&&nn(c),new Te(405,false);let b;b=f?c:this._injector.get(Ml).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const T=function wA(o){return o.isBoundToModule}(b)?void 0:this._injector.get(bf),A=b.create(Rl.NULL,[],d||b.selector,T),x=A.location.nativeElement,L=A.injector.get(nw,null);return L?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),kg(this.components,A),L?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;kg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Kb,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>kg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Ut(br),Ut(ji),Ut(Dp))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function kg(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let Pg=!0,lu=!1;function Fd(){return lu=!0,Pg}function Ld(){if(lu)throw new Error("Cannot enable prod mode after platform setup.");Pg=!1}let lw=(()=>{class o{}return o.__NG_ELEMENT_ID__=ID,o})();function ID(o){return function SD(o,a,c){if(Ja(o)&&!c){const d=en(o.index,a);return new md(d,d)}return 47&o.type?new md(a[16],a):null}(Hn(),Ne(),16==(16&o))}class Fg{constructor(){}supports(a){return Gp(a)}create(a){return new OD(a)}}const Lg=(o,a)=>a;class OD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Lg}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const b=!d||c&&c.currentIndex<Bg(d,f,m)?c:d,T=Bg(b,f,m),C=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{m||(m=[]);const A=T-f,x=C-f;if(A!=x){for(let q=0;q<A;q++){const ne=q<m.length?m[q]:m[q]=0,ve=ne+q;x<=ve&&ve<A&&(m[q]=ne+1)}m[b.previousIndex]=x-A}}T!==C&&a(b,T,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Gp(a))throw new Te(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,b,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)m=a[T],b=this._trackByFn(T,m),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,m,b,T)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,T),d=!0),c=c._next}else f=0,function Zh(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Pr()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,T=>{b=this._trackByFn(f,T),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,T,b,f)),Object.is(c.item,T)||this._addIdentityChange(c,T)):(c=this._mismatch(c,T,b,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new xD(c,d),m,f),a}_verifyReinsertion(a,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class xD{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _s{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class fw{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new _s,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bg(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class Vg{constructor(){}supports(a){return a instanceof Map||H_(a)}create(){return new RD}}class RD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||H_(a)))throw new Te(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const d=new cu(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class cu{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ud(){return new Uy([new Fg])}let Uy=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Ud()),deps:[[o,new St,new Pe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Te(901,!1)}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:Ud}),o})();function kD(){return new uu([new Vg])}let uu=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||kD()),deps:[[o,new St,new Pe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Te(901,!1)}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:kD}),o})();const RA=sw(null,"core",[]);let kA=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Ut(ta))},o.\u0275mod=$t({type:o}),o.\u0275inj=Vt({}),o})();function PA(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function UA(o,a){const c=X(o),d=a.elementInjector||Mh();return new _d(c).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}},3942:(mt,Ie,F)=>{F.d(Ie,{Z:()=>Te});var l=F(2090),te=F(4859),P=F(9681),le=F(1877);class ce{constructor(ye,ge){this._delegate=ye,this.firebase=ge,(0,P._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ye,ge=P._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(ye);return!ft.isInitialized()&&"EXPLICIT"===(null===(st=ft.getComponent())||void 0===st?void 0:st.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:ge})}_removeServiceInstance(ye,ge=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ge)}_addComponent(ye){(0,P._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,P._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function pe(){const lt=function fe(lt){const ye={},ge={__esModule:!0,initializeApp:function Oe(We,j={}){const _e=P.initializeApp(We,j);if((0,l.r3)(ye,_e.name))return ye[_e.name];const Z=new lt(_e,ge);return ye[_e.name]=Z,Z},app:ft,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(We){const j=We.name,_e=j.replace("-compat","");if(P._registerComponent(We)&&"PUBLIC"===We.type){const Z=(ee=ft())=>{if("function"!=typeof ee[_e])throw ie.create("invalid-app-argument",{appName:j});return ee[_e]()};void 0!==We.serviceProps&&(0,l.ZB)(Z,We.serviceProps),ge[_e]=Z,lt.prototype[_e]=function(...ee){return this._getService.bind(this,j).apply(this,We.multipleInstances?ee:[])}}return"PUBLIC"===We.type?ge[_e]:null},removeApp:function st(We){delete ye[We]},useAsService:function qe(We,j){return"serverAuth"===j?null:j},modularAPIs:P}};function ft(We){if(!(0,l.r3)(ye,We=We||P._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:We});return ye[We]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function be(){return Object.keys(ye).map(We=>ye[We])}}),ft.App=lt,ge}(ce);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ye(ge){(0,l.ZB)(lt,ge)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),lt}(),G=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=$;!function Re(lt){(0,P.registerVersion)("@firebase/app-compat","0.1.37",lt)}()},9681:(mt,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>yo,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>tn,_addOrOverwriteComponent:()=>sn,_apps:()=>mn,_clearComponents:()=>Ts,_components:()=>Sn,_getProvider:()=>Vt,_registerComponent:()=>Zi,_removeServiceInstance:()=>vn,deleteApp:()=>Ya,getApp:()=>Cr,getApps:()=>Dr,initializeApp:()=>Br,onLog:()=>Zs,registerVersion:()=>Vi,setLogLevel:()=>hi});var l=F(5861),te=F(4859),P=F(1877),le=F(2090),ce=F(8766);class he{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function ie(at){return"VERSION"===at.getComponent()?.type}(ot)){const Mt=ot.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(ot=>ot).join(" ")}}const fe="@firebase/app",$=new P.Yd("@firebase/app"),Zt="[DEFAULT]",tt={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Sn=new Map;function tn(at,Me){try{at.container.addComponent(Me)}catch(ot){$.debug(`Component ${Me.name} failed to register with FirebaseApp ${at.name}`,ot)}}function sn(at,Me){at.container.addOrOverwriteComponent(Me)}function Zi(at){const Me=at.name;if(Sn.has(Me))return $.debug(`There were multiple attempts to register component ${Me}.`),!1;Sn.set(Me,at);for(const ot of mn.values())tn(ot,at);return!0}function Vt(at,Me){const ot=at.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),at.container.getProvider(Me)}function vn(at,Me,ot=Zt){Vt(at,Me).clearInstance(ot)}function Ts(){Sn.clear()}const Ki=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sr{constructor(Me,ot,Mt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const yo="9.12.1";function Br(at,Me={}){let ot=at;"object"!=typeof Me&&(Me={name:Me});const Mt=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},Me),Dt=Mt.name;if("string"!=typeof Dt||!Dt)throw Ki.create("bad-app-name",{appName:String(Dt)});if(ot||(ot=(0,le.aH)()),!ot)throw Ki.create("no-options");const $t=mn.get(Dt);if($t){if((0,le.vZ)(ot,$t.options)&&(0,le.vZ)(Mt,$t.config))return $t;throw Ki.create("duplicate-app",{appName:Dt})}const z=new te.H0(Dt);for(const K of Sn.values())z.addComponent(K);const U=new sr(ot,Mt,z);return mn.set(Dt,U),U}function Cr(at=Zt){const Me=mn.get(at);if(!Me&&at===Zt)return Br();if(!Me)throw Ki.create("no-app",{appName:at});return Me}function Dr(){return Array.from(mn.values())}function Ya(at){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(at){const Me=at.name;mn.has(Me)&&(mn.delete(Me),yield Promise.all(at.container.getProviders().map(ot=>ot.delete())),at.isDeleted=!0)})).apply(this,arguments)}function Vi(at,Me,ot){var Mt;let Dt=null!==(Mt=tt[at])&&void 0!==Mt?Mt:at;ot&&(Dt+=`-${ot}`);const $t=Dt.match(/\s|\//),z=Me.match(/\s|\//);if($t||z){const U=[`Unable to register library "${Dt}" with version "${Me}":`];return $t&&U.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),$t&&z&&U.push("and"),z&&U.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void $.warn(U.join(" "))}Zi(new te.wA(`${Dt}-version`,()=>({library:Dt,version:Me}),"VERSION"))}function Zs(at,Me){if(null!==at&&"function"!=typeof at)throw Ki.create("invalid-log-argument");(0,P.Am)(at,Me)}function hi(at){(0,P.Ub)(at)}const Kn="firebase-heartbeat-store";let ei=null;function Cn(){return ei||(ei=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(at,Me)=>{0===Me&&at.createObjectStore(Kn)}}).catch(at=>{throw Ki.create("idb-open",{originalErrorMessage:at.message})})),ei}function _t(){return(_t=(0,l.Z)(function*(at){var Me;try{return(yield Cn()).transaction(Kn).objectStore(Kn).get(ti(at))}catch(ot){if(ot instanceof le.ZR)$.warn(ot.message);else{const Mt=Ki.create("idb-get",{originalErrorMessage:null===(Me=ot)||void 0===Me?void 0:Me.message});$.warn(Mt.message)}}})).apply(this,arguments)}function pn(at,Me){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(at,Me){var ot;try{const Dt=(yield Cn()).transaction(Kn,"readwrite");return yield Dt.objectStore(Kn).put(Me,ti(at)),Dt.done}catch(Mt){if(Mt instanceof le.ZR)$.warn(Mt.message);else{const Dt=Ki.create("idb-set",{originalErrorMessage:null===(ot=Mt)||void 0===ot?void 0:ot.message});$.warn(Dt.message)}}})).apply(this,arguments)}function ti(at){return`${at.name}!${at.options.appId}`}class Ks{constructor(Me){this.container=Me,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new un(ot),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Me=this;return(0,l.Z)(function*(){const Mt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=cn();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!Me._heartbeatsCache.heartbeats.some($t=>$t.date===Dt))return Me._heartbeatsCache.heartbeats.push({date:Dt,agent:Mt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter($t=>{const z=new Date($t.date).valueOf();return Date.now()-z<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,l.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const ot=cn(),{heartbeatsToSend:Mt,unsentEntries:Dt}=function is(at,Me=1024){const ot=[];let Mt=at.slice();for(const Dt of at){const $t=ot.find(z=>z.agent===Dt.agent);if($t){if($t.dates.push(Dt.date),fi(ot)>Me){$t.dates.pop();break}}else if(ot.push({agent:Dt.agent,dates:[Dt.date]}),fi(ot)>Me){ot.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Mt}}(Me._heartbeatsCache.heartbeats),$t=(0,le.L)(JSON.stringify({version:2,heartbeats:Mt}));return Me._heartbeatsCache.lastSentHeartbeatDate=ot,Dt.length>0?(Me._heartbeatsCache.heartbeats=Dt,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),$t})()}}function cn(){return(new Date).toISOString().substring(0,10)}class un{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,l.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function Et(at){return _t.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var ot=this;return(0,l.Z)(function*(){var Mt;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return pn(ot.app,{lastSentHeartbeatDate:null!==(Mt=Me.lastSentHeartbeatDate)&&void 0!==Mt?Mt:$t.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var ot=this;return(0,l.Z)(function*(){var Mt;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return pn(ot.app,{lastSentHeartbeatDate:null!==(Mt=Me.lastSentHeartbeatDate)&&void 0!==Mt?Mt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Me.heartbeats]})}})()}}function fi(at){return(0,le.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Yi(at){Zi(new te.wA("platform-logger",Me=>new he(Me),"PRIVATE")),Zi(new te.wA("heartbeat",Me=>new Ks(Me),"PRIVATE")),Vi(fe,"0.8.2",at),Vi(fe,"0.8.2","esm2017"),Vi("fire-js","")}("")},4859:(mt,Ie,F)=>{F.d(Ie,{H0:()=>fe,wA:()=>P});var l=F(5861),te=F(2090);class P{constructor($,G,Q){this.name=$,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class ce{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const Q=new te.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:G});je&&Q.resolve(je)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const Q=this.normalizeInstanceIdentifier($?.identifier),je=null!==(G=$?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Re){if(je)return null;throw Re}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(pe){return"EAGER"===pe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(G);try{const Re=this.getOrInitializeService({instanceIdentifier:je});Q.resolve(Re)}catch{}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Re,Te]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Re)&&Te.resolve(je);return je}onInit($,G){var Q;const je=this.normalizeInstanceIdentifier(G),Re=null!==(Q=this.onInitCallbacks.get(je))&&void 0!==Q?Q:new Set;Re.add($),this.onInitCallbacks.set(je,Re);const Te=this.instances.get(je);return Te&&$(Te,je),()=>{Re.delete($)}}invokeOnInitCallbacks($,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const je of Q)try{je($,G)}catch{}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=$,pe===le?void 0:pe),options:G}),this.instances.set($,Q),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch{}var pe;return Q||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new ce($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Ie,F)=>{F.d(Ie,{Am:()=>pe,Ub:()=>fe,Yd:()=>ie,in:()=>te});const l=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const P={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,ce={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=($,G,...Q)=>{if(G<$.logLevel)return;const je=(new Date).toISOString(),Re=ce[G];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Re](`[${je}]  ${$.name}:`,...Q)};class ie{constructor(G){this.name=G,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function fe($){l.forEach(G=>{G.setLogLevel($)})}function pe($,G){for(const Q of l){let je=null;G&&G.level&&(je=P[G.level]),Q.userLogHandler=null===$?null:(Re,Te,...lt)=>{const ye=lt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Te>=(je??Re.logLevel)&&$({level:te[Te].toLowerCase(),message:ye,args:lt,type:Re.name})}}}},8766:(mt,Ie,F)=>{F.d(Ie,{Lj:()=>Oe,X3:()=>ft});var l=F(5861);let P,le;const ie=new WeakMap,fe=new WeakMap,pe=new WeakMap,$=new WeakMap,G=new WeakMap;let Re={get(j,_e,Z){if(j instanceof IDBTransaction){if("done"===_e)return fe.get(j);if("objectStoreNames"===_e)return j.objectStoreNames||pe.get(j);if("store"===_e)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return ge(j[_e])},set:(j,_e,Z)=>(j[_e]=Z,!0),has:(j,_e)=>j instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in j};function ye(j){return"function"==typeof j?function lt(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(..._e){return j.apply(st(this),_e),ge(ie.get(this))}:function(..._e){return ge(j.apply(st(this),_e))}:function(_e,...Z){const ee=j.call(st(this),_e,...Z);return pe.set(ee,_e.sort?_e.sort():[_e]),ge(ee)}}(j):(j instanceof IDBTransaction&&function je(j){if(fe.has(j))return;const _e=new Promise((Z,ee)=>{const oe=()=>{j.removeEventListener("complete",re),j.removeEventListener("error",Ue),j.removeEventListener("abort",Ue)},re=()=>{Z(),oe()},Ue=()=>{ee(j.error||new DOMException("AbortError","AbortError")),oe()};j.addEventListener("complete",re),j.addEventListener("error",Ue),j.addEventListener("abort",Ue)});fe.set(j,_e)}(j),((j,_e)=>_e.some(Z=>j instanceof Z))(j,function ce(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Re):j)}function ge(j){if(j instanceof IDBRequest)return function Q(j){const _e=new Promise((Z,ee)=>{const oe=()=>{j.removeEventListener("success",re),j.removeEventListener("error",Ue)},re=()=>{Z(ge(j.result)),oe()},Ue=()=>{ee(j.error),oe()};j.addEventListener("success",re),j.addEventListener("error",Ue)});return _e.then(Z=>{Z instanceof IDBCursor&&ie.set(Z,j)}).catch(()=>{}),G.set(_e,j),_e}(j);if($.has(j))return $.get(j);const _e=ye(j);return _e!==j&&($.set(j,_e),G.set(_e,j)),_e}const st=j=>G.get(j);function ft(j,_e,{blocked:Z,upgrade:ee,blocking:oe,terminated:re}={}){const Ue=indexedDB.open(j,_e),Ve=ge(Ue);return ee&&Ue.addEventListener("upgradeneeded",wt=>{ee(ge(Ue.result),wt.oldVersion,wt.newVersion,ge(Ue.transaction))}),Z&&Ue.addEventListener("blocked",()=>Z()),Ve.then(wt=>{re&&wt.addEventListener("close",()=>re()),oe&&wt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ve}function Oe(j,{blocked:_e}={}){const Z=indexedDB.deleteDatabase(j);return _e&&Z.addEventListener("blocked",()=>_e()),ge(Z).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],qe=new Map;function We(j,_e){if(!(j instanceof IDBDatabase)||_e in j||"string"!=typeof _e)return;if(qe.get(_e))return qe.get(_e);const Z=_e.replace(/FromIndex$/,""),ee=_e!==Z,oe=De.includes(Z);if(!(Z in(ee?IDBIndex:IDBObjectStore).prototype)||!oe&&!be.includes(Z))return;const re=function(){var Ue=(0,l.Z)(function*(Ve,...wt){const rn=this.transaction(Ve,oe?"readwrite":"readonly");let Zt=rn.store;return ee&&(Zt=Zt.index(wt.shift())),(yield Promise.all([Zt[Z](...wt),oe&&rn.done]))[0]});return function(wt){return Ue.apply(this,arguments)}}();return qe.set(_e,re),re}!function Te(j){Re=j(Re)}(j=>({...j,get:(_e,Z,ee)=>We(_e,Z)||j.get(_e,Z,ee),has:(_e,Z)=>!!We(_e,Z)||j.has(_e,Z)}))},5861:(mt,Ie,F)=>{function l(P,le,ce,he,ie,fe,pe){try{var $=P[fe](pe),G=$.value}catch(Q){return void ce(Q)}$.done?le(G):Promise.resolve(G).then(he,ie)}function te(P){return function(){var le=this,ce=arguments;return new Promise(function(he,ie){var fe=P.apply(le,ce);function pe(G){l(fe,he,ie,pe,$,"next",G)}function $(G){l(fe,he,ie,pe,$,"throw",G)}pe(void 0)})}}F.d(Ie,{Z:()=>te})}},mt=>{mt(mt.s=7889)}]);