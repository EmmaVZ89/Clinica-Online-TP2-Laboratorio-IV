"use strict";(self.webpackChunkClinicaOnline=self.webpackChunkClinicaOnline||[]).push([[179],{2011:(mt,Ie,F)=>{F.d(Ie,{Dh:()=>fe,GT:()=>he,cc:()=>Re,hO:()=>je,on:()=>$,pX:()=>ce,xv:()=>pe});var s=F(4650),te=F(127),P=F(5813);mt=F.hmd(mt);const le=["ngOnDestroy"],ce=(ge,st,ft,Ne={})=>new Proxy(ge,{get:(be,De)=>ft.runOutsideAngular(()=>{var qe;if(ge[De])return!(null===(qe=Ne?.spy)||void 0===qe)&&qe.get&&Ne.spy.get(De,ge[De]),ge[De];if(le.indexOf(De)>-1)return()=>{};const ze=st.toPromise().then(j=>{const _e=j&&j[De];return"function"==typeof _e?_e.bind(j):_e&&_e.then?_e.then(W=>ft.run(()=>W)):ft.run(()=>_e)});return new Proxy(()=>{},{get:(j,_e)=>ze[_e],apply:(j,_e,W)=>ze.then(ee=>{var oe;const re=ee&&ee(...W);return!(null===(oe=Ne?.spy)||void 0===oe)&&oe.apply&&Ne.spy.apply(De,W,re),re})})})}),he=(ge,st)=>{st.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Ne=>{Object.defineProperty(ge.prototype,Ne,Object.getOwnPropertyDescriptor(ft.prototype||ft,Ne))})})};class ie{constructor(st){return st}}const fe=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function $(ge,st,ft){const be="object"==typeof ft&&ft||{};be.name=be.name||"string"==typeof ft&&ft||"[DEFAULT]";const qe=te.Z.apps.filter(ze=>ze&&ze.name===be.name)[0]||st.runOutsideAngular(()=>te.Z.initializeApp(ge,be));try{JSON.stringify(ge)!==JSON.stringify(qe.options)&&Z("error",`${qe.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(qe)}const Z=(ge,...st)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ge](...st)},J={provide:ie,useFactory:$,deps:[fe,s.R0b,[new s.FiY,pe]]};let je=(()=>{class ge{constructor(ft){te.Z.registerVersion("angularfire",P.q4.full,"core"),te.Z.registerVersion("angularfire",P.q4.full,"app-compat"),te.Z.registerVersion("angular",s.q4F.full,ft.toString())}static initializeApp(ft,Ne){return{ngModule:ge,providers:[{provide:fe,useValue:ft},{provide:pe,useValue:Ne}]}}}return ge.\u0275fac=function(ft){return new(ft||ge)(s.LFG(s.Lbi))},ge.\u0275mod=s.oAB({type:ge}),ge.\u0275inj=s.cJS({providers:[J]}),ge})();function Re(ge,st,ft,Ne,be){const[,De,qe]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ge)||[];if(De)return function Ce(ge,st){try{return ge.toString()===st.toString()}catch{return ge===st}}(be,qe)||(ve("error",`${st} was already initialized on the ${ft} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:be,was:qe})),De;{const ze=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ge,ze,be]),ze}}const lt=!!mt.hot,ve=(ge,...st)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ge](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Ie,F)=>{F.d(Ie,{q4:()=>We,iC:()=>Ps,fc:()=>Zn,HU:()=>fr,vb:()=>Zr,JM:()=>yl});var s=F(4650),te=F(5867),P=F(5861),le=F(9681),ce=F(2090),he=F(4859),ie=F(1877),fe=F(8766);const pe="@firebase/installations",$="0.5.15",J=`w:${$}`,je="FIS_v2",st=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function Ne({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function be(D){return{token:D.token,requestStatus:2,expiresIn:ee(D.expiresIn),creationTime:Date.now()}}function De(D,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(D,S){const B=(yield S.json()).error;return st.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function j(D,{refreshToken:S}){const N=ze(D);return N.append("Authorization",function oe(D){return`${je} ${D}`}(S)),N}function _e(D){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function ee(D){return Number(D.replace("s","000"))}function re(D,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:N}){const B=Ne(D),Q=ze(D),se=S.getImmediate({optional:!0});if(se){const St=yield se.getHeartbeatsHeader();St&&Q.append("x-firebase-client",St)}const Pe={method:"POST",headers:Q,body:JSON.stringify({fid:N,authVersion:je,appId:D.appId,sdkVersion:J})},ct=yield _e(()=>fetch(B,Pe));if(ct.ok){const St=yield ct.json();return{fid:St.fid||N,registrationStatus:2,refreshToken:St.refreshToken,authToken:be(St.authToken)}}throw yield De("Create Installation",ct)})).apply(this,arguments)}function Be(D){return new Promise(S=>{setTimeout(S,D)})}const on=/^[cdef][\w-]{21}$/;function tt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function mn(D){return function wt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return on.test(N)?N:""}catch{return""}}function Sn(D){return`${D.appName}!${D.appId}`}const nn=new Map;function an(D,S){const N=Sn(D);yn(N,S),function Cs(D,S){const N=function Ki(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=D=>{yn(D.data.key,D.data.fid)}),Ur}();N&&N.postMessage({key:D,fid:S}),function or(){0===nn.size&&Ur&&(Ur.close(),Ur=null)}()}(N,S)}function yn(D,S){const N=nn.get(D);if(N)for(const B of N)B(S)}let Ur=null;const Dr="firebase-installations-store";let Ir=null;function Ka(){return Ir||(Ir=(0,fe.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Dr)}})),Ir}function nt(D,S){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,P.Z)(function*(D,S){const N=Sn(D),Q=(yield Ka()).transaction(Dr,"readwrite"),se=Q.objectStore(Dr),Ee=yield se.get(N);return yield se.put(S,N),yield Q.done,(!Ee||Ee.fid!==S.fid)&&an(D,S.fid),S})).apply(this,arguments)}function Ws(D){return fi.apply(this,arguments)}function fi(){return(fi=(0,P.Z)(function*(D){const S=Sn(D),B=(yield Ka()).transaction(Dr,"readwrite");yield B.objectStore(Dr).delete(S),yield B.done})).apply(this,arguments)}function Sr(D,S){return ns.apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*(D,S){const N=Sn(D),Q=(yield Ka()).transaction(Dr,"readwrite"),se=Q.objectStore(Dr),Ee=yield se.get(N),Pe=S(Ee);return void 0===Pe?yield se.delete(N):yield se.put(Pe,N),yield Q.done,Pe&&(!Ee||Ee.fid!==Pe.fid)&&an(D,Pe.fid),Pe})).apply(this,arguments)}function Yn(D){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(D){let S;const N=yield Sr(D.appConfig,B=>{const Q=En(B),se=Tt(D,Q);return S=se.registrationPromise,se.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function En(D){return Pt(D||{fid:tt(),registrationStatus:0})}function Tt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(st.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function _t(D,S){return gn.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ri(D)}:{installationEntry:S}}function gn(){return(gn=(0,P.Z)(function*(D,S){try{const N=yield re(D,S);return nt(D.appConfig,N)}catch(N){throw ft(N)&&409===N.customData.serverCode?yield Ws(D.appConfig):yield nt(D.appConfig,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Ri(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(D){let S=yield ar(D.appConfig);for(;1===S.registrationStatus;)yield Be(100),S=yield ar(D.appConfig);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield Yn(D);return B||N}return S})).apply(this,arguments)}function ar(D){return Sr(D,S=>{if(!S)throw st.create("installation-not-found");return Pt(S)})}function Pt(D){return function Ys(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function dn(D,S){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:S},N){const B=hn(D,N),Q=j(D,N),se=S.getImmediate({optional:!0});if(se){const St=yield se.getHeartbeatsHeader();St&&Q.append("x-firebase-client",St)}const Pe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:J,appId:D.appId}})},ct=yield _e(()=>fetch(B,Pe));if(ct.ok)return be(yield ct.json());throw yield De("Generate Auth Token",ct)})).apply(this,arguments)}function hn(D,{fid:S}){return`${Ne(D)}/${S}/authTokens:generate`}function pi(D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,P.Z)(function*(D,S=!1){let N;const B=yield Sr(D.appConfig,se=>{if(!$t(se))throw st.create("not-registered");const Ee=se.authToken;if(!S&&G(Ee))return se;if(1===Ee.requestStatus)return N=at(D,S),se;{if(!navigator.onLine)throw st.create("app-offline");const Pe=Y(se);return N=xt(D,Pe),Pe}});return N?yield N:B.authToken})).apply(this,arguments)}function at(D,S){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(D,S){let N=yield ot(D.appConfig);for(;1===N.authToken.requestStatus;)yield Be(100),N=yield ot(D.appConfig);const B=N.authToken;return 0===B.requestStatus?pi(D,S):B})).apply(this,arguments)}function ot(D){return Sr(D,S=>{if(!$t(S))throw st.create("not-registered");return function Te(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function xt(D,S){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,P.Z)(function*(D,S){try{const N=yield dn(D,S),B=Object.assign(Object.assign({},S),{authToken:N});return yield nt(D.appConfig,B),N}catch(N){if(!ft(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield nt(D.appConfig,B)}else yield Ws(D.appConfig);throw N}})).apply(this,arguments)}function $t(D){return void 0!==D&&2===D.registrationStatus}function G(D){return 2===D.requestStatus&&!function V(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function Y(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function Je(){return(Je=(0,P.Z)(function*(D){const S=D,{installationEntry:N,registrationPromise:B}=yield Yn(S);return B?B.catch(console.error):pi(S).catch(console.error),N.fid})).apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(D,S=!1){const N=D;return yield Tn(N),(yield pi(N,S)).token})).apply(this,arguments)}function Tn(D){return en.apply(this,arguments)}function en(){return(en=(0,P.Z)(function*(D){const{registrationPromise:S}=yield Yn(D);S&&(yield S)})).apply(this,arguments)}function Ks(D){return st.create("missing-app-config-values",{valueName:D})}const la="installations",On=D=>{const S=D.getProvider("app").getImmediate(),N=function An(D){if(!D||!D.options)throw Ks("App Configuration");if(!D.name)throw Ks("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!D.options[N])throw Ks(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:N,heartbeatServiceProvider:(0,le._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},bo=D=>{const S=D.getProvider("app").getImmediate(),N=(0,le._getProvider)(S,la).getImmediate();return{getId:()=>function X(D){return Je.apply(this,arguments)}(N),getToken:Q=>function vt(D){return rn.apply(this,arguments)}(N,Q)}};(function Xl(){(0,le._registerComponent)(new he.wA(la,On,"PUBLIC")),(0,le._registerComponent)(new he.wA("installations-internal",bo,"PRIVATE"))})(),(0,le.registerVersion)(pe,$),(0,le.registerVersion)(pe,$,"esm2017");const rs="@firebase/remote-config",ii=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class th{constructor(S,N,B,Q){this.client=S,this.storage=N,this.storageCache=B,this.logger=Q}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,Q=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var N=this;return(0,P.Z)(function*(){const[B,Q]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(Q&&N.isCachedDataFresh(S.cacheMaxAgeMillis,B))return Q;S.eTag=Q&&Q.eTag;const se=yield N.client.fetch(S),Ee=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ee.push(N.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ee),se})()}}function To(D=navigator){return D.languages&&D.languages[0]||D.language}class Pu{constructor(S,N,B,Q,se,Ee){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=B,this.projectId=Q,this.apiKey=se,this.appId=Ee}fetch(S){var N=this;return(0,P.Z)(function*(){var B,Q,se;const[Ee,Pe]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},yt={sdk_version:N.sdkVersion,app_instance_id:Ee,app_instance_id_token:Pe,app_id:N.appId,language_code:To()},kn={method:"POST",headers:Ft,body:JSON.stringify(yt)},Fi=fetch(St,kn),Uo=new Promise((Ca,Bo)=>{S.signal.addEventListener(()=>{const Wr=new Error("The operation was aborted.");Wr.name="AbortError",Bo(Wr)})});let Fs;try{yield Promise.race([Fi,Uo]),Fs=yield Fi}catch(Ca){let Bo="fetch-client-network";throw"AbortError"===(null===(B=Ca)||void 0===B?void 0:B.name)&&(Bo="fetch-timeout"),ii.create(Bo,{originalErrorMessage:null===(Q=Ca)||void 0===Q?void 0:Q.message})}let Lt=Fs.status;const ls=Fs.headers.get("ETag")||void 0;let uo,Nr;if(200===Fs.status){let Ca;try{Ca=yield Fs.json()}catch(Bo){throw ii.create("fetch-client-parse",{originalErrorMessage:null===(se=Bo)||void 0===se?void 0:se.message})}uo=Ca.entries,Nr=Ca.state}if("INSTANCE_STATE_UNSPECIFIED"===Nr?Lt=500:"NO_CHANGE"===Nr?Lt=304:("NO_TEMPLATE"===Nr||"EMPTY_CONFIG"===Nr)&&(uo={}),304!==Lt&&200!==Lt)throw ii.create("fetch-status",{httpStatus:Lt});return{status:Lt,eTag:ls,config:uo}})()}}class Tm{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,P.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:B}){var Q=this;return(0,P.Z)(function*(){yield function mi(D,S){return new Promise((N,B)=>{const Q=Math.max(S-Date.now(),0),se=setTimeout(N,Q);D.addEventListener(()=>{clearTimeout(se),B(ii.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const se=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),se}catch(se){if(!function nh(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(se))throw se;const Ee={throttleEndTimeMillis:Date.now()+(0,ce.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(Ee),Q.attemptFetch(S,Ee)}})()}}class ih{constructor(S,N,B,Q,se){this.app=S,this._client=N,this._storageCache=B,this._storage=Q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fu(D,S){var N;const B=D.target.error||void 0;return ii.create(S,{originalErrorMessage:B&&(null===(N=B)||void 0===N?void 0:N.message)})}const eo="app_namespace_store";class Im{constructor(S,N,B,Q=function Dm(){return new Promise((D,S)=>{var N;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=Q=>{S(Fu(Q,"storage-open"))},B.onsuccess=Q=>{D(Q.target.result)},B.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(eo,{keyPath:"compositeKey"})}}catch(B){S(ii.create("storage-open",{originalErrorMessage:null===(N=B)||void 0===N?void 0:N.message}))}})}()){this.appId=S,this.appName=N,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,P.Z)(function*(){const B=yield N.openDbPromise;return new Promise((Q,se)=>{var Ee;const ct=B.transaction([eo],"readonly").objectStore(eo),St=N.createCompositeKey(S);try{const Ft=ct.get(St);Ft.onerror=yt=>{se(Fu(yt,"storage-get"))},Ft.onsuccess=yt=>{const kn=yt.target.result;Q(kn?kn.value:void 0)}}catch(Ft){se(ii.create("storage-get",{originalErrorMessage:null===(Ee=Ft)||void 0===Ee?void 0:Ee.message}))}})})()}set(S,N){var B=this;return(0,P.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((se,Ee)=>{var Pe;const St=Q.transaction([eo],"readwrite").objectStore(eo),Ft=B.createCompositeKey(S);try{const yt=St.put({compositeKey:Ft,value:N});yt.onerror=kn=>{Ee(Fu(kn,"storage-set"))},yt.onsuccess=()=>{se()}}catch(yt){Ee(ii.create("storage-set",{originalErrorMessage:null===(Pe=yt)||void 0===Pe?void 0:Pe.message}))}})})()}delete(S){var N=this;return(0,P.Z)(function*(){const B=yield N.openDbPromise;return new Promise((Q,se)=>{var Ee;const ct=B.transaction([eo],"readwrite").objectStore(eo),St=N.createCompositeKey(S);try{const Ft=ct.delete(St);Ft.onerror=yt=>{se(Fu(yt,"storage-delete"))},Ft.onsuccess=()=>{Q()}}catch(Ft){se(ii.create("storage-delete",{originalErrorMessage:null===(Ee=Ft)||void 0===Ee?void 0:Ee.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class sh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const N=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),se=yield N;se&&(S.lastFetchStatus=se);const Ee=yield B;Ee&&(S.lastSuccessfulFetchTimestampMillis=Ee);const Pe=yield Q;Pe&&(S.activeConfig=Pe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function nc(){return op.apply(this,arguments)}function op(){return(op=(0,P.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function to(){(0,le._registerComponent)(new he.wA("remote-config",function D(S,{instanceIdentifier:N}){const B=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,ce.hl)())throw ii.create("indexed-db-unavailable");const{projectId:se,apiKey:Ee,appId:Pe}=B.options;if(!se)throw ii.create("registration-project-id");if(!Ee)throw ii.create("registration-api-key");if(!Pe)throw ii.create("registration-app-id");const ct=new Im(Pe,B.name,N=N||"firebase"),St=new sh(ct),Ft=new ie.Yd(rs);Ft.logLevel=ie.in.ERROR;const yt=new Pu(Q,le.SDK_VERSION,N,se,Ee,Pe),kn=new Tm(yt,ct),Fi=new th(kn,ct,St,Ft),Uo=new ih(B,Fi,St,ct,Ft);return function Xt(D){const S=(0,ce.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Uo),Uo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(rs,"0.3.14"),(0,le.registerVersion)(rs,"0.3.14","esm2017")}();const ss="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",Is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xa="google.c.a.c_id",ic="google.c.a.c_l",Lu="google.c.a.ts",ap="google.c.a.e";var Ss=(()=>{return(D=Ss||(Ss={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ss;var D})();function Ar(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cr(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),Q=new Uint8Array(B.length);for(let se=0;se<B.length;++se)Q[se]=B.charCodeAt(se);return Q}const ca="fcm_token_details_db",Pi="fcm_token_object_Store";function lp(D){return cp.apply(this,arguments)}function cp(){return cp=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(ca))return null;let S=null;return(yield(0,fe.X3)(ca,5,{upgrade:(B=(0,P.Z)(function*(Q,se,Ee,Pe){var ct;if(se<2||!Q.objectStoreNames.contains(Pi))return;const St=Pe.objectStore(Pi),Ft=yield St.index("fcmSenderId").get(D);if(yield St.clear(),Ft)if(2===se){const yt=Ft;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;S={token:yt.fcmToken,createTime:null!==(ct=yt.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:Ar(yt.vapidKey)}}}else if(3===se){const yt=Ft;S={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Ar(yt.auth),p256dh:Ar(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Ar(yt.vapidKey)}}}else if(4===se){const yt=Ft;S={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Ar(yt.auth),p256dh:Ar(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Ar(yt.vapidKey)}}}}),function(se,Ee,Pe,ct){return B.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ca),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Vn(S)?S:null;var B}),cp.apply(this,arguments)}function Vn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const xr="firebase-messaging-store";let Xi=null;function oc(){return Xi||(Xi=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(xr)}})),Xi}function ua(D){return As.apply(this,arguments)}function As(){return(As=(0,P.Z)(function*(D){const S=Hr(D),B=yield(yield oc()).transaction(xr).objectStore(xr).get(S);if(B)return B;{const Q=yield lp(D.appConfig.senderId);if(Q)return yield tn(D,Q),Q}})).apply(this,arguments)}function tn(D,S){return ac.apply(this,arguments)}function ac(){return(ac=(0,P.Z)(function*(D,S){const N=Hr(D),Q=(yield oc()).transaction(xr,"readwrite");return yield Q.objectStore(xr).put(S,N),yield Q.done,S})).apply(this,arguments)}function Eo(D){return lc.apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*(D){const S=Hr(D),B=(yield oc()).transaction(xr,"readwrite");yield B.objectStore(xr).delete(S),yield B.done})).apply(this,arguments)}function Hr({appConfig:D}){return D.appId}const Un=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(D,S){return uc.apply(this,arguments)}function uc(){return(uc=(0,P.Z)(function*(D,S){var N;const B=yield Bu(D),Q=Me(S),se={method:"POST",headers:B,body:JSON.stringify(Q)};let Ee;try{Ee=yield(yield fetch(xs(D.appConfig),se)).json()}catch(Pe){throw Un.create("token-subscribe-failed",{errorInfo:null===(N=Pe)||void 0===N?void 0:N.toString()})}if(Ee.error)throw Un.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw Un.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function dp(D,S){return dc.apply(this,arguments)}function dc(){return(dc=(0,P.Z)(function*(D,S){var N;const B=yield Bu(D),Q=Me(S.subscriptionOptions),se={method:"PATCH",headers:B,body:JSON.stringify(Q)};let Ee;try{Ee=yield(yield fetch(`${xs(D.appConfig)}/${S.token}`,se)).json()}catch(Pe){throw Un.create("token-update-failed",{errorInfo:null===(N=Pe)||void 0===N?void 0:N.toString()})}if(Ee.error)throw Un.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw Un.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function hc(D,S){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,P.Z)(function*(D,S){var N;const Q={method:"DELETE",headers:yield Bu(D)};try{const Ee=yield(yield fetch(`${xs(D.appConfig)}/${S}`,Q)).json();if(Ee.error)throw Un.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(se){throw Un.create("token-unsubscribe-failed",{errorInfo:null===(N=se)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function xs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Bu(D){return el.apply(this,arguments)}function el(){return(el=(0,P.Z)(function*({appConfig:D,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Me({p256dh:D,auth:S,endpoint:N,vapidKey:B}){const Q={web:{endpoint:N,auth:S,p256dh:D}};return B!==Is&&(Q.web.applicationPubKey=B),Q}const Kt=6048e5;function fc(D){return pc.apply(this,arguments)}function pc(){return(pc=(0,P.Z)(function*(D){const S=yield Vu(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Ar(S.getKey("auth")),p256dh:Ar(S.getKey("p256dh"))},B=yield ua(D.firebaseDependencies);if(B){if(lh(B.subscriptionOptions,N))return Date.now()>=B.createTime+Kt?da(D,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield hc(D.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return tl(D.firebaseDependencies,N)}return tl(D.firebaseDependencies,N)})).apply(this,arguments)}function Hn(D){return gc.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(D){const S=yield ua(D.firebaseDependencies);S&&(yield hc(D.firebaseDependencies,S.token),yield Eo(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function da(D,S){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,P.Z)(function*(D,S){try{const N=yield dp(D.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield tn(D.firebaseDependencies,B),N}catch(N){throw yield Hn(D),N}})).apply(this,arguments)}function tl(D,S){return nl.apply(this,arguments)}function nl(){return(nl=(0,P.Z)(function*(D,S){const B={token:yield Nt(D,S),createTime:Date.now(),subscriptionOptions:S};return yield tn(D,B),B.token})).apply(this,arguments)}function Vu(D,S){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,P.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cr(S)})})).apply(this,arguments)}function lh(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function il(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function jn(D,S){if(!S.notification)return;D.notification={};const N=S.notification.title;N&&(D.notification.title=N);const B=S.notification.body;B&&(D.notification.body=B);const Q=S.notification.image;Q&&(D.notification.image=Q)}(S,D),function os(D,S){!S.data||(D.data=S.data)}(S,D),function ju(D,S){var N,B,Q,se,Ee;if(!(S.fcmOptions||null!==(N=S.notification)&&void 0!==N&&N.click_action))return;D.fcmOptions={};const Pe=null!==(Q=null===(B=S.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Q?Q:null===(se=S.notification)||void 0===se?void 0:se.click_action;Pe&&(D.fcmOptions.link=Pe);const ct=null===(Ee=S.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;ct&&(D.fcmOptions.analyticsLabel=ct)}(S,D),S}function Do(D){return"object"==typeof D&&!!D&&Xa in D}function Ms(D,S){const N=[];for(let B=0;B<D.length;B++)N.push(D.charAt(B)),B<S.length&&N.push(S.charAt(B));return N.join("")}function rl(D){return Un.create("missing-app-config-values",{valueName:D})}Ms("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ms("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Am{constructor(S,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Sm(D){if(!D||!D.options)throw rl("App Configuration Object");if(!D.name)throw rl("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const B of S)if(!N[B])throw rl(B);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function $u(D){return mc.apply(this,arguments)}function mc(){return(mc=(0,P.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(ss,{scope:Ds}),D.swRegistration.update().catch(()=>{})}catch(N){throw Un.create("failed-service-worker-registration",{browserErrorMessage:null===(S=N)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function sl(D,S){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,P.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield $u(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function ol(D,S){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,P.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=Is)})).apply(this,arguments)}function vc(){return(vc=(0,P.Z)(function*(D,S){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield ol(D,S?.vapidKey),yield sl(D,S?.serviceWorkerRegistration),fc(D)})).apply(this,arguments)}function qu(D,S,N){return zu.apply(this,arguments)}function zu(){return(zu=(0,P.Z)(function*(D,S,N){const B=Wu(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[Xa],message_name:N[ic],message_time:N[Lu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wu(D){switch(D){case Ss.NOTIFICATION_CLICKED:return"notification_open";case Ss.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Io(){return(Io=(0,P.Z)(function*(D,S){const N=S.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===Ss.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(il(N)):D.onMessageHandler.next(il(N)));const B=N.data;Do(B)&&"1"===B[ap]&&(yield qu(D,N.messageType,B))})).apply(this,arguments)}const So="@firebase/messaging",_i=D=>{const S=new Am(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function ch(D,S){return Io.apply(this,arguments)}(S,N)),S},ur=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:B=>function _c(D,S){return vc.apply(this,arguments)}(S,B)}};function Yu(){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,P.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xn(){(0,le._registerComponent)(new he.wA("messaging",_i,"PUBLIC")),(0,le._registerComponent)(new he.wA("messaging-internal",ur,"PRIVATE")),(0,le.registerVersion)(So,"0.9.19"),(0,le.registerVersion)(So,"0.9.19","esm2017")}();const fa="analytics",hh="firebase_id",xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tc="https://www.googletagmanager.com/gtag/js",$n=new ie.Yd("@firebase/analytics");function Cc(D){return Promise.all(D.map(S=>S.catch(N=>N)))}function Ec(D,S){const N=document.createElement("script");N.src=`${Tc}?l=${D}&id=${S}`,N.async=!0,document.head.appendChild(N)}function fp(D,S,N,B,Q,se){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(D,S,N,B,Q,se){const Ee=B[Q];try{if(Ee)yield S[Ee];else{const ct=(yield Cc(N)).find(St=>St.measurementId===Q);ct&&(yield S[ct.appId])}}catch(Pe){$n.error(Pe)}D("config",Q,se)})).apply(this,arguments)}function pa(D,S,N,B,Q){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(D,S,N,B,Q){try{let se=[];if(Q&&Q.send_to){let Ee=Q.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Pe=yield Cc(N);for(const ct of Ee){const St=Pe.find(yt=>yt.measurementId===ct),Ft=St&&S[St.appId];if(!Ft){se=[];break}se.push(Ft)}}0===se.length&&(se=Object.values(S)),yield Promise.all(se),D("event",B,Q||{})}catch(se){$n.error(se)}})).apply(this,arguments)}function ph(D){const S=window.document.getElementsByTagName("script");for(const N of Object.values(S))if(N.src&&N.src.includes(Tc)&&N.src.includes(D))return N;return null}const Di=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ul=new class as{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function mh(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function dl(D){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,P.Z)(function*(D){var S;const{appId:N,apiKey:B}=D,Q={method:"GET",headers:mh(B)},se=xo.replace("{app-id}",N),Ee=yield fetch(se,Q);if(200!==Ee.status&&304!==Ee.status){let Pe="";try{const ct=yield Ee.json();null!==(S=ct.error)&&void 0!==S&&S.message&&(Pe=ct.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Pe})}return Ee.json()})).apply(this,arguments)}function Jn(D){return jr.apply(this,arguments)}function jr(){return(jr=(0,P.Z)(function*(D,S=ul,N){const{appId:B,apiKey:Q,measurementId:se}=D.options;if(!B)throw Di.create("no-app-id");if(!Q){if(se)return{measurementId:se,appId:B};throw Di.create("no-api-key")}const Ee=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new Ac;return setTimeout((0,P.Z)(function*(){Pe.abort()}),void 0!==N?N:6e4),Ic({appId:B,apiKey:Q,measurementId:se},Ee,Pe,S)})).apply(this,arguments)}function Ic(D,S,N){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,P.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:N},B,Q=ul){var se,Ee;const{appId:Pe,measurementId:ct}=D;try{yield hl(B,S)}catch(St){if(ct)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${null===(se=St)||void 0===se?void 0:se.message}]`),{appId:Pe,measurementId:ct};throw St}try{const St=yield dl(D);return Q.deleteThrottleMetadata(Pe),St}catch(St){const Ft=St;if(!Sc(Ft)){if(Q.deleteThrottleMetadata(Pe),ct)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:Pe,measurementId:ct};throw St}const yt=503===Number(null===(Ee=Ft?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,ce.$s)(N,Q.intervalMillis,30):(0,ce.$s)(N,Q.intervalMillis),kn={throttleEndTimeMillis:Date.now()+yt,backoffCount:N+1};return Q.setThrottleMetadata(Pe,kn),$n.debug(`Calling attemptFetch again in ${yt} millis`),Ic(D,kn,B,Q)}})).apply(this,arguments)}function hl(D,S){return new Promise((N,B)=>{const Q=Math.max(S-Date.now(),0),se=setTimeout(N,Q);D.addEventListener(()=>{clearTimeout(se),B(Di.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Sc(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Ac{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ro,pl;function so(){return(so=(0,P.Z)(function*(D,S,N,B,Q){if(Q&&Q.global)D("event",N,B);else{const se=yield S;D("event",N,Object.assign(Object.assign({},B),{send_to:se}))}})).apply(this,arguments)}function ko(D){pl=D}function ed(D){ro=D}function Os(){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,P.Z)(function*(){var D;if(!(0,ce.hl)())return $n.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(S){return $n.warn(Di.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return(_a=(0,P.Z)(function*(D,S,N,B,Q,se,Ee){var Pe;const ct=Jn(D);ct.then(Fi=>{N[Fi.measurementId]=Fi.appId,D.options.measurementId&&Fi.measurementId!==D.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fi=>$n.error(Fi)),S.push(ct);const St=Os().then(Fi=>{if(Fi)return B.getId()}),[Ft,yt]=yield Promise.all([ct,St]);ph(se)||Ec(se,Ft.measurementId),pl&&(Q("consent","default",pl),ko(void 0)),Q("js",new Date);const kn=null!==(Pe=Ee?.config)&&void 0!==Pe?Pe:{};return kn.origin="firebase",kn.update=!0,null!=yt&&(kn[hh]=yt),Q("config",Ft.measurementId,kn),ro&&(Q("set",ro),ed(void 0)),Ft.measurementId})).apply(this,arguments)}class Oc{constructor(S){this.app=S}_delete(){return delete dr[this.app.options.appId],Promise.resolve()}}let dr={},oo=[];const va={};let ba,Po,ya="dataLayer",gl=!1;function Ty(D,S,N){!function xm(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),N=Di.create("invalid-analytics-context",{errorInfo:S});$n.warn(N.message)}}();const B=D.options.appId;if(!B)throw Di.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Di.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dr[B])throw Di.create("already-exists",{id:B});if(!gl){!function fh(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(ya);const{wrappedGtag:se,gtagCore:Ee}=function al(D,S,N,B,Q){let se=function(...Ee){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(se=window[Q]),window[Q]=function Dc(D,S,N,B){function se(){return(se=(0,P.Z)(function*(Ee,Pe,ct){try{"event"===Ee?yield pa(D,S,N,Pe,ct):"config"===Ee?yield fp(D,S,N,B,Pe,ct):"consent"===Ee?D("consent","update",ct):D("set",Pe)}catch(St){$n.error(St)}})).apply(this,arguments)}return function Q(Ee,Pe,ct){return se.apply(this,arguments)}}(se,D,S,N),{gtagCore:se,wrappedGtag:window[Q]}}(dr,oo,va,ya,"gtag");Po=se,ba=Ee,gl=!0}return dr[B]=function ma(D,S,N,B,Q,se,Ee){return _a.apply(this,arguments)}(D,oo,va,S,ba,ya,N),new Oc(D)}function Ey(){return pp.apply(this,arguments)}function pp(){return(pp=(0,P.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function cn(){(0,le._registerComponent)(new he.wA(fa,(S,{options:N})=>Ty(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,le._registerComponent)(new he.wA("analytics-internal",function D(S){try{const N=S.getProvider(fa).getImmediate();return{logEvent:(B,Q,se)=>function ln(D,S,N,B){D=(0,ce.m9)(D),function _h(D,S,N,B,Q){return so.apply(this,arguments)}(Po,dr[D.app.options.appId],S,N,B).catch(Q=>$n.error(Q))}(N,B,Q,se)}}catch(N){throw Di.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,le.registerVersion)(Xe,"0.8.3"),(0,le.registerVersion)(Xe,"0.8.3","esm2017")}();var $r=F(4408),Rn=F(7565);const kc=new class ao extends Rn.v{}(class ml extends $r.o{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,N,B):(S.flush(this),0)}});var td=F(4986),_l=F(8505),Lo=F(5363),Rs=F(9468);const We=new s.GfV("7.4.1"),vl="__angularfire_symbol__analyticsIsSupportedValue",lo="__angularfire_symbol__analyticsIsSupported",wa="__angularfire_symbol__remoteConfigIsSupportedValue",Ta="__angularfire_symbol__remoteConfigIsSupported",bn="__angularfire_symbol__messagingIsSupportedValue",nd="__angularfire_symbol__messagingIsSupported";function yl(D,S,N){if(S){if(1===S.length)return S[0];const se=S.filter(Ee=>Ee.app===N);if(1===se.length)return se[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[lo]||(globalThis[lo]=Ey().then(D=>globalThis[vl]=D).catch(()=>globalThis[vl]=!1)),globalThis[nd]||(globalThis[nd]=Yu().then(D=>globalThis[bn]=D).catch(()=>globalThis[bn]=!1)),globalThis[Ta]||(globalThis[Ta]=nc().then(D=>globalThis[wa]=D).catch(()=>globalThis[wa]=!1));const Zr=(D,S)=>{const N=S?[S]:(0,te.C6)(),B=[];return N.forEach(Q=>{Q.container.getProvider(D).instances.forEach(Ee=>{B.includes(Ee)||B.push(Ee)})}),B};function ji(){}class Gr{constructor(S,N=kc){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,B){const Q=this.zone;return this.delegate.schedule(function(Ee){Q.runGuarded(()=>{S.apply(this,[Ee])})},N,B)}}class rd{constructor(S){this.zone=S,this.task=null}call(S,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ji,{},ji,ji)),N.pipe((0,_l.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fr=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Gr(Zone.current)),this.insideAngular=N.run(()=>new Gr(Zone.current,td.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function er(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Zn(D){return D.pipe((0,Lo.Q)(er().outsideAngular))}function Ps(D){return er(),function Cn(D){return function(N){return(N=N.lift(new rd(D.ngZone))).pipe((0,Rs.R)(D.outsideAngular),(0,Lo.Q)(D.insideAngular))}}(er())(D)}},2090:(mt,Ie,F)=>{F.d(Ie,{$s:()=>ot,BH:()=>Wt,G6:()=>De,L:()=>fe,LL:()=>nn,Pz:()=>on,Sg:()=>tt,UG:()=>Ce,US:()=>he,ZB:()=>Z,ZR:()=>Sn,aH:()=>wt,b$:()=>ge,eu:()=>ze,hl:()=>qe,jU:()=>lt,m9:()=>$t,ne:()=>ei,pd:()=>ns,r3:()=>Br,ru:()=>ve,tV:()=>pe,uI:()=>Re,vZ:()=>nt,w1:()=>ft,xO:()=>fi,xb:()=>Ir,z$:()=>je,zI:()=>j,zd:()=>Sr});const le=function(G){const V=[];let Y=0;for(let Te=0;Te<G.length;Te++){let X=G.charCodeAt(Te);X<128?V[Y++]=X:X<2048?(V[Y++]=X>>6|192,V[Y++]=63&X|128):55296==(64512&X)&&Te+1<G.length&&56320==(64512&G.charCodeAt(Te+1))?(X=65536+((1023&X)<<10)+(1023&G.charCodeAt(++Te)),V[Y++]=X>>18|240,V[Y++]=X>>12&63|128,V[Y++]=X>>6&63|128,V[Y++]=63&X|128):(V[Y++]=X>>12|224,V[Y++]=X>>6&63|128,V[Y++]=63&X|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,V){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let X=0;X<G.length;X+=3){const Je=G[X],vt=X+1<G.length,rn=vt?G[X+1]:0,Tn=X+2<G.length,en=Tn?G[X+2]:0;let qt=(15&rn)<<2|en>>6,Ci=63&en;Tn||(Ci=64,vt||(qt=64)),Te.push(Y[Je>>2],Y[(3&Je)<<4|rn>>4],Y[qt],Y[Ci])}return Te.join("")},encodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(G):this.encodeByteArray(le(G),V)},decodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(G):function(G){const V=[];let Y=0,Te=0;for(;Y<G.length;){const X=G[Y++];if(X<128)V[Te++]=String.fromCharCode(X);else if(X>191&&X<224){const Je=G[Y++];V[Te++]=String.fromCharCode((31&X)<<6|63&Je)}else if(X>239&&X<365){const Tn=((7&X)<<18|(63&G[Y++])<<12|(63&G[Y++])<<6|63&G[Y++])-65536;V[Te++]=String.fromCharCode(55296+(Tn>>10)),V[Te++]=String.fromCharCode(56320+(1023&Tn))}else{const Je=G[Y++],vt=G[Y++];V[Te++]=String.fromCharCode((15&X)<<12|(63&Je)<<6|63&vt)}}return V.join("")}(this.decodeStringToByteArray(G,V))},decodeStringToByteArray(G,V){this.init_();const Y=V?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let X=0;X<G.length;){const Je=Y[G.charAt(X++)],rn=X<G.length?Y[G.charAt(X)]:0;++X;const en=X<G.length?Y[G.charAt(X)]:64;++X;const Ke=X<G.length?Y[G.charAt(X)]:64;if(++X,null==Je||null==rn||null==en||null==Ke)throw Error();Te.push(Je<<2|rn>>4),64!==en&&(Te.push(rn<<4&240|en>>2),64!==Ke&&Te.push(en<<6&192|Ke))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},fe=function(G){return function(G){const V=le(G);return he.encodeByteArray(V,!0)}(G).replace(/\./g,"")},pe=function(G){try{return he.decodeString(G,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Z(G,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return V}for(const Y in V)!V.hasOwnProperty(Y)||!J(Y)||(G[Y]=Z(G[Y],V[Y]));return G}function J(G){return"__proto__"!==G}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function ve(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const G=je();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function De(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function ze(){return new Promise((G,V)=>{try{let Y=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Te);X.onsuccess=()=>{X.result.close(),Y||self.indexedDB.deleteDatabase(Te),G(!0)},X.onupgradeneeded=()=>{Y=!1},X.onerror=()=>{var Je;V((null===(Je=X.error)||void 0===Je?void 0:Je.message)||"")}}catch(Y){V(Y)}})}function j(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=G&&pe(G[1]);return V&&JSON.parse(V)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},wt=()=>{var G;return null===(G=re())||void 0===G?void 0:G.config},on=G=>{var V;return null===(V=re())||void 0===V?void 0:V[`_${G}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Y)=>{this.resolve=V,this.reject=Y})}wrapCallback(V){return(Y,Te)=>{Y?this.reject(Y):this.resolve(Te),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Y):V(Y,Te))}}}function tt(G,V){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=V||"demo-project",X=G.iat||0,Je=G.sub||G.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:X,exp:X+3600,auth_time:X,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},G);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(vt)),""].join(".")}class Sn extends Error{constructor(V,Y,Te){super(Y),this.code=V,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(V,Y,Te){this.service=V,this.serviceName=Y,this.errors=Te}create(V,...Y){const Te=Y[0]||{},X=`${this.service}/${V}`,Je=this.errors[V],vt=Je?function an(G,V){return G.replace(Yi,(Y,Te)=>{const X=V[Te];return null!=X?String(X):`<${Te}?>`})}(Je,Te):"Error";return new Sn(X,`${this.serviceName}: ${vt} (${X}).`,Te)}}const Yi=/\{\$([^}]+)}/g;function Br(G,V){return Object.prototype.hasOwnProperty.call(G,V)}function Ir(G){for(const V in G)if(Object.prototype.hasOwnProperty.call(G,V))return!1;return!0}function nt(G,V){if(G===V)return!0;const Y=Object.keys(G),Te=Object.keys(V);for(const X of Y){if(!Te.includes(X))return!1;const Je=G[X],vt=V[X];if(Bi(Je)&&Bi(vt)){if(!nt(Je,vt))return!1}else if(Je!==vt)return!1}for(const X of Te)if(!Y.includes(X))return!1;return!0}function Bi(G){return null!==G&&"object"==typeof G}function fi(G){const V=[];for(const[Y,Te]of Object.entries(G))Array.isArray(Te)?Te.forEach(X=>{V.push(encodeURIComponent(Y)+"="+encodeURIComponent(X))}):V.push(encodeURIComponent(Y)+"="+encodeURIComponent(Te));return V.length?"&"+V.join("&"):""}function Sr(G){const V={};return G.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[X,Je]=Te.split("=");V[decodeURIComponent(X)]=decodeURIComponent(Je)}}),V}function ns(G){const V=G.indexOf("?");if(!V)return"";const Y=G.indexOf("#",V);return G.substring(V,Y>0?Y:void 0)}function ei(G,V){const Y=new En(G,V);return Y.subscribe.bind(Y)}class En{constructor(V,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{V(this)}).catch(Te=>{this.error(Te)})}next(V){this.forEachObserver(Y=>{Y.next(V)})}error(V){this.forEachObserver(Y=>{Y.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Y,Te){let X;if(void 0===V&&void 0===Y&&void 0===Te)throw new Error("Missing Observer.");X=function _t(G,V){if("object"!=typeof G||null===G)return!1;for(const Y of V)if(Y in G&&"function"==typeof G[Y])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Y,complete:Te},void 0===X.next&&(X.next=gn),void 0===X.error&&(X.error=gn),void 0===X.complete&&(X.complete=gn);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Je}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,V)}sendOne(V,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Y(this.observers[V])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function ot(G,V=1e3,Y=2){const Te=V*Math.pow(Y,G),X=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+X)}function $t(G){return G&&G._delegate?G._delegate:G}},6868:(mt,Ie,F)=>{var s=F(4650);let te=null;function P(){return te}const ie=new s.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(Z)}()},providedIn:"platform"}),n})();const $=new s.OlP("Location Initialized");let Z=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){J()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){J()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function je(){return new Z((0,s.LFG)(ie))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Re(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(st)},providedIn:"root"}),n})();const ge=new s.OlP("appBaseHref");let st=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Re(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+lt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+lt(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+lt(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Re(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+lt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+lt(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lt(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Re,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function be(){return new Ne((0,s.LFG)(ve))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}let sn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ja{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ja(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),Xs(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Xs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Xs(n,t){n.context.$implicit=t.item}let Xt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ru,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ei("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ei("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ru{constructor(){this.$implicit=null,this.ngIf=null}}function Ei(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let Kn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ss="browser";function Pi(n){return"server"===n}let sc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new up((0,s.LFG)(ie),window)}),n})();class up{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Xi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Io extends class ch extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){te||(te=n)}(new Io)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function yc(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}();return null==e?null:function ur(n){_i=_i||document.createElement("a"),_i.setAttribute("href",n);const t=_i.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ec(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let _i,So=null;const xn=new s.OlP("TRANSITION_ID"),Ku=[{provide:s.ip1,useFactory:function Yu(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[xn,ie,s.zs3],multi:!0}];let Ju=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const bc=new s.OlP("EventManagerPlugins");let uh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ao=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ha=(()=>{class n extends Ao{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(dh),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(dh))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function dh(n){P().remove(n)}const fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hh=/%COMP%/g;function Ec(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ec(n,r,e):(r=r.replace(hh,n),e.push(r))}return e}function fh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Mo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pa(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ph(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new gh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ec(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uh),s.LFG(ha),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class pa{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(fa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(al(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(al(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=fa[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=fa[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fh(i)):this.eventManager.addEventListener(t,e,fh(i))}}function al(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ph extends pa{constructor(t,e,i,r){super(t),this.component=i;const o=Ec(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function $n(n){return"_ngcontent-%COMP%".replace(hh,n)}(r+"-"+i.id),this.hostAttr=function Cc(n){return"_nghost-%COMP%".replace(hh,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class gh extends pa{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ec(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Di=(()=>{class n extends wc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=["alt","control","meta","shift"],cl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},as={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends wc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),ll.forEach(v=>{const T=i.indexOf(v);T>-1&&(i.splice(T,1),u+=v+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(e,i){let r=cl[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ll.forEach(u=>{u!==r&&(0,as[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ac=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ss},{provide:s.g9A,useValue:function Ic(){Io.makeCurrent()},multi:!0},{provide:ie,useFactory:function hl(){return(0,s.RDi)(document),document},deps:[]}]),ro=new s.OlP(""),_h=[{provide:s.rWj,useClass:class hp{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],so=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Oo(){return new s.qLn},deps:[]},{provide:bc,useClass:Di,multi:!0,deps:[ie,s.R0b,s.Lbi]},{provide:bc,useClass:ul,multi:!0,deps:[ie]},{provide:Mo,useClass:Mo,deps:[uh,ha,s.AFp]},{provide:s.FYo,useExisting:Mo},{provide:Ao,useExisting:ha},{provide:ha,useClass:ha,deps:[ie]},{provide:uh,useClass:uh,deps:[bc,s.R0b]},{provide:class ua{},useClass:Ju,deps:[]},[]];let xc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:xn,useExisting:s.AFp},Ku]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ro,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...so,..._h],imports:[Kn,s.hGG]}),n})(),Ns=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ga(){return new Ns((0,s.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Om),i},providedIn:"root"}),n})(),Om=(()=>{class n extends Fo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Nm(n){return new Om(n.get(ie))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var ln=F(8996),hr=F(3269);function Xe(...n){const t=(0,hr.yG)(n);return(0,ln.D)(n,t)}var It=F(7579);class cn extends It.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ml=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rn=F(9751);const{isArray:ao}=Array,{getPrototypeOf:kc,prototype:Rm,keys:td}=Object;function _l(n){if(1===n.length){const t=n[0];if(ao(t))return{args:t,keys:null};if(function Lo(n){return n&&"object"==typeof n&&kc(n)===Rm}(t)){const e=td(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Rs=F(4671),We=F(4004);const{isArray:vl}=Array;function wa(n){return(0,We.U)(t=>function lo(n,t){return vl(t)?n(...t):n(t)}(n,t))}function Ta(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var bn=F(5403),nd=F(9672);function ks(...n){const t=(0,hr.yG)(n),e=(0,hr.jO)(n),{args:i,keys:r}=_l(n);if(0===i.length)return(0,ln.D)([],t);const o=new Rn.y(function km(n,t,e=Rs.y){return i=>{id(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)id(t,()=>{const v=(0,ln.D)(n[g],t);let T=!1;v.subscribe((0,bn.x)(i,I=>{o[g]=I,T||(T=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Ta(r,u):Rs.y));return e?o.pipe(wa(e)):o}function id(n,t,e){n?(0,nd.f)(e,n,t):t()}var Pc=F(8189);function Zr(...n){return function yl(){return(0,Pc.J)(1)}()((0,ln.D)(n,(0,hr.yG)(n)))}var ji=F(8421);function Gr(n){return new Rn.y(t=>{(0,ji.Xf)(n()).subscribe(t)})}var rd=F(9635),fr=F(576);function er(n,t){const e=(0,fr.m)(n)?n:()=>n,i=r=>r.error(e());return new Rn.y(t?r=>t.schedule(i,0,r):i)}var qr=F(515),ri=F(727),Zn=F(4482);function co(){return(0,Zn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,bn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ps extends Rn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Zn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ri.w0;const e=this.getSubject();t.add(this.source.subscribe((0,bn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ri.w0.EMPTY)}return t}refCount(){return co()(this)}}function Cn(n,t){return(0,Zn.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,bn.x)(i,g=>{r?.unsubscribe();let v=0;const T=o++;(0,ji.Xf)(n(g,T)).subscribe(r=(0,bn.x)(i,I=>i.next(t?t(g,I,T,v++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Vt(n){return n<=0?()=>qr.E:(0,Zn.e)((t,e)=>{let i=0;t.subscribe((0,bn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function zr(...n){const t=(0,hr.yG)(n);return(0,Zn.e)((e,i)=>{(t?Zr(n,e,t):Zr(n,e)).subscribe(i)})}function D(n,t){return(0,Zn.e)((e,i)=>{let r=0;e.subscribe((0,bn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var S=F(5577);function N(n){return(0,Zn.e)((t,e)=>{let i=!1;t.subscribe((0,bn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function B(n=Q){return(0,Zn.e)((t,e)=>{let i=!1;t.subscribe((0,bn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Q(){return new ml}function se(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):Rs.y,Vt(1),e?N(t):B(()=>new ml))}function Ee(n,t){return(0,fr.m)(t)?(0,S.z)(n,t,1):(0,S.z)(n,1)}var Pe=F(8505);function ct(n){return(0,Zn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,bn.x)(e,void 0,void 0,u=>{o=(0,ji.Xf)(n(u,ct(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function St(n,t,e,i,r){return(o,u)=>{let h=e,g=t,v=0;o.subscribe((0,bn.x)(u,T=>{const I=v++;g=h?n(g,T,I):(h=!0,T),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function Ft(n,t){return(0,Zn.e)(St(n,t,arguments.length>=2,!0))}function yt(n){return n<=0?()=>qr.E:(0,Zn.e)((t,e)=>{let i=[];t.subscribe((0,bn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function kn(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):Rs.y,yt(1),e?N(t):B(()=>new ml))}function Uo(n){return(0,We.U)(()=>n)}function Fs(n){return(0,Zn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Lt="primary",ls=Symbol("RouteTitle");class uo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nr(n){return new uo(n)}function Ca(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Wr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!gp(n[r],t[r]))return!1;return!0}function gp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Pm(n){return Array.prototype.concat.apply([],n)}function Fm(n){return n.length>0?n[n.length-1]:null}function vi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function cs(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,ln.D)(Promise.resolve(n)):Xe(n)}const Sw={exact:function Um(n,t,e){if(!Ho(n.segments,t.segments)||!Vo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Um(n.children[i],t.children[i],e))return!1;return!0},subset:bl},_p={exact:function vp(n,t){return Wr(n,t)},subset:function Bm(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>gp(n[e],t[e]))},ignored:()=>!0};function Iy(n,t,e){return Sw[e.paths](n.root,t.root,e.matrixParams)&&_p[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bl(n,t,e){return yh(n,t,t.segments,e)}function yh(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ho(r,e)||t.hasChildren()||!Vo(r,e,i))}if(n.segments.length===e.length){if(!Ho(n.segments,e)||!Vo(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ho(n.segments,r)&&Vo(n.segments,r,i)&&n.children[Lt])&&yh(n.children[Lt],t,o,i)}}function Vo(n,t,e){return t.every((i,r)=>_p[e](n[r].parameters,i.parameters))}class wl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nr(this.queryParams)),this._queryParamMap}toString(){return jo.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Th(this)}}class bh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nr(this.parameters)),this._parameterMap}toString(){return wp(this)}}function Ho(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let yp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new wh},providedIn:"root"}),n})();class wh{parse(t){const e=new Cl(t);return new wl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Tl(t.root,!0)}`,i=function xy(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${od(e)}=${od(r)}`).join("&"):`${od(e)}=${od(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Sy(n){return encodeURI(n)}(t.fragment)}`:""}`}}const jo=new wh;function Th(n){return n.segments.map(t=>wp(t)).join("/")}function Tl(n,t){if(!n.hasChildren())return Th(n);if(t){const e=n.children[Lt]?Tl(n.children[Lt],!1):"",i=[];return vi(n.children,(r,o)=>{o!==Lt&&i.push(`${o}:${Tl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Vm(n,t){let e=[];return vi(n.children,(i,r)=>{r===Lt&&(e=e.concat(t(i,r)))}),vi(n.children,(i,r)=>{r!==Lt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Lt?[Tl(n.children[Lt],!1)]:[`${r}:${Tl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${Th(n)}/${e[0]}`:`${Th(n)}/(${e.join("//")})`}}function Hm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(n){return Hm(n).replace(/%3B/gi,";")}function Yr(n){return Hm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $o(n){return decodeURIComponent(n)}function bp(n){return $o(n.replace(/\+/g,"%20"))}function wp(n){return`${Yr(n.path)}${function Ay(n){return Object.keys(n).map(t=>`;${Yr(t)}=${Yr(n[t])}`).join("")}(n.parameters)}`}const My=/^[^\/()?;=#]+/;function Ch(n){const t=n.match(My);return t?t[0]:""}const jm=/^[^=?&#]+/,Ny=/^[^&#]+/;class Cl{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new Jt(t,e)),i}parseSegment(){const t=Ch(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new bh($o(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ch(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ch(this.remaining);r&&(i=r,this.capture(i))}t[$o(e)]=$o(i)}parseQueryParam(t){const e=function $m(n){const t=n.match(jm);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Aw(n){const t=n.match(Ny);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=bp(e),o=bp(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ch(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Lt]:new Jt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function Fc(n){return n.segments.length>0?new Jt([],{[Lt]:n}):n}function us(n){const t={};for(const i of Object.keys(n.children)){const o=us(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function El(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function Ea(n){return n instanceof wl}function Mw(n,t,e,i,r){if(0===e.length)return ad(t.root,t.root,t.root,i,r);const o=function Gm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tp(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return vi(o.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Tp(e,t,i)}(e);return o.toRoot()?ad(t.root,t.root,new Jt([],{}),i,r):function u(g){const v=function Cp(n,t,e,i){if(n.isAbsolute)return new Uc(t.root,!0,0);if(-1===i)return new Uc(e,e===t.root,0);return function Ep(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Uc(i,!1,r-o)}(e,i+(Dl(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,g),T=v.processChildren?Go(v.segmentGroup,v.index,o.commands):Bc(v.segmentGroup,v.index,o.commands);return ad(t.root,v.segmentGroup,T,i,r)}(n.snapshot?._lastPathIndex)}function Dl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zo(n){return"object"==typeof n&&null!=n&&n.outlets}function ad(n,t,e,i,r){let u,o={};i&&vi(i,(g,v)=>{o[v]=Array.isArray(g)?g.map(T=>`${T}`):`${g}`}),u=n===t?e:Ry(n,t,e);const h=Fc(us(u));return new wl(h,o,r)}function Ry(n,t,e){const i={};return vi(n.children,(r,o)=>{i[o]=r===t?e:Ry(r,t,e)}),new Jt(n.segments,i)}class Tp{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Dl(i[0]))throw new s.vHH(4003,!1);const r=i.find(Zo);if(r&&r!==Fm(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Bc(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return Go(n,t,e);const i=function ky(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(Zo(h))break;const g=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Dh(g,v,u))return o;i+=2}else{if(!Dh(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Jt(n.segments.slice(0,i.pathIndex),{});return o.children[Lt]=new Jt(n.segments.slice(i.pathIndex),n.children),Go(o,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?Gn(n,t,e):i.match?Go(n,0,r):Gn(n,t,e)}function Go(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const i=function Eh(n){return Zo(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};return vi(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=Bc(n.children[u],t,o))}),vi(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Jt(n.segments,r)}}function Gn(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Zo(o)){const g=ld(o.outlets);return new Jt(i,g)}if(0===r&&Dl(e[0])){i.push(new bh(n.segments[t].path,zm(e[0]))),r++;continue}const u=Zo(o)?o.outlets[Lt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&Dl(h)?(i.push(new bh(u,zm(h))),r+=2):(i.push(new bh(u,{})),r++)}return new Jt(i,{})}function ld(n){const t={};return vi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Gn(new Jt([],{}),0,e))}),t}function zm(n){const t={};return vi(n,(e,i)=>t[i]=`${e}`),t}function Dh(n,t,e){return n==e.path&&Wr(t,e.parameters)}class ho{constructor(t,e){this.id=t,this.url=e}}class Ih extends ho{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends ho{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends ho{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wm extends ho{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Py extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ah extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nw extends ho{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vc extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dp extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ym{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Km{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jm{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qm{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xh{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mh{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cd{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ud(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ud(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tr(t,this._root).map(e=>e.value)}}function ud(n,t){if(n===t.value)return t;for(const e of t.children){const i=ud(n,e);if(i)return i}return null}function tr(n,t){if(n===t.value)return[t];for(const e of t.children){const i=tr(n,e);if(i.length)return i.unshift(t),i}return[]}class Or{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kr(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Xm extends Nh{constructor(t,e){super(t),this.snapshot=e,hd(this,t)}toString(){return this.snapshot.toString()}}function Hc(n,t){const e=function jc(n,t){const u=new $i([],{},{},"",{},Lt,t,null,n.root,-1,{});return new Rh("",new Or(u,[]))}(n,t),i=new cn([new bh("",{})]),r=new cn({}),o=new cn({}),u=new cn({}),h=new cn(""),g=new Sl(i,r,u,h,o,Lt,t,e.root);return g.snapshot=e.root,new Xm(new Or(g,[]),e)}class Sl{constructor(t,e,i,r,o,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,We.U)(v=>v[ls]))??Xe(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(t=>Nr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(t=>Nr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dd(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Oh(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class $i{constructor(t,e,i,r,o,u,h,g,v,T,I,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.[ls],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=T,this._correctedLastPathIndex=M??T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rh extends Nh{constructor(t,e){super(e),this.url=t,hd(this,e)}toString(){return e_(this._root)}}function hd(n,t){t.value._routerState=n,t.children.forEach(e=>hd(n,e))}function e_(n){const t=n.children.length>0?` { ${n.children.map(e_).join(", ")} } `:"";return`${n.value}${t}`}function Ip(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Wr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Wr(t.params,e.params)||n.params.next(e.params),function Bo(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Wr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Wr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fd(n,t){const e=Wr(n.params,t.params)&&function sd(n,t){return Ho(n,t)&&n.every((e,i)=>Wr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||fd(n.parent,t.parent))}function Al(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Sp(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Al(n,i,r);return Al(n,i)})}(n,t,e);return new Or(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Al(n,h)),u}}const i=function Fy(n){return new Sl(new cn(n.url),new cn(n.params),new cn(n.queryParams),new cn(n.fragment),new cn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Al(n,o));return new Or(i,r)}}const Ls="ngNavigationCancelingError";function Da(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ea(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Ap(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Ap(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ls]=!0,i.cancellationCode=t,e&&(i.url=e),i}function kh(n){return t_(n)&&Ea(n.url)}function t_(n){return n&&n[Ls]}class Ph{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fh,this.attachRef=null}}let Fh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ph,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lh=!1;let xl=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||Lt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Lh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Lh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Lh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Lh);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new Ly(e,h,r.injector);if(i&&function y(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fh),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Ly{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Sl?this.route:t===Fh?this.childContexts:this.parent.get(t,e)}}let p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[xl],encapsulation:2}),n})();function _(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function bt(n){const t=n.children&&n.children.map(bt),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=p),e}function _n(n){return n.outlet||Lt}function Rr(n,t){const e=n.filter(i=>_n(i)===t);return e.push(...n.filter(i=>_n(i)!==t)),e}function Ml(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class pd{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ip(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Kr(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),vi(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Kr(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Kr(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Kr(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Mh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Qm(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Ip(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Ip(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Ml(r.snapshot),g=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class n_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Uh{constructor(t,e){this.component=t,this.route=e}}function i_(n,t,e){const i=n._root;return Nl(i,t?t._root:null,e,[i.value])}function $c(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Nl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Kr(t);return n.children.forEach(u=>{(function xp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function Mp(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ho(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ho(n.url,t.url)||!Wr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fd(n,t)||!Wr(n.queryParams,t.queryParams);default:return!fd(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new n_(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Nl(n,t,o.component?h?h.children:null:e,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Uh(h.outlet.component,u))}else u&&Ia(t,h,r),r.canActivateChecks.push(new n_(i)),Nl(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),vi(o,(u,h)=>Ia(u,e.getContext(h),r)),r}function Ia(n,t,e){const i=Kr(n),r=n.value;vi(i,(o,u)=>{Ia(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Uh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Zc(n){return"function"==typeof n}function r_(n){return n instanceof ml||"EmptyError"===n?.name}const s_=Symbol("INITIAL_VALUE");function Bh(){return Cn(n=>ks(n.map(t=>t.pipe(Vt(1),zr(s_)))).pipe((0,We.U)(t=>{for(const e of t)if(!0!==e){if(e===s_)return s_;if(!1===e||e instanceof wl)return e}return!0}),D(t=>t!==s_),Vt(1)))}function kr(n){return(0,rd.z)((0,Pe.b)(t=>{if(Ea(t))throw Da(0,t)}),(0,We.U)(t=>!0===t))}const o_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a_(n,t,e,i,r){const o=nr(n,t,e);return o.matched?function $y(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Xe(r.map(u=>{const h=$c(u,n);return cs(function bI(n){return n&&Zc(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(Bh(),kr()):Xe(!0)}(i=_(t,i),t,e).pipe((0,We.U)(u=>!0===u?o:{...o_})):Xe(o)}function nr(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...o_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Ca)(e,n,t);if(!r)return{...o_};const o={};vi(r.posParams,(h,g)=>{o[g]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Gc(n,t,e,i,r="corrected"){if(e.length>0&&function MI(n,t,e){return e.some(i=>l_(n,t,i)&&_n(i)!==Lt)}(n,e,i)){const u=new Jt(t,function xI(n,t,e,i){const r={};r[Lt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&_n(o)!==Lt){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[_n(o)]=u}return r}(n,t,i,new Jt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Fw(n,t,e){return e.some(i=>l_(n,t,i))}(n,e,i)){const u=new Jt(n.segments,function Pw(n,t,e,i,r,o){const u={};for(const h of i)if(l_(n,e,h)&&!r[_n(h)]){const g=new Jt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[_n(h)]=g}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Jt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function l_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Zy(n,t,e,i){return!!(_n(n)===i||i!==Lt&&l_(t,e,n))&&("**"===n.path||nr(t,n,e).matched)}function Lw(n,t,e){return 0===t.length&&!n.children[e]}const Op=!1;class c_{constructor(t){this.segmentGroup=t||null}}class Uw{constructor(t){this.urlTree=t}}function Rp(n){return er(new c_(n))}function Bw(n){return er(new Uw(n))}class OI{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Gc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Lt).pipe((0,We.U)(o=>this.createUrlTree(us(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(o=>{if(o instanceof Uw)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof c_?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Lt).pipe((0,We.U)(r=>this.createUrlTree(us(r),t.queryParams,t.fragment))).pipe(ct(r=>{throw r instanceof c_?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Op)}createUrlTree(t,e,i){const r=Fc(t);return new wl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,We.U)(o=>new Jt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,ln.D)(r).pipe(Ee(o=>{const u=i.children[o],h=Rr(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,We.U)(g=>({segment:g,outlet:o})))}),Ft((o,u)=>(o[u.outlet]=u.segment,o),{}),kn())}expandSegment(t,e,i,r,o,u){return(0,ln.D)(i).pipe(Ee(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(ct(v=>{if(v instanceof c_)return Xe(null);throw v}))),se(h=>!!h),ct((h,g)=>{if(r_(h))return Lw(e,r,o)?Xe(new Jt([],{})):Rp(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return Zy(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Rp(e):Rp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Bw(o):this.lineralizeSegments(i,o).pipe((0,S.z)(u=>{const h=new Jt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:T}=nr(e,r,o);if(!h)return Rp(e);const I=this.applyRedirectCommands(g,r.redirectTo,T);return r.redirectTo.startsWith("/")?Bw(I):this.lineralizeSegments(r,I).pipe((0,S.z)(M=>this.expandSegment(t,e,i,M.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=_(i,t),i.loadChildren?(i._loadedRoutes?Xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,We.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Jt(r,{})))):Xe(new Jt(r,{}))):a_(e,i,r,t).pipe(Cn(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,S.z)(T=>{const I=T.injector??t,M=T.routes,{segmentGroup:k,slicedSegments:U}=Gc(e,h,g,M),H=new Jt(k.segments,k.children);if(0===U.length&&H.hasChildren())return this.expandChildren(I,M,H).pipe((0,We.U)(Fe=>new Jt(h,Fe)));if(0===M.length&&0===U.length)return Xe(new Jt(h,{}));const K=_n(i)===o;return this.expandSegment(I,H,M,U,K?Lt:o,!0).pipe((0,We.U)(Se=>new Jt(h.concat(Se.segments),Se.children)))})):Rp(e)))}getChildConfig(t,e,i){return e.children?Xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function AI(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Xe(!0):Xe(r.map(u=>{const h=$c(u,n);return cs(function Vy(n){return n&&Zc(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(Bh(),kr())}(t,e,i).pipe((0,S.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Pe.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Vh(n){return er(Ap(Op,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[Lt])return er(new s.vHH(4e3,Op));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new wl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return vi(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return vi(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,r)}),new Jt(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Op);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class vO{}class Sa{constructor(t,e,i,r,o,u,h,g){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const t=Gc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe((0,We.U)(e=>{if(null===e)return null;const i=new $i([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Or(i,e),o=new Rh(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=dd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,ln.D)(Object.keys(i.children)).pipe(Ee(r=>{const o=i.children[r],u=Rr(e,r);return this.processSegmentGroup(t,u,o,r)}),Ft((r,o)=>r&&o?(r.push(...o),r):null),function Fi(n,t=!1){return(0,Zn.e)((e,i)=>{let r=0;e.subscribe((0,bn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),N(null),kn(),(0,We.U)(r=>{if(null===r)return null;const o=Wy(r);return function qy(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,ln.D)(e).pipe(Ee(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),se(u=>!!u),ct(u=>{if(r_(u))return Lw(i,r,o)?Xe([]):Xe(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Zy(e,i,r,o))return Xe(null);let u;if("**"===e.path){const h=r.length>0?Fm(r).parameters:{},g=Hw(i)+r.length;u=Xe({snapshot:new $i(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u_(e),_n(e),e.component??e._loadedComponent??null,e,Hh(i),g,d_(e),g),consumedSegments:[],remainingSegments:[]})}else u=a_(i,e,r,t).pipe((0,We.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:T})=>{if(!h)return null;const I=Hw(i)+g.length;return{snapshot:new $i(g,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u_(e),_n(e),e.component??e._loadedComponent??null,e,Hh(i),I,d_(e),I),consumedSegments:g,remainingSegments:v}}));return u.pipe(Cn(h=>{if(null===h)return Xe(null);const{snapshot:g,consumedSegments:v,remainingSegments:T}=h;t=e._injector??t;const I=e._loadedInjector??t,M=function zy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:k,slicedSegments:U}=Gc(i,v,T,M.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===U.length&&k.hasChildren())return this.processChildren(I,M,k).pipe((0,We.U)(K=>null===K?null:[new Or(g,K)]));if(0===M.length&&0===U.length)return Xe([new Or(g,[])]);const H=_n(e)===o;return this.processSegment(I,M,k,U,H?Lt:o).pipe((0,We.U)(K=>null===K?null:[new Or(g,K)]))}))}}function kI(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Wy(n){const t=[],e=new Set;for(const i of n){if(!kI(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Wy(i.children);t.push(new Or(i.value,r))}return t.filter(i=>!e.has(i))}function Hh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Hw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function u_(n){return n.data||{}}function d_(n){return n.resolve||{}}function h_(n){return"string"==typeof n.title||null===n.title}function Ky(n){return Cn(t=>{const e=n(t);return e?(0,ln.D)(e).pipe((0,We.U)(()=>t)):Xe(t)})}let Gw=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[ls]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(qw)},providedIn:"root"}),n})(),qw=(()=>{class n extends Gw{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ns))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LI{}class zw extends class UI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kp=new s.OlP("",{providedIn:"root",factory:()=>({})}),Qy=new s.OlP("ROUTES");let Xy=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=cs(e.loadComponent()).pipe((0,Pe.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Fs(()=>{this.componentLoaders.delete(e)})),r=new Ps(i,()=>new It.x).pipe(co());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,We.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,T=!1;Array.isArray(h)?v=h:(g=h.create(e).injector,v=Pm(g.get(Qy,[],s.XFs.Self|s.XFs.Optional)));return{routes:v.map(bt),injector:g}}),Fs(()=>{this.childrenLoaders.delete(i)})),u=new Ps(o,()=>new It.x).pipe(co());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return cs(e()).pipe((0,S.z)(i=>i instanceof s.YKP||Array.isArray(i)?Xe(i):(0,ln.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ww{}class Yw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Kw(n){throw n}function Jw(n,t,e){return t.parse("/")}const BI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qw(){const n=(0,s.f3M)(yp),t=(0,s.f3M)(Fh),e=(0,s.f3M)(Ne),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Qy,{optional:!0})??[],u=(0,s.f3M)(kp,{optional:!0})??{},h=(0,s.f3M)(qw),g=(0,s.f3M)(Gw,{optional:!0}),v=(0,s.f3M)(Ww,{optional:!0}),T=(0,s.f3M)(LI,{optional:!0}),I=new si(null,n,t,e,i,r,Pm(o));return v&&(I.urlHandlingStrategy=v),T&&(I.routeReuseStrategy=T),I.titleStrategy=g??h,function p_(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,I),I}let si=(()=>{class n{constructor(e,i,r,o,u,h,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new It.x,this.errorHandler=Kw,this.malformedUriErrorHandler=Jw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new Yw,this.routeReuseStrategy=new zw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Xy),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new Km(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new Ym(M)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const I=u.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Lm(){return new wl(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hc(this.currentUrlTree,this.rootComponentType),this.transitions=new cn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(D(r=>0!==r.id),(0,We.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Cn(r=>{let o=!1,u=!1;return Xe(r).pipe((0,Pe.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cn(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return e0(h.source)&&(this.browserUrlTree=h.extractedUrl),Xe(h).pipe(Cn(I=>{const M=this.transitions.getValue();return i.next(new Ih(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?qr.E:Promise.resolve(I)}),function RI(n,t,e,i){return Cn(r=>function Ol(n,t,e,i,r){return new OI(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,We.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pe.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function $w(n,t,e,i,r,o){return(0,S.z)(u=>function yO(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new Sa(n,t,e,i,r,u,h,o).recognize().pipe(Cn(g=>null===g?function Vw(n){return new Rn.y(t=>t.error(n))}(new vO):Xe(g)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,We.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pe.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(k,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new Py(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:k,source:U,restoredState:H,extras:K}=h,we=new Ih(M,this.serializeUrl(k),U,H);i.next(we);const Se=Hc(k,this.rootComponentType).snapshot;return Xe(r={...h,targetSnapshot:Se,urlAfterRedirects:k,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),qr.E}),(0,Pe.b)(h=>{const g=new Ah(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,We.U)(h=>r={...h,guards:i_(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function TI(n,t){return(0,S.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Xe({...e,guardsResult:!0}):function CI(n,t,e,i){return(0,ln.D)(n).pipe((0,S.z)(r=>function SI(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Xe(o.map(h=>{const g=Ml(t)??r,v=$c(h,g);return cs(function Np(n){return n&&Zc(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):g.runInContext(()=>v(n,t,e,i))).pipe(se())})).pipe(Bh()):Xe(!0)}(r.component,r.route,e,t,i)),se(r=>!0!==r,!0))}(u,i,r,n).pipe((0,S.z)(h=>h&&function Rw(n){return"boolean"==typeof n}(h)?function jy(n,t,e,i){return(0,ln.D)(t).pipe(Ee(r=>Zr(function DI(n,t){return null!==n&&t&&t(new Jm(n)),Xe(!0)}(r.route.parent,i),function EI(n,t){return null!==n&&t&&t(new xh(n)),Xe(!0)}(r.route,i),function kw(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function By(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Gr(()=>Xe(u.guards.map(g=>{const v=Ml(u.node)??e,T=$c(g,v);return cs(function Hy(n){return n&&Zc(n.canActivateChild)}(T)?T.canActivateChild(i,n):v.runInContext(()=>T(i,n))).pipe(se())})).pipe(Bh())));return Xe(o).pipe(Bh())}(n,r.path,e),function II(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(o=>Gr(()=>{const u=Ml(t)??e,h=$c(o,u);return cs(function yI(n){return n&&Zc(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(se())}));return Xe(r).pipe(Bh())}(n,r.route,e))),se(r=>!0!==r,!0))}(i,o,n,t):Xe(h)),(0,We.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Pe.b)(h=>{if(r.guardsResult=h.guardsResult,Ea(h.guardsResult))throw Da(0,h.guardsResult);const g=new Nw(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Ky(h=>{if(h.guards.canActivateChecks.length)return Xe(h).pipe((0,Pe.b)(g=>{const v=new Vc(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),Cn(g=>{let v=!1;return Xe(g).pipe(function bO(n,t){return(0,S.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Xe(e);let o=0;return(0,ln.D)(r).pipe(Ee(u=>function jh(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!h_(r)&&(o[ls]=r.title),function Yy(n,t,e,i){const r=function Zw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Xe({});const o={};return(0,ln.D)(r).pipe((0,S.z)(u=>function FI(n,t,e,i){const r=Ml(t)??i,o=$c(n,r);return cs(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(se(),(0,Pe.b)(h=>{o[u]=h}))),yt(1),Uo(o),ct(u=>r_(u)?qr.E:er(u)))}(o,n,t,i).pipe((0,We.U)(u=>(n._resolvedData=u,n.data=dd(n,e).resolve,r&&h_(r)&&(n.data[ls]=r.title),null)))}(u.route,i,n,t)),(0,Pe.b)(()=>o++),yt(1),(0,S.z)(u=>o===r.length?Xe(e):qr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pe.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Pe.b)(g=>{const v=new Dp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),Ky(h=>{const g=v=>{const T=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Pe.b)(I=>{v.component=I}),(0,We.U)(()=>{})));for(const I of v.children)T.push(...g(I));return T};return ks(g(h.targetSnapshot.root)).pipe(N(),Vt(1))}),Ky(()=>this.afterPreactivation()),(0,We.U)(h=>{const g=function Si(n,t,e){const i=Al(n,t._root,e?e._root:void 0);return new Xm(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:g}}),(0,Pe.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,We.U)(i=>(new pd(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Pe.b)({next(){o=!0},complete(){o=!0}}),Fs(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ct(h=>{if(u=!0,t_(h)){kh(h)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Sh(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(g),kh(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||e0(r.source)};this.scheduleNavigation(v,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new Wm(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return qr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(bt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,v=r||this.routerState.root,T=g?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),Mw(v,this.currentUrlTree,e,I,T??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ea(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Xw(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...BI}:!1===i?{...TO}:i,Ea(e))return Iy(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Iy(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Il(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,g,v;u?(h=u.resolve,g=u.reject,v=u.promise):v=new Promise((M,k)=>{h=M,g=k});const T=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:T,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new Sh(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return Qw()},providedIn:"root"}),n})();function e0(n){return"imperative"!==n}let Fp=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new It.x,this.subscription=e.events.subscribe(o=>{o instanceof Il&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){return!!(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(si),s.Y36(Sl),s.Y36(ve))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class t0{}let n0=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(D(e=>e instanceof Il),Ee(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,ln.D)(r).pipe((0,Pc.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Xe(null);const o=r.pipe((0,S.z)(u=>null===u?Xe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,ln.D)([o,u]).pipe((0,Pc.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(si),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(t0),s.LFG(Xy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gd=new s.OlP("");let tT=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ih?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Il&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new cd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function md(n,t){return{\u0275kind:n,\u0275providers:t}}function Up(n){return[{provide:Qy,multi:!0,useValue:n}]}function jI(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(si),r=n.get(r0);1===n.get(s0)&&i.initialNavigation(),n.get(fo,null,s.XFs.Optional)?.setUpPreloading(),n.get(gd,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const r0=new s.OlP("",{factory:()=>new It.x}),s0=new s.OlP("",{providedIn:"root",factory:()=>1});const fo=new s.OlP("");function GI(n){return md(0,[{provide:fo,useExisting:n0},{provide:t0,useExisting:n}])}const rT=new s.OlP("ROUTER_FORROOT_GUARD"),zI=[Ne,{provide:yp,useClass:wh},{provide:si,useFactory:Qw},Fh,{provide:Sl,useFactory:function nT(n){return n.routerState.root},deps:[si]},Xy];function sT(){return new s.PXZ("Router",si)}let oT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[zI,[],Up(e),{provide:rT,useFactory:aT,deps:[[si,new s.FiY,new s.tp0]]},{provide:kp,useValue:i||{}},i?.useHash?{provide:ve,useClass:ft}:{provide:ve,useClass:st},{provide:gd,useFactory:()=>{const n=(0,s.f3M)(si),t=(0,s.f3M)(sc),e=(0,s.f3M)(kp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new tT(n,t,e)}},i?.preloadingStrategy?GI(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:sT},i?.initialNavigation?lT(i):[],[{provide:o0,useFactory:jI},{provide:s.tb,multi:!0,useExisting:o0}]]}}static forChild(e){return{ngModule:n,providers:[Up(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(rT,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[p]}),n})();function aT(n){return"guarded"}function lT(n){return["disabled"===n.initialNavigation?md(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(si);return()=>{t.setUpLocationChangeListener()}}},{provide:s0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?md(2,[{provide:s0,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get($,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const u=t.get(si),h=t.get(r0);(function r(o){t.get(si).events.pipe(D(h=>h instanceof Il||h instanceof Sh||h instanceof Wm),(0,We.U)(h=>h instanceof Il||h instanceof Sh&&(0===h.code||1===h.code)&&null),D(h=>null!==h),Vt(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),u.afterPreactivation=()=>(o(!0),i||h.closed?Xe(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const o0=new s.OlP("");var me=F(5861),Bp=F(6451),Vp=F(5363),JI=F(6063);class QI extends It.x{constructor(t=1/0,e=1/0,i=JI.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var XI=F(3099);function a0(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,XI.B)({connector:()=>new QI(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function l0(n,t){return(0,fr.m)(t)?Cn(()=>n,t):Cn(()=>n)}var Rl=F(9468),Qn=F(5813),pr=F(2011);F(5867);var qo=F(9681),Zh=F(4859),zt=F(2090),qc=F(1877);const d0=new Map,cT={activated:!1,tokenObservers:[]},h0={initialized:!1,enabled:!1};function gr(n){return d0.get(n)||cT}function ds(n,t){d0.set(n,t)}function b_(){return h0}class fT{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,me.Z)(function*(){e.stop();try{e.pending=new zt.BH,yield function rS(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new zt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const oi=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function p0(n){if(!gr(n).activated)throw oi.create("use-before-activation",{appName:n.name})}function w_(n,t){return pT.apply(this,arguments)}function pT(){return(pT=(0,me.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const k=yield u.getHeartbeatsHeader();k&&(o["X-Firebase-Client"]=k)}const h={method:"POST",body:JSON.stringify(t),headers:o};let g,v;try{g=yield fetch(n,h)}catch(k){throw oi.create("fetch-network-error",{originalErrorMessage:null===(i=k)||void 0===i?void 0:i.message})}if(200!==g.status)throw oi.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(k){throw oi.create("fetch-parse-error",{originalErrorMessage:null===(r=k)||void 0===r?void 0:r.message})}const T=v.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const I=1e3*Number(T[1]),M=Date.now();return{token:v.token,expireTimeMillis:M+I,issuedAtTimeMillis:M}})).apply(this,arguments)}function m0(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const E_="firebase-app-check-store";let D_=null;function mT(){return D_||(D_=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(oi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(E_,{keyPath:"compositeKey"})}}catch(i){t(oi.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),D_)}function I_(){return(I_=(0,me.Z)(function*(n,t){const i=(yield mT()).transaction(E_,"readwrite"),o=i.objectStore(E_).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var v;h(oi.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const A_=new qc.Yd("@firebase/app-check");function yT(n,t){return(0,zt.hl)()?function _T(n,t){return function aS(n,t){return I_.apply(this,arguments)}(function S_(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{A_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function lS(){return b_().enabled}function cS(){return wT.apply(this,arguments)}function wT(){return(wT=(0,me.Z)(function*(){const n=b_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zc={error:"UNKNOWN_ERROR"};function w0(n){return zt.US.encodeString(JSON.stringify(n),!1)}function x_(n){return M_.apply(this,arguments)}function M_(){return(M_=(0,me.Z)(function*(n,t=!1){const e=n.app;p0(e);const i=gr(e);let o,r=i.token;if(r&&!_d(r)&&(ds(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(_d(g)?r=g:yield yT(e,void 0))}if(!t&&r&&_d(r))return{token:r.token};let h,u=!1;if(lS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=w_(m0(e,yield cS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield yT(e,g),ds(e,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?A_.warn(g.message):A_.error(g),o=g}return r?o?h=_d(r)?{token:r.token,internalError:o}:TT(o):(h={token:r.token},ds(e,Object.assign(Object.assign({},i),{token:r})),yield yT(e,r)):h=TT(o),u&&kl(e,h),h})).apply(this,arguments)}function N_(n,t){const e=gr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ds(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function O_(n){const{app:t}=n,e=gr(t);let i=e.tokenRefresher;i||(i=function uS(n){const{app:t}=n;return new fT((0,me.Z)(function*(){let i;if(i=gr(t).token?yield x_(n,!0):yield x_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=gr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ds(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function kl(n,t){const e=gr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function _d(n){return n.expireTimeMillis-Date.now()>0}function TT(n){return{token:w0(zc),error:n}}class dS{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=gr(this.app);for(const e of t)N_(this.app,e.next);return Promise.resolve()}}const xT="app-check-internal";!function x0(){(0,qo._registerComponent)(new Zh.wA("app-check",n=>function CT(n,t){return new dS(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(xT).initialize()})),(0,qo._registerComponent)(new Zh.wA(xT,n=>function hS(n){return{getToken:t=>x_(n,t),addTokenListener:t=>function $p(n,t,e,i){const{app:r}=n,o=gr(r),u={next:e,error:i,type:t};if(ds(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&_d(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),O_(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>O_(n))}(n,"INTERNAL",t),removeTokenListener:t=>N_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qo.registerVersion)("@firebase/app-check","0.5.15")}();class P_{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var O0=F(127);const RT=new s.OlP("angularfire2.auth.use-emulator"),L_=new s.OlP("angularfire2.auth.settings"),kT=new s.OlP("angularfire2.auth.tenant-id"),PT=new s.OlP("angularfire2.auth.langugage-code"),Gp=new s.OlP("angularfire2.auth.use-device-language"),U_=new s.OlP("angularfire.auth.persistence"),qp=(n,t,e,i,r,o,u,h)=>(0,pr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[v,T]of Object.entries(u))g.settings[v]=T;return h&&g.setPersistence(h),g},[e,i,r,o,u,h]);let R0=(()=>{class n{constructor(e,i,r,o,u,h,g,v,T,I,M,k){const U=new It.x,H=Xe(void 0).pipe((0,Vp.Q)(u.outsideAngular),Cn(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9545)))),(0,We.U)(()=>(0,pr.on)(e,o,i)),(0,We.U)(K=>qp(K,o,h,v,T,I,g,M)),a0({bufferSize:1,refCount:!1}));if(Pi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{H.pipe(se()).subscribe();const we=H.pipe(Cn(Ae=>Ae.getRedirectResult().then(He=>He,()=>null)),Qn.iC,a0({bufferSize:1,refCount:!1})),Se=H.pipe(Cn(Ae=>new Rn.y(He=>({unsubscribe:o.runOutsideAngular(()=>Ae.onAuthStateChanged(Ge=>He.next(Ge),Ge=>He.error(Ge),()=>He.complete()))})))),Fe=H.pipe(Cn(Ae=>new Rn.y(He=>({unsubscribe:o.runOutsideAngular(()=>Ae.onIdTokenChanged(Ge=>He.next(Ge),Ge=>He.error(Ge),()=>He.complete()))}))));this.authState=we.pipe(l0(Se),(0,Rl.R)(u.outsideAngular),(0,Vp.Q)(u.insideAngular)),this.user=we.pipe(l0(Fe),(0,Rl.R)(u.outsideAngular),(0,Vp.Q)(u.insideAngular)),this.idToken=this.user.pipe(Cn(Ae=>Ae?(0,ln.D)(Ae.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Cn(Ae=>Ae?(0,ln.D)(Ae.getIdTokenResult()):Xe(null))),this.credential=(0,Bp.T)(we,U,this.authState.pipe(D(Ae=>!Ae))).pipe((0,We.U)(Ae=>Ae?.user?Ae:null),(0,Rl.R)(u.outsideAngular),(0,Vp.Q)(u.insideAngular))}return(0,pr.pX)(this,H,o,{spy:{apply:(K,we,Se)=>{(K.startsWith("signIn")||K.startsWith("createUser"))&&Se.then(Fe=>U.next(Fe))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pr.Dh),s.LFG(pr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Qn.HU),s.LFG(RT,8),s.LFG(L_,8),s.LFG(kT,8),s.LFG(PT,8),s.LFG(Gp,8),s.LFG(U_,8),s.LFG(P_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),k0=(()=>{class n{constructor(){O0.Z.registerVersion("angularfire",Qn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[R0]}),n})();var B_=F(4986);function V_(){return(0,Zn.e)((n,t)=>{let e,i=!1;n.subscribe((0,bn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function Yh(n,t=Rs.y){return n=n??FT,(0,Zn.e)((e,i)=>{let r,o=!0;e.subscribe((0,bn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function FT(n,t){return n===t}F(9545);var pt,H_=F(3942),Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},go={},yd=yd||{},Ht=Pl||self;function Kh(){}function zp(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Wp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var bd="closure_uid_"+(1e9*Math.random()>>>0),TS=0;function qO(n,t,e){return n.call.apply(n.bind,arguments)}function CS(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Jr(n,t,e){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qO:CS).apply(null,arguments)}function j_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function mr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Wc(){this.s=this.s,this.o=this.o}var P0={};Wc.prototype.s=!1,Wc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function wS(n){return Object.prototype.hasOwnProperty.call(n,bd)&&n[bd]||(n[bd]=++TS)}(this);delete P0[n]}},Wc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UT=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Yp(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function BT(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(zp(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Pr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var ES=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",Kh,t),Ht.removeEventListener("test",Kh,t)}catch{}return n}();function $_(n){return/^[\s\xa0]*$/.test(n)}var VT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function F0(n,t){return n<t?-1:n>t?1:0}function wd(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function Fr(n){return-1!=wd().indexOf(n)}function HT(n){return HT[" "](n),n}HT[" "]=Kh;var Ma,n,DS=Fr("Opera"),Jh=Fr("Trident")||Fr("MSIE"),Z_=Fr("Edge"),L0=Z_||Jh,Wo=Fr("Gecko")&&!(-1!=wd().toLowerCase().indexOf("webkit")&&!Fr("Edge"))&&!(Fr("Trident")||Fr("MSIE"))&&!Fr("Edge"),Jp=-1!=wd().toLowerCase().indexOf("webkit")&&!Fr("Edge");function _r(){var n=Ht.document;return n?n.documentMode:void 0}e:{var Qh="",hs=(n=wd(),Wo?/rv:([^\);]+)(\)|;)/.exec(n):Z_?/Edge\/([\d\.]+)/.exec(n):Jh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jp?/WebKit\/(\S+)/.exec(n):DS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hs&&(Qh=hs?hs[1]:""),Jh){var Qp=_r();if(null!=Qp&&Qp>parseFloat(Qh)){Ma=String(Qp);break e}}Ma=Qh}var Xh={};var tf=Ht.document&&Jh&&(_r()||parseInt(Ma,10))||void 0;function Na(n,t){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Wo){e:{try{HT(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nf[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Na.X.h.call(this)}}mr(Na,Pr);var nf={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),rf=0;function jT(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++rf,this.ba=this.ea=!1}function Xp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function G_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function U0(n){const t={};for(const e in n)t[e]=n[e];return t}const B0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V0(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<B0.length;o++)e=B0[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function eg(n){this.src=n,this.g={},this.h=0}function q_(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=UT(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Xp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function z_(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}eg.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=z_(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new jT(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var H0="closure_lm_"+(1e6*Math.random()|0),j0={};function $0(n,t,e,i,r){if(i&&i.once)return W_(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)$0(n,t[o],e,i,r);return null}return e=sf(e),n&&n[Oa]?n.N(t,e,Wp(i)?!!i.capture:!!i,r):$T(n,t,e,!1,i,r)}function $T(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Wp(r)?!!r.capture:!!r,h=ng(n);if(h||(n[H0]=h=new eg(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function ZT(){const t=K_;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)ES||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(tg(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function W_(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)W_(n,t[o],e,i,r);return null}return e=sf(e),n&&n[Oa]?n.O(t,e,Wp(i)?!!i.capture:!!i,r):$T(n,t,e,!0,i,r)}function Y_(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y_(n,t[o],e,i,r);else i=Wp(i)?!!i.capture:!!i,e=sf(e),n&&n[Oa]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=z_(o=n.g[t],e,i,r))&&(Xp(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=ng(n))&&(t=n.g[t.toString()],n=-1,t&&(n=z_(t,e,i,r)),(e=-1<n?t[n]:null)&&Z0(e))}function Z0(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Oa])q_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(tg(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ng(t))?(q_(e,n),0==e.h&&(e.src=null,t[H0]=null)):Xp(n)}}}function tg(n){return n in j0?j0[n]:j0[n]="on"+n}function K_(n,t){if(n.ba)n=!0;else{t=new Na(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Z0(n),n=e.call(i,t)}return n}function ng(n){return(n=n[H0])instanceof eg?n:null}var G0="__closure_events_fn_"+(1e9*Math.random()>>>0);function sf(n){return"function"==typeof n?n:(n[G0]||(n[G0]=function(t){return n.handleEvent(t)}),n[G0])}function Ai(){Wc.call(this),this.i=new eg(this),this.P=this,this.I=null}function ir(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Pr(t,n);else if(t instanceof Pr)t.target=t.target||n;else{var r=t;V0(t=new Pr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=ig(u,i,!0,t)&&r}if(r=ig(u=t.g=n,i,!0,t)&&r,r=ig(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=ig(u=t.g=e[o],i,!1,t)&&r}function ig(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,g=u.ha||u.src;u.ea&&q_(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}mr(Ai,Wc),Ai.prototype[Oa]=!0,Ai.prototype.removeEventListener=function(n,t,e,i){Y_(this,n,t,e,i)},Ai.prototype.M=function(){if(Ai.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Xp(e[i]);delete n.g[t],n.h--}}this.I=null},Ai.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ai.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var rg=Ht.JSON.stringify;function GT(){var n=YT;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Q_,J_=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zT,n=>n.reset());class zT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function IS(n){Ht.setTimeout(()=>{throw n},0)}function q0(n,t){Q_||function WT(){var n=Ht.Promise.resolve(void 0);Q_=function(){n.then(KT)}}(),X_||(Q_(),X_=!0),YT.add(n,t)}var X_=!1,YT=new class qT{constructor(){this.h=this.g=null}add(t,e){const i=J_.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function KT(){for(var n;n=GT();){try{n.h.call(n.g)}catch(e){IS(e)}var t=J_;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}X_=!1}function sg(n,t){Ai.call(this),this.h=n||1,this.g=t||Ht,this.j=Jr(this.lb,this),this.l=Date.now()}function og(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function af(n,t,e){if("function"==typeof n)e&&(n=Jr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ht.setTimeout(n,t||0)}function z0(n){n.g=af(()=>{n.g=null,n.i&&(n.i=!1,z0(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}mr(sg,Ai),(pt=sg.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ir(this,"tick"),this.ca&&(og(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){sg.X.M.call(this),og(this),delete this.g};class JT extends Wc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:z0(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lf(n){Wc.call(this),this.h=n,this.g={}}mr(lf,Wc);var W0=[];function Y0(n,t,e,i){Array.isArray(e)||(e&&(W0[0]=e.toString()),e=W0);for(var r=0;r<e.length;r++){var o=$0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function K0(n){G_(n.g,function(t,e){this.g.hasOwnProperty(e)&&Z0(t)},n),n.g={}}function ag(){this.g=!0}function cf(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function XT(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return rg(e)}catch{return t}}(n,e)+(i?" "+i:"")})}lf.prototype.M=function(){lf.X.M.call(this),K0(this)},lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ag.prototype.Aa=function(){this.g=!1},ag.prototype.info=function(){};var Cd={},Li=null;function lg(){return Li=Li||new Ai}function eC(n){Pr.call(this,Cd.Pa,n)}function cg(n){const t=lg();ir(t,new eC(t,n))}function J0(n,t){Pr.call(this,Cd.STAT_EVENT,n),this.stat=t}function Qr(n){const t=lg();ir(t,new J0(t,n))}function Q0(n,t){Pr.call(this,Cd.Qa,n),this.size=t}function uf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},t)}Cd.Pa="serverreachability",mr(eC,Pr),Cd.STAT_EVENT="statevent",mr(J0,Pr),Cd.Qa="timingevent",mr(Q0,Pr);var Fl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},tC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function X0(){}function nC(){}X0.prototype.h=null;var dg,df={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function iC(){Pr.call(this,"d")}function ug(){Pr.call(this,"c")}function Us(){}function hg(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new lf(this),this.O=Ra,this.T=new sg(n=L0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tb}function tb(){this.i=null,this.g="",this.h=!1}mr(iC,Pr),mr(ug,Pr),mr(Us,X0),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},dg=new Us;var Ra=45e3,Bs={},fs={};function ev(n,t,e){n.K=1,n.v=mg(Yo(t)),n.s=e,n.P=!0,nb(n,null)}function nb(n,t){n.F=Date.now(),fg(n),n.A=Yo(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),fC(e.i,"t",i),n.C=0,e=n.l.H,n.h=new tb,n.g=yb(n.l,e?t:null,!n.s),0<n.N&&(n.L=new JT(Jr(n.La,n,n.g),n.N)),Y0(n.S,n.g,"readystatechange",n.ib),t=n.H?U0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),cg(1),function QT(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var T=v[0];v=v[1];var I=T.split("_");u=2<=I.length&&"type"==I[1]?u+(T+"=")+v+"&":u+(T+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function rC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function sC(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=AS(n,e),r==fs){4==t&&(n.o=4,Qr(14),i=!1),cf(n.j,n.m,null,"[Incomplete Response]");break}if(r==Bs){n.o=4,Qr(15),cf(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}cf(n.j,n.m,r,null),ib(n,r)}rC(n)&&r!=fs&&r!=Bs&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Qr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),mb(t),t.K=!0,Qr(11))):(cf(n.j,n.m,e,"[Invalid Chunked Response]"),Jc(n),pg(n))}function AS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?fs:(e=Number(t.substring(e,i)),isNaN(e)?Bs:(i+=1)+e>t.length?fs:(t=t.substr(i,e),n.C=i+e,t))}function fg(n){n.V=Date.now()+n.O,tv(n,n.O)}function tv(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=uf(Jr(n.gb,n),t)}function Kc(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function pg(n){0==n.l.G||n.I||IC(n.l,n)}function Jc(n){Kc(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,og(n.T),K0(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function ib(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||ob(e.h,n)))if(!n.J&&ob(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;ov(e),Tg(e)}gb(e),Qr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=uf(Jr(e.cb,e),6e3));if(1>=mC(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else ka(e,11)}else if((n.J||e.g==n)&&ov(e),!$_(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.T=v[0],v=v[1],2==e.G)if("c"==v[0]){e.I=v[1],e.ka=v[2];const T=v[3];null!=T&&(e.ma=T,e.j.info("VER="+e.ma));const I=v[4];null!=I&&(e.Ca=I,e.j.info("SVER="+e.Ca));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(e.J=i=1.5*M,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const k=n.g;if(k){const U=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ab(o,o.h),o.h=null))}if(i.D){const H=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(i.za=H,qn(i.F,i.D,H))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=vb(i,i.H?i.ka:null,i.V),u.J){lb(i.h,u);var h=u,g=i.J;g&&h.setTimeout(g),h.B&&(Kc(h),fg(h)),i.g=u}else DC(i);0<e.i.length&&sv(e)}else"stop"!=v[0]&&"close"!=v[0]||ka(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?ka(e,7):CC(e):"noop"!=v[0]&&e.l&&e.l.wa(v),e.A=0)}cg(4)}catch{}}function gg(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(zp(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function aC(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zp(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function oC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zp(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(pt=hg.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const t=this.L;t&&3==Ll(n)?t.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const T=Ll(this.g);var t=this.g.Ea();const I=this.g.aa();if(!(3>T)&&(3!=T||L0||this.g&&(this.h.h||this.g.fa()||Dd(this.g)))){this.I||4!=T||7==t||cg(8==t||0>=I?3:2),Kc(this);var e=this.g.aa();this.Y=e;t:if(rC(this)){var i=Dd(this.g);n="";var r=i.length,o=4==Ll(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jc(this),pg(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function zO(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,T,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$_(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Qr(12),Jc(this),pg(this);break e}cf(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ib(this,e)}this.P?(sC(this,T,u),L0&&this.i&&3==T&&(Y0(this.S,this.T,"tick",this.hb),this.T.start())):(cf(this.j,this.m,u,null),ib(this,u)),4==T&&Jc(this),this.i&&!this.I&&(4==T?IC(this.l,this):(this.i=!1,fg(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Qr(12)):(this.o=0,Qr(13)),Jc(this),pg(this)}}}catch{}},pt.hb=function(){if(this.g){var n=Ll(this.g),t=this.g.fa();this.C<t.length&&(Kc(this),sC(this,n,t),this.i&&4!=n&&fg(this))}},pt.cancel=function(){this.I=!0,Jc(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function SS(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(cg(3),Qr(17)),Jc(this),this.o=2,pg(this)):tv(this,this.V-n)};var lC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qc){this.h=void 0!==t?t:n.h,Ed(this,n.j),this.s=n.s,this.g=n.g,hf(this,n.m),this.l=n.l,t=n.i;var e=new _g;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),rb(this,e),this.o=n.o}else n&&(e=String(n).match(lC))?(this.h=!!t,Ed(this,e[1]||"",!0),this.s=ff(e[2]||""),this.g=ff(e[3]||"",!0),hf(this,e[4]),this.l=ff(e[5]||"",!0),rb(this,e[6]||"",!0),this.o=ff(e[7]||"")):(this.h=!!t,this.i=new _g(null,this.h))}function Yo(n){return new Qc(n)}function Ed(n,t,e){n.j=e?ff(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function hf(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function rb(n,t,e){t instanceof _g?(n.i=t,function RS(n,t){t&&!n.j&&(Xc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(dC(this,i),fC(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=pf(t,NS)),n.i=new _g(t,n.h))}function qn(n,t,e){n.i.set(t,e)}function mg(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ff(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pf(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,uC),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(pf(t,sb,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(pf(t,sb,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(pf(e,"/"==e.charAt(0)?MS:xS,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",pf(e,OS)),n.join("")};var sb=/[#\/\?@]/g,xS=/[#\?:]/g,MS=/[#\?]/g,NS=/[#\?@]/g,OS=/#/g;function _g(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Xc(n){n.g||(n.g=new Map,n.h=0,n.i&&function cC(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function dC(n,t){Xc(n),t=gf(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function hC(n,t){return Xc(n),t=gf(n,t),n.g.has(t)}function fC(n,t,e){dC(n,t),0<e.length&&(n.i=null,n.g.set(gf(n,t),Yp(e)),n.h+=e.length)}function gf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function pC(n){this.l=n||PS,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=_g.prototype).add=function(n,t){Xc(this),this.i=null,n=gf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},pt.forEach=function(n,t){Xc(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},pt.oa=function(){Xc(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},pt.W=function(n){Xc(this);let t=[];if("string"==typeof n)hC(this,n)&&(t=t.concat(this.g.get(gf(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},pt.set=function(n,t){return Xc(this),this.i=null,hC(this,n=gf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},pt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var PS=10;function gC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mC(n){return n.h?1:n.g?n.g.size:0}function ob(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ab(n,t){n.g?n.g.add(t):n.h=t}function lb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function cb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Yp(n.i)}function nv(){}function _C(){this.g=new nv}function vC(n,t,e){const i=e||"";try{gg(n,function(r,o){let u=r;Wp(r)&&(u=rg(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function vg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function mf(n){this.l=n.ac||null,this.j=n.jb||!1}function yg(n,t){Ai.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pC.prototype.cancel=function(){if(this.i=cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},nv.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},nv.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},mr(mf,X0),mf.prototype.g=function(){return new yg(this.l,this.j)},mf.prototype.i=function(n){return function(){return n}}({}),mr(yg,Ai);var bg=0;function iv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ko(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wg(n)}function wg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=yg.prototype).open=function(n,t){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,wg(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ht).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ko(this)),this.readyState=bg},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wg(this)),this.g&&(this.readyState=3,wg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ko(this):wg(this),3==this.readyState&&iv(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,Ko(this))},pt.Ua=function(n){this.g&&(this.response=n,Ko(this))},pt.ga=function(){this.g&&Ko(this)},pt.setRequestHeader=function(n,t){this.v.append(n,t)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(yg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FS=Ht.JSON.parse;function Pn(n){Ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LS,this.K=this.L=!1}mr(Pn,Ai);var LS="",ub=/^https?$/i,WO=["POST","PUT"];function db(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,US(n),rv(n)}function US(n){n.D||(n.D=!0,ir(n,"complete"),ir(n,"error"))}function At(n){if(n.h&&typeof yd<"u"&&(!n.C[1]||4!=Ll(n)||2!=n.aa()))if(n.v&&4==Ll(n))af(n.Ha,0,n);else if(ir(n,"readystatechange"),4==Ll(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(lC)[1]||null;if(!r&&Ht.self&&Ht.self.location){var o=Ht.self.location.protocol;r=o.substr(0,o.length-1)}i=!ub.test(r?r.toLowerCase():"")}e=i}if(e)ir(n,"complete"),ir(n,"success");else{n.m=6;try{var u=2<Ll(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",US(n)}}finally{rv(n)}}}function rv(n,t){if(n.g){wC(n);const e=n.g,i=n.C[0]?Kh:null;n.g=null,n.C=null,t||ir(n,"ready");try{e.onreadystatechange=i}catch{}}}function wC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function Ll(n){return n.g?n.g.readyState:0}function Dd(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function TC(n){let t="";return G_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function _f(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=TC(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):qn(n,t,e))}function eu(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ai(n){this.Ca=0,this.i=[],this.j=new ag,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=eu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=eu("baseRetryDelayMs",5e3,n),this.bb=eu("retryDelaySeedMs",1e4,n),this.$a=eu("forwardChannelMaxRetries",2,n),this.ta=eu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new pC(n&&n.concurrentRequestLimit),this.Fa=new _C,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function CC(n){if(hb(n),3==n.G){var t=n.U++,e=Yo(n.F);qn(e,"SID",n.I),qn(e,"RID",t),qn(e,"TYPE","terminate"),vf(n,e),(t=new hg(n,n.j,t,void 0)).K=2,t.v=mg(Yo(e)),e=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(e=Ht.navigator.sendBeacon(t.v.toString(),"")),!e&&Ht.Image&&((new Image).src=t.v,e=!0),e||(t.g=yb(t.l,null),t.g.da(t.v)),t.F=Date.now(),fg(t)}_b(n)}function Tg(n){n.g&&(mb(n),n.g.cancel(),n.g=null)}function hb(n){Tg(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),ov(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function sv(n){gC(n.h)||n.m||(n.m=!0,q0(n.Ja,n),n.C=0)}function fb(n,t){var e;e=t?t.m:n.U++;const i=Yo(n.F);qn(i,"SID",n.I),qn(i,"RID",e),qn(i,"AID",n.T),vf(n,i),n.o&&n.s&&_f(i,n.o,n.s),e=new hg(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=pb(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ab(n.h,e),ev(e,i,t)}function vf(n,t){n.ia&&G_(n.ia,function(e,i){qn(t,i,e)}),n.l&&gg({},function(e,i){qn(t,i,e)})}function pb(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Jr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let v=r[g].h;const T=r[g].g;if(v-=o,0>v)o=Math.max(0,r[g].h-100),h=!1;else try{vC(T,u,"req"+v+"_")}catch{i&&i(T)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function DC(n){n.g||n.u||(n.Z=1,q0(n.Ia,n),n.A=0)}function gb(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=uf(Jr(n.Ia,n),SC(n,n.A)),n.A++,0))}function mb(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function yf(n){n.g=new hg(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Yo(n.sa);qn(t,"RID","rpc"),qn(t,"SID",n.I),qn(t,"CI",n.L?"0":"1"),qn(t,"AID",n.T),qn(t,"TYPE","xmlhttp"),vf(n,t),n.o&&n.s&&_f(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=mg(Yo(t)),e.s=null,e.P=!0,nb(e,n)}function ov(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function IC(n,t){var e=null;if(n.g==t){ov(n),mb(n),n.g=null;var i=2}else{if(!ob(n.h,t))return;e=t.D,lb(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ir(i=lg(),new Q0(i,e,t,r)),sv(n)}else DC(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function EC(n,t){return!(mC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=uf(Jr(n.Ja,n,t),SC(n,n.C)),n.C++,0)))}(n,t)||2==i&&gb(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:ka(n,5);break;case 4:ka(n,10);break;case 3:ka(n,6);break;default:ka(n,2)}}function SC(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function ka(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Jr(n.kb,n);e||(e=new Qc("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||Ed(e,"https"),mg(e)),function yC(n,t){const e=new ag;if(Ht.Image){const i=new Image;i.onload=j_(vg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=j_(vg,e,i,"TestLoadImage: error",!1,t),i.onabort=j_(vg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=j_(vg,e,i,"TestLoadImage: timeout",!1,t),Ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Qr(2);n.G=0,n.l&&n.l.va(t),_b(n),hb(n)}function _b(n){if(n.G=0,n.la=[],n.l){const t=cb(n.h);(0!=t.length||0!=n.i.length)&&(BT(n.la,t),BT(n.la,n.i),n.h.i.length=0,Yp(n.i),n.i.length=0),n.l.ua()}}function vb(n,t,e){var i=e instanceof Qc?Yo(e):new Qc(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),hf(i,i.m);else{var r=Ht.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Qc(null,void 0);i&&Ed(o,i),t&&(o.g=t),r&&hf(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&qn(i,e,t),qn(i,"VER",n.ma),vf(n,i),i}function yb(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pn(e&&n.Da&&!n.ra?new mf({jb:!0}):n.ra)).Ka(n.H),t}function AC(){}function tu(){if(Jh&&!(10<=Number(tf)))throw Error("Environmental error: no available transport.")}function vr(n,t){Ai.call(this),this.g=new ai(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!$_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$_(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new bf(this)}function xC(n){iC.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function MC(){ug.call(this),this.status=1}function bf(n){this.g=n}(pt=Pn.prototype).Ka=function(n){this.L=n},pt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=function eb(n){return n.h||(n.h=n.i())}(this.u?this.u:dg),this.g.onreadystatechange=Jr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void db(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Ht.FormData&&n instanceof Ht.FormData,!(0<=UT(WO,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wC(this),0<this.B&&((this.K=function bC(n){return Jh&&function ef(){return function Kp(n){var t=Xh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=VT(String(Ma)).split("."),e=VT("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=F0(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||F0(0==r[2].length,0==o[2].length)||F0(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.qa,this)):this.A=af(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){db(this,o)}},pt.qa=function(){typeof yd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ir(this,"complete"),ir(this,"abort"),rv(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rv(this,!0)),Pn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?At(this):this.fb())},pt.fb=function(){At(this)},pt.aa=function(){try{return 2<Ll(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),FS(t)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=ai.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new hg(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=U0(o),V0(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=pb(this,r,t),qn(e=Yo(this.F),"RID",n),qn(e,"CVER",22),this.D&&qn(e,"X-HTTP-Session-Id",this.D),vf(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(TC(o)))+"&"+t:this.o&&_f(e,this.o,o)),ab(this.h,r),this.Ya&&qn(e,"TYPE","init"),this.O?(qn(e,"$req",t),qn(e,"SID","null"),r.Z=!0,ev(r,e,null)):ev(r,e,t),this.G=2}}else 3==this.G&&(n?fb(this,n):0==this.i.length||gC(this.h)||fb(this))},pt.Ia=function(){if(this.u=null,yf(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=uf(Jr(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qr(10),Tg(this),yf(this))},pt.cb=function(){null!=this.v&&(this.v=null,Tg(this),gb(this),Qr(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Qr(2)):(this.j.info("Failed to ping google.com"),Qr(1))},(pt=AC.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},tu.prototype.g=function(n,t){return new vr(n,t)},mr(vr,Ai),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Qr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=vb(n,null,n.V),sv(n)},vr.prototype.close=function(){CC(this.g)},vr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=rg(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&sv(t)},vr.prototype.M=function(){this.g.l=null,delete this.j,CC(this.g),delete this.g,vr.X.M.call(this)},mr(xC,iC),mr(MC,ug),mr(bf,AC),bf.prototype.xa=function(){ir(this.g,"a")},bf.prototype.wa=function(n){ir(this.g,new xC(n))},bf.prototype.va=function(n){ir(this.g,new MC(n))},bf.prototype.ua=function(){ir(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,vr.prototype.send=vr.prototype.u,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,Fl.NO_ERROR=0,Fl.TIMEOUT=8,Fl.HTTP_ERROR=6,tC.COMPLETE="complete",nC.EventType=df,df.OPEN="a",df.CLOSE="b",df.ERROR="c",df.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.Oa,Pn.prototype.getLastErrorCode=Pn.prototype.Ea,Pn.prototype.getStatus=Pn.prototype.aa,Pn.prototype.getResponseJson=Pn.prototype.Sa,Pn.prototype.getResponseText=Pn.prototype.fa,Pn.prototype.send=Pn.prototype.da,Pn.prototype.setWithCredentials=Pn.prototype.Ka;var NC=go.createWebChannelTransport=function(){return new tu},OC=go.getStatEventTarget=function(){return lg()},av=go.ErrorCode=Fl,BS=go.EventType=tC,RC=go.Event=Cd,kC=go.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},VS=go.FetchXmlHttpFactory=mf,bb=go.WebChannel=nC,YO=go.XhrIo=Pn;const HS="@firebase/firestore";class yr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let Id="9.12.1";const Jo=new qc.Yd("@firebase/firestore");function wb(){return Jo.logLevel}function Le(n,...t){if(Jo.logLevel<=qc.in.DEBUG){const e=t.map(Tb);Jo.debug(`Firestore (${Id}): ${n}`,...e)}}function zn(n,...t){if(Jo.logLevel<=qc.in.ERROR){const e=t.map(Tb);Jo.error(`Firestore (${Id}): ${n}`,...e)}}function Sd(n,...t){if(Jo.logLevel<=qc.in.WARN){const e=t.map(Tb);Jo.warn(`Firestore (${Id}): ${n}`,...e)}}function Tb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const t=`FIRESTORE (${Id}) INTERNAL ASSERTION FAILED: `+n;throw zn(t),new Error(t)}function Ot(n,t){n||dt()}function et(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends zt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class li{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(yr.UNAUTHENTICATED))}shutdown(){}}class ZS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class LC{constructor(t){this.t=t,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new li,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,me.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new li)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new PC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new yr(t)}}class GS{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ot(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class UC{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new GS(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cb{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),this.A=e.token,new BC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Eb{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=VC(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function wf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function HC(n){return n+"\0"}class Bn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Bn.fromMillis(Date.now())}static fromDate(t){return Bn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Bn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Bn(0,0))}static max(){return new Rt(new Bn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tf{constructor(t,e,i){void 0===e?e=0:e>t.length&&dt(),void 0===i?i=t.length-e:i>t.length-e&&dt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Tf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Tf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fn extends Tf{construct(t,e,i){return new fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fn(e)}static emptyPath(){return new fn([])}}const qS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Tf{construct(t,e,i){return new yi(t,e,i)}static isValidIdentifier(t){return qS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(e)}static emptyPath(){return new yi([])}}class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(fn.fromString(t))}static fromName(t){return new Qe(fn.fromString(t).popFirst(5))}static empty(){return new Qe(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new fn(t.slice()))}}class lv{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Db(n){return n.fields.find(t=>2===t.kind)}function Ad(n){return n.fields.filter(t=>2!==t.kind)}lv.UNKNOWN_ID=-1;class Cg{constructor(t,e){this.fieldPath=t,this.kind=e}}class Cf{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Cf(0,ps.min())}}function $C(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new Bn(e+1,0):new Bn(e,i));return new ps(r,Qe.empty(),t)}function cv(n){return new ps(n.readTime,n.key,-1)}class ps{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ps(Rt.min(),Qe.empty(),-1)}static max(){return new ps(Rt.max(),Qe.empty(),-1)}}function Ib(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Qe.comparator(n.documentKey,t.documentKey),0!==e?e:jt(n.largestBatchId,t.largestBatchId))}const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Pa(n){return dv.apply(this,arguments)}function dv(){return dv=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==ZC)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),dv.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},g=>i(g))}),u=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let g=0;g<o;g++){const v=g;e(t[v]).next(T=>{u[v]=T,++h,h===o&&i(u)},T=>r(T))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class hv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new li,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Eg(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=qC(i.target.error);this.P.reject(new Eg(t,r))}}static open(t,e,i,r){try{return new hv(e,t.transaction(r,i))}catch(o){throw new Eg(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Ef(e)}}class Qo{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Qo.D((0,zt.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),nu(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,zt.hl)())return!1;if(Qo.N())return!0;const t=(0,zt.z$)(),e=Qo.D(t),i=0<e&&e<10,r=Qo.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,me.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Eg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new ke(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Eg(t,h))},o.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,me.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const g=hv.open(o.db,t,u?"readonly":"readwrite",i),v=r(g).next(T=>(g.V(),T)).catch(T=>(g.abort(T),ae.reject(T))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,T="FirebaseError"!==v.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),o.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sb{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return nu(this.U.delete())}}class Eg extends ke{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ul(n){return"IndexedDbTransactionError"===n.name}class Ef{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),nu(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),nu(this.store.add(t))}get(t){return nu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),nu(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),nu(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const u=qC(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new ae((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new Sb(h),v=e(h.primaryKey,h.value,g);if(v instanceof ae){const T=v.catch(I=>(g.done(),ae.reject(I)));i.push(T)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function nu(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=qC(i.target.error);e(r)}})}let GC=!1;function qC(n){const t=Qo.D((0,zt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GC||(GC=!0,setTimeout(()=>{throw i},0)),i}}return n}class zC{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Le("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,me.Z)(function*(){e.task=null;try{Le("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Ul(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Pa(i)}yield e.nt(6e4)}))}}class Ab{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,me.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>(Le("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=cv(o);Ib(u,i)>0&&(i=u)}),new ps(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class gs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function fv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function xd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function xb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}gs.at=-1;class Xn{constructor(t,e){this.comparator=t,this.root=e||rr.EMPTY}insert(t,e){return new Xn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(t){return new Xn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dg(this.root,t,this.comparator,!0)}}class Dg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??rr.RED,this.left=r??rr.EMPTY,this.right=o??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new rr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return rr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const t=this.left.check();if(t!==this.right.check())throw dt();return t+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1,rr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new rr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(t){this.comparator=t,this.data=new Xn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Mb(this.data.getIterator())}getIteratorFrom(t){return new Mb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof In)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new In(this.comparator);return e.data=t,e}}class Mb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Df(n){return n.hasNext()?n.getNext():void 0}class Vs{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new Vs([])}unionWith(t){let e=new In(yi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Vs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Zi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Zi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Zi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Md(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=WC.exec(n);if(Ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ci(n.seconds),nanos:ci(n.nanos)}}function ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nd(n){return"string"==typeof n?Zi.fromBase64String(n):Zi.fromUint8Array(n)}function Nb(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function YS(n){const t=n.mapValue.fields.__previous_value__;return Nb(t)?YS(t):t}function pv(n){const t=Md(n.mapValue.fields.__local_write_time__.timestampValue);return new Bn(t.seconds,t.nanos)}class KS{constructor(t,e,i,r,o,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class iu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new iu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}function Ig(n){return null==n}function If(n){return 0===n&&1/n==-1/0}function Ob(n){return"number"==typeof n&&Number.isInteger(n)&&!If(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gv={nullValue:"NULL_VALUE"};function Od(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nb(n)?4:Pb(n)?9007199254740991:10:dt()}function Fa(n,t){if(n===t)return!0;const e=Od(n);if(e!==Od(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pv(n).isEqual(pv(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Md(i.timestampValue),u=Md(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Nd(n.bytesValue).isEqual(Nd(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ci(i.geoPointValue.latitude)===ci(r.geoPointValue.latitude)&&ci(i.geoPointValue.longitude)===ci(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ci(i.integerValue)===ci(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=ci(i.doubleValue),u=ci(r.doubleValue);return o===u?If(o)===If(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return wf(n.arrayValue.values||[],t.arrayValue.values||[],Fa);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(fv(o)!==fv(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Fa(o[h],u[h])))return!1;return!0}(n,t);default:return dt()}var r}function Sg(n,t){return void 0!==(n.values||[]).find(e=>Fa(e,t))}function ru(n,t){if(n===t)return 0;const e=Od(n),i=Od(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=ci(r.integerValue||r.doubleValue),h=ci(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return YC(n.timestampValue,t.timestampValue);case 4:return YC(pv(n),pv(t));case 5:return jt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Nd(r),h=Nd(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=jt(u[g],h[g]);if(0!==v)return v}return jt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=jt(ci(r.latitude),ci(o.latitude));return 0!==u?u:jt(ci(r.longitude),ci(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=ru(u[g],h[g]);if(v)return v}return jt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Bl.mapValue&&o===Bl.mapValue)return 0;if(r===Bl.mapValue)return 1;if(o===Bl.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=o.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let T=0;T<h.length&&T<v.length;++T){const I=jt(h[T],v[T]);if(0!==I)return I;const M=ru(u[h[T]],g[v[T]]);if(0!==M)return M}return jt(h.length,v.length)}(n.mapValue,t.mapValue);default:throw dt()}}function YC(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return jt(n,t);const e=Md(n),i=Md(t),r=jt(e.seconds,i.seconds);return 0!==r?r:jt(e.nanos,i.nanos)}function La(n){return mv(n)}function mv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Md(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nd(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=mv(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${mv(i.fields[h])}`;return o+"}"}(n.mapValue):dt();var t}function su(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function _v(n){return!!n&&"integerValue"in n}function Sf(n){return!!n&&"arrayValue"in n}function Rb(n){return!!n&&"nullValue"in n}function kb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vv(n){return!!n&&"mapValue"in n}function yv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return xd(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=yv(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Pb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function JS(n){return"nullValue"in n?gv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?su(iu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function QS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?su(iu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bl:dt()}function KC(n,t){const e=ru(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function JC(n,t){const e=ru(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!vv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yv(e)}setAll(t){let e=yi.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=yv(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());vv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];vv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){xd(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new xi(yv(this.value))}}function QC(n){const t=[];return xd(n.fields,(e,i)=>{const r=new yi([e]);if(vv(i)){const o=QC(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Vs(t)}class Mn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Mn(t,0,Rt.min(),Rt.min(),xi.empty(),0)}static newFoundDocument(t,e,i){return new Mn(t,1,e,Rt.min(),i,0)}static newNoDocument(t,e){return new Mn(t,2,e,Rt.min(),xi.empty(),0)}static newUnknownDocument(t,e){return new Mn(t,3,e,Rt.min(),xi.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ua{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ht=null}}function XC(n,t=null,e=[],i=[],r=null,o=null,u=null){return new Ua(n,t,e,i,r,o,u)}function Ba(n){const t=et(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+La(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ig(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>La(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>La(i)).join(",")),t.ht=e}return t.ht}function xg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!iE(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Fa(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ev(n.startAt,t.startAt)&&Ev(n.endAt,t.endAt)}function bv(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function wv(n,t){return n.filters.filter(e=>e instanceof br&&e.field.isEqual(t))}function Mg(n,t,e){let i=gv,r=!0;for(const o of wv(n,t)){let u=gv,h=!0;switch(o.op){case"<":case"<=":u=JS(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=gv}KC({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];KC({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Ng(n,t,e){let i=Bl,r=!0;for(const o of wv(n,t)){let u=Bl,h=!0;switch(o.op){case">=":case">":u=QS(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Bl}JC({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];JC({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class br extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new XS(t,e,i):"array-contains"===e?new nE(t,i):"in"===e?new eA(t,i):"not-in"===e?new tA(t,i):"array-contains-any"===e?new JO(t,i):new br(t,e,i)}static lt(t,e,i){return"in"===e?new eE(t,i):new tE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(ru(e,this.value)):null!==e&&Od(this.value)===Od(e)&&this.ft(ru(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class XS extends br{constructor(t,e,i){super(t,e,i),this.key=Qe.fromName(i.referenceValue)}matches(t){const e=Qe.comparator(t.key,this.key);return this.ft(e)}}class eE extends br{constructor(t,e){super(t,"in",e),this.keys=Tv(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class tE extends br{constructor(t,e){super(t,"not-in",e),this.keys=Tv(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Tv(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class nE extends br{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Sf(e)&&Sg(e.arrayValue,this.value)}}class eA extends br{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sg(this.value.arrayValue,e)}}class tA extends br{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Sg(this.value.arrayValue,e)}}class JO extends br{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Sf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Sg(this.value.arrayValue,i))}}class Va{constructor(t,e){this.position=t,this.inclusive=e}}class ou{constructor(t,e="asc"){this.field=t,this.dir=e}}function iE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Cv(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?Qe.comparator(Qe.fromName(u.referenceValue),e.key):ru(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Ev(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fa(n.position[e],t.position[e]))return!1;return!0}class Vl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=g,this._t=null,this.wt=null}}function rE(n,t,e,i,r,o,u,h){return new Vl(n,t,e,i,r,o,u,h)}function Af(n){return new Vl(n)}function sE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Dv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Og(n){for(const t of n.filters)if(t.dt())return t.field;return null}function Iv(n){return null!==n.collectionGroup}function Rd(n){const t=et(n);if(null===t._t){t._t=[];const e=Og(t),i=Dv(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new ou(e)),t._t.push(new ou(yi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ou(yi.keyField(),o))}}}return t._t}function Lr(n){const t=et(n);if(!t.wt)if("F"===t.limitType)t.wt=XC(t.path,t.collectionGroup,Rd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Rd(t))e.push(new ou(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Va(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Va(t.startAt.position,t.startAt.inclusive):null;t.wt=XC(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Rg(n,t,e){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function kg(n,t){return xg(Lr(n),Lr(t))&&n.limitType===t.limitType}function Fb(n){return`${Ba(Lr(n))}|lt:${n.limitType}`}function Sv(n){return`Query(target=${function Ag(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${La(i.value)}`;var i}).join(", ")}]`),Ig(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>La(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>La(e)).join(",")),`Target(${t})`}(Lr(n))}; limitType=${n.limitType})`}function Lb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=Cv(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Rd(e),i)||e.endAt&&!function(r,o,u){const h=Cv(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Rd(e),i)));var e,i}function Ub(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bb(n){return(t,e)=>{let i=!1;for(const r of Rd(n)){const o=Xr(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Xr(n,t,e){const i=n.field.isKeyField()?Qe.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),g=u.data.field(r);return null!==h&&null!==g?ru(h,g):dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function kd(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(t)?"-0":t}}function oE(n){return{integerValue:""+n}}function aE(n,t){return Ob(t)?oE(t):kd(n,t)}class Vb{constructor(){this._=void 0}}function QO(n,t,e){return n instanceof Ha?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Pd?Av(n,t):n instanceof Fd?jb(n,t):function(i,r){const o=Hb(i,r),u=cE(o)+cE(i.yt);return _v(o)&&_v(i.yt)?oE(u):kd(i.It,u)}(n,t)}function lE(n,t,e){return n instanceof Pd?Av(n,t):n instanceof Fd?jb(n,t):e}function Hb(n,t){return n instanceof xf?_v(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ha extends Vb{}class Pd extends Vb{constructor(t){super(),this.elements=t}}function Av(n,t){const e=uE(t);for(const i of n.elements)e.some(r=>Fa(r,i))||e.push(i);return{arrayValue:{values:e}}}class Fd extends Vb{constructor(t){super(),this.elements=t}}function jb(n,t){let e=uE(t);for(const i of n.elements)e=e.filter(r=>!Fa(r,i));return{arrayValue:{values:e}}}class xf extends Vb{constructor(t,e){super(),this.It=t,this.yt=e}}function cE(n){return ci(n.integerValue||n.doubleValue)}function uE(n){return Sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ld{constructor(t,e){this.field=t,this.transform=e}}class hE{constructor(t,e){this.version=t,this.transformResults=e}}class Fn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mf(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class $b{}function Zb(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Rf(n.key,Fn.none()):new Ud(n.key,n.data,Fn.none());{const e=n.data,i=xi.empty();let r=new In(yi.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Xo(n.key,i,new Vs(r.toArray()),Fn.none())}}function nA(n,t,e){n instanceof Ud?function(i,r,o){const u=i.value.clone(),h=pE(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Xo?function(i,r,o){if(!Mf(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=pE(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(iA(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Nf(n,t,e,i){return n instanceof Ud?function(r,o,u,h){if(!Mf(r.precondition,o))return u;const g=r.value.clone(),v=rA(r.fieldTransforms,h,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Xo?function(r,o,u,h){if(!Mf(r.precondition,o))return u;const g=rA(r.fieldTransforms,h,o),v=o.data;return v.setAll(iA(r)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(T=>T.field))}(n,t,e,i):(u=e,Mf(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function Of(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Hb(i.transform,r||null);null!=o&&(null===e&&(e=xi.empty()),e.set(i.field,o))}return e||null}function fE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&wf(e,i,(r,o)=>function dE(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Pd&&i instanceof Pd||e instanceof Fd&&i instanceof Fd?wf(e.elements,i.elements,Fa):e instanceof xf&&i instanceof xf?Fa(e.yt,i.yt):e instanceof Ha&&i instanceof Ha);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Ud extends $b{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xo extends $b{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function pE(n,t,e){const i=new Map;Ot(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,lE(u,h,e[r]))}return i}function rA(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,QO(o,u,t))}return i}class Rf extends $b{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gb extends $b{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sA{constructor(t){this.count=t}}var Mi,un;function gE(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function qb(n){if(void 0===n)return zn("GRPC error has no .code"),de.UNKNOWN;switch(n){case Mi.OK:return de.OK;case Mi.CANCELLED:return de.CANCELLED;case Mi.UNKNOWN:return de.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return de.INTERNAL;case Mi.UNAVAILABLE:return de.UNAVAILABLE;case Mi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Mi.NOT_FOUND:return de.NOT_FOUND;case Mi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Mi.ABORTED:return de.ABORTED;case Mi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Mi.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(un=Mi||(Mi={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Hl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){xd(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return xb(this.inner)}size(){return this.innerSize}}const oA=new Xn(Qe.comparator);function ms(){return oA}const zb=new Xn(Qe.comparator);function Pg(...n){let t=zb;for(const e of n)t=t.insert(e.key,e);return t}function Wb(n){let t=zb;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ea(){return kf()}function Yb(){return kf()}function kf(){return new Hl(n=>n.toString(),(n,t)=>n.isEqual(t))}const aA=new Xn(Qe.comparator),lA=new In(Qe.comparator);function Yt(...n){let t=lA;for(const e of n)t=t.add(e);return t}const mE=new In(jt);function Kb(){return mE}class xv{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Mv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new xv(Rt.min(),r,Kb(),ms(),Yt())}}class Mv{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Mv(i,e,Yt(),Yt(),Yt())}}class Jb{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class cA{constructor(t,e){this.targetId=t,this.At=e}}class uA{constructor(t,e,i=Zi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class dA{constructor(){this.Rt=0,this.bt=hA(),this.Pt=Zi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Yt(),e=Yt(),i=Yt();return this.bt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new Mv(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=hA()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class XO{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=ms(),this.qt=Fg(),this.Kt=new In(jt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:dt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const o=r.target;if(bv(o))if(0===i){const u=new Qe(o.path);this.jt(e,u,Mn.newNoDocument(u,Rt.min()))}else Ot(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((o,u)=>{const h=this.Xt(u);if(h){if(o.current&&bv(h.target)){const g=new Qe(h.target.path);null!==this.Ut.get(g)||this.ee(u,g)||this.jt(u,g,Mn.newNoDocument(g,t))}o.Dt&&(e.set(u,o.xt()),o.Nt())}});let i=Yt();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Ut.forEach((o,u)=>u.setReadTime(t));const r=new xv(t,e,this.Kt,this.Ut,i);return this.Ut=ms(),this.qt=Fg(),this.Kt=new In(jt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new dA,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new In(jt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new dA),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function Fg(){return new Xn(Qe.comparator)}function hA(){return new Xn(Qe.comparator)}const _E={asc:"ASCENDING",desc:"DESCENDING"},Nv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vE{constructor(t,e){this.databaseId=t,this.gt=e}}function Pf(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(n,t){return n.gt?t.toBase64():t.toUint8Array()}function Qb(n,t){return Pf(n,t.toTimestamp())}function Gi(n){return Ot(!!n),Rt.fromTimestamp(function(t){const e=Md(t);return new Bn(e.seconds,e.nanos)}(n))}function Xb(n,t){return(e=n,new fn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function e1(n){const t=fn.fromString(n);return Ot(TE(t)),t}function Ov(n,t){return Xb(n.databaseId,t.path)}function ja(n,t){const e=e1(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Qe(bE(e))}function t1(n,t){return Xb(n.databaseId,t)}function yE(n){const t=e1(n);return 4===t.length?fn.emptyPath():bE(t)}function au(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bE(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pA(n,t,e){return{name:Ov(n,t),fields:e.value.mapValue.fields}}function gA(n,t,e){const i=ja(n,t.name),r=Gi(t.updateTime),o=new xi({mapValue:{fields:t.fields}}),u=Mn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Lg(n,t){let e;if(t instanceof Ud)e={update:pA(n,t.key,t.value)};else if(t instanceof Rf)e={delete:Ov(n,t.key)};else if(t instanceof Xo)e={update:pA(n,t.key,t.data),updateMask:yA(t.fieldMask)};else{if(!(t instanceof Gb))return dt();e={verify:Ov(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Ha)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Pd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xf)return{fieldPath:o.field.canonicalString(),increment:u.yt};throw dt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Qb(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),e;var r}function n1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Fn.updateTime(Gi(r.updateTime)):void 0!==r.exists?Fn.exists(r.exists):Fn.none():Fn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Ot("REQUEST_TIME"===u.setToServerValue),h=new Ha):"appendMissingElements"in u?h=new Pd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Fd(u.removeAllFromArray.values||[]):"increment"in u?h=new xf(o,u.increment):dt();const g=yi.fromServerFormat(u.fieldPath);return new Ld(g,h)}(n,r)):[];var r;if(t.update){const r=ja(n,t.update.name),o=new xi({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Vs((t.updateMask.fieldPaths||[]).map(v=>yi.fromServerFormat(v)));return new Xo(r,o,u,e,i)}return new Ud(r,o,e,i)}if(t.delete){const r=ja(n,t.delete);return new Rf(r,e)}if(t.verify){const r=ja(n,t.verify);return new Gb(r,e)}return dt()}function wE(n,t){return{documents:[t1(n,t.path)]}}function Rv(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=t1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=t1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(T=>function(I){if("=="===I.op){if(kb(I.value))return{unaryFilter:{field:Ff(I.field),op:"IS_NAN"}};if(Rb(I.value))return{unaryFilter:{field:Ff(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(kb(I.value))return{unaryFilter:{field:Ff(I.field),op:"IS_NOT_NAN"}};if(Rb(I.value))return{unaryFilter:{field:Ff(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ff(I.field),op:s1(I.op),value:I.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:Ff((T=v).field),direction:_A(T.dir)};var T})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(v=t.limit,n.gt||Ig(v)?v:{value:v});var v,h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function r1(n){let t=yE(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ot(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let o=[];e.where&&(o=mo(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(T=>{return new ou(wr((I=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(T){let I;return I="object"==typeof T?T.value:T,Ig(I)?null:I}(e.limit));let g=null;var T;e.startAt&&(g=new Va((T=e.startAt).values||[],!!T.before));let v=null;return e.endAt&&(v=function(T){return new Va(T.values||[],!T.before)}(e.endAt)),rE(t,r,u,o,h,"F",g,v)}function mo(n){return n?void 0!==n.unaryFilter?[o1(n)]:void 0!==n.fieldFilter?[vA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>mo(t)).reduce((t,e)=>t.concat(e)):dt():[]}function _A(n){return _E[n]}function s1(n){return Nv[n]}function Ff(n){return{fieldPath:n.canonicalString()}}function wr(n){return yi.fromServerFormat(n.fieldPath)}function vA(n){return br.create(wr(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function o1(n){switch(n.unaryFilter.op){case"IS_NAN":const t=wr(n.unaryFilter.field);return br.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=wr(n.unaryFilter.field);return br.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wr(n.unaryFilter.field);return br.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=wr(n.unaryFilter.field);return br.create(r,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function yA(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function TE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Tr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=a1(t)),t=CE(n.get(e),t);return a1(t)}function CE(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function a1(n){return n+"\x01\x01"}function $a(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:dt()}o=u+2}return new fn(i)}const l1=["userId","batchId"];function Ug(n,t){return[n,Tr(t)]}function EE(n,t,e){return[n,Tr(t),e]}const DE={},bA=["prefixPath","collectionGroup","readTime","documentId"],c1=["prefixPath","collectionGroup","documentId"],lu=["collectionGroup","readTime","prefixPath","documentId"],IE=["canonicalId","targetId"],u1=["targetId","path"],jl=["path","targetId"],wA=["collectionId","parent"],iR=["indexId","uid"],TA=["uid","sequenceNumber"],CA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EA=["indexId","uid","orderedDocumentKey"],DA=["userId","collectionPath","documentId"],SE=["userId","collectionPath","largestBatchId"],rR=["userId","collectionGroup","largestBatchId"],d1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IA=[...d1,"documentOverlays"],h1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SA=h1,f1=[...SA,"indexConfiguration","indexState","indexEntries"];class kv extends uv{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function qi(n,t){const e=et(n);return Qo.M(e.ie,t)}class Pv{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&nA(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Yb();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const g=Zb(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Yt())}isEqual(t){return this.batchId===t.batchId&&wf(this.mutations,t.mutations,(e,i)=>fE(e,i))&&wf(this.baseMutations,t.baseMutations,(e,i)=>fE(e,i))}}class Fv{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ot(t.mutations.length===i.length);let r=aA;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Fv(t,e,i,r)}}class Lv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ta{constructor(t,e,i,r,o=Rt.min(),u=Rt.min(),h=Zi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new ta(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Bg{constructor(t){this.re=t}}function xE(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Vg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Ov(r=n.re,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Pf(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:cu(t.version)};else{if(!t.isUnknownDocument())return dt();i.unknownDocument={path:e.path.toArray(),version:cu(t.version)}}var r,o;return i}function Vg(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function cu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bd(n){const t=new Bn(n.seconds,n.nanoseconds);return Rt.fromTimestamp(t)}function Vd(n,t){const e=(t.baseMutations||[]).map(o=>n1(n.re,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>n1(n.re,o)),r=Bn.fromMillis(t.localWriteTimeMs);return new Pv(t.batchId,r,e,i)}function Uv(n){const t=Bd(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Bd(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Lr(Af(yE(r.documents[0])))):i=Lr(r1(n.query)),new ta(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Zi.fromBase64String(n.resumeToken))}function AA(n,t){const e=cu(t.snapshotVersion),i=cu(t.lastLimboFreeSnapshotVersion);let r;r=bv(t.target)?wE(n.re,t.target):Rv(n.re,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ba(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Bv(n){const t=r1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Rg(t,t.limit,"L"):t}function p1(n,t){return new Lv(t.largestBatchId,n1(n.re,t.overlayMutation))}function ME(n,t){const e=t.path.lastSegment();return[n,Tr(t.path.popLast()),e]}function NE(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:cu(i.readTime),documentKey:Tr(i.documentKey.path),largestBatchId:i.largestBatchId}}class sR{getBundleMetadata(t,e){return xA(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bd(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return xA(t).put({bundleId:(i=e).id,createTime:cu(Gi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return MA(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Bv(r.bundledQuery),readTime:Bd(r.readTime)};var r})}saveNamedQuery(t,e){return MA(t).put({name:(i=e).name,readTime:cu(Gi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function xA(n){return qi(n,"bundles")}function MA(n){return qi(n,"namedQueries")}class g1{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new g1(t,e.uid||"")}getOverlay(t,e){return Vv(t).get(ME(this.userId,e)).next(i=>i?p1(this.It,i):null)}getOverlays(t,e){const i=ea();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new Lv(e,u);r.push(this.ue(t,h))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Tr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Vv(t).Y("collectionPathOverlayIndex",h))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=ea(),o=Tr(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Vv(t).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=p1(this.It,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=ea();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Vv(t).Z({index:"collectionGroupOverlayIndex",range:h},(g,v,T)=>{const I=p1(this.It,v);o.size()<r||I.largestBatchId===u?(o.set(I.getKey(),I),u=I.largestBatchId):T.done()}).next(()=>o)}ue(t,e){return Vv(t).put(function(i,r,o){const[u,h,g]=ME(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Lg(i.re,o.mutation)}}(this.It,this.userId,e))}}function Vv(n){return qi(n,"documentOverlays")}class Hd{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(ci(t.integerValue));else if("doubleValue"in t){const i=ci(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),If(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Nd(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?Pb(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):dt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),Qe.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function Hv(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function OE(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=Hv(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Hd.Te=new Hd;class NA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=OE(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=OE(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class RE{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class jd{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class Lf{constructor(){this.Be=new NA,this.Le=new RE(this.Be),this.Ue=new jd(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $l{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new $l(this.indexId,this.documentKey,this.arrayValue,i)}}function Zl(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=kE(n.arrayValue,t.arrayValue),0!==e?e:(e=kE(n.directionalValue,t.directionalValue),0!==e?e:Qe.comparator(n.documentKey,t.documentKey)))}function kE(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class m1{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=Db(t);if(void 0!==e&&!this.ze(e))return!1;const i=Ad(t);let r=0,o=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ge.length||!this.Je(this.Ge[o++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class _1{constructor(){this.Ye=new Uf}addToCollectionParentIndex(t,e){return this.Ye.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(ps.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class Uf{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new In(fn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new In(fn.comparator)).toArray()}}const v1=new Uint8Array(0);class oR{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new Uf,this.Ze=new Hl(i=>Ba(i),(i,r)=>xg(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const o={collectionId:i,parent:Tr(r)};return OA(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[HC(e),""],!1,!0);return OA(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push($a(u.parent))}return i})}addFieldIndex(t,e){const i=Hg(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=jg(t);return o.next(h=>{u.put(NE(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Hg(t),r=jg(t),o=jv(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=jv(t);let r=!0;const o=new Map;return ae.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Yt();const h=[];return ae.forEach(o,(g,v)=>{var T;Le("IndexedDbIndexManager",`Using index ${T=g,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Fe=>`${Fe.fieldPath}:${Fe.kind}`).join(",")}`} to execute ${Ba(e)}`);const I=function(Fe,Ae){const He=Db(Ae);if(void 0===He)return null;for(const Ge of wv(Fe,He.fieldPath))switch(Ge.op){case"array-contains-any":return Ge.value.arrayValue.values||[];case"array-contains":return[Ge.value]}return null}(v,g),M=function(Fe,Ae){const He=new Map;for(const Ge of Ad(Ae))for(const ht of wv(Fe,Ge.fieldPath))switch(ht.op){case"==":case"in":He.set(Ge.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return He.set(Ge.fieldPath.canonicalString(),ht.value),Array.from(He.values())}return null}(v,g),k=function(Fe,Ae){const He=[];let Ge=!0;for(const ht of Ad(Ae)){const Ut=0===ht.kind?Mg(Fe,ht.fieldPath,Fe.startAt):Ng(Fe,ht.fieldPath,Fe.startAt);He.push(Ut.value),Ge&&(Ge=Ut.inclusive)}return new Va(He,Ge)}(v,g),U=function(Fe,Ae){const He=[];let Ge=!0;for(const ht of Ad(Ae)){const Ut=0===ht.kind?Ng(Fe,ht.fieldPath,Fe.endAt):Mg(Fe,ht.fieldPath,Fe.endAt);He.push(Ut.value),Ge&&(Ge=Ut.inclusive)}return new Va(He,Ge)}(v,g),H=this.nn(g,v,k),K=this.nn(g,v,U),we=this.sn(g,v,M),Se=this.rn(g.indexId,I,H,k.inclusive,K,U.inclusive,we);return ae.forEach(Se,Fe=>i.J(Fe,e.limit).next(Ae=>{Ae.forEach(He=>{const Ge=Qe.fromSegments(He.documentKey);u.has(Ge)||(u=u.add(Ge),h.push(Ge))})}))}).next(()=>h)}return ae.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,o,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),v=g/(null!=e?e.length:1),T=[];for(let I=0;I<g;++I){const M=e?this.on(e[I/v]):v1,k=this.un(t,M,i[I%v],r),U=this.cn(t,M,o[I%v],u),H=h.map(K=>this.un(t,M,K,!0));T.push(...this.createRange(k,U,H))}return T}un(t,e,i,r){const o=new $l(t,Qe.empty(),e,i);return r?o:o.Ke()}cn(t,e,i,r){const o=new $l(t,Qe.empty(),e,i);return r?o.Ke():o}en(t,e){const i=new m1(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return ae.forEach(this.tn(e),r=>this.en(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new In(yi.comparator),g=!1;for(const v of u.filters){const T=v;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?g=!0:h=h.add(T.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new Lf;for(const r of Ad(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);Hd.Te.ce(o,u)}return i.$e()}on(t){const e=new Lf;return Hd.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new Lf;return Hd.Te.ce(su(this.databaseId,e),i.qe(function(r){const o=Ad(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new Lf);let o=0;for(const u of Ad(t)){const h=i[o++];for(const g of r)if(this.ln(e,u.fieldPath)&&Sf(h))r=this.fn(r,u,h);else{const v=g.qe(u.kind);Hd.Te.ce(h,v)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new Lf;g.seed(h.$e()),Hd.Te.ce(u,g.qe(e.kind)),o.push(g)}return o}ln(t,e){return!!t.filters.find(i=>i instanceof br&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Hg(t),r=jg(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(v,T){const I=T?new Cf(T.sequenceNumber,new ps(Bd(T.readTime),new Qe($a(T.documentKey)),T.largestBatchId)):Cf.empty(),M=v.fields.map(([k,U])=>new Cg(yi.fromServerFormat(k),U));return new lv(v.indexId,v.collectionGroup,M,I)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:jt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Hg(t),o=jg(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ae.forEach(h,g=>o.put(NE(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,g=>this.wn(t,r,g).next(v=>{const T=this.mn(o,g);return v.isEqual(T)?ae.resolve():this.gn(t,o,g,v,T)}))))})}yn(t,e,i,r){return jv(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return jv(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=jv(t);let o=new In(Zl);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{o=o.add(new $l(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}mn(t,e){let i=new In(Zl);const r=this.an(e,t);if(null==r)return i;const o=Db(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Sf(u))for(const h of u.arrayValue.values||[])i=i.add(new $l(e.indexId,t.key,this.on(h),r))}else i=i.add(new $l(e.indexId,t.key,v1,r));return i}gn(t,e,i,r,o){Le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,v,T,I){const M=h.getIterator(),k=g.getIterator();let U=Df(M),H=Df(k);for(;U||H;){let K=!1,we=!1;if(U&&H){const Se=v(U,H);Se<0?we=!0:Se>0&&(K=!0)}else null!=U?we=!0:K=!0;K?(T(H),H=Df(k)):we?(I(U),U=Df(M)):(U=Df(M),H=Df(k))}}(r,o,Zl,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),ae.waitFor(u)}_n(t){let e=1;return jg(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Zl(u,h)).filter((u,h,g)=>!h||0!==Zl(u,g[h-1]));const r=[];r.push(t);for(const u of i){const h=Zl(u,t),g=Zl(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&g<0)r.push(u),r.push(u.Ke());else if(g>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,v1,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,v1,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(PE)}getMinOffset(t,e){return ae.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||dt())).next(PE)}}function OA(n){return qi(n,"collectionParents")}function jv(n){return qi(n,"indexEntries")}function Hg(n){return qi(n,"indexConfiguration")}function jg(n){return qi(n,"indexState")}function PE(n){Ot(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Ib(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ps(t.readTime,t.documentKey,e)}const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _s{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new _s(t,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function y1(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.Z({range:u},(T,I,M)=>(h++,M.delete()));o.push(g.next(()=>{Ot(1===h)}));const v=[];for(const T of e.mutations){const I=EE(t,T.key.path,e.batchId);o.push(r.delete(I)),v.push(T.key)}return ae.waitFor(o).next(()=>v)}function $g(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt();t=n.noDocument}return JSON.stringify(t).length}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class Zg{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ot(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Zg(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=$d(t),u=uu(t);return u.add({}).next(h=>{Ot("number"==typeof h);const g=new Pv(h,e,i,r),v=function(M,k,U){const H=U.baseMutations.map(we=>Lg(M.re,we)),K=U.mutations.map(we=>Lg(M.re,we));return{userId:k,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:H,mutations:K}}(this.It,this.userId,g),T=[];let I=new In((M,k)=>jt(M.canonicalString(),k.canonicalString()));for(const M of r){const k=EE(this.userId,M.key.path,h);I=I.add(M.key.path.popLast()),T.push(u.put(v)),T.push(o.put(k,DE))}return I.forEach(M=>{T.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[h]=g.keys()}),ae.waitFor(T).next(()=>g)})}lookupMutationBatch(t,e){return uu(t).get(e).next(i=>i?(Ot(i.userId===this.userId),Vd(this.It,i)):null)}Tn(t,e){return this.In[e]?ae.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return uu(t).Z({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Ot(h.batchId>=i),o=Vd(this.It,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return uu(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Vd(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Ug(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return $d(t).Z({range:r},(u,h,g)=>{const[v,T,I]=u,M=$a(T);if(v===this.userId&&e.path.isEqual(M))return uu(t).get(I).next(k=>{if(!k)throw dt();Ot(k.userId===this.userId),o.push(Vd(this.It,k))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new In(jt);const r=[];return e.forEach(o=>{const u=Ug(this.userId,o.path),h=IDBKeyRange.lowerBound(u),g=$d(t).Z({range:h},(v,T,I)=>{const[M,k,U]=v,H=$a(k);M===this.userId&&o.path.isEqual(H)?i=i.add(U):I.done()});r.push(g)}),ae.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=Ug(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new In(jt);return $d(t).Z({range:u},(g,v,T)=>{const[I,M,k]=g,U=$a(M);I===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(k)):T.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(uu(t).get(o).next(u=>{if(null===u)throw dt();Ot(u.userId===this.userId),i.push(Vd(this.It,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return y1(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $d(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const g=$a(o[1]);r.push(g)}else h.done()}).next(()=>{Ot(0===r.length)})})}containsKey(t,e){return LE(t,this.userId,e)}Rn(t){return $v(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function LE(n,t,e){const i=Ug(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return $d(n).Z({range:o,X:!0},(h,g,v)=>{const[T,I,M]=h;T===t&&I===r&&(u=!0),v.done()}).next(()=>u)}function uu(n){return qi(n,"mutations")}function $d(n){return qi(n,"documentMutations")}function $v(n){return qi(n,"mutationQueues")}class Bf{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Bf(0)}static vn(){return new Bf(-1)}}class UE{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Bf(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Rt.fromTimestamp(new Bn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>du(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return du(t).Z((u,h)=>{const g=Uv(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return du(t).Z((i,r)=>{const o=Uv(r);e(o)})}Vn(t){return BE(t).get("targetGlobalKey").next(e=>(Ot(null!==e),e))}Sn(t,e){return BE(t).put("targetGlobalKey",e)}Dn(t,e){return du(t).put(AA(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ba(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return du(t).Z({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const v=Uv(h);xg(e,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=hu(t);return e.forEach(u=>{const h=Tr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=hu(t);return ae.forEach(e,o=>{const u=Tr(o.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=hu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=hu(t);let o=Yt();return r.Z({range:i,X:!0},(u,h,g)=>{const v=$a(u[1]),T=new Qe(v);o=o.add(T)}).next(()=>o)}containsKey(t,e){const i=Tr(e.path),r=IDBKeyRange.bound([i],[HC(i)],!1,!0);let o=0;return hu(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],g,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}se(t,e){return du(t).get(e).next(i=>i?Uv(i):null)}}function du(n){return qi(n,"targets")}function BE(n){return qi(n,"targetGlobal")}function hu(n){return qi(n,"targetDocuments")}function RA([n,t],[e,i]){const r=jt(n,e);return 0===r?jt(t,i):r}class aR{constructor(t){this.xn=t,this.buffer=new In(RA),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();RA(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class kA{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,me.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Ul(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pa(i)}yield e.Fn(3e5)}))}}class PA{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(gs.at);const i=new aR(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(FE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,o,u,h,g,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(v=Date.now(),wb()<=qc.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${I} documents in `+(v-g)+`ms\nTotal Duration: ${v-T}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class FA{constructor(t,e){this.db=t,this.garbageCollector=new PA(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return b1(t,i)}removeReference(t,e,i){return b1(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return b1(t,e)}Gn(t,e){return function(i,r){let o=!1;return $v(i).tt(u=>LE(i,u,r).next(h=>(h&&(o=!0),ae.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const g=this.Gn(t,u).next(v=>{if(!v)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Rt.min()),hu(t).delete([0,Tr(u.path)])))});r.push(g)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return b1(t,e)}Kn(t,e){const i=hu(t);let r,o=gs.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(o!==gs.at&&e(new Qe($a(r)),o),o=v,r=g):o=gs.at}).next(()=>{o!==gs.at&&e(new Qe($a(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function b1(n,t){return hu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Tr(t.path),sequenceNumber:i}));var i}class LA{constructor(){this.changes=new Hl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Mn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lR{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Vf(t).put(i)}removeEntry(t,e,i){return Vf(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Vg(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Mn.newInvalidDocument(e);return Vf(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zv(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:Mn.newInvalidDocument(e)};return Vf(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zv(e))},(r,o)=>{i={document:this.jn(e,o),size:$g(o)}}).next(()=>i)}getEntries(t,e){let i=ms();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=ms(),r=new Xn(Qe.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,$g(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ae.resolve();let r=new In(VA);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(Zv(r.first()),Zv(r.last())),u=r.getIterator();let h=u.getNext();return Vf(t).Z({index:"documentKeyIndex",range:o},(g,v,T)=>{const I=Qe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&VA(h,I)<0;)i(h,null),h=u.getNext();h&&h.isEqual(I)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?T.j(Zv(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Vg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vf(t).W(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=ms();for(const g of u){const v=this.jn(Qe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=ms();const u=BA(e,i),h=BA(e,ps.max());return Vf(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,T)=>{const I=this.jn(Qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(I.key,I),o.size===r&&T.done()}).next(()=>o)}newChangeBuffer(t){return new cR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return VE(t).get("remoteDocumentGlobalKey").next(e=>(Ot(!!e),e))}Qn(t,e){return VE(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function AE(n,t){let e;if(t.document)e=gA(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Qe.fromSegments(t.noDocument.path),r=Bd(t.noDocument.readTime);e=Mn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt();{const i=Qe.fromSegments(t.unknownDocument.path),r=Bd(t.unknownDocument.version);e=Mn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Bn(i[0],i[1]);return Rt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Mn.newInvalidDocument(t)}}function UA(n){return new lR(n)}class cR extends LA{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Hl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new In((o,u)=>jt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const g=xE(this.Yn.It,u);r=r.add(o.path.popLast()),i+=$g(g)-h.size,e.push(this.Yn.addEntry(t,o,g))}else if(i-=h.size,this.trackRemovals){const g=xE(this.Yn.It,u.convertToNoDocument(Rt.min()));e.push(this.Yn.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function VE(n){return qi(n,"remoteDocumentGlobal")}function Vf(n){return qi(n,"remoteDocumentsV14")}function Zv(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function BA(n,t){const e=t.documentKey.path.toArray();return[n,Vg(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function VA(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=jt(e[o],i[o]),r)return r;return r=jt(e.length,i.length),r||(r=jt(e[e.length-2],i[i.length-2]),r||jt(e[e.length-1],i[i.length-1]))}class HA{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class jA{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Nf(i.mutation,r,Vs.empty(),Bn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Yt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Yt()){const r=ea();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Pg();return o.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=ea();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Yt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=ms();const u=kf(),h=kf();return e.forEach((g,v)=>{const T=i.get(v.key);r.has(v.key)&&(void 0===T||T.mutation instanceof Xo)?o=o.insert(v.key,v):void 0!==T&&(u.set(v.key,T.mutation.getFieldMask()),Nf(T.mutation,v,T.mutation.getFieldMask(),Bn.now()))}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((v,T)=>u.set(v,T)),e.forEach((v,T)=>{var I;return h.set(v,new HA(T,null!==(I=u.get(v))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(t,e){const i=kf();let r=new Xn((u,h)=>u-h),o=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=e.get(g);if(null===v)return;let T=i.get(g)||Vs.empty();T=h.applyToLocalView(v,T),i.set(g,T);const I=(r.get(h.batchId)||Yt()).add(g);r=r.insert(h.batchId,I)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,T=g.value,I=Yb();T.forEach(M=>{if(!o.has(M)){const k=Zb(e.get(M),i.get(M));null!==k&&I.set(M,k),o=o.add(M)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,I))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Iv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(ea());let h=-1,g=o;return u.next(v=>ae.forEach(v,(T,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),o.get(T)?ae.resolve():this.getBaseDocument(t,T,I).next(M=>{g=g.insert(T,M)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,g,v,Yt())).next(T=>({batchId:h,changes:Wb(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Qe(e)).next(i=>{let r=Pg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Pg();return this.indexManager.getCollectionParents(t,r).next(u=>ae.forEach(u,h=>{const g=(v=e,T=h.child(r),new Vl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(v=>{v.forEach((T,I)=>{o=o.insert(T,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,g)=>{const v=g.getKey();null===r.get(v)&&(r=r.insert(v,Mn.newInvalidDocument(v)))});let u=Pg();return r.forEach((h,g)=>{const v=o.get(h);void 0!==v&&Nf(v.mutation,g,Vs.empty(),Bn.now()),Lb(e,g)&&(u=u.insert(h,g))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ae.resolve(Mn.newInvalidDocument(e))}}class a{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ae.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Gi(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:Bv(i.bundledQuery),readTime:Gi(i.readTime)}),ae.resolve();var i}}class l{constructor(){this.overlays=new Xn(Qe.comparator),this.es=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ea();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ue(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=ea(),o=e.length+1,u=new Qe(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Xn((v,T)=>v-T);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let T=o.get(v.largestBatchId);null===T&&(T=ea(),o=o.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const h=ea(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,T)=>h.set(v,T)),!(h.size()>=r)););return ae.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Lv(e,i));let o=this.es.get(e);void 0===o&&(o=Yt(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class c{constructor(){this.ns=new In(d.ss),this.rs=new In(d.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new d(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new d(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Qe(new fn([])),i=new d(e,t),r=new d(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Qe(new fn([])),i=new d(e,t),r=new d(e,t+1);let o=Yt();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new d(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class d{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Qe.comparator(t.key,e.key)||jt(t._s,e._s)}static os(t,e){return jt(t._s,e._s)||Qe.comparator(t.key,e.key)}}class f{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new In(d.ss)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new Pv(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new d(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(t,e){return ae.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new d(e,0),r=new d(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new In(jt);return e.forEach(r=>{const o=new d(r,0),u=new d(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),ae.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Qe.isDocumentKey(o)||(o=o.child(""));const u=new d(new Qe(o),0);let h=new In(jt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(g._s)),!0)},u),ae.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ot(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ae.forEach(e.mutations,r=>{const o=new d(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new d(e,0),r=this.gs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class m{constructor(t){this.Es=t,this.docs=new Xn(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(e))}getEntries(t,e){let i=ms();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))}),ae.resolve(i)}getAllFromCollection(t,e,i){let r=ms();const o=new Qe(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||Ib(cv(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return ae.resolve(r)}getAllFromCollectionGroup(t,e,i,r){dt()}As(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new b(this)}getSize(t){return ae.resolve(this.size)}}class b extends LA{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class C{constructor(t){this.persistence=t,this.Rs=new Hl(e=>Ba(e),xg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new c,this.targetCount=0,this.vs=Bf.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ae.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Bf(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Dn(e),ae.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.Ps.containsKey(e))}}class E{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new gs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new C(this),this.indexManager=new _1,this.remoteDocumentCache=new m(i=>this.referenceDelegate.xs(i)),this.It=new Bg(e),this.Ns=new a(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new l,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new f(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new A(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return ae.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class A extends uv{constructor(t){super(),this.currentSequenceNumber=t}}class O{constructor(t){this.persistence=t,this.Fs=new c,this.$s=null}static Bs(t){return new O(t)}get Ls(){if(this.$s)return this.$s;throw dt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,i=>{const r=Qe.fromPath(i);return this.Us(t,r).next(o=>{o||e.removeEntry(r,Rt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return ae.or([()=>ae.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class L{constructor(t){this.It=t}$(t,e,i,r){const o=new hv("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",l1,{unique:!0}),h.createObjectStore("documentMutations"),q(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),q(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",l1,{unique:!0});const T=g.store("mutations"),I=v.map(M=>T.put(M));return ae.waitFor(I)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:DA});g.createIndex("collectionPathOverlayIndex",SE,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",rR,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:bA});g.createIndex("documentKeyIndex",c1),g.createIndex("collectionGroupIndex",lu)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:iR}).createIndex("sequenceNumberIndex",TA,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:CA}).createIndex("documentKeyIndex",EA,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=$g(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ae.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ae.forEach(h,g=>{Ot(g.userId===o.userId);const v=Vd(this.It,g);return y1(t,o.userId,v).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const g=new fn(u),v=[0,Tr(g)];o.push(e.get(v).next(T=>T?ae.resolve():e.put({targetId:0,path:Tr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:wA});const i=e.store("collectionParents"),r=new Uf,o=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:Tr(g)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new fn(u);return o(g.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,g],v)=>{const T=$a(h);return o(T.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=Uv(r),u=AA(this.It,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),g=(v=u,v.document?new Qe(fn.fromString(v.document.name).popFirst(5)):v.noDocument?Qe.fromSegments(v.noDocument.path):v.unknownDocument?Qe.fromSegments(v.unknownDocument.path):dt()).path.toArray();var v;const T={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(T))}).next(()=>ae.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=UA(this.It),o=new E(O.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(g=>{var v;let T=null!==(v=h.get(g.userId))&&void 0!==v?v:Yt();Vd(this.It,g).keys().forEach(I=>T=T.add(I)),h.set(g.userId,T)}),ae.forEach(h,(g,v)=>{const T=new yr(v),I=g1.oe(this.It,T),M=o.getIndexManager(T),k=Zg.oe(T,this.It,M,o.referenceDelegate);return new jA(r,k,I,M).recalculateAndSaveOverlaysForDocumentKeys(new kv(e,gs.at),g).next()})})}}function q(n){n.createObjectStore("targetDocuments",{keyPath:u1}).createIndex("documentTargetsIndex",jl,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IE,{unique:!0}),n.createObjectStore("targetGlobal")}const ne="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ye{constructor(t,e,i,r,o,u,h,g,v,T,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=v,this.Ys=T,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!ye.C())throw new ke(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FA(this,r),this.ii=e+"main",this.It=new Bg(g),this.ri=new Qo(this.ii,this.Xs,new L(this.It)),this.Cs=new UE(this.referenceDelegate,this.It),this.remoteDocumentCache=UA(this.It),this.Ns=new sR,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,ne);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new gs(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,me.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,me.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,me.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Ye(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Ul(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Ue(t).get("owner").next(e=>ae.resolve(this.mi(e)))}gi(t){return Ye(t).delete(this.clientId)}yi(){var t=this;return(0,me.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=qi(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(g=>-1===u.indexOf(g));return ae.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ae.resolve(!0):Ue(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,ne);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ye(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,me.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new kv(e,gs.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>Ye(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return Zg.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new oR(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return g1.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Le("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?f1:14===u?SA:13===u?h1:12===u?IA:11===u?d1:void dt();var u;let h;return this.ri.runTransaction(t,r,o,g=>(h=new kv(g,this.Ss?this.Ss.next():gs.at),"readwrite-primary"===e?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw zn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(de.FAILED_PRECONDITION,ZC);return i(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(t){return Ue(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(de.FAILED_PRECONDITION,ne)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ue(t).put("owner",e)}static C(){return Qo.C()}_i(t){const e=Ue(t);return e.get("owner").next(i=>this.mi(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(zn(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){zn("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ue(n){return qi(n,"owner")}function Ye(n){return qi(n,"clientMetadata")}function ut(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ct{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Yt(),r=Yt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ct(t,e.fromCache,i,r)}}class Oe{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(sE(e))return ae.resolve(null);let i=Lr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Rg(e,null,"F"),i=Lr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Yt(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(g=>{const v=this.Fi(e,h);return this.$i(e,v,u,g.readTime)?this.ki(t,Rg(e,null,"F")):this.Bi(t,v,e,g)}))})))}Oi(t,e,i,r){return sE(e)||r.isEqual(Rt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Mi(t,e):(wb()<=qc.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sv(e)),this.Bi(t,u,e,$C(r,-1)))})}Fi(t,e){let i=new In(Bb(t));return e.forEach((r,o)=>{Lb(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return wb()<=qc.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Sv(e)),this.Ni.getDocumentsMatchingQuery(t,e,ps.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class kt{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Xn(jt),this.qi=new Hl(o=>Ba(o),xg),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jA(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function vn(n,t,e,i){return new kt(n,t,e,i)}function Wn(n,t){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,me.Z)(function*(n,t){const e=et(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let g=Yt();for(const v of r){u.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of o){h.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return e.localDocuments.getDocuments(i,g).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),Gl.apply(this,arguments)}function w1(n,t){const e=et(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const T=g.batch,I=T.keys();let M=ae.resolve();return I.forEach(k=>{M=M.next(()=>v.getEntry(h,k)).next(U=>{const H=g.docVersions.get(k);Ot(null!==H),U.version.compareTo(H)<0&&(T.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),M.next(()=>u.mutationQueue.removeMutationBatch(h,T))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Yt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Gv(n){const t=et(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function T1(n,t){const e=et(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((T,I)=>{const M=r.get(I);if(!M)return;h.push(e.Cs.removeMatchingKeys(o,T.removedDocuments,I).next(()=>e.Cs.addMatchingKeys(o,T.addedDocuments,I)));let k=M.withSequenceNumber(o.currentSequenceNumber);var U,H,K;t.targetMismatches.has(I)?k=k.withResumeToken(Zi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,i)),r=r.insert(I,k),H=k,K=T,(0===(U=M).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,k))});let g=ms(),v=Yt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,T))}),h.push(qv(o,u,t.documentUpdates).next(T=>{g=T.Wi,v=T.zi})),!i.isEqual(Rt.min())){const T=e.Cs.getLastRemoteSnapshotVersion(o).next(I=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(T)}return ae.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(e.Ui=r,o))}function qv(n,t,e){let i=Yt(),r=Yt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=ms();return e.forEach((h,g)=>{const v=o.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(g),u=u.insert(h,g)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function C1(n,t){const e=et(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function fu(n,t){const e=et(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new ta(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function pu(n,t,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,me.Z)(function*(n,t,e){const i=et(n),r=i.Ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Ul(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),Gg.apply(this,arguments)}function Hf(n,t,e){const i=et(n);let r=Rt.min(),o=Yt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const T=et(h),I=T.qi.get(v);return void 0!==I?ae.resolve(T.Ui.get(I)):T.Cs.getTargetData(g,v)}(i,u,Lr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{o=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Rt.min(),e?o:Yt())).next(h=>(hR(i,Ub(t),h),{documents:h,Hi:o})))}function uR(n,t){const e=et(n),i=et(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.se(o,t).next(u=>u?u.target:null))}function dR(n,t){const e=et(n),i=e.Ki.get(t)||Rt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,$C(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(hR(e,t,r),r))}function hR(n,t,e){let i=n.Ki.get(t)||Rt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function $A(){return $A=(0,me.Z)(function*(n,t,e,i){const r=et(n);let o=Yt(),u=ms();for(const v of e){const T=t.Ji(v.metadata.name);v.document&&(o=o.add(T));const I=t.Yi(v);I.setReadTime(t.Xi(v.metadata.readTime)),u=u.insert(T,I)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield fu(r,(v=i,Lr(Af(fn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>qv(v,h,u).next(T=>(h.apply(v),T)).next(T=>r.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Cs.addMatchingKeys(v,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,T.Wi,T.zi)).next(()=>T.Wi)))}),$A.apply(this,arguments)}function sB(n,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,me.Z)(function*(n,t,e=Yt()){const i=yield fu(n,Lr(Bv(t.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Gi(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(Zi.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),ZA.apply(this,arguments)}function fR(n,t){return`firestore_clients_${n}_${t}`}function pR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function GA(n,t){return`firestore_targets_${n}_${t}`}class HE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new ke(r.error.code,r.error.message))),u?new HE(t,e,r.state,o):(zn("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class E1{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ke(i.error.code,i.error.message))),o?new E1(t,i.state,r):(zn("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class jE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Kb();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Ob(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new jE(t,o):(zn("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class qA{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new qA(e.clientId,e.onlineState):(zn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class zA{constructor(){this.activeTargetIds=Kb()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class WA{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xn(jt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=fR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new zA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,me.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(fR(t.persistenceKey,r));if(o){const u=jE.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(GA(this.persistenceKey,t));if(i){const r=E1.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(GA(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,me.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=gs.at;if(null!=o)try{const h=JSON.parse(o);Ot("number"==typeof h),u=h}catch(h){zn("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==gs.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new HE(this.currentUser,t,e,i),o=pR(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=pR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=GA(this.persistenceKey,t),o=new E1(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return jE.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return HE.Zi(new yr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return E1.Zi(r,e)}yr(t){return qA.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=Kb();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class gR{constructor(){this.Lr=new zA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new zA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class oB{qr(t){}shutdown(){}}class mR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const aB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lB{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class cB extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const u=this.ho(t,e);Le("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(t,u,h,i).then(g=>(Le("RestConnection","Received: ",g),g),g=>{throw Sd("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}_o(t,e,i,r,o,u){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Id,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${aB[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,u)=>{const h=new YO;h.setWithCredentials(!0),h.listenOnce(BS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case av.NO_ERROR:const v=h.getResponseJson();Le("Connection","XHR received:",JSON.stringify(v)),o(v);break;case av.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),u(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case av.HTTP_ERROR:const T=h.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const M=function(k){const U=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN}(I.status);u(new ke(M,I.message))}else u(new ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);h.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=NC(),u=OC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new VS({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=r.join("");Le("Connection","Creating WebChannel: "+g,h);const v=o.createWebChannel(g,h);let T=!1,I=!1;const M=new lB({Hr:U=>{I?Le("Connection","Not sending because WebChannel is closed:",U):(T||(Le("Connection","Opening WebChannel transport."),v.open(),T=!0),Le("Connection","WebChannel sending:",U),v.send(U))},Jr:()=>v.close()}),k=(U,H,K)=>{U.listen(H,we=>{try{K(we)}catch(Se){setTimeout(()=>{throw Se},0)}})};return k(v,bb.EventType.OPEN,()=>{I||Le("Connection","WebChannel transport opened.")}),k(v,bb.EventType.CLOSE,()=>{I||(I=!0,Le("Connection","WebChannel transport closed"),M.io())}),k(v,bb.EventType.ERROR,U=>{I||(I=!0,Sd("Connection","WebChannel transport errored:",U),M.io(new ke(de.UNAVAILABLE,"The operation could not be completed")))}),k(v,bb.EventType.MESSAGE,U=>{var H;if(!I){const K=U.data[0];Ot(!!K);const we=K,Se=we.error||(null===(H=we[0])||void 0===H?void 0:H.error);if(Se){Le("Connection","WebChannel received error:",Se);const Fe=Se.status;let Ae=function(Ge){const ht=Mi[Ge];if(void 0!==ht)return qb(ht)}(Fe),He=Se.message;void 0===Ae&&(Ae=de.INTERNAL,He="Unknown error status: "+Fe+" with message "+Se.message),I=!0,M.io(new ke(Ae,He)),v.close()}else Le("Connection","WebChannel received:",K),M.ro(K)}}),k(u,RC.STAT_EVENT,U=>{U.stat===kC.PROXY?Le("Connection","Detected buffering proxy"):U.stat===kC.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function _R(){return typeof window<"u"?window:null}function $E(){return typeof document<"u"?document:null}function D1(n){return new vE(n,!0)}class YA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class vR{constructor(t,e,i,r,o,u,h,g){this.Hs=t,this.vo=i,this.Vo=r,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new YA(t,e)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,me.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,me.Z)(function*(){if(t.Oo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,me.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(zn(e.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new ke(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.No.Ro((0,me.Z)(function*(){t.state=0,t.start()}))}jo(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Hs.enqueueAndForget(()=>this.Do===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uB extends vR{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=o}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function mA(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:dt(),r=t.targetChange.targetIds||[],o=function(g,v){return g.gt?(Ot(void 0===v||"string"==typeof v),Zi.fromBase64String(v||"")):(Ot(void 0===v||v instanceof Uint8Array),Zi.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const v=void 0===g.code?de.UNKNOWN:qb(g.code);return new ke(v,g.message||"")}(u);e=new uA(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=ja(n,i.document.name),o=Gi(i.document.updateTime),u=new xi({mapValue:{fields:i.document.fields}}),h=Mn.newFoundDocument(r,o,u);e=new Jb(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=ja(n,i.document),o=i.readTime?Gi(i.readTime):Rt.min(),u=Mn.newNoDocument(r,o);e=new Jb([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=ja(n,i.document);e=new Jb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return dt();{const i=t.filter,o=new sA(i.count||0);e=new cA(i.targetId,o)}}var g;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Rt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?Gi(o.readTime):Rt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=au(this.It),e.addTarget=function(r,o){let u;const h=o.target;return u=bv(h)?{documents:wE(r,h)}:{query:Rv(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=fA(r,o.resumeToken):o.snapshotVersion.compareTo(Rt.min())>0&&(u.readTime=Pf(r,o.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function nR(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=au(this.It),e.removeTarget=t,this.Lo(e)}}class dB extends vR{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function tR(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(i,r){let o=Gi(i.updateTime?i.updateTime:r);return o.isEqual(Rt.min())&&(o=Gi(r)),new hE(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Gi(t.commitTime);return this.listener.tu(i,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=au(this.It),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Lg(this.It,i))};this.Lo(e)}}class hB extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.It=r,this.su=!1}iu(){if(this.su)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So._o(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(de.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class pB{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.au("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.au(t)}au(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(zn(e),this.uu=!1):Le("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class gB{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.qr(h=>{i.enqueueAndForget((0,me.Z)(function*(){var g;Zd(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,me.Z)(function*(v){const T=et(v);T.wu.add(4),yield zv(T),T.yu.set("Unknown"),T.wu.delete(4),yield I1(T)}),function(v){return g.apply(this,arguments)})(u))}))}),this.yu=new pB(i,r)}}function I1(n){return JA.apply(this,arguments)}function JA(){return JA=(0,me.Z)(function*(n){if(Zd(n))for(const t of n.mu)yield t(!0)}),JA.apply(this,arguments)}function zv(n){return QA.apply(this,arguments)}function QA(){return QA=(0,me.Z)(function*(n){for(const t of n.mu)yield t(!1)}),QA.apply(this,arguments)}function ZE(n,t){const e=et(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),tx(e)?ex(e):Yv(e).Oo()&&XA(e,t))}function S1(n,t){const e=et(n),i=Yv(e);e._u.delete(t),i.Oo()&&yR(e,t),0===e._u.size&&(i.Oo()?i.$o():Zd(e)&&e.yu.set("Unknown"))}function XA(n,t){n.pu.Mt(t.targetId),Yv(n).Ho(t)}function yR(n,t){n.pu.Mt(t),Yv(n).Jo(t)}function ex(n){n.pu=new XO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n._u.get(t)||null}),Yv(n).start(),n.yu.cu()}function tx(n){return Zd(n)&&!Yv(n).ko()&&n._u.size>0}function Zd(n){return 0===et(n).wu.size}function bR(n){n.pu=void 0}function mB(n){return nx.apply(this,arguments)}function nx(){return nx=(0,me.Z)(function*(n){n._u.forEach((t,e)=>{XA(n,t)})}),nx.apply(this,arguments)}function _B(n,t){return ix.apply(this,arguments)}function ix(){return ix=(0,me.Z)(function*(n,t){bR(n),tx(n)?(n.yu.lu(t),ex(n)):n.yu.set("Unknown")}),ix.apply(this,arguments)}function vB(n,t,e){return rx.apply(this,arguments)}function rx(){return rx=(0,me.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof uA&&2===t.state&&t.cause)try{yield(i=(0,me.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield GE(n,i)}else if(t instanceof Jb?n.pu.Gt(t):t instanceof cA?n.pu.Yt(t):n.pu.Wt(t),!e.isEqual(Rt.min()))try{const i=yield Gv(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.pu.te(o);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=r._u.get(g);v&&r._u.set(g,v.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const g=r._u.get(h);if(!g)return;r._u.set(h,g.withResumeToken(Zi.EMPTY_BYTE_STRING,g.snapshotVersion)),yR(r,h);const v=new ta(g.target,h,1,g.sequenceNumber);XA(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield GE(n,i)}var i}),rx.apply(this,arguments)}function GE(n,t,e){return sx.apply(this,arguments)}function sx(){return sx=(0,me.Z)(function*(n,t,e){if(!Ul(t))throw t;n.wu.add(1),yield zv(n),n.yu.set("Offline"),e||(e=()=>Gv(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield I1(n)}))}),sx.apply(this,arguments)}function wR(n,t){return t().catch(e=>GE(n,e,t))}function Wv(n){return ox.apply(this,arguments)}function ox(){return ox=(0,me.Z)(function*(n){const t=et(n),e=jf(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;yB(t);)try{const r=yield C1(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,bB(t,r)}catch(r){yield GE(t,r)}TR(t)&&CR(t)}),ox.apply(this,arguments)}function yB(n){return Zd(n)&&n.du.length<10}function bB(n,t){n.du.push(t);const e=jf(n);e.Oo()&&e.Xo&&e.Zo(t.mutations)}function TR(n){return Zd(n)&&!jf(n).ko()&&n.du.length>0}function CR(n){jf(n).start()}function wB(n){return ax.apply(this,arguments)}function ax(){return ax=(0,me.Z)(function*(n){jf(n).nu()}),ax.apply(this,arguments)}function TB(n){return lx.apply(this,arguments)}function lx(){return lx=(0,me.Z)(function*(n){const t=jf(n);for(const e of n.du)t.Zo(e.mutations)}),lx.apply(this,arguments)}function CB(n,t,e){return cx.apply(this,arguments)}function cx(){return cx=(0,me.Z)(function*(n,t,e){const i=n.du.shift(),r=Fv.from(i,t,e);yield wR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wv(n)}),cx.apply(this,arguments)}function EB(n,t){return ux.apply(this,arguments)}function ux(){return ux=(0,me.Z)(function*(n,t){var e;t&&jf(n).Xo&&(yield(e=(0,me.Z)(function*(i,r){if(gE(o=r.code)&&o!==de.ABORTED){const u=i.du.shift();jf(i).Fo(),yield wR(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Wv(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),TR(n)&&CR(n)}),ux.apply(this,arguments)}function ER(n,t){return dx.apply(this,arguments)}function dx(){return dx=(0,me.Z)(function*(n,t){const e=et(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Zd(e);e.wu.add(3),yield zv(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield I1(e)}),dx.apply(this,arguments)}function hx(n,t){return fx.apply(this,arguments)}function fx(){return fx=(0,me.Z)(function*(n,t){const e=et(n);t?(e.wu.delete(2),yield I1(e)):t||(e.wu.add(2),yield zv(e),e.yu.set("Unknown"))}),fx.apply(this,arguments)}function Yv(n){return n.Iu||(n.Iu=function(t,e,i){const r=et(t);return r.iu(),new uB(e,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:mB.bind(null,n),Zr:_B.bind(null,n),zo:vB.bind(null,n)}),n.mu.push(function(){var t=(0,me.Z)(function*(e){e?(n.Iu.Fo(),tx(n)?ex(n):n.yu.set("Unknown")):(yield n.Iu.stop(),bR(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function jf(n){return n.Tu||(n.Tu=function(t,e,i){const r=et(t);return r.iu(),new dB(e,r.So,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:wB.bind(null,n),Zr:EB.bind(null,n),eu:TB.bind(null,n),tu:CB.bind(null,n)}),n.mu.push(function(){var t=(0,me.Z)(function*(e){e?(n.Tu.Fo(),yield Wv(n)):(yield n.Tu.stop(),n.du.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class px{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new px(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(n,t){if(zn("AsyncQueue",`${t}: ${n}`),Ul(n))return new ke(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Jv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Qe.comparator(e.key,i.key):(e,i)=>Qe.comparator(e.key,i.key),this.keyedMap=Pg(),this.sortedSet=new Xn(this.comparator)}static emptySet(t){return new Jv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Jv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class DR{constructor(){this.Eu=new Xn(Qe.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):dt():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Qv{constructor(t,e,i,r,o,u,h,g,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new Qv(t,e,Jv.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class DB{constructor(){this.Ru=void 0,this.listeners=[]}}class IB{constructor(){this.queries=new Hl(t=>Fb(t),kg),this.onlineState="Unknown",this.bu=new Set}}function gx(n,t){return mx.apply(this,arguments)}function mx(){return mx=(0,me.Z)(function*(n,t){const e=et(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new DB),r)try{o.Ru=yield e.onListen(i)}catch(u){const h=Kv(u,`Initialization of query '${Sv(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.Ru&&t.vu(o.Ru)&&yx(e)}),mx.apply(this,arguments)}function _x(n,t){return vx.apply(this,arguments)}function vx(){return vx=(0,me.Z)(function*(n,t){const e=et(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),vx.apply(this,arguments)}function SB(n,t){const e=et(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.vu(r)&&(i=!0);u.Ru=r}}i&&yx(e)}function AB(n,t,e){const i=et(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function yx(n){n.bu.forEach(t=>{t.next()})}class bx{constructor(t,e,i){this.query=t,this.Vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Qv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Su?this.Cu(t)&&(this.Vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.Vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||(!this.options.ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=Qv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Su=!0,this.Vu.next(t)}}class xB{constructor(t,e){this.payload=t,this.byteLength=e}Ou(){return"metadata"in this.payload}}class IR{constructor(t){this.It=t}Ji(t){return ja(this.It,t)}Yi(t){return t.metadata.exists?gA(this.It,t.document,!1):Mn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Gi(t)}}class MB{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SR(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=fn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new IR(this.It);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Yt()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,me.Z)(function*(){const e=yield function rB(n,t,e,i){return $A.apply(this,arguments)}(t.localStore,new IR(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield sB(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function SR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AR{constructor(t){this.key=t}}class xR{constructor(t){this.key=t}}class MR{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yt(),this.mutatedKeys=Yt(),this.Gu=Bb(t),this.Qu=new Jv(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new DR,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,I)=>{const M=r.get(T),k=Lb(this.query,I)?I:null,U=!!M&&this.mutatedKeys.has(M.key),H=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let K=!1;M&&k?M.data.isEqual(k.data)?U!==H&&(i.track({type:3,doc:k}),K=!0):this.Hu(M,k)||(i.track({type:2,doc:k}),K=!0,(g&&this.Gu(k,g)>0||v&&this.Gu(k,v)<0)&&(h=!0)):!M&&k?(i.track({type:0,doc:k}),K=!0):M&&!k&&(i.track({type:1,doc:M}),K=!0,(g||v)&&(h=!0)),K&&(k?(u=u.add(k),o=H?o.add(T):o.delete(T)):(u=u.delete(T),o=o.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),o=o.delete(T.key),i.track({type:1,doc:T})}return{Qu:u,zu:i,$i:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Au();o.sort((v,T)=>function(I,M){const k=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return k(I)-k(M)}(v.type,T.type)||this.Gu(v.doc,T.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==o.length||g?{snapshot:new Qv(this.query,t.Qu,r,o,t.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new DR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Yt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new xR(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new AR(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=Yt();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Qv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class NB{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class OB{constructor(t){this.key=t,this.nc=!1}}class RB{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Hl(h=>Fb(h),kg),this.rc=new Map,this.oc=new Set,this.uc=new Xn(Qe.comparator),this.cc=new Map,this.ac=new c,this.hc={},this.lc=new Map,this.fc=Bf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function kB(n,t){return wx.apply(this,arguments)}function wx(){return wx=(0,me.Z)(function*(n,t){const e=Zx(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const u=yield fu(e.localStore,Lr(t));e.isPrimaryClient&&ZE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Tx(e,t,i,"current"===h,u.resumeToken)}return r}),wx.apply(this,arguments)}function Tx(n,t,e,i,r){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,me.Z)(function*(n,t,e,i,r){n._c=(I,M,k)=>{return(U=(0,me.Z)(function*(H,K,we,Se){let Fe=K.view.Wu(we);Fe.$i&&(Fe=yield Hf(H.localStore,K.query,!1).then(({documents:Ge})=>K.view.Wu(Ge,Fe)));const Ae=Se&&Se.targetChanges.get(K.targetId),He=K.view.applyChanges(Fe,H.isPrimaryClient,Ae);return Rx(H,K.targetId,He.Xu),He.snapshot}),function(H,K,we,Se){return U.apply(this,arguments)})(n,I,M,k);var U};const o=yield Hf(n.localStore,t,!0),u=new MR(t,o.Hi),h=u.Wu(o.documents),g=Mv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(h,n.isPrimaryClient,g);Rx(n,e,v.Xu);const T=new NB(t,e,u);return n.ic.set(t,T),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),v.snapshot}),Cx.apply(this,arguments)}function PB(n,t){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,me.Z)(function*(n,t){const e=et(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!kg(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pu(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),S1(e.remoteStore,i.targetId),Xv(e,i.targetId)}).catch(Pa))):(Xv(e,i.targetId),yield pu(e.localStore,i.targetId,!0))}),Ex.apply(this,arguments)}function Dx(){return Dx=(0,me.Z)(function*(n,t,e){const i=Gx(n);try{const r=yield function(o,u){const h=et(o),g=Bn.now(),v=u.reduce((M,k)=>M.add(k.key),Yt());let T,I;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let k=ms(),U=Yt();return h.Gi.getEntries(M,v).next(H=>{k=H,k.forEach((K,we)=>{we.isValidDocument()||(U=U.add(K))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,k)).next(H=>{T=H;const K=[];for(const we of u){const Se=Of(we,T.get(we.key).overlayedDocument);null!=Se&&K.push(new Xo(we.key,Se,QC(Se.value.mapValue),Fn.exists(!0)))}return h.mutationQueue.addMutationBatch(M,g,K,u)}).next(H=>{I=H;const K=H.applyToLocalDocumentSet(T,U);return h.documentOverlayCache.saveOverlays(M,H.batchId,K)})}).then(()=>({batchId:I.batchId,changes:Wb(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let g=o.hc[o.currentUser.toKey()];g||(g=new Xn(jt)),g=g.insert(u,h),o.hc[o.currentUser.toKey()]=g}(i,r.batchId,e),yield Gd(i,r.changes),yield Wv(i.remoteStore)}catch(r){const o=Kv(r,"Failed to persist write");e.reject(o)}}),Dx.apply(this,arguments)}function NR(n,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,me.Z)(function*(n,t){const e=et(n);try{const i=yield T1(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.cc.get(o);u&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?Ot(u.nc):r.removedDocuments.size>0&&(Ot(u.nc),u.nc=!1))}),yield Gd(e,i,t)}catch(i){yield Pa(i)}}),Ix.apply(this,arguments)}function OR(n,t,e){const i=et(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,u)=>{const h=u.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=et(o);h.onlineState=u;let g=!1;h.queries.forEach((v,T)=>{for(const I of T.listeners)I.Pu(u)&&(g=!0)}),g&&yx(h)}(i.eventManager,t),r.length&&i.sc.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function LB(n,t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,me.Z)(function*(n,t,e){const i=et(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let u=new Xn(Qe.comparator);u=u.insert(o,Mn.newNoDocument(o,Rt.min()));const h=Yt().add(o),g=new xv(Rt.min(),new Map,new In(jt),u,h);yield NR(i,g),i.uc=i.uc.remove(o),i.cc.delete(t),kx(i)}else yield pu(i.localStore,t,!1).then(()=>Xv(i,t,e)).catch(Pa)}),Sx.apply(this,arguments)}function UB(n,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,me.Z)(function*(n,t){const e=et(n),i=t.batch.batchId;try{const r=yield w1(e.localStore,t);Ox(e,i,null),Nx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Gd(e,r)}catch(r){yield Pa(r)}}),Ax.apply(this,arguments)}function BB(n,t,e){return xx.apply(this,arguments)}function xx(){return xx=(0,me.Z)(function*(n,t,e){const i=et(n);try{const r=yield function(o,u){const h=et(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(T=>(Ot(null!==T),v=T.keys(),h.mutationQueue.removeMutationBatch(g,T))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(i.localStore,t);Ox(i,t,e),Nx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Gd(i,r)}catch(r){yield Pa(r)}}),xx.apply(this,arguments)}function Mx(){return Mx=(0,me.Z)(function*(n,t){const e=et(n);Zd(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=et(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Kv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Mx.apply(this,arguments)}function Nx(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function Ox(n,t,e){const i=et(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Xv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||RR(n,i)})}function RR(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(S1(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),kx(n))}function Rx(n,t,e){for(const i of e)i instanceof AR?(n.ac.addReference(i.key,t),HB(n,i)):i instanceof xR?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||RR(n,i.key)):dt()}function HB(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.oc.add(i),kx(n))}function kx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Qe(fn.fromString(t)),i=n.fc.next();n.cc.set(i,new OB(e)),n.uc=n.uc.insert(e,i),ZE(n.remoteStore,new ta(Lr(Af(e.path)),i,2,gs.at))}}function Gd(n,t,e){return Px.apply(this,arguments)}function Px(){return Px=(0,me.Z)(function*(n,t,e){const i=et(n),r=[],o=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,g)=>{u.push(i._c(g,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const T=Ct.Ci(g.targetId,v);o.push(T)}}))}),yield Promise.all(u),i.sc.zo(r),yield(h=(0,me.Z)(function*(g,v){const T=et(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ae.forEach(v,M=>ae.forEach(M.Si,k=>T.persistence.referenceDelegate.addReference(I,M.targetId,k)).next(()=>ae.forEach(M.Di,k=>T.persistence.referenceDelegate.removeReference(I,M.targetId,k)))))}catch(I){if(!Ul(I))throw I;Le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const M=I.targetId;if(!I.fromCache){const k=T.Ui.get(M),H=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);T.Ui=T.Ui.insert(M,H)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,o))}),Px.apply(this,arguments)}function jB(n,t){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,me.Z)(function*(n,t){const e=et(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield Wn(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new ke(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Gd(e,i.ji)}var r}),Fx.apply(this,arguments)}function $B(n,t){const e=et(n),i=e.cc.get(t);if(i&&i.nc)return Yt().add(i.key);{let r=Yt();const o=e.rc.get(t);if(!o)return r;for(const u of o){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function ZB(n,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,me.Z)(function*(n,t){const e=et(n),i=yield Hf(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&Rx(e,t.targetId,r.Xu),r}),Lx.apply(this,arguments)}function GB(n,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,me.Z)(function*(n,t){const e=et(n);return dR(e.localStore,t).then(i=>Gd(e,i))}),Ux.apply(this,arguments)}function qB(n,t,e,i){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,me.Z)(function*(n,t,e,i){const r=et(n),o=yield function(u,h){const g=et(u),v=et(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>v.Tn(T,h).next(I=>I?g.localDocuments.getDocuments(T,I):ae.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Wv(r.remoteStore):"acknowledged"===e||"rejected"===e?(Ox(r,t,i||null),Nx(r,t),h=t,et(et(r.localStore).mutationQueue).An(h)):dt(),yield Gd(r,o)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),Bx.apply(this,arguments)}function Vx(){return Vx=(0,me.Z)(function*(n,t){const e=et(n);if(Zx(e),Gx(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield kR(e,i.toArray());e.dc=!0,yield hx(e.remoteStore,!0);for(const o of r)ZE(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Xv(e,u),pu(e.localStore,u,!0))),S1(e.remoteStore,u)}),yield r,yield kR(e,i),function(o){const u=et(o);u.cc.forEach((h,g)=>{S1(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Xn(Qe.comparator)}(e),e.dc=!1,yield hx(e.remoteStore,!1)}}),Vx.apply(this,arguments)}function kR(n,t,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,me.Z)(function*(n,t,e){const i=et(n),r=[],o=[];for(const u of t){let h;const g=i.rc.get(u);if(g&&0!==g.length){h=yield fu(i.localStore,Lr(g[0]));for(const v of g){const T=i.ic.get(v),I=yield ZB(i,T);I.snapshot&&o.push(I.snapshot)}}else{const v=yield uR(i.localStore,u);h=yield fu(i.localStore,v),yield Tx(i,PR(v),u,!1,h.resumeToken)}r.push(h)}return i.sc.zo(o),r}),Hx.apply(this,arguments)}function PR(n){return rE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function WB(n){const t=et(n);return et(et(t.localStore).persistence).vi()}function YB(n,t,e,i){return jx.apply(this,arguments)}function jx(){return jx=(0,me.Z)(function*(n,t,e,i){const r=et(n);if(r.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield dR(r.localStore,Ub(o[0])),h=xv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Zi.EMPTY_BYTE_STRING);yield Gd(r,u,h);break}case"rejected":yield pu(r.localStore,t,!0),Xv(r,t,i);break;default:dt()}}),jx.apply(this,arguments)}function KB(n,t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,me.Z)(function*(n,t,e){const i=Zx(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const o=yield uR(i.localStore,r),u=yield fu(i.localStore,o);yield Tx(i,PR(o),u.targetId,!1,u.resumeToken),ZE(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield pu(i.localStore,r,!1).then(()=>{S1(i.remoteStore,r),Xv(i,r)}).catch(Pa))}}),$x.apply(this,arguments)}function Zx(n){const t=et(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=NR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$B.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LB.bind(null,t),t.sc.zo=SB.bind(null,t.eventManager),t.sc.wc=AB.bind(null,t.eventManager),t}function Gx(n){const t=et(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BB.bind(null,t),t}class FR{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,me.Z)(function*(){e.It=D1(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return vn(this.persistence,new Oe,t.initialUser,this.It)}yc(t){return new E(O.Bs,this.It)}gc(t){return new gR}terminate(){var t=this;return(0,me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class LR extends FR{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Gx(i.Ac.syncEngine),yield Wv(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return vn(this.persistence,new Oe,t.initialUser,this.It)}Tc(t,e){return new kA(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new Ab(e,this.persistence);return new zC(t.asyncQueue,i)}yc(t){const e=ut(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new ye(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,_R(),$E(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new gR}}class QB extends LR{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof WA&&(i.sharedClientState.syncEngine={Fr:qB.bind(null,r),$r:YB.bind(null,r),Br:KB.bind(null,r),vi:WB.bind(null,r),Mr:GB.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,me.Z)(function*(u){yield function zB(n,t){return Vx.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(t){const e=_R();if(!WA.C(e))throw new ke(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ut(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new WA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class qx{initialize(t,e){var i=this;return(0,me.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>OR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=jB.bind(null,i.syncEngine),yield hx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new IB}createDatastore(t){const e=D1(t.databaseInfo.databaseId),i=new cB(t.databaseInfo);return new hB(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>OR(this.syncEngine,h,0),u=mR.C()?new mR:new oB,new gB(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,g,v){const T=new RB(i,r,o,u,h,g);return v&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,me.Z)(function*(e){const i=et(e);Le("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield zv(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function zx(n,t,e){if(!e)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function UR(n,t,e,i){if(!0===t&&!0===i)throw new ke(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function BR(n){if(!Qe.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VR(n){if(Qe.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":dt()}function pn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qE(n);throw new ke(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function HR(n,t){if(t<=0)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const jR=new Map;class $R{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,UR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class A1{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $R({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $R(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new FC;switch(e.type){case"gapi":return new UC(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=jR.get(t);e&&(Le("ComponentProvider","Removing Datastore"),jR.delete(t),e.terminate())}(this),Promise.resolve()}}class ui{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ui(this.firestore,t,this._key)}}class vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class gu extends vs{constructor(t,e,i){super(t,e,Af(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ui(this.firestore,null,new Qe(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function GR(n,t,...e){if(n=(0,zt.m9)(n),zx("collection","path",t),n instanceof A1){const i=fn.fromString(t,...e);return VR(i),new gu(n,null,i)}{if(!(n instanceof ui||n instanceof gu))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return VR(i),new gu(n.firestore,null,i)}}function zE(n,t,...e){if(n=(0,zt.m9)(n),1===arguments.length&&(t=Eb.R()),zx("doc","path",t),n instanceof A1){const i=fn.fromString(t,...e);return BR(i),new ui(n,null,new Qe(i))}{if(!(n instanceof ui||n instanceof gu))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return BR(i),new ui(n.firestore,n instanceof gu?n.converter:null,new Qe(i))}}function qR(n,t){return n=(0,zt.m9)(n),t=(0,zt.m9)(t),(n instanceof ui||n instanceof gu)&&(t instanceof ui||t instanceof gu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Wx(n,t){return n=(0,zt.m9)(n),t=(0,zt.m9)(t),n instanceof vs&&t instanceof vs&&n.firestore===t.firestore&&kg(n._query,t._query)&&n.converter===t.converter}function zR(n,t=10240){let e=0;return{read:()=>(0,me.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class WE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):zn("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class eV{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new li,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,me.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,me.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,me.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new xB(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,me.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,me.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,me.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class iV{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,me.Z)(function*(o,u){const h=et(o),g=au(h.It)+"/documents",v={documents:u.map(k=>Ov(h.It,k))},T=yield h._o("BatchGetDocuments",g,v,u.length),I=new Map;T.forEach(k=>{const U=function eR(n,t){return"found"in t?function(e,i){Ot(!!i.found);const r=ja(e,i.found.name),o=Gi(i.found.updateTime),u=new xi({mapValue:{fields:i.found.fields}});return Mn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Ot(!!i.missing),Ot(!!i.readTime);const r=ja(e,i.missing),o=Gi(i.readTime);return Mn.newNoDocument(r,o)}(n,t):dt()}(h.It,k);I.set(U.key.toString(),U)});const M=[];return u.forEach(k=>{const U=I.get(k.toString());Ot(!!U),M.push(U)}),M}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Rf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Qe.fromPath(r);t.mutations.push(new Gb(o,t.precondition(o)))}),yield(i=(0,me.Z)(function*(r,o){const u=et(r),h=au(u.It)+"/documents",g={writes:o.map(v=>Lg(u.It,v))};yield u.ao("Commit",h,g)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt();e=Rt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Rt.min())?Fn.exists(!1):Fn.updateTime(e):Fn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rt.min()))throw new ke(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(e)}return Fn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class rV{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.No=new YA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.No.Ro((0,me.Z)(function*(){const e=new iV(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Ig(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!gE(e)}return!1}}class sV{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=yr.UNAUTHENTICATED,this.clientId=Eb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,me.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Kv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function WR(n,t){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,me.Z)(function*(o){i.isEqual(o)||(yield Wn(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Yx.apply(this,arguments)}function YR(n,t){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Jx(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>ER(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>ER(t.remoteStore,o)),n.onlineComponents=t}),Kx.apply(this,arguments)}function Jx(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,me.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield WR(n,new FR)),n.offlineComponents}),Qx.apply(this,arguments)}function YE(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,me.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield YR(n,new qx)),n.onlineComponents}),Xx.apply(this,arguments)}function KR(n){return Jx(n).then(t=>t.persistence)}function KE(n){return Jx(n).then(t=>t.localStore)}function eM(n){return YE(n).then(t=>t.remoteStore)}function tM(n){return YE(n).then(t=>t.syncEngine)}function ey(n){return nM.apply(this,arguments)}function nM(){return nM=(0,me.Z)(function*(n){const t=yield YE(n),e=t.eventManager;return e.onListen=kB.bind(null,t.syncEngine),e.onUnlisten=PB.bind(null,t.syncEngine),e}),nM.apply(this,arguments)}function QR(n,t,e={}){const i=new li;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,o,u,h,g){const v=new WE({next:I=>{o.enqueueAndForget(()=>_x(r,T));const M=I.docs.has(u);!M&&I.fromCache?g.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&h&&"server"===h.source?g.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new bx(Af(u.path),v,{includeMetadataChanges:!0,ku:!0});return gx(r,T)}(yield ey(n),n.asyncQueue,t,e,i)})),i.promise}function XR(n,t,e={}){const i=new li;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(r,o,u,h,g){const v=new WE({next:I=>{o.enqueueAndForget(()=>_x(r,T)),I.fromCache&&"server"===h.source?g.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new bx(u,v,{includeMetadataChanges:!0,ku:!0});return gx(r,T)}(yield ey(n),n.asyncQueue,t,e,i)})),i.promise}class fV{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new YA(this,"async_queue_retry"),this.Wc=()=>{const e=$E();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=$E();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=$E();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new li;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,me.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.No.reset()}catch(e){if(!Ul(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.No.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,zn("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=px.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.qc.push(r),r}zc(){this.Kc&&dt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,me.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function iM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class pV{constructor(){this._progressObserver={},this._taskCompletionResolver=new li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class di extends A1{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new fV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ek(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||ek(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ek(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new KS(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new sV(n._authCredentials,n._appCheckCredentials,n._queue,i)}function tk(n,t,e){const i=new li;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield WR(n,e),yield YR(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;Sd("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function nk(n){if(n._initialized||n._terminated)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class mu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mu(Zi.fromBase64String(t))}catch(e){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new mu(Zi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class qd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qg{constructor(t){this._methodName=t}}class JE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}}const EV=/^__.*__$/;class DV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Xo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ud(t,this.data,e,this.fieldTransforms)}}class ik{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Xo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function rk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class QE{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new QE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return tD(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(rk(this.sa)&&EV.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class IV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||D1(t)}da(t,e,i,r=!1){return new QE({sa:t,methodName:e,fa:i,path:yi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function zg(n){const t=n._freezeSettings(),e=D1(n._databaseId);return new IV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function XE(n,t,e,i,r,o={}){const u=n.da(o.merge||o.mergeFields?2:0,t,e,r);aM("Data must be an object, but it was:",u,i);const h=ak(i,u);let g,v;if(o.merge)g=new Vs(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const T=[];for(const I of o.mergeFields){const M=lM(t,I,e);if(!u.contains(M))throw new ke(de.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);ck(T,M)||T.push(M)}g=new Vs(T),v=u.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=u.fieldTransforms;return new DV(new xi(h),g,v)}class x1 extends qg{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof x1}}function sk(n,t,e){return new QE({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class rM extends qg{_toFieldTransform(t){return new Ld(t.path,new Ha)}isEqual(t){return t instanceof rM}}class SV extends qg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=sk(this,t,!0),i=this._a.map(o=>Wg(o,e)),r=new Pd(i);return new Ld(t.path,r)}isEqual(t){return this===t}}class AV extends qg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=sk(this,t,!0),i=this._a.map(o=>Wg(o,e)),r=new Fd(i);return new Ld(t.path,r)}isEqual(t){return this===t}}class xV extends qg{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new xf(t.It,aE(t.It,this.wa));return new Ld(t.path,e)}isEqual(t){return this===t}}function sM(n,t,e,i){const r=n.da(1,t,e);aM("Data must be an object, but it was:",r,i);const o=[],u=xi.empty();xd(i,(g,v)=>{const T=eD(t,g,e);v=(0,zt.m9)(v);const I=r.ca(T);if(v instanceof x1)o.push(T);else{const M=Wg(v,I);null!=M&&(o.push(T),u.set(T,M))}});const h=new Vs(o);return new ik(u,h,r.fieldTransforms)}function oM(n,t,e,i,r,o){const u=n.da(1,t,e),h=[lM(t,i,e)],g=[r];if(o.length%2!=0)throw new ke(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(lM(t,o[M])),g.push(o[M+1]);const v=[],T=xi.empty();for(let M=h.length-1;M>=0;--M)if(!ck(v,h[M])){const k=h[M];let U=g[M];U=(0,zt.m9)(U);const H=u.ca(k);if(U instanceof x1)v.push(k);else{const K=Wg(U,H);null!=K&&(v.push(k),T.set(k,K))}}const I=new Vs(v);return new ik(T,I,u.fieldTransforms)}function ok(n,t,e,i=!1){return Wg(e,n.da(i?4:3,t))}function Wg(n,t){if(lk(n=(0,zt.m9)(n)))return aM("Unsupported field value:",t,n),ak(n,t);if(n instanceof qg)return function(e,i){if(!rk(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Wg(u,i.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,zt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return aE(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Bn.fromDate(e);return{timestampValue:Pf(i.It,r)}}if(e instanceof Bn){const r=new Bn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pf(i.It,r)}}if(e instanceof JE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mu)return{bytesValue:fA(i.It,e._byteString)};if(e instanceof ui){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xb(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${qE(e)}`)}(n,t)}function ak(n,t){const e={};return xb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xd(n,(i,r)=>{const o=Wg(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function lk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Bn||n instanceof JE||n instanceof mu||n instanceof ui||n instanceof qg)}function aM(n,t,e){if(!lk(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=qE(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function lM(n,t,e){if((t=(0,zt.m9)(t))instanceof qd)return t._internalPath;if("string"==typeof t)return eD(n,t);throw tD("Field path arguments must be of type string or ",n,!1,void 0,e)}const MV=new RegExp("[~\\*/\\[\\]]");function eD(n,t,e){if(t.search(MV)>=0)throw tD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new qd(...t.split("."))._internalPath}catch{throw tD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tD(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new ke(de.INVALID_ARGUMENT,h+n+g)}function ck(n,t){return n.some(e=>e.isEqual(t))}class M1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new NV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(nD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class NV extends M1{data(){return super.data()}}function nD(n,t){return"string"==typeof t?eD(n,t):t instanceof qd?t._internalPath:t._delegate._internalPath}function uk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N1{}function $f(n,...t){for(const e of t)n=e._apply(n);return n}class OV extends N1{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=zg(t.firestore),i=function(r,o,u,h,g,v,T){let I;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){mk(T,v);const k=[];for(const U of T)k.push(gk(h,r,U));I={arrayValue:{values:k}}}else I=gk(h,r,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||mk(T,v),I=ok(u,"where",T,"in"===v||"not-in"===v);const M=br.create(g,v,I);return function(k,U){if(U.dt()){const K=Og(k);if(null!==K&&!K.isEqual(U.field))throw new ke(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${K.toString()}' and '${U.field.toString()}'`);const we=Dv(k);null!==we&&_k(0,U.field,we)}const H=function(K,we){for(const Se of K.filters)if(we.indexOf(Se.op)>=0)return Se.op;return null}(k,function(K){switch(K){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==H)throw new ke(de.INVALID_ARGUMENT,H===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${H.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new vs(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new Vl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class kV extends N1{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ou(r,o);return function(h,g){if(null===Dv(h)){const v=Og(h);null!==v&&_k(0,v,g.field)}}(i,u),u}(t._query,this.ma,this.pa);return new vs(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Vl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class dk extends N1{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new vs(t.firestore,t.converter,Rg(t._query,this.Ia,this.Ta))}}class hk extends N1{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=pk(t,this.type,this.Ea,this.Aa);return new vs(t.firestore,t.converter,(r=e,new Vl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class fk extends N1{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=pk(t,this.type,this.Ea,this.Aa);return new vs(t.firestore,t.converter,(r=e,new Vl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function pk(n,t,e,i){if(e[0]=(0,zt.m9)(e[0]),e[0]instanceof M1)return function(r,o,u,h,g){if(!h)throw new ke(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const T of Rd(r))if(T.field.isKeyField())v.push(su(o,h.key));else{const I=h.data.field(T.field);if(Nb(I))throw new ke(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=T.field.canonicalString();throw new ke(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(I)}return new Va(v,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=zg(n.firestore);return function(o,u,h,g,v,T){const I=o.explicitOrderBy;if(v.length>I.length)throw new ke(de.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let k=0;k<v.length;k++){const U=v[k];if(I[k].field.isKeyField()){if("string"!=typeof U)throw new ke(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!Iv(o)&&-1!==U.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const H=o.path.child(fn.fromString(U));if(!Qe.isDocumentKey(H))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const K=new Qe(H);M.push(su(u,K))}else{const H=ok(h,g,U);M.push(H)}}return new Va(M,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function gk(n,t,e){if("string"==typeof(e=(0,zt.m9)(e))){if(""===e)throw new ke(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(t)&&-1!==e.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fn.fromString(e));if(!Qe.isDocumentKey(i))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return su(n,new Qe(i))}if(e instanceof ui)return su(n,e._key);throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qE(e)}.`)}function mk(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function _k(n,t,e){if(!e.isEqual(t))throw new ke(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class cM{convertValue(t,e="none"){switch(Od(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ci(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw dt()}}convertObject(t,e){const i={};return xd(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new JE(ci(t.latitude),ci(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=YS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(pv(t));default:return null}}convertTimestamp(t){const e=Md(t);return new Bn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fn.fromString(t);Ot(TE(i));const r=new iu(i.get(1),i.get(3)),o=new Qe(i.popFirst(5));return r.isEqual(e)||zn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function iD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class jV extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ui(this.firestore,null,e)}}class Yg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zd extends M1{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new O1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(nD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class O1 extends zd{data(t={}){return super.data(t)}}class Zf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Yg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new O1(this._firestore,this._userDataWriter,i.key,i,new Yg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new O1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new O1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:$V(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $V(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function vk(n,t){return n instanceof zd&&t instanceof zd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Zf&&t instanceof Zf&&n._firestore===t._firestore&&Wx(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Gf extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ui(this.firestore,null,e)}}function yk(n,t,e){n=pn(n,ui);const i=pn(n.firestore,di),r=iD(n.converter,t,e);return ty(i,[XE(zg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Fn.none())])}function bk(n,t,e,...i){n=pn(n,ui);const r=pn(n.firestore,di),o=zg(r);let u;return u="string"==typeof(t=(0,zt.m9)(t))||t instanceof qd?oM(o,"updateDoc",n._key,t,e,i):sM(o,"updateDoc",n._key,t),ty(r,[u.toMutation(n._key,Fn.exists(!0))])}function wk(n,...t){var e,i,r;n=(0,zt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||iM(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(iM(t[u])){const I=t[u];t[u]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let g,v,T;if(n instanceof ui)v=pn(n.firestore,di),T=Af(n._key.path),g={next:I=>{t[u]&&t[u](uM(v,n,I))},error:t[u+1],complete:t[u+2]};else{const I=pn(n,vs);v=pn(I.firestore,di),T=I._query;const M=new Gf(v);g={next:k=>{t[u]&&t[u](new Zf(v,M,I,k))},error:t[u+1],complete:t[u+2]},uk(n._query)}return function(I,M,k,U){const H=new WE(U),K=new bx(M,H,k);return I.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return gx(yield ey(I),K)})),()=>{H.bc(),I.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return _x(yield ey(I),K)}))}}(zi(v),T,h,g)}function ty(n,t){return function(e,i){const r=new li;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function FB(n,t,e){return Dx.apply(this,arguments)}(yield tM(e),i,r)})),r.promise}(zi(n),t)}function uM(n,t,e){const i=e.docs.get(t._key),r=new Gf(n);return new zd(n,r,t._key,i,new Yg(e.hasPendingWrites,e.fromCache),t.converter)}const XV={maxAttempts:5};class Tk{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zg(t)}set(t,e,i){this._verifyNotCommitted();const r=qf(t,this._firestore),o=iD(r.converter,e,i),u=XE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Fn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=qf(t,this._firestore);let u;return u="string"==typeof(e=(0,zt.m9)(e))||e instanceof qd?oM(this._dataReader,"WriteBatch.update",o._key,e,i,r):sM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Fn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=qf(t,this._firestore);return this._mutations=this._mutations.concat(new Rf(e._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qf(n,t){if((n=(0,zt.m9)(n)).firestore!==t)throw new ke(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class e3 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=zg(t)}get(t){const e=qf(t,this._firestore),i=new jV(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return dt();const o=r[0];if(o.isFoundDocument())return new M1(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new M1(this._firestore,i,e._key,null,e.converter);throw dt()})}set(t,e,i){const r=qf(t,this._firestore),o=iD(r.converter,e,i),u=XE(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=qf(t,this._firestore);let u;return u="string"==typeof(e=(0,zt.m9)(e))||e instanceof qd?oM(this._dataReader,"Transaction.update",o._key,e,i,r):sM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=qf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=qf(t,this._firestore),i=new Gf(this._firestore);return super.get(t).then(r=>new zd(this._firestore,i,e._key,r._document,new Yg(!1,!1),e.converter))}}function dM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Ek(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function Dk(){if(!function WS(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Id=qo.SDK_VERSION,(0,qo._registerComponent)(new Zh.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new di(new LC(e.getProvider("auth-internal")),new Cb(e.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(h.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(HS,"3.7.1",n),(0,qo.registerVersion)(HS,"3.7.1","esm2017")}();class R1{constructor(t){this._delegate=t}static fromBase64String(t){return Dk(),new R1(mu.fromBase64String(t))}static fromUint8Array(t){return Ek(),new R1(mu.fromUint8Array(t))}toBase64(){return Dk(),this._delegate.toBase64()}toUint8Array(){return Ek(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hM(n){return function u3(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class d3{enableIndexedDbPersistence(t,e){return function mV(n,t){nk(n=pn(n,di));const e=zi(n),i=n._freezeSettings(),r=new qx;return tk(e,r,new LR(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function _V(n){nk(n=pn(n,di));const t=zi(n),e=n._freezeSettings(),i=new qx;return tk(t,i,new QB(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function vV(n){if(n._initialized&&!n._terminated)throw new ke(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new li;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(e=(0,me.Z)(function*(i){if(!Qo.C())return Promise.resolve();const r=i+"main";yield Qo.delete(r)}),function(i){return e.apply(this,arguments)})(ut(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Ik{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof iu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Sd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function ZR(n,t,e,i={}){var r;const o=(n=pn(n,A1))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Sd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=yr.MOCK_USER;else{u=(0,zt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yr(g)}n._authCredentials=new ZS(new PC(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function bV(n){return function oV(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield KR(n),e=yield eM(n);return t.setNetworkEnabled(!0),function(i){const r=et(i);return r.wu.delete(0),I1(r)}(e)}))}(zi(n=pn(n,di)))}(this._delegate)}disableNetwork(){return function wV(n){return function aV(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const t=yield KR(n),e=yield eM(n);return t.setNetworkEnabled(!1),(i=(0,me.Z)(function*(r){const o=et(r);o.wu.add(0),yield zv(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(zi(n=pn(n,di)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,UR("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yV(n){return function(t){const e=new li;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function VB(n,t){return Mx.apply(this,arguments)}(yield tM(t),e)})),e.promise}(zi(n=pn(n,di)))}(this._delegate)}onSnapshotsInSync(t){return function QV(n,t){return function uV(n,t){const e=new WE(t);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield ey(n),r=e,et(i).bu.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield ey(n),r=e,void et(i).bu.delete(r);var i,r}))}}(zi(n=pn(n,di)),iM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ny(this,GR(this._delegate,t))}catch(e){throw Hs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Za(this,zE(this._delegate,t))}catch(e){throw Hs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new js(this,function XB(n,t){if(n=pn(n,A1),zx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(e=t,new Vl(fn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Hs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function t3(n,t,e){n=pn(n,di);const i=Object.assign(Object.assign({},XV),e);return function(r){if(r.maxAttempts<1)throw new ke(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new li;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const g=yield function JR(n){return YE(n).then(t=>t.datastore)}(r);new rV(r.asyncQueue,g,u,o,h).run()})),h.promise}(zi(n),r=>t(new e3(n,r)),i)}(this._delegate,e=>t(new Sk(this,e)))}batch(){return zi(this._delegate),new Ak(new Tk(this._delegate,t=>ty(this._delegate,t)))}loadBundle(t){return function TV(n,t){const e=zi(n=pn(n,di)),i=new pV;return function dV(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return zR(g,v);if(g instanceof ArrayBuffer)return zR(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new eV(g,u);var g}(e,D1(t));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function JB(n,t,e){const i=et(n);var r;(r=(0,me.Z)(function*(o,u,h){try{const g=yield u.getMetadata();if(yield function(M,k){const U=et(M),H=Gi(k.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",K=>U.Ns.getBundleMetadata(K,k.id)).then(K=>!!K&&K.createTime.compareTo(H)>=0)}(o.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=g).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(SR(g));const v=new MB(g,o.localStore,u.It);let T=yield u.mc();for(;T;){const M=yield v.Fu(T);M&&h._updateProgress(M),T=yield u.mc()}const I=yield v.complete();return yield Gd(o,I.Lu,void 0),yield function(M,k){const U=et(M);return U.persistence.runTransaction("Save bundle","readwrite",H=>U.Ns.saveBundleMetadata(H,k))}(o.localStore,g),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(g){return Sd("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var M}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield tM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function CV(n,t){return function hV(n,t){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(e,i){const r=et(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield KE(n),t)}))}(zi(n=pn(n,di)),t).then(e=>e?new vs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new js(this,e):null)}}class rD extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new R1(new mu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Za.forKey(e,this.firestore,null)}}class Sk{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new rD(t)}get(t){const e=Jg(t);return this._delegate.get(e).then(i=>new k1(this._firestore,new zd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Jg(t);return i?(dM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Jg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Jg(t);return this._delegate.delete(e),this}}class Ak{constructor(t){this._delegate=t}set(t,e,i){const r=Jg(t);return i?(dM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Jg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Jg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Kg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new O1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new P1(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Kg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Kg(t,new rD(t),e),r.set(e,o)),o}}Kg.INSTANCES=new WeakMap;class Za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Za(e,new ui(e._delegate,i,new Qe(t)))}static forKey(t,e,i){return new Za(e,new ui(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new ny(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ny(this.firestore,GR(this._delegate,t))}catch(e){throw Hs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,zt.m9)(t))instanceof ui&&qR(this._delegate,t)}set(t,e){e=dM("DocumentReference.set",e);try{return e?yk(this._delegate,t,e):yk(this._delegate,t)}catch(i){throw Hs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?bk(this._delegate,t):bk(this._delegate,t,e,...i)}catch(r){throw Hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function KV(n){return ty(pn(n.firestore,di),[new Rf(n._key,Fn.none())])}(this._delegate)}onSnapshot(...t){const e=xk(t),i=Mk(t,r=>new k1(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return wk(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function GV(n){n=pn(n,ui);const t=pn(n.firestore,di),e=zi(t),i=new Gf(t);return function lV(n,t){const e=new li;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,o,u){try{const h=yield function(g,v){const T=et(g);return T.persistence.runTransaction("read document","readonly",I=>T.localDocuments.getDocument(I,v))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=Kv(h,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield KE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new zd(t,i,n._key,r,new Yg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function qV(n){n=pn(n,ui);const t=pn(n.firestore,di);return QR(zi(t),n._key,{source:"server"}).then(e=>uM(t,n,e))}(this._delegate):function ZV(n){n=pn(n,ui);const t=pn(n.firestore,di);return QR(zi(t),n._key).then(e=>uM(t,n,e))}(this._delegate),e.then(i=>new k1(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Za(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}function Hs(n,t,e){return n.message=n.message.replace(t,e),n}function xk(n){for(const t of n)if("object"==typeof t&&!hM(t))return t;return{}}function Mk(n,t){var e,i;let r;return r=hM(n[0])?n[0]:hM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class k1{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return vk(this._delegate,t._delegate)}}class P1 extends k1{data(t){const e=this._delegate.data(t);return function $S(n,t){n||dt()}(void 0!==e),e}}class js{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rD(t)}where(t,e,i){try{return new js(this.firestore,$f(this._delegate,function RV(n,t,e){const i=t,r=nD("where",n);return new OV(r,i,e)}(t,e,i)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new js(this.firestore,$f(this._delegate,function PV(n,t="asc"){const e=t,i=nD("orderBy",n);return new kV(i,e)}(t,e)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new js(this.firestore,$f(this._delegate,function FV(n){return HR("limit",n),new dk("limit",n,"F")}(t)))}catch(e){throw Hs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new js(this.firestore,$f(this._delegate,function LV(n){return HR("limitToLast",n),new dk("limitToLast",n,"L")}(t)))}catch(e){throw Hs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new js(this.firestore,$f(this._delegate,function UV(...n){return new hk("startAt",n,!0)}(...t)))}catch(e){throw Hs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new js(this.firestore,$f(this._delegate,function BV(...n){return new hk("startAfter",n,!1)}(...t)))}catch(e){throw Hs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new js(this.firestore,$f(this._delegate,function VV(...n){return new fk("endBefore",n,!1)}(...t)))}catch(e){throw Hs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new js(this.firestore,$f(this._delegate,function HV(...n){return new fk("endAt",n,!0)}(...t)))}catch(e){throw Hs(e,"endAt()","Query.endAt()")}}isEqual(t){return Wx(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function WV(n){n=pn(n,vs);const t=pn(n.firestore,di),e=zi(t),i=new Gf(t);return function cV(n,t){const e=new li;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(r,o,u){try{const h=yield Hf(r,o,!0),g=new MR(o,h.Hi),v=g.Wu(h.documents),T=g.applyChanges(v,!1);u.resolve(T.snapshot)}catch(h){const g=Kv(h,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield KE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Zf(t,i,n,r))}(this._delegate):"server"===t?.source?function YV(n){n=pn(n,vs);const t=pn(n.firestore,di),e=zi(t),i=new Gf(t);return XR(e,n._query,{source:"server"}).then(r=>new Zf(t,i,n,r))}(this._delegate):function zV(n){n=pn(n,vs);const t=pn(n.firestore,di),e=zi(t),i=new Gf(t);return uk(n._query),XR(e,n._query).then(r=>new Zf(t,i,n,r))}(this._delegate),e.then(i=>new fM(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=xk(t),i=Mk(t,r=>new fM(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return wk(this._delegate,e,i)}withConverter(t){return new js(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}class f3{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new P1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new P1(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new f3(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new P1(this._firestore,i))})}isEqual(t){return vk(this._delegate,t._delegate)}}class ny extends js{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Za(this.firestore,t):null}doc(t){try{return new Za(this.firestore,void 0===t?zE(this._delegate):zE(this._delegate,t))}catch(e){throw Hs(e,"doc()","CollectionReference.doc()")}}add(t){return function JV(n,t){const e=pn(n.firestore,di),i=zE(n),r=iD(n.converter,t);return ty(e,[XE(zg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Za(this.firestore,e))}isEqual(t){return qR(this._delegate,t._delegate)}withConverter(t){return new ny(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}function Jg(n){return pn(n,ui)}class pM{constructor(...t){this._delegate=new qd(...t)}static documentId(){return new pM(yi.keyField().canonicalString())}isEqual(t){return(t=(0,zt.m9)(t))instanceof qd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Qg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function r3(){return new rM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Qg(t)}static delete(){const t=function n3(){return new x1("deleteField")}();return t._methodName="FieldValue.delete",new Qg(t)}static arrayUnion(...t){const e=function s3(...n){return new SV("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Qg(e)}static arrayRemove(...t){const e=function o3(...n){return new AV("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Qg(e)}static increment(t){const e=function a3(n){return new xV("increment",n)}(t);return e._methodName="FieldValue.increment",new Qg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const p3={Firestore:Ik,GeoPoint:JE,Timestamp:Bn,Blob:R1,Transaction:Sk,WriteBatch:Ak,DocumentReference:Za,DocumentSnapshot:k1,Query:js,QueryDocumentSnapshot:P1,QuerySnapshot:fM,CollectionReference:ny,FieldPath:pM,FieldValue:Qg,setLogLevel:function h3(n){!function jS(n){Jo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Nk(n,t){return function _3(n,t=B_.z){return new Rn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function gM(n,t){return Nk(n,t).pipe((0,We.U)(e=>({payload:e,type:"query"})))}function sD(n,t){return gM(n,t).pipe(zr(void 0),V_(),(0,We.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(T=>T.doc.ref.isEqual(u.ref)),v=e?.payload.docs.find(T=>T.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function Ok(n,t,e){return sD(n,e).pipe(Ft((i,r)=>function y3(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function b3(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return mM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return mM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return mM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Yh(),(0,We.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function mM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Rk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function m3(n){(function g3(n,t){n.INTERNAL.registerComponent(new Zh.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},p3)))})(n,(t,e)=>new Ik(t,e,new d3)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(H_.Z);class kk{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=sD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,We.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(zr(void 0),V_(),D(([i,r])=>r.length>0||!i),(0,We.U)(([i,r])=>r),Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ft((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Rk(t);return Ok(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return gM(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Qn.iC)}get(t){return(0,ln.D)(this.query.get(t)).pipe(Qn.iC)}add(t){return this.ref.add(t)}doc(t){return new Pk(this.ref.doc(t),this.afs)}}class Pk{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=Uk(i,e);return new kk(r,o,this.afs)}snapshotChanges(){return function v3(n,t){return Nk(n,t).pipe(zr(void 0),V_(),(0,We.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,We.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ln.D)(this.ref.get(t)).pipe(Qn.iC)}}class w3{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?sD(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),D(e=>e.length>0),Qn.iC):sD(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ft((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Rk(t);return Ok(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return gM(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Qn.iC)}get(t){return(0,ln.D)(this.query.get(t)).pipe(Qn.iC)}}const Fk=new s.OlP("angularfire2.enableFirestorePersistence"),Lk=new s.OlP("angularfire2.firestore.persistenceSettings"),T3=new s.OlP("angularfire2.firestore.settings"),C3=new s.OlP("angularfire2.firestore.use-emulator");function Uk(n,t=(e=>e)){return{query:t(n),ref:n}}let Bk=(()=>{class n{constructor(e,i,r,o,u,h,g,v,T,I,M,k,U,H,K,we,Se){this.schedulers=g;const Fe=(0,pr.on)(e,h,i),Ae=T;I&&qp(Fe,h,M,U,H,K,k,we),[this.firestore,this.persistenceEnabled$]=(0,pr.cc)(`${Fe.name}.firestore`,"AngularFirestore",Fe.name,()=>{const He=h.runOutsideAngular(()=>Fe.firestore());if(o&&He.settings(o),Ae&&He.useEmulator(...Ae),r&&!Pi(u)){const Ge=()=>{try{return(0,ln.D)(He.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),Xe(!1)}};return[He,h.runOutsideAngular(Ge)]}return[He,Xe(!1)]},[o,Ae,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=Uk(r,i),h=this.schedulers.ngZone.run(()=>o);return new kk(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new w3(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Pk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pr.Dh),s.LFG(pr.xv,8),s.LFG(Fk,8),s.LFG(T3,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Qn.HU),s.LFG(Lk,8),s.LFG(C3,8),s.LFG(R0,8),s.LFG(RT,8),s.LFG(L_,8),s.LFG(kT,8),s.LFG(PT,8),s.LFG(Gp,8),s.LFG(U_,8),s.LFG(P_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E3=(()=>{class n{constructor(){O0.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Fk,useValue:!0},{provide:Lk,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Bk]}),n})();class Vk{}const Wd="*";function _M(n,t){return{type:7,name:n,definitions:t,options:{}}}function F1(n,t=null){return{type:4,styles:t,timings:n}}function Hk(n,t=null){return{type:2,steps:n,options:t}}function _u(n){return{type:6,styles:n,offset:null}}function L1(n,t,e){return{type:0,name:n,styles:t,options:e}}function U1(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function jk(n){Promise.resolve().then(n)}class B1{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class $k{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?jk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Zk=["toast-component",""];function I3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.remove())}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA()()}}function S3(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij("[",e.duplicatesCount+1,"]")}}function A3(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,S3,2,1,"ng-container",4),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.titleClass),s.uIk("aria-label",e.title),s.xp6(1),s.hij(" ",e.title," "),s.xp6(1),s.Q6J("ngIf",e.duplicatesCount)}}function x3(n,t){if(1&n&&s._UZ(0,"div",7),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.Q6J("innerHTML",e.message,s.oJD)}}function M3(n,t){if(1&n&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.uIk("aria-label",e.message),s.xp6(1),s.hij(" ",e.message," ")}}function N3(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Udp("width",e.width+"%")}}class U3{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class V3{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new It.x,this._activate=new It.x,this._manualClose=new It.x,this._resetTimeout=new It.x,this._countDuplicate=new It.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class oD{constructor(t,e,i,r,o,u){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=u,this._onTap=new It.x,this._onAction=new It.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const qk=new s.OlP("ToastConfig");class H3 extends class B3{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class j3{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let $3=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z3=(()=>{class n{constructor(e,i,r,o){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=r,this._document=o,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new H3(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new j3(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($3),s.LFG(s._Vd),s.LFG(s.z2F),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yM=(()=>{class n{constructor(e,i,r,o,u){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const g=u&&h.title===e;if((!u||g)&&h.message===i)return h.toastRef.onDuplicate(r,o),h}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&o.enableHtml&&(v=this.sanitizer.sanitize(s.q3G.HTML,i));const T=new V3(g),I=new oD(this.index,o,v,r,e,T),k=s.zs3.create({providers:[{provide:oD,useValue:I}],parent:this._injector}),U=new U3(o.toastComponent,k),H=g.attach(U,o.newestOnTop);T.componentInstance=H.instance;const K={toastId:this.index,title:r||"",message:i||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:I.onTap(),onAction:I.onAction(),portal:H};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{K.toastRef.activate()})),this.toasts.push(K),K}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qk),s.LFG(Z3),s.LFG(s.zs3),s.LFG(Fo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G3={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yM),s.Y36(oD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(s.d8E("@flyInOut",i.state),s.Tol(i.toastClasses),s.Udp("display",i.displayStyle))},attrs:Zk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(s.YNc(0,I3,3,0,"button",0),s.YNc(1,A3,3,5,"div",1),s.YNc(2,x3,1,3,"div",2),s.YNc(3,M3,2,4,"div",3),s.YNc(4,N3,2,2,"div",4)),2&e&&(s.Q6J("ngIf",i.options.closeButton),s.xp6(1),s.Q6J("ngIf",i.title),s.xp6(1),s.Q6J("ngIf",i.message&&i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.message&&!i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.options.progressBar))},dependencies:[Xt],encapsulation:2,data:{animation:[_M("flyInOut",[L1("inactive",_u({opacity:0})),L1("active",_u({opacity:1})),L1("removed",_u({opacity:0})),U1("inactive => active",F1("{{ easeTime }}ms {{ easing }}")),U1("active => removed",F1("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let q3=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:qk,useValue:{default:G3,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),vu=(()=>{class n{constructor(e){this.toastr=e}showSuccess(e,i,r){this.toastr.success(e,i,r||{timeOut:2e3})}showError(e,i,r){this.toastr.error(e,i,r||{timeOut:2e3,positionClass:"toast-top-center"})}showInfo(e,i,r){this.toastr.info(e,i,r||{timeOut:2e3,positionClass:"toast-bottom-right"})}showWarning(e,i,r){this.toastr.warning(e,i,r||{timeOut:2e3,positionClass:"toast-bottom-left"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ql=(()=>{class n{constructor(e,i,r,o){this.angularFireAuth=e,this.angularFirestore=i,this.notifyService=r,this.router=o,this.isAdmin=!1,this.isLogged=!1,this.user$=this.angularFireAuth.authState.pipe(Cn(u=>u?this.angularFirestore.doc(`usuarios/${u.uid}`).valueChanges():Xe(null)))}registerNewUser(e){this.angularFireAuth.createUserWithEmailAndPassword(e.email,e.password).then(i=>{i.user?.sendEmailVerification(),this.angularFirestore.collection("usuarios").doc(i.user?.uid).set({id:i.user?.uid,perfil:e.perfil,nombre:e.nombre,apellido:e.apellido,edad:e.edad,dni:e.dni,obraSocial:e.obraSocial,especialidad:e.especialidad,email:e.email,password:e.password,imagen1:e.imagen1,imagen2:e.imagen2,aprobado:e.aprobado}).then(()=>{this.notifyService.showInfo("Verifica tu email","Registro exitoso")}).catch(r=>{this.notifyService.showError(this.createMessage(r.code),"Error")})}).catch(i=>{this.notifyService.showError(this.createMessage(i.code),"Error")})}updateUser(e){this.angularFirestore.doc(`usuarios/${e.id}`).update(e).then(()=>{}).catch(i=>{this.notifyService.showError("Ocurrio un error","Administrador")})}userLogin(e,i){var r=this;return(0,me.Z)(function*(){try{return yield r.angularFireAuth.signInWithEmailAndPassword(e,i)}catch(o){throw console.log(o.code),r.notifyService.showError("Email y/o contrase\xf1a invalidos","Inicio fallido"),o}})()}userLogout(){this.isAdmin=!1,this.isLogged=!1,this.angularFireAuth.signOut()}createUserLog(e,i){return this.angularFirestore.collection(e).add(i)}createTurnList(e){console.log("Entra al create"),this.angularFirestore.collection("turnos").add(e).then(i=>{this.angularFirestore.collection("turnos").doc(i.id).set({id:i.id,especialista:e.especialista,turnos:e.turnos})})}updateTurnList(e){console.log("Entra al update"),this.angularFirestore.doc(`turnos/${e.id}`).update(e).then(()=>{}).catch(i=>{console.log(i.message),this.notifyService.showError("Ocurrio un error","Administrador")})}getTurnList(){return this.angularFirestore.collection("turnos").valueChanges()}createMessage(e){let i="";switch(e){case"auth/internal-error":i="Los campos estan vacios";break;case"auth/operation-not-allowed":i="La operaci\xf3n no est\xe1 permitida.";break;case"auth/email-already-in-use":i="El email ya est\xe1 registrado.";break;case"auth/invalid-email":i="El email no es valido.";break;case"auth/weak-password":i="La contrase\xf1a debe tener al menos 6 caracteres";break;default:i="Error al crear el usuario."}return i}getUserLogged(){return this.angularFireAuth.authState}getUsers(){return this.angularFirestore.collection("usuarios").valueChanges()}getCollection(e){return this.angularFirestore.collection(e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(R0),s.LFG(Bk),s.LFG(vu),s.LFG(si))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var z3=F(1144);const W3=["addListener","removeListener"],Y3=["addEventListener","removeEventListener"],K3=["on","off"];function ys(n,t,e,i){if((0,fr.m)(e)&&(i=e,e=void 0),i)return ys(n,t,e).pipe(wa(i));const[r,o]=function X3(n){return(0,fr.m)(n.addEventListener)&&(0,fr.m)(n.removeEventListener)}(n)?Y3.map(u=>h=>n[u](t,h,e)):function J3(n){return(0,fr.m)(n.addListener)&&(0,fr.m)(n.removeListener)}(n)?W3.map(zk(n,t)):function Q3(n){return(0,fr.m)(n.on)&&(0,fr.m)(n.off)}(n)?K3.map(zk(n,t)):[];if(!r&&(0,z3.z)(n))return(0,S.z)(u=>ys(u,t,e))((0,ji.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Rn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function zk(n,t){return e=>i=>n[e](t,i)}var eH=F(3532);function aD(n=0,t,e=B_.P){let i=-1;return null!=t&&((0,eH.K)(t)?e=t:i=t),new Rn.y(r=>{let o=function tH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:nH}=Array;function Wk(n){return 1===n.length&&nH(n[0])?n[0]:n}var lD=F(5032);function cD(...n){const t=(0,hr.jO)(n),e=Wk(n);return e.length?new Rn.y(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let u=0;!i.closed&&u<e.length;u++)(0,ji.Xf)(e[u]).subscribe((0,bn.x)(i,h=>{if(r[u].push(h),r.every(g=>g.length)){const g=r.map(v=>v.shift());i.next(t?t(...g):g),r.some((v,T)=>!v.length&&o[T])&&i.complete()}},()=>{o[u]=!0,!r[u].length&&i.complete()}));return()=>{r=o=null}}):qr.E}function hi(n){return(0,Zn.e)((t,e)=>{(0,ji.Xf)(n).subscribe((0,bn.x)(e,()=>e.complete(),lD.Z)),!e.closed&&t.subscribe(e)})}function bM(...n){const t=(0,hr.jO)(n);return(0,Zn.e)((e,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,ji.Xf)(n[g]).subscribe((0,bn.x)(i,v=>{o[g]=v,!h&&!u[g]&&(u[g]=!0,(h=u.every(Rs.y))&&(u=null))},lD.Z));e.subscribe((0,bn.x)(i,g=>{if(h){const v=[g,...o];i.next(t?t(...v):v)}}))})}function Jk(n,t){return t?e=>Zr(t.pipe(Vt(1),function sH(){return(0,Zn.e)((n,t)=>{n.subscribe((0,bn.x)(t,lD.Z))})}()),e.pipe(Jk(n))):(0,S.z)((e,i)=>n(e,i).pipe(Vt(1),Uo(e)))}function wM(n,t=B_.z){const e=aD(n,t);return Jk(()=>e)}function TM(n){return D((t,e)=>n<=e)}new Rn.y(lD.Z);let Xk=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Xg=(()=>{class n extends Xk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const zl=new s.OlP("NgValueAccessor"),aH={provide:zl,useExisting:(0,s.Gpc)(()=>yu),multi:!0},cH=new s.OlP("CompositionEventMode");let yu=(()=>{class n extends Xk{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lH(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(cH,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([aH]),s.qOj]}),n})();function zf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tP(n){return null!=n&&"number"==typeof n.length}const bs=new s.OlP("NgValidators"),Wf=new s.OlP("NgAsyncValidators"),dH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bi{static min(t){return nP(t)}static max(t){return iP(t)}static required(t){return function rP(n){return zf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function sP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function oP(n){return zf(n.value)||dH.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function aP(n){return t=>zf(t.value)||!tP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function lP(n){return t=>tP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function cP(n){if(!n)return uD;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(zf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return gP(t)}static composeAsync(t){return mP(t)}}function nP(n){return t=>{if(zf(t.value)||zf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function iP(n){return t=>{if(zf(t.value)||zf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function uD(n){return null}function uP(n){return null!=n}function dP(n){return(0,s.QGY)(n)?(0,ln.D)(n):n}function hP(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function fP(n,t){return t.map(e=>e(n))}function pP(n){return n.map(t=>function hH(n){return!n.validate}(t)?t:e=>t.validate(e))}function gP(n){if(!n)return null;const t=n.filter(uP);return 0==t.length?null:function(e){return hP(fP(e,t))}}function CM(n){return null!=n?gP(pP(n)):null}function mP(n){if(!n)return null;const t=n.filter(uP);return 0==t.length?null:function(e){return function Qk(...n){const t=(0,hr.jO)(n),{args:e,keys:i}=_l(n),r=new Rn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let g=u,v=u;for(let T=0;T<u;T++){let I=!1;(0,ji.Xf)(e[T]).subscribe((0,bn.x)(o,M=>{I||(I=!0,v--),h[T]=M},()=>g--,void 0,()=>{(!g||!I)&&(v||o.next(i?Ta(i,h):h),o.complete())}))}});return t?r.pipe(wa(t)):r}(fP(e,t).map(dP)).pipe((0,We.U)(hP))}}function EM(n){return null!=n?mP(pP(n)):null}function _P(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vP(n){return n._rawValidators}function yP(n){return n._rawAsyncValidators}function DM(n){return n?Array.isArray(n)?n:[n]:[]}function dD(n,t){return Array.isArray(n)?n.includes(t):n===t}function bP(n,t){const e=DM(t);return DM(n).forEach(r=>{dD(e,r)||e.push(r)}),e}function wP(n,t){return DM(t).filter(e=>!dD(n,e))}class TP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=CM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=EM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $s extends TP{get formDirective(){return null}get path(){return null}}class Yf extends TP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kf=(()=>{class n extends CP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),V1=(()=>{class n extends CP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($s,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const H1="VALID",fD="INVALID",iy="PENDING",j1="DISABLED";function xM(n){return(pD(n)?n.validators:n)||null}function DP(n){return Array.isArray(n)?CM(n):n||null}function MM(n,t){return(pD(t)?t.asyncValidators:n)||null}function IP(n){return Array.isArray(n)?EM(n):n||null}function pD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function SP(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function AP(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class gD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=DP(this._rawValidators),this._composedAsyncValidatorFn=IP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===H1}get invalid(){return this.status===fD}get pending(){return this.status==iy}get disabled(){return this.status===j1}get enabled(){return this.status!==j1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=DP(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=IP(t)}addValidators(t){this.setValidators(bP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(wP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(wP(t,this._rawAsyncValidators))}hasValidator(t){return dD(this._rawValidators,t)}hasAsyncValidator(t){return dD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=j1,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=H1,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===H1||this.status===iy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j1:H1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iy,this._hasOwnPendingAsyncValidator=!0;const e=dP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?j1:this.errors?fD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iy)?iy:this._anyControlsHaveStatus(fD)?fD:H1}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class $1 extends gD{constructor(t,e,i){super(xM(e),MM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){AP(this,0,t),Object.keys(t).forEach(i=>{SP(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class xP extends $1{}function mD(n,t){return[...t.path,n]}function Z1(n,t){NM(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function bH(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&MP(n,t)})}(n,t),function TH(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function wH(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&MP(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function yH(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _D(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),yD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function NM(n,t){const e=vP(n);null!==t.validator?n.setValidators(_P(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=yP(n);null!==t.asyncValidator?n.setAsyncValidators(_P(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();vD(t._rawValidators,r),vD(t._rawAsyncValidators,r)}function yD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=vP(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=yP(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return vD(t._rawValidators,i),vD(t._rawAsyncValidators,i),e}function MP(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function RM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===yu?e=o:function DH(n){return Object.getPrototypeOf(n.constructor)===Xg}(o)?i=o:r=o}),r||i||e||null}function kP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function PP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const q1=class extends gD{constructor(t=null,e,i){super(xM(e),MM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=PP(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){PP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},MH={provide:Yf,useExisting:(0,s.Gpc)(()=>z1)},UP=(()=>Promise.resolve())();let z1=(()=>{class n extends Yf{constructor(e,i,r,o,u){super(),this._changeDetectorRef=u,this.control=new q1,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RM(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),OM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){UP.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);UP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?mD(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($s,9),s.Y36(bs,10),s.Y36(Wf,10),s.Y36(zl,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([MH]),s.qOj,s.TTD]}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const NH={provide:zl,useExisting:(0,s.Gpc)(()=>ry),multi:!0};let ry=(()=>{class n extends Xg{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([NH]),s.qOj]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const PM=new s.OlP("NgModelWithFormControlWarning"),FH={provide:$s,useExisting:(0,s.Gpc)(()=>em)};let em=(()=>{class n extends $s{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Z1(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){_D(e.control||null,e,!1),function IH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function RP(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(_D(i||null,e),(n=>n instanceof q1)(r)&&(Z1(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function NP(n,t){NM(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function CH(n,t){return yD(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NM(this.form,this),this._oldForm&&yD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bs,10),s.Y36(Wf,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([FH]),s.qOj,s.TTD]}),n})();const BH={provide:Yf,useExisting:(0,s.Gpc)(()=>sy)};let sy=(()=>{class n extends Yf{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RM(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),OM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36($s,13),s.Y36(bs,10),s.Y36(Wf,10),s.Y36(zl,10),s.Y36(PM,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([BH]),s.qOj,s.TTD]}),n})();const VH={provide:zl,useExisting:(0,s.Gpc)(()=>bD),multi:!0};function ZP(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let bD=(()=>{class n extends Xg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=ZP(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function HH(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([VH]),s.qOj]}),n})(),GP=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ZP(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(bD,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const jH={provide:zl,useExisting:(0,s.Gpc)(()=>UM),multi:!0};function qP(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let UM=(()=>{class n extends Xg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,u)=>{o._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const u=o;for(let h=0;h<u.length;h++){const v=this._getOptionValue(u[h].value);r.push(v)}}else{const u=i.options;for(let h=0;h<u.length;h++){const g=u[h];if(g.selected){const v=this._getOptionValue(g.value);r.push(v)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function $H(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([jH]),s.qOj]}),n})(),zP=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(qP(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(qP(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(UM,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function YP(n){return"number"==typeof n?n:parseFloat(n)}let tm=(()=>{class n{constructor(){this._validator=uD}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uD,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const ZH={provide:bs,useExisting:(0,s.Gpc)(()=>Y1),multi:!0};let Y1=(()=>{class n extends tm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>YP(e),this.createValidator=e=>iP(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[s._Bn([ZH]),s.qOj]}),n})();const GH={provide:bs,useExisting:(0,s.Gpc)(()=>K1),multi:!0};let K1=(()=>{class n extends tm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>YP(e),this.createValidator=e=>nP(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[s._Bn([GH]),s.qOj]}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[BP]}),n})(),nF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[tF]}),n})(),iF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:PM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[tF]}),n})();class rF extends gD{constructor(t,e,i){super(xM(e),MM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){AP(this,0,t),t.forEach((i,r)=>{SP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function sF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let wD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return sF(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new $1(r,o)}record(e,i=null){const r=this._reduceControls(e);return new xP(r,i)}control(e,i,r){let o={};return this.useNonNullable?(sF(i)?o=i:(o.validators=i,o.asyncValidators=r),new q1(e,{...o,nonNullable:!0})):new q1(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new rF(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof q1||e instanceof gD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:iF}),n})();Math,Math,Math;const lj=["*"],Ij=["dialog"];function JM(n){return"string"==typeof n}function rm(n){return null!=n}function uy(n){return(n||document.body).getBoundingClientRect()}const CF={animation:!0,transitionTimerDelayMs:5},b$=()=>{},{transitionTimerDelayMs:w$}=CF,iw=new Map,Zs=(n,t,e,i)=>{let r=i.context||{};const o=iw.get(t);if(o)switch(i.runningTransition){case"continue":return qr.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),iw.delete(t)}const u=e(t,i.animation,r)||b$;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),Xe(void 0).pipe(function v$(n){return t=>new Rn.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const h=new It.x,g=new It.x,v=h.pipe(function rH(...n){return t=>Zr(t,Xe(...n))}(!0));iw.set(t,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const T=function y$(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const I=ys(t,"transitionend").pipe(hi(v),D(({target:k})=>k===t));(function Yk(...n){return 1===(n=Wk(n)).length?(0,ji.Xf)(n[0]):new Rn.y(function iH(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,ji.Xf)(n[i]).subscribe((0,bn.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(aD(T+w$).pipe(hi(v)),I,g).pipe(hi(v)).subscribe(()=>{iw.delete(t),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let SD=(()=>{class n{constructor(){this.animation=CF.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),MF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),kF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var Cr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Cr||(Cr={})),Cr))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const FF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function LF(n){const t=Array.from(n.querySelectorAll(FF)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let GF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn,nF]}),n})(),rN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),WF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class lm{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let hZ=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Vt(1)).subscribe(()=>{Zs(this._zone,this._el.nativeElement,(e,i)=>{i&&uy(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Zs(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class YF{close(t){}dismiss(t){}}class fZ{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new It.x,this._dismissed=new It.x,this._hidden=new It.x,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function TF(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Xe(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cD(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var aw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(aw||(aw={})),aw))();let pZ=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new It.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new It.x,this.hidden=new It.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":JM(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Vt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=cD(Zs(this._zone,e,()=>e.classList.remove("show"),i),Zs(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};cD(Zs(this._zone,this._elRef.nativeElement,(o,u)=>{u&&uy(o),o.classList.add("show")},e),Zs(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ys(e,"keydown").pipe(hi(this._closed$),D(r=>r.which===Cr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(aw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ys(this._dialogEl.nativeElement,"mousedown").pipe(hi(this._closed$),(0,Pe.b)(()=>i=!1),Cn(()=>ys(e,"mouseup").pipe(hi(this._closed$),Vt(1))),D(({target:r})=>e===r)).subscribe(()=>{i=!0}),ys(e,"click").pipe(hi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(aw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=LF(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Zs(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ie),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ij,7),2&e){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lj,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),gZ=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:u}=r;if(e>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=u),r.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mZ=(()=>{class n{constructor(e,i,r,o,u,h){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new It.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ys(t,"focusin").pipe(hi(e),(0,We.U)(o=>o.target));ys(t,"keydown").pipe(hi(e),D(o=>o.which===Cr.Tab),bM(r)).subscribe(([o,u])=>{const[h,g]=LF(t);(u===h||u===t)&&o.shiftKey&&(g.focus(),o.preventDefault()),u===g&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&ys(t,"click").pipe(hi(e),bM(r),(0,We.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:rm(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new YF,g=this._getContentRef(r.injector||e,i,h,r);let v=!1!==r.backdrop?this._attachBackdrop(o):void 0,T=this._attachWindowComponent(o,g.nodes),I=new fZ(T,g,v,r.beforeDismiss);return this._registerModalRef(I),this._registerWindowCmpt(T),I.hidden.pipe(Vt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=M=>{I.close(M)},h.dismiss=M=>{I.dismiss(M)},this._applyWindowOptions(T.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),v&&v.instance&&(this._applyBackdropOptions(v.instance,r),v.changeDetectorRef.detectChanges()),T.changeDetectorRef.detectChanges(),I}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,s.LMc)(hZ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,s.LMc)(pZ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{rm(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{rm(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o){return i?i instanceof s.Rgc?this._createFromTemplateRef(i,r):JM(i)?this._createFromString(i):this._createFromComponent(e,i,r,o):new lm([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new lm([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new lm([[i]])}_createFromComponent(e,i,r,o){const u=s.zs3.create({providers:[{provide:YF,useValue:r}],parent:e}),h=(0,s.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:u}),g=h.location.nativeElement;return o.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new lm([[g]],h.hostView,h)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(ie),s.LFG(gZ),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_Z=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(SD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vZ=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(mZ),s.LFG(_Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vZ]}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),h2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),g2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function NZ(){return 100}});let _2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn]}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const OZ=[xF,MF,RF,kF,GF,WF,KF,e2,v2,c2,d2,h2,f2,p2,g2,m2,_2];let lN,RZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[OZ,xF,MF,RF,kF,GF,WF,KF,e2,v2,c2,d2,h2,f2,p2,g2,m2,_2]}),n})();try{lN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lN=!1}let lw,cm,cN,Cu=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function rc(n){return n===Ss}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cw(n){return function kZ(){if(null==lw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lw=!0}))}finally{lw=lw||!1}return lw}()?n:!!n.capture}function PZ(){if(null==cm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cm=!1,cm;if("scrollBehavior"in document.documentElement.style)cm=!0;else{const n=Element.prototype.scrollTo;cm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return cm}function um(n){return n.composedPath?n.composedPath()[0]:n.target}function uN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fN(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function pN(n,t=B_.z){return(0,Zn.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=u+n,T=t.now();if(T<v)return r=this.schedule(void 0,v-T),void i.add(r);h()}e.subscribe((0,bn.x)(i,v=>{o=v,u=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function dm(n){return null!=n&&"false"!=`${n}`}function UD(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function py(n){return n instanceof s.SBq?n.nativeElement:n}const T2=new Set;let gy,e4=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):n4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function t4(n){if(!T2.has(n))try{gy||(gy=document.createElement("style"),gy.setAttribute("type","text/css"),document.head.appendChild(gy)),gy.sheet&&(gy.sheet.insertRule(`@media ${n} {body{ }}`,0),T2.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n4(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let i4=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new It.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return C2(UD(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=ks(C2(UD(e)).map(u=>this._registerQuery(u).observable));return o=Zr(o.pipe(Vt(1)),o.pipe(TM(1),pN(0))),o.pipe((0,We.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{h.matches=h.matches||g,h.breakpoints[v]=g}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Rn.y(u=>{const h=g=>this._zone.run(()=>u.next(g));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(zr(i),(0,We.U)(({matches:u})=>({query:e,matches:u})),hi(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(e4),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C2(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class a4 extends class o4{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It.x,this._typeaheadSubscription=ri.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new It.x,this.change=new It.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Pe.b)(e=>this._pressedLetters.push(e)),pN(t),D(()=>this._pressedLetters.length>0),(0,We.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||fN(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function gN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function mN(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const f4=new s.OlP("cdk-input-modality-detector-options"),p4={ignoreKeys:[18,17,224,91,16]},my=cw({passive:!0,capture:!0});let g4=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new cn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=um(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gN(u)?"keyboard":"mouse"),this._mostRecentTarget=um(u))},this._onTouchstart=u=>{mN(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=um(u))},this._options={...p4,...o},this.modalityDetected=this._modality.pipe(TM(1)),this.modalityChanged=this.modalityDetected.pipe(Yh()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,my),r.addEventListener("mousedown",this._onMousedown,my),r.addEventListener("touchstart",this._onTouchstart,my)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,my),document.removeEventListener("mousedown",this._onMousedown,my),document.removeEventListener("touchstart",this._onTouchstart,my))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cu),s.LFG(s.R0b),s.LFG(ie),s.LFG(f4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _4=new s.OlP("cdk-focus-monitor-default-options"),BD=cw({passive:!0,capture:!0});let VD=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=um(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=py(e);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const o=function LZ(n){if(function FZ(){if(null==cN){const n=typeof document<"u"?document.head:null;cN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return cN}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new It.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=py(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=py(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,g])=>this._originChanged(h,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=um(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,BD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,BD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Cu),s.LFG(g4),s.LFG(ie,8),s.LFG(_4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A2="cdk-high-contrast-black-on-white",x2="cdk-high-contrast-white-on-black",_N="cdk-high-contrast-active";let v4=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(i4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(_N,A2,x2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(_N,A2):2===i&&e.add(_N,x2)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cu),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y4=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function b4(){return(0,s.f3M)(ie)}}),w4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vN=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function T4(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?w4.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(y4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const E4=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function C4(){return!0}});let Eu=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!uN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(v4),s.LFG(E4,8),s.LFG(ie))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[uw,uw]}),n})();function yN(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=dm(t)}}}function O2(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function R2(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=dm(t)}}}class S4{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const k2={enterDuration:225,exitDuration:150},bN=cw({passive:!0}),P2=["mousedown","touchstart"],F2=["mouseup","mouseleave","touchend","touchcancel"];class x4{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=py(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...k2,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function M4(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,g=e-r.top,v=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=h-u+"px",T.style.top=g-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(T);const I=window.getComputedStyle(T),k=I.transitionDuration,U="none"===I.transitionProperty||"0s"===k||"0s, 0s"===k,H=new S4(this,T,i,U);T.style.transform="scale3d(1, 1, 1)",H.state=0,i.persistent||(this._mostRecentTransientRipple=H);let K=null;return!U&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const we=()=>this._finishRippleTransition(H),Se=()=>this._destroyRipple(H);T.addEventListener("transitionend",we),T.addEventListener("transitioncancel",Se),K={onTransitionEnd:we,onTransitionCancel:Se}}),this._activeRipples.set(H,K),(U||!v)&&this._finishRippleTransition(H),H}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...k2,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=py(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(P2))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(F2),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=gN(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!mN(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,bN)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(P2.forEach(t=>{this._triggerElement.removeEventListener(t,this,bN)}),this._pointerUpEventsRegistered&&F2.forEach(t=>{this._triggerElement.removeEventListener(t,this,bN)}))}}const N4=new s.OlP("mat-ripple-global-options");let wN=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new x4(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Cu),s.Y36(N4,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),L2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Eu,Eu]}),n})();const O4=["mat-button",""],R4=["*"],P4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],F4=O2(yN(R2(class{constructor(n){this._elementRef=n}})));let U2=(()=>{class n extends F4{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of P4)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(VD),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(wN,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:O4,ngContentSelectors:R4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[wN],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),L4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[L2,Eu,Eu]}),n})();var B2=F(4408);let TN,U4=1;const HD={};function V2(n){return n in HD&&(delete HD[n],!0)}const B4={setImmediate(n){const t=U4++;return HD[t]=!0,TN||(TN=Promise.resolve()),TN.then(()=>V2(t)&&n()),t},clearImmediate(n){V2(n)}},{setImmediate:V4,clearImmediate:H4}=B4,jD={setImmediate(...n){const{delegate:t}=jD;return(t?.setImmediate||V4)(...n)},clearImmediate(n){const{delegate:t}=jD;return(t?.clearImmediate||H4)(n)},delegate:void 0};var H2=F(7565);const CN=new class $4 extends H2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class j4 extends B2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(jD.clearImmediate(e),t._scheduled=void 0)}});class EN{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Z4 extends EN{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class j2 extends EN{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class G4 extends EN{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class z4 extends class q4{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Z4?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof j2?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof G4?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let W4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const hw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=hw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ri.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=hw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=hw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class K4 extends H2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Y4 extends B2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(hw.cancelAnimationFrame(e),t._scheduled=void 0)}});function $2(n,t=B_.z){return function Q4(n){return(0,Zn.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},g=()=>{o=null,u&&e.complete()};t.subscribe((0,bn.x)(e,v=>{i=!0,r=v,o||(0,ji.Xf)(n(v)).subscribe(o=(0,bn.x)(e,h,g))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>aD(n,t))}let eG=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new It.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Rn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe($2(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(D(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=py(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ys(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Cu),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z2=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new It.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($2(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cu),s.LFG(s.R0b),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),G2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[uw,DN,uw,DN]}),n})();const q2=PZ();class nG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sr(-this._previousScrollPosition.left),t.style.top=sr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),q2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),q2&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class iG{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class z2{enable(){}disable(){}attach(){}}function IN(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function W2(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class rG{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();IN(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sG=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new z2,this.close=u=>new iG(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new nG(this._viewportRuler,this._document),this.reposition=u=>new rG(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(eG),s.LFG(Z2),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Y2{constructor(t){if(this.scrollStrategy=new z2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class oG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let K2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aG=(()=>{class n extends K2{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lG=(()=>{class n extends K2{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=um(o)},this._clickListener=o=>{const u=um(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const T=g[v];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(h))break;const I=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Cu),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J2=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||uN()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),uN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Cu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cG{constructor(t,e,i,r,o,u,h,g,v,T=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new It.x,this._attachments=new It.x,this._detachments=new It.x,this._locationChanges=ri.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new It.x,this._outsidePointerEvents=new It.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=sr(this._config.width),t.height=sr(this._config.height),t.minWidth=sr(this._config.minWidth),t.minHeight=sr(this._config.minHeight),t.maxWidth=sr(this._config.maxWidth),t.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=UD(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(hi((0,Bp.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Q2="cdk-overlay-connected-position-bounding-box",uG=/([A-Za-z%]+)$/;class dG{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new It.x,this._resizeSubscription=ri.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Q2),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(g,e,h),T=this._getOverlayFit(v,e,i,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(T,v,i)?o.push({position:h,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:v,originPoint:g,position:h,overlayRect:e})}if(o.length){let h=null,g=-1;for(const v of o){const T=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);T>g&&(g=T,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Q2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=eL(e);let{x:u,y:h}=t,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(h+=v);let M=0-h,k=h+o.height-i.height,U=this._subtractOverflows(o.width,0-u,u+o.width-i.width),H=this._subtractOverflows(o.height,M,k),K=U*H;return{visibleArea:K,isCompletelyWithinViewport:o.width*o.height===K,fitsInViewportVertically:H===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=X2(this._overlayRef.getConfig().minHeight),h=X2(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=eL(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),g=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let T=0,I=0;return T=r.width<=o.width?v||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,I=r.height<=o.height?g||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:T,y:I},{x:t.x+T,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new oG(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,T,I,M;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const k=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*k,u=t.y-k,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,T=i.right-t.x;else{const k=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;T=2*k,I=t.x-k,T>U&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-U/2)}return{top:u,left:I,bottom:h,right:M,width:T,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=sr(o)),u&&(r.maxWidth=sr(u))}this._lastBoundingBoxSize=i,hm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();hm(i,this._getExactOverlayY(e,t,T)),hm(i,this._getExactOverlayX(e,t,T))}else i.position="static";let h="",g=this._getOffset(e,"x"),v=this._getOffset(e,"y");g&&(h+=`translateX(${g}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=sr(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=sr(u.maxWidth):o&&(i.maxWidth="")),hm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=sr(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=sr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:W2(t,i),isOriginOutsideView:IN(t,i),isOverlayClipped:W2(e,i),isOverlayOutsideView:IN(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&UD(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function hm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function X2(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(uG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function eL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const tL="cdk-global-overlay-wrapper";class hG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(tL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),T=this._xPosition,I=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let k="",U="",H="";g?H="flex-start":"center"===T?(H="center",M?U=I:k=I):M?"left"===T||"end"===T?(H="flex-end",k=I):("right"===T||"start"===T)&&(H="flex-start",U=I):"left"===T||"start"===T?(H="flex-start",k=I):("right"===T||"end"===T)&&(H="flex-end",U=I),t.position=this._cssPosition,t.marginLeft=g?"0":k,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":U,e.justifyContent=H,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(tL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let fG=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new hG}flexibleConnectedTo(e){return new dG(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z2),s.LFG(ie),s.LFG(Cu),s.LFG(J2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pG=0,$D=(()=>{class n{constructor(e,i,r,o,u,h,g,v,T,I,M,k){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=v,this._directionality=T,this._location=I,this._outsideClickDispatcher=M,this._animationsModuleType=k}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Y2(e);return u.direction=u.direction||this._directionality.value,new cG(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+pG++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new z4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sG),s.LFG(J2),s.LFG(s._Vd),s.LFG(fG),s.LFG(aG),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ie),s.LFG(vN),s.LFG(Ne),s.LFG(lG),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _G={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[$D],useFactory:function mG(n){return()=>n.scrollStrategies.reposition()}};let vG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$D,_G],imports:[uw,W4,G2,G2]}),n})();const yG=["mat-menu-item",""];function bG(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const nL=["*"];function wG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const ZD={transformMenu:_M("transformMenu",[L1("void",_u({opacity:0,transform:"scale(0.8)"})),U1("void => enter",F1("120ms cubic-bezier(0, 0, 0.2, 1)",_u({opacity:1,transform:"scale(1)"}))),U1("* => void",F1("100ms 25ms linear",_u({opacity:0})))]),fadeInItems:_M("fadeInItems",[L1("showing",_u({opacity:1})),U1("void => *",[_u({opacity:0}),F1("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},TG=new s.OlP("MatMenuContent"),SN=new s.OlP("MAT_MENU_PANEL"),CG=R2(yN(class{}));let fw=(()=>{class n extends CG{constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new It.x,this._focused=new It.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ie),s.Y36(VD),s.Y36(SN,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:yG,ngContentSelectors:nL,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,bG,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Xt,wN],encapsulation:2,changeDetection:0}),n})();const iL=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function EG(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let DG=0,pw=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=ri.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new It.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+DG++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=dm(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=dm(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new a4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(zr(this._directDescendantItems),Cn(e=>(0,Bp.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(zr(this._directDescendantItems),Cn(i=>(0,Bp.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:fN(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(Vt(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(zr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(iL),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,TG,5),s.Suo(r,fw,5),s.Suo(r,fw,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),rL=(()=>{class n extends pw{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(iL),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:SN,useExisting:n}]),s.qOj],ngContentSelectors:nL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,wG,3,6,"ng-template"))},dependencies:[sn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ZD.transformMenu,ZD.fadeInItems]},changeDetection:0}),n})();const sL=new s.OlP("mat-menu-scroll-strategy"),SG={provide:sL,deps:[$D],useFactory:function IG(n){return()=>n.scrollStrategies.reposition()}},oL=cw({passive:!0});let AG=(()=>{class n{constructor(e,i,r,o,u,h,g,v,T){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=g,this._focusMonitor=v,this._ngZone=T,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ri.w0.EMPTY,this._hoverSubscription=ri.w0.EMPTY,this._menuCloseSubscription=ri.w0.EMPTY,this._handleTouchStart=I=>{mN(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof pw?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,oL),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,oL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof pw&&(e._startAnimation(),e._directDescendantItems.changes.pipe(hi(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof pw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(D(r=>"void"===r.toState),Vt(1),hi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Y2({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[g,v]=[u,h],[T,I]=[r,o],M=0;if(this.triggersSubmenu()){if(I=r="before"===e.xPosition?"start":"end",o=T="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const k=this._parentMaterialMenu.items.first;this._parentInnerPadding=k?k._getHostElement().offsetTop:0}M="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(g="top"===u?"bottom":"top",v="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:g,overlayX:T,overlayY:u,offsetY:M},{originX:o,originY:g,overlayX:I,overlayY:u,offsetY:M},{originX:r,originY:v,overlayX:T,overlayY:h,offsetY:-M},{originX:o,originY:v,overlayX:I,overlayY:h,offsetY:-M}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Xe(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(D(u=>u!==this._menuItemInstance),D(()=>this._menuOpen)):Xe();return(0,Bp.T)(e,r,o,i)}_handleMousedown(e){gN(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(D(e=>e===this._menuItemInstance&&!e.disabled),wM(0,CN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof pw&&this.menu._isAnimating?this.menu._animationDone.pipe(Vt(1),wM(0,CN),hi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new j2(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($D),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(sL),s.Y36(SN,8),s.Y36(fw,10),s.Y36(vN,8),s.Y36(VD),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),aL=(()=>{class n extends AG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),xG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[SG],imports:[Kn,Eu,L2,vG,DN,Eu]}),n})();function MG(n,t){1&n&&(s.TgZ(0,"li",8)(1,"a",16)(2,"button",10),s._uU(3,"Mi Perfil"),s.qZA()()())}function NG(n,t){1&n&&(s.TgZ(0,"li",8)(1,"a",17)(2,"button",10),s._uU(3,"Solicitar Turno"),s.qZA()()())}function OG(n,t){1&n&&(s.TgZ(0,"li",8)(1,"a",18)(2,"button",10),s._uU(3,"Turnos"),s.qZA()()())}function RG(n,t){1&n&&(s.TgZ(0,"li",8)(1,"a",19)(2,"button",10),s._uU(3,"Mis Turnos"),s.qZA()()())}function kG(n,t){1&n&&(s.TgZ(0,"a",20)(1,"button",10),s._uU(2,"USUARIOS"),s.qZA()())}function PG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",21)(1,"button",22),s._UZ(2,"img",23),s.qZA(),s.TgZ(3,"mat-menu",24,25)(5,"p",26),s._uU(6),s.qZA(),s.TgZ(7,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.logout())}),s._uU(8," LOGOUT "),s.qZA()()()}if(2&n){const e=s.MAs(4),i=s.oxw();s.xp6(1),s.Q6J("matMenuTriggerFor",e),s.xp6(1),s.s9C("src",i.user.imagen1,s.LSH),s.xp6(4),s.hij(" ",i.user.nombre," ")}}function FG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToRegister())}),s.TgZ(1,"span"),s._uU(2,"Registro"),s.qZA()()}}function LG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",29),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToLogin())}),s.TgZ(1,"span"),s._uU(2,"Login"),s.qZA()()}}let Xf=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.user=null,this.isPaciente=!1,this.isEspecialista=!1}ngOnInit(){this.authService.user$.subscribe(e=>{e&&(this.user=e,this.authService.isLogged=!0,"administrador"==this.user.perfil?this.authService.isAdmin=!0:"paciente"==this.user.perfil?this.isPaciente=!0:this.isEspecialista=!0)})}goToRegister(){this.router.navigate(["/registro"])}goToLogin(){this.router.navigate(["/login"])}logout(){this.authService.userLogout(),this.user=null,this.authService.isLogged=!1,this.router.navigate([""])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(si),s.Y36(ql))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],decls:21,vars:8,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["src","../../../favicon.ico","alt","icono principal",1,"imagenNav"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-light"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],[1,"btn-nav"],["class","nav-item",4,"ngIf"],["class","nav-link active","aria-current","page","routerLink","/usuarios-admin",4,"ngIf"],["class","userInfo",4,"ngIf"],["class","btn-nav btn-registro",3,"click",4,"ngIf"],["class","btn-nav btn-login",3,"click",4,"ngIf"],["aria-current","page","routerLink","/mi-perfil",1,"nav-link","active"],["aria-current","page","routerLink","/solicitar-turno",1,"nav-link","active"],["aria-current","page","routerLink","/turnos",1,"nav-link","active"],["aria-current","page","routerLink","/mis-turnos",1,"nav-link","active"],["aria-current","page","routerLink","/usuarios-admin",1,"nav-link","active"],[1,"userInfo"],["type","button","color","light","mat-fab","",3,"matMenuTriggerFor"],["alt","usuario",1,"img-btn",3,"src"],["yPosition","below"],["paciente1","matMenu"],[2,"text-align","center","font-weight","bolder"],["type","button","color","primary","mat-menu-item","",3,"click"],[1,"btn-nav","btn-registro",3,"click"],[1,"btn-nav","btn-login",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"button",4),s._UZ(5,"span",5),s.qZA(),s.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9)(10,"button",10),s._uU(11,"Home"),s.qZA()()(),s.YNc(12,MG,4,0,"li",11),s.YNc(13,NG,4,0,"li",11),s.YNc(14,OG,4,0,"li",11),s.YNc(15,RG,4,0,"li",11),s.TgZ(16,"li",8),s.YNc(17,kG,3,0,"a",12),s.qZA()(),s.YNc(18,PG,9,3,"span",13),s.YNc(19,FG,3,0,"button",14),s.YNc(20,LG,3,0,"button",15),s.qZA()()()),2&e&&(s.xp6(12),s.Q6J("ngIf",i.user),s.xp6(1),s.Q6J("ngIf",i.authService.isAdmin||i.isPaciente),s.xp6(1),s.Q6J("ngIf",i.authService.isAdmin),s.xp6(1),s.Q6J("ngIf",i.isPaciente||i.isEspecialista),s.xp6(2),s.Q6J("ngIf",i.authService.isAdmin),s.xp6(1),s.Q6J("ngIf",i.authService.isLogged),s.xp6(1),s.Q6J("ngIf",!i.authService.isLogged),s.xp6(1),s.Q6J("ngIf",!i.authService.isLogged))},dependencies:[Xt,Fp,rN,U2,rL,fw,aL],styles:[".navbar[_ngcontent-%COMP%]{width:100%;font-family:Poppins,sans-serif;background:rgb(0,0,0);background:linear-gradient(164deg,rgb(0,0,0) 0%,rgb(255,2,2) 39%);background-repeat:no-repeat;background-attachment:fixed;background-position:center;box-shadow:2px 2px 4px #444;text-align:center;z-index:1000}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 0.5)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.imagenNav[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:2rem;border:2px dotted #fff;border-radius:50%;box-shadow:2px 2px 4px #000}.userInfo[_ngcontent-%COMP%]{margin-right:2rem}.img-btn[_ngcontent-%COMP%]{position:absolute;left:0%;top:0%;border-radius:50%;width:3.5rem}.img-btn[_ngcontent-%COMP%]:hover{border-radius:50%;background:rgba(243,50,50,.767);transition:background .5s}.btn-nav[_ngcontent-%COMP%]{font-size:17px;background:transparent;border:none;padding:1em 1.5em;color:#ffedd3;text-transform:uppercase;position:relative;transition:.5s ease}.btn-nav[_ngcontent-%COMP%]:before{content:\"\";position:absolute;left:0;bottom:0;height:2px;width:0;background-color:#fff;transition:.5s ease}.btn-nav[_ngcontent-%COMP%]:hover{color:#990b01;transition-delay:.5s}.btn-nav[_ngcontent-%COMP%]:hover:before{width:100%}.btn-nav[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#f8caca;transition:.4s ease;z-index:-1}.btn-nav[_ngcontent-%COMP%]:hover:after{height:100%;transition-delay:.4s;color:#000}.btn-login[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:#014d0b}.btn-login[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#9af097;transition:.4s ease;z-index:-1}.btn-registro[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:#007272}.btn-registro[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#a8fcfc;transition:.4s ease;z-index:-1}.btn-logout[_ngcontent-%COMP%]:hover{height:100%;transition-delay:.4s;color:red}.btn-logout[_ngcontent-%COMP%]:after{content:\"\";position:absolute;left:0;bottom:0;height:0;width:100%;background-color:#fdff84;transition:.4s ease;z-index:-1}"]}),n})(),UG=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.user=null}ngOnInit(){this.authService.user$.subscribe(e=>{e&&(this.user=e)})}goToRegister(){this.router.navigate(["/registro"])}goToLogin(){this.router.navigate(["/login"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(si),s.Y36(ql))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bienvenida"]],decls:19,vars:0,consts:[[1,"bienvenida"],[1,"tracking-in-expand"],[1,"tracking-in-expand",2,"margin-bottom","1rem"],[2,"margin-bottom","1rem"],[1,"custom-btn","btn-ingresar",3,"click"],[1,"custom-btn","btn-registrarse",3,"click"],[1,"home-container"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div")(2,"div",0)(3,"h1",1),s._uU(4,"Cl\xednica Online"),s.qZA(),s.TgZ(5,"h2",1),s._uU(6,"Trabajo Pr\xe1ctico N\xb0 2"),s.qZA(),s.TgZ(7,"h2",2),s._uU(8," Laboratorio IV "),s.qZA(),s.TgZ(9,"p",3),s._uU(10," Bienvenido, por favor inicia sesi\xf3n para continuar. "),s.qZA(),s.TgZ(11,"div")(12,"button",4),s.NdJ("click",function(){return i.goToLogin()}),s.TgZ(13,"span"),s._uU(14,"Ingresar"),s.qZA()(),s.TgZ(15,"button",5),s.NdJ("click",function(){return i.goToRegister()}),s.TgZ(16,"span"),s._uU(17,"Registrarse"),s.qZA()()()(),s._UZ(18,"div",6),s.qZA())},dependencies:[Xf],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.home-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.bienvenida[_ngcontent-%COMP%]{position:absolute;top:8rem;left:3rem;z-index:100;padding:3rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.452)}.bienvenida[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;color:#df0000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0);margin-bottom:3rem}.bienvenida[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#302f2f;text-shadow:1px 1px 2px rgb(0,0,0)}.bienvenida[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:#615f5f;text-shadow:1px 1px rgb(0,0,0);margin-top:2rem;padding-bottom:1rem}.tracking-in-expand[_ngcontent-%COMP%]{animation:tracking-in-expand 1s cubic-bezier(.215,.61,.355,1) both}@keyframes tracking-in-expand{0%{letter-spacing:-.5em;opacity:0}40%{opacity:.6}to{opacity:1}}.custom-btn[_ngcontent-%COMP%]{width:220px;height:40px;color:#fff;border-radius:5px;padding:10px 25px;font-family:Lato,sans-serif;font-weight:500;background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;box-shadow:inset 2px 2px 2px #ffffff80,7px 7px 20px #0000001a,4px 4px 5px #0000001a;outline:none}.btn-ingresar[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgb(30,255,0) 0%,rgb(0,105,9) 100%);line-height:42px;padding:0;border:none;margin-right:3rem;font-weight:bolder;text-transform:uppercase}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%}.btn-ingresar[_ngcontent-%COMP%]:before, .btn-ingresar[_ngcontent-%COMP%]:after{position:absolute;content:"";right:0;bottom:0;background:rgb(23,251,2);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-ingresar[_ngcontent-%COMP%]:before{height:0%;width:2px}.btn-ingresar[_ngcontent-%COMP%]:after{width:0%;height:2px}.btn-ingresar[_ngcontent-%COMP%]:hover{color:#07c700;background:transparent;font-weight:bolder}.btn-ingresar[_ngcontent-%COMP%]:hover:before{height:100%}.btn-ingresar[_ngcontent-%COMP%]:hover:after{width:100%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;background:rgb(6,194,0);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:2px;height:0%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:2px;width:0%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:before{height:100%}.btn-ingresar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{width:100%}.btn-registrarse[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgb(0,195,230) 0%,rgb(0,110,124) 100%);line-height:42px;padding:0;border:none;font-weight:bolder;text-transform:uppercase}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%}.btn-registrarse[_ngcontent-%COMP%]:before, .btn-registrarse[_ngcontent-%COMP%]:after{position:absolute;content:"";right:0;bottom:0;background:rgb(0,191,216);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-registrarse[_ngcontent-%COMP%]:before{height:0%;width:2px}.btn-registrarse[_ngcontent-%COMP%]:after{width:0%;height:2px}.btn-registrarse[_ngcontent-%COMP%]:hover{color:#0097bd;background:transparent}.btn-registrarse[_ngcontent-%COMP%]:hover:before{height:100%}.btn-registrarse[_ngcontent-%COMP%]:hover:after{width:100%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;background:rgb(0,162,173);box-shadow:-7px -7px 20px #ffffffe6,-4px -4px 5px #ffffffe6,7px 7px 20px #0003,4px 4px 5px #0000004d;transition:all .7s ease}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:2px;height:0%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:2px;width:0%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:before{height:100%}.btn-registrarse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{width:100%}']}),n})();class fm{constructor(){this.id=0,this.perfil="",this.nombre="",this.apellido="",this.edad=0,this.dni=0,this.obraSocial="",this.especialidad="",this.email="",this.password="",this.imagen1="",this.imagen2="",this.aprobado=!1}}function BG(n,t){1&n&&(s.TgZ(0,"div",30)(1,"div",31),s._UZ(2,"div",32)(3,"div",32)(4,"div",32)(5,"div",33)(6,"div",33)(7,"div",33),s.qZA()())}function VG(n,t){1&n&&(s.TgZ(0,"small",34),s._uU(1," El Email es requerido "),s.qZA())}function HG(n,t){1&n&&(s.TgZ(0,"small",34),s._uU(1," La contrase\xf1a es requerida "),s.qZA())}let jG=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.notificationService=i,this.authService=r,this.router=o,this.userLogin=new fm,this.spinner=!1,this.loadedField=!1,this.formLogin=this.formBuilder.group({email:["",[bi.required]],password:["",[bi.required]]})}ngOnInit(){}loginUser(){this.formLogin.valid?(this.spinner=!0,this.userLogin.email=this.formLogin.getRawValue().email,this.userLogin.password=this.formLogin.getRawValue().password,this.authService.userLogin(this.userLogin.email,this.userLogin.password).then(e=>{this.authService.user$.subscribe(i=>{i&&(i.test||e?.user?.emailVerified?"especialista"==i.perfil&&0==i.aprobado?(this.notificationService.showWarning("Tu Cuenta no esta aprobada por un Administrador","Inicio de Sesi\xf3n"),this.spinner=!1,this.authService.userLogout()):(this.authService.isLogged=!0,this.notificationService.showSuccess("Inicio exitoso, redirigiendo...","Inicio de Sesi\xf3n"),this.spinner=!1,this.router.navigate([""])):(e?.user?.sendEmailVerification(),this.notificationService.showWarning("Debes verificar tu email!","Inicio de Sesi\xf3n"),this.spinner=!1,this.authService.userLogout()))})}).catch(e=>{this.spinner=!1})):this.notificationService.showWarning("Debes completar todos los campos requeridos","Inicio de Sesi\xf3n")}loadUser(e){switch(this.loadedField=!0,e){case 1:this.formLogin.setValue({email:"pacienteTest1@mail.com",password:"pacienteTest1"});break;case 2:this.formLogin.setValue({email:"pacienteTest2@mail.com",password:"pacienteTest2"});break;case 3:this.formLogin.setValue({email:"pacienteTest3@mail.com",password:"pacienteTest3"});break;case 4:this.formLogin.setValue({email:"especialistaTest1@mail.com",password:"especialistaTest1"});break;case 5:this.formLogin.setValue({email:"especialistaTest2@mail.com",password:"especialistaTest2"});break;case 6:this.formLogin.setValue({email:"adminTest1@mail.com",password:"adminTest1"})}this.notificationService.showInfo("Usurario cargado, puedes iniciar sesi\xf3n!","Inicio de Sesi\xf3n"),setTimeout(()=>{this.loadedField=!1},1e3)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wD),s.Y36(vu),s.Y36(ql),s.Y36(si))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:71,vars:12,consts:[["class","contenedor-spinner",4,"ngIf"],[1,"login-container"],[1,"example-button-row"],["type","button","color","light","mat-fab","",3,"matMenuTriggerFor"],["src","../../../assets/paciente1.png","alt","",1,"img-btn"],["yPosition","below"],["paciente1","matMenu"],[2,"text-align","center","font-weight","bolder"],["type","button","color","primary","mat-menu-item","",3,"click"],["src","../../../assets/paciente2.png","alt","",1,"img-btn"],["paciente2","matMenu"],["type","button","mat-menu-item","",3,"click"],["src","../../../assets/paciente3.png","alt","",1,"img-btn"],["paciente3","matMenu"],["src","../../../assets/medico2.png","alt","",1,"img-btn"],["especialista2","matMenu"],["src","../../../assets/medico1.png","alt","",1,"img-btn"],["especialista1","matMenu"],["src","../../../assets/admin.png","alt","",1,"img-btn"],["admin","matMenu"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"col-sm","mb-3",3,"ngClass"],["for","email",1,"form-label"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["class","mensaje-error",4,"ngIf"],["for","password",1,"form-label"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],[1,"btn"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(e,i){if(1&e&&(s._UZ(0,"app-navbar"),s.YNc(1,BG,8,0,"div",0),s.TgZ(2,"div",1)(3,"div",2)(4,"button",3),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"mat-menu",5,6)(8,"p",7),s._uU(9,"Paciente 1"),s.qZA(),s.TgZ(10,"button",8),s.NdJ("click",function(){return i.loadUser(1)}),s._uU(11," Cargar campos "),s.qZA()(),s.TgZ(12,"button",3),s._UZ(13,"img",9),s.qZA(),s.TgZ(14,"mat-menu",5,10)(16,"p",7),s._uU(17,"Paciente 2"),s.qZA(),s.TgZ(18,"button",11),s.NdJ("click",function(){return i.loadUser(2)}),s._uU(19," Cargar campos "),s.qZA()(),s.TgZ(20,"button",3),s._UZ(21,"img",12),s.qZA(),s.TgZ(22,"mat-menu",5,13)(24,"p",7),s._uU(25,"Paciente 3"),s.qZA(),s.TgZ(26,"button",11),s.NdJ("click",function(){return i.loadUser(3)}),s._uU(27," Cargar campos "),s.qZA()(),s.TgZ(28,"button",3),s._UZ(29,"img",14),s.qZA(),s.TgZ(30,"mat-menu",5,15)(32,"p",7),s._uU(33,"Especialista 1"),s.qZA(),s.TgZ(34,"button",11),s.NdJ("click",function(){return i.loadUser(4)}),s._uU(35," Cargar campos "),s.qZA()(),s.TgZ(36,"button",3),s._UZ(37,"img",16),s.qZA(),s.TgZ(38,"mat-menu",5,17)(40,"p",7),s._uU(41,"Especialista 2"),s.qZA(),s.TgZ(42,"button",11),s.NdJ("click",function(){return i.loadUser(5)}),s._uU(43," Cargar campos "),s.qZA()(),s.TgZ(44,"button",3),s._UZ(45,"img",18),s.qZA(),s.TgZ(46,"mat-menu",5,19)(48,"p",7),s._uU(49,"Administrador"),s.qZA(),s.TgZ(50,"button",11),s.NdJ("click",function(){return i.loadUser(6)}),s._uU(51," Cargar campos "),s.qZA()()()(),s.TgZ(52,"form",20),s.NdJ("ngSubmit",function(){return i.loginUser()}),s.TgZ(53,"h2"),s._uU(54,"INICIO DE SESI\xd3N"),s.qZA(),s.TgZ(55,"div",21)(56,"div",22)(57,"div",21)(58,"div",23)(59,"label",24),s._uU(60,"Email"),s.qZA(),s._UZ(61,"input",25),s.YNc(62,VG,2,0,"small",26),s.qZA()(),s.TgZ(63,"div",21)(64,"div",23)(65,"label",27),s._uU(66,"Contrase\xf1a"),s.qZA(),s._UZ(67,"input",28),s.YNc(68,HG,2,0,"small",26),s.qZA()(),s.TgZ(69,"button",29),s._uU(70,"Iniciar Sesi\xf3n"),s.qZA()()()()),2&e){const r=s.MAs(7),o=s.MAs(15),u=s.MAs(23),h=s.MAs(31),g=s.MAs(39),v=s.MAs(47);s.xp6(1),s.Q6J("ngIf",i.spinner),s.xp6(3),s.Q6J("matMenuTriggerFor",r),s.xp6(8),s.Q6J("matMenuTriggerFor",o),s.xp6(8),s.Q6J("matMenuTriggerFor",u),s.xp6(8),s.Q6J("matMenuTriggerFor",h),s.xp6(8),s.Q6J("matMenuTriggerFor",g),s.xp6(8),s.Q6J("matMenuTriggerFor",v),s.xp6(8),s.Q6J("formGroup",i.formLogin),s.xp6(6),s.Q6J("ngClass",i.loadedField?"shake-horizontal":""),s.xp6(4),s.Q6J("ngIf",(null==i.formLogin.controls.email.errors?null:i.formLogin.controls.email.errors.required)&&i.formLogin.controls.email.touched),s.xp6(2),s.Q6J("ngClass",i.loadedField?"shake-horizontal":""),s.xp6(4),s.Q6J("ngIf",(null==i.formLogin.controls.password.errors?null:i.formLogin.controls.password.errors.required)&&i.formLogin.controls.password.touched)}},dependencies:[sn,Xt,W1,yu,Kf,V1,em,sy,U2,rL,fw,aL,Xf],styles:[".login-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-registro.07e9e02b5bb9992f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh}form[_ngcontent-%COMP%]{position:absolute;z-index:100;left:22%;top:28%}.contenedor-form[_ngcontent-%COMP%]{width:60%;display:block;margin-left:auto;margin-right:auto;padding:2rem;border:2px solid #000;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 8px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00000091;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#00000091;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.img[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;border:2px solid #fff;border-radius:5px;box-shadow:2px 2px 2px #000}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background:rgba(255,0,0,.527);cursor:pointer;transition:background .5s}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:active{transform:scale(1.07);transition:transform .2s}.example-button-row[_ngcontent-%COMP%]{margin-top:1rem;position:absolute;z-index:101;left:1%;top:14%}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;box-shadow:2px 2px 2px #000}.img-btn[_ngcontent-%COMP%]{position:absolute;left:0%;top:0%;border-radius:50%;width:3.5rem}.img-btn[_ngcontent-%COMP%]:hover{border-radius:50%;background:rgba(243,50,50,.767);transition:background .5s}.btn[_ngcontent-%COMP%]{background-color:#e0000083;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #f83816;background-color:#ff0000e1}.btn[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}.shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}"]}),n})();function $G(n,t){1&n&&(s.TgZ(0,"div",7)(1,"div",8),s._UZ(2,"div",9)(3,"div",9)(4,"div",9)(5,"div",10)(6,"div",10)(7,"div",10),s.qZA()())}function ZG(n,t){if(1&n&&s._UZ(0,"img",11),2&n){const e=s.oxw();s.s9C("src",e.user.imagen2,s.LSH)}}function GG(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13)(2,"label"),s._uU(3,"Nombre"),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.TgZ(6,"label"),s._uU(7,"Apellido"),s.qZA(),s.TgZ(8,"p"),s._uU(9),s.qZA(),s.TgZ(10,"label"),s._uU(11,"Edad"),s.qZA(),s.TgZ(12,"p"),s._uU(13),s.qZA(),s.TgZ(14,"label"),s._uU(15,"DNI"),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA()(),s.TgZ(18,"div",13)(19,"label"),s._uU(20,"Email"),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.qZA(),s.TgZ(23,"label"),s._uU(24,"Obra Social"),s.qZA(),s.TgZ(25,"p"),s._uU(26),s.qZA(),s.TgZ(27,"label"),s._uU(28,"Tipo de Usuario"),s.qZA(),s.TgZ(29,"p"),s._uU(30),s.qZA()()()),2&n){const e=s.oxw();s.xp6(5),s.Oqu(e.user.nombre),s.xp6(4),s.Oqu(e.user.apellido),s.xp6(4),s.hij("",e.user.edad," a\xf1os"),s.xp6(4),s.Oqu(e.user.dni),s.xp6(5),s.Oqu(e.user.email),s.xp6(4),s.Oqu(e.user.obraSocial),s.xp6(4),s.Oqu(e.user.perfil)}}function qG(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.nombre," / ")}}function zG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.showTurnsTwo())}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngClass",e.especialidad2?"btn-info":""),s.xp6(1),s.hij(" ",e.user.especialidad[1].nombre," ")}}function WG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"div",14)(2,"label"),s._uU(3,"Nombre"),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.TgZ(6,"label"),s._uU(7,"Apellido"),s.qZA(),s.TgZ(8,"p"),s._uU(9),s.qZA(),s.TgZ(10,"label"),s._uU(11,"Edad"),s.qZA(),s.TgZ(12,"p"),s._uU(13),s.qZA(),s.TgZ(14,"label"),s._uU(15,"DNI"),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA()(),s.TgZ(18,"div",15)(19,"label"),s._uU(20,"Email"),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.qZA(),s.TgZ(23,"label"),s._uU(24,"Especialidad"),s.qZA(),s.TgZ(25,"p"),s.YNc(26,qG,2,1,"span",16),s.qZA(),s.TgZ(27,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.showTurnsOne())}),s._uU(28),s.qZA(),s.YNc(29,zG,2,2,"button",18),s.qZA(),s.TgZ(30,"div",19)(31,"label"),s._uU(32,"Mis Horarios"),s.qZA(),s.TgZ(33,"div",20)(34,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addDay("lunes"))}),s._uU(35," Lunes "),s.qZA(),s.TgZ(36,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addDay("martes"))}),s._uU(37," Martes "),s.qZA(),s.TgZ(38,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addDay("mi\xe9rcoles"))}),s._uU(39," Mi\xe9rcoles "),s.qZA(),s.TgZ(40,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addDay("jueves"))}),s._uU(41," Jueves "),s.qZA(),s.TgZ(42,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addDay("viernes"))}),s._uU(43," Viernes "),s.qZA(),s.TgZ(44,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addDay("s\xe1bado"))}),s._uU(45," S\xe1bado "),s.qZA()(),s.TgZ(46,"label",22),s._uU(47,"Duraci\xf3n de Turno (min)"),s.qZA(),s.TgZ(48,"input",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.turnDuration=r)}),s.qZA(),s.TgZ(49,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateUser())}),s._uU(50," Guardar Cambios "),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Oqu(e.user.nombre),s.xp6(4),s.Oqu(e.user.apellido),s.xp6(4),s.hij("",e.user.edad," a\xf1os"),s.xp6(4),s.Oqu(e.user.dni),s.xp6(5),s.Oqu(e.user.email),s.xp6(4),s.Q6J("ngForOf",e.user.especialidad),s.xp6(1),s.Q6J("ngClass",e.especialidad1?"btn-info":""),s.xp6(1),s.hij(" ",e.user.especialidad[0].nombre," "),s.xp6(1),s.Q6J("ngIf",e.user.especialidad[1]),s.xp6(5),s.Q6J("ngClass",e.lunes?"btn-warning":""),s.xp6(2),s.Q6J("ngClass",e.martes?"btn-warning":""),s.xp6(2),s.Q6J("ngClass",e.miercoles?"btn-warning":""),s.xp6(2),s.Q6J("ngClass",e.jueves?"btn-warning":""),s.xp6(2),s.Q6J("ngClass",e.viernes?"btn-warning":""),s.xp6(2),s.Q6J("ngClass",e.sabado?"btn-warning":""),s.xp6(4),s.Q6J("ngModel",e.turnDuration)}}let YG=(()=>{class n{constructor(e,i){this.authService=e,this.notificationService=i,this.user=null,this.spinner=!1,this.isPaciente=!1,this.isEspecialista=!1,this.specialistDays=[],this.especialidad1=!0,this.especialidad2=!1,this.lunes=!1,this.martes=!1,this.miercoles=!1,this.jueves=!1,this.viernes=!1,this.sabado=!1,this.turnDuration=30,this.currentTurnList={}}ngOnInit(){this.spinner=!0,this.authService.user$.subscribe(e=>{e&&(this.spinner=!1,this.user=e,this.authService.isLogged=!0,"administrador"==this.user.perfil?this.authService.isAdmin=!0:"paciente"==this.user.perfil?this.isPaciente=!0:"especialista"==this.user.perfil&&(this.isEspecialista=!0,this.user.especialidad[0].diasTurnos&&(this.specialistDays=[...this.user.especialidad[0].diasTurnos],this.turnDuration=this.user.especialidad[0].duracionTurno,this.activateDayButton(),this.authService.getTurnList().subscribe(i=>{for(let r=0;r<i.length;r++){const o=i[r];this.user.email==o.especialista.email&&(this.currentTurnList=o)}}))))})}addDay(e){if(this.especialidad1)if(this.specialistDays.some(i=>i==e)||this.user.especialidad[1].diasTurnos.some(i=>i==e))if(this.specialistDays.some(i=>i==e)){const i=this.specialistDays.indexOf(e);this.specialistDays.splice(i,1),this.notificationService.showInfo("Asignaci\xf3n de d\xeda cancelada","Mi Perfil"),this.activateDeactivateDayButton(e)}else this.notificationService.showWarning("D\xeda asignado a otra especialidad","Mi Perfil");else this.specialistDays.push(e),this.notificationService.showInfo("D\xeda asignado","Mi Perfil"),this.activateDeactivateDayButton(e);else if(this.especialidad2)if(this.specialistDays.some(i=>i==e)||this.user.especialidad[0].diasTurnos.some(i=>i==e))if(this.specialistDays.some(i=>i==e)){const i=this.specialistDays.indexOf(e);this.specialistDays.splice(i,1),this.notificationService.showInfo("Asignaci\xf3n de d\xeda cancelada","Mi Perfil"),this.activateDeactivateDayButton(e)}else this.notificationService.showWarning("D\xeda asignado a otra especialidad","Mi Perfil");else this.specialistDays.push(e),this.notificationService.showInfo("D\xeda asignado","Mi Perfil"),this.activateDeactivateDayButton(e)}activateDeactivateDayButton(e){switch(e){case"lunes":this.lunes=!this.lunes;break;case"martes":this.martes=!this.martes;break;case"mi\xe9rcoles":this.miercoles=!this.miercoles;break;case"jueves":this.jueves=!this.jueves;break;case"viernes":this.viernes=!this.viernes;break;case"s\xe1bado":this.sabado=!this.sabado}}activateDayButton(){this.specialistDays.forEach(e=>{switch(e){case"lunes":this.lunes=!0;break;case"martes":this.martes=!0;break;case"mi\xe9rcoles":this.miercoles=!0;break;case"jueves":this.jueves=!0;break;case"viernes":this.viernes=!0;break;case"s\xe1bado":this.sabado=!0}})}deactivateDayButton(){this.specialistDays.forEach(e=>{switch(e){case"lunes":this.lunes=!1;break;case"martes":this.martes=!1;break;case"mi\xe9rcoles":this.miercoles=!1;break;case"jueves":this.jueves=!1;break;case"viernes":this.viernes=!1;break;case"s\xe1bado":this.sabado=!1}})}updateUser(){let e={};this.especialidad1?(e.nombre=this.user.especialidad[0].nombre,e.diasTurnos=[...this.specialistDays],e.duracionTurno=this.turnDuration,this.user.especialidad[0]=e):this.especialidad2&&(e.nombre=this.user.especialidad[1].nombre,e.diasTurnos=[...this.specialistDays],e.duracionTurno=this.turnDuration,this.user.especialidad[1]=e);const i=[],r=new Date,o=6e4*this.turnDuration;for(let h=0;h<this.specialistDays.length;h++){let v=0;switch(this.specialistDays[h]){case"lunes":v=1;break;case"martes":v=2;break;case"mi\xe9rcoles":v=3;break;case"jueves":v=4;break;case"viernes":v=5;break;case"s\xe1bado":v=6}for(let T=1;T<=60;T++){const I=new Date(r.getTime()+846e5*T);if(I.getDay()==v){let M=new Date(I.getFullYear(),I.getMonth(),I.getDate(),8),k={estado:"disponible"};for(k.especialidad=this.especialidad1?this.user.especialidad[0].nombre:this.user.especialidad[1].nombre,k.especialista=this.user,k.paciente=null,k.fecha=new Date(M.getTime()),i.push(k);M.getHours()<19;)k={},M=new Date(M.getTime()+o),19!=M.getHours()&&(k.estado="disponible",k.especialidad=this.especialidad1?this.user.especialidad[0].nombre:this.user.especialidad[1].nombre,k.especialista=this.user,k.paciente=null,k.fecha=new Date(M.getTime()),i.push(k))}}}const u={};if(this.currentTurnList.id&&(u.id=this.currentTurnList.id),u.especialista=this.user,u.turnos=i,console.log(this.currentTurnList?.turnos?.length),this.currentTurnList?.turnos?.length){let h="";h=this.especialidad1?this.user.especialidad[0].nombre:this.user.especialidad[1].nombre,this.currentTurnList.turnos=this.currentTurnList.turnos.filter(g=>"disponible"!=g.estado&&g.especialidad==h||g.especialidad!=h),u.turnos=[...this.currentTurnList.turnos];for(let g=0;g<i.length;g++)u.turnos.push(i[g]);this.authService.updateTurnList(u)}else this.authService.createTurnList(u);this.authService.updateUser(this.user),this.showTurnsOne(),this.notificationService.showSuccess("Horarios actualizados","Mi Perfil")}showTurnsOne(){this.especialidad1||(this.especialidad1=!0,this.especialidad2=!1,this.turnDuration=this.user.especialidad[0].duracionTurno,this.deactivateDayButton(),this.specialistDays=[...this.user.especialidad[0].diasTurnos],this.activateDayButton())}showTurnsTwo(){this.especialidad2||(this.especialidad1=!1,this.especialidad2=!0,this.turnDuration=this.user.especialidad[1].duracionTurno,this.deactivateDayButton(),this.specialistDays=[...this.user.especialidad[1].diasTurnos],this.activateDayButton())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ql),s.Y36(vu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-mi-perfil"]],decls:12,vars:5,consts:[["class","contenedor-spinner",4,"ngIf"],[1,"perfil"],[2,"display","flex","justify-content","center"],["alt","imagen 1",1,"img-perfil",3,"src"],["class","img-perfil","style","width: 3rem; height: 3rem","alt","imagen 2",3,"src",4,"ngIf"],["class","row",4,"ngIf"],[1,"perfil-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],["alt","imagen 2",1,"img-perfil",2,"width","3rem","height","3rem",3,"src"],[1,"row"],[1,"col"],[1,"col","col-3"],[1,"col","col-4"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",2,"text-transform","uppercase","width","9rem","margin-top","0.5rem",3,"ngClass","click"],["class","btn btn-secondary","style","\n            text-transform: uppercase;\n            width: 9rem;\n            margin-top: 0.5rem;\n          ",3,"ngClass","click",4,"ngIf"],[1,"col","col-5"],[1,"dias-contenedor"],[1,"btn","btn-secondary",3,"ngClass","click"],[2,"margin-top","1rem","margin-bottom","1rem"],["type","number","placeholder","30 Minutos",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",2,"margin-top","1rem",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div"),s.YNc(2,$G,8,0,"div",0),s.TgZ(3,"div",1)(4,"h3"),s._uU(5,"Mi Perfil"),s.qZA(),s.TgZ(6,"div",2),s._UZ(7,"img",3),s.YNc(8,ZG,1,1,"img",4),s.qZA(),s.YNc(9,GG,31,7,"div",5),s.YNc(10,WG,51,16,"div",5),s.qZA(),s._UZ(11,"div",6),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.spinner),s.xp6(5),s.s9C("src",i.user.imagen1,s.LSH),s.xp6(1),s.Q6J("ngIf",i.isPaciente),s.xp6(1),s.Q6J("ngIf",i.isPaciente),s.xp6(1),s.Q6J("ngIf",i.isEspecialista))},dependencies:[sn,Vi,Xt,yu,ry,Kf,z1,Xf],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.perfil-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.perfil[_ngcontent-%COMP%]{position:absolute;width:70vw;top:55%;left:50%;transform:translate(-50%,-50%);z-index:100;padding:1rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.75)}.perfil[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#fff;background:rgba(0,0,0,.534);padding:10px;border-radius:20px;box-shadow:2px 2px 4px #000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0);margin-bottom:1rem}.perfil[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.perfil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#646464;margin-bottom:1rem;text-transform:uppercase}.img-perfil[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:cover;border-radius:50%;border:2px solid #000;margin-bottom:1rem;margin-left:.5rem;background:rgb(255,119,119)}.dias-contenedor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:6rem;margin-top:.5rem;margin-left:.5rem;text-shadow:1px 1px #000}.dias-contenedor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(255,119,119);transition:background .5s}']}),n})(),AN=(()=>{class n{transform(e,...i){e.seconds&&(e=new Date(1e3*e.seconds));let r=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return r=parseInt(r.split("-")[2])<10&&parseInt(r.split("-")[2])>0?e.getFullYear()+"-"+(e.getMonth()+1)+"-0"+e.getDate():e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"dayDate",type:n,pure:!0}),n})();function KG(n,t){1&n&&(s.TgZ(0,"div",3)(1,"div",4),s._UZ(2,"div",5)(3,"div",5)(4,"div",5)(5,"div",6)(6,"div",6)(7,"div",6),s.qZA()())}function JG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.filtrarPorEspecialidad("clinico"))}),s._uU(2," CLINICO "),s.qZA(),s.TgZ(3,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.filtrarPorEspecialidad("odontologo"))}),s._uU(4," ODONTOLOGO "),s.qZA(),s.TgZ(5,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.filtrarPorEspecialidad("oftalmologo"))}),s._uU(6," OFTALMOLOGO "),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngClass",e.btnClinico?"btn-danger":"btn-warning"),s.xp6(2),s.Q6J("ngClass",e.btnOdontologo?"btn-danger":"btn-warning"),s.xp6(2),s.Q6J("ngClass",e.btnOftalmologo?"btn-danger":"btn-warning")}}function QG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function XG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function e5(n,t){1&n&&s._UZ(0,"br")}function t5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",29),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioCancelacion)}}function n5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.verComentario(r))}),s._uU(1," Ver Rese\xf1a "),s.qZA()}}function r5(n,t){1&n&&s._UZ(0,"br")}function s5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",30),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.comentarioPaciente=r)}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.comentarioPaciente)}}function o5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",31),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.calificarTurno(r))}),s._uU(1," Calificar "),s.qZA()}}function a5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCalificacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function l5(n,t){1&n&&s._UZ(0,"br")}function c5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",32),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCalificacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioCalificacion)}}function u5(n,t){if(1&n&&(s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td",19)(13,"span",20),s._uU(14),s.qZA()(),s.TgZ(15,"td"),s.YNc(16,QG,2,0,"button",21),s.YNc(17,XG,2,0,"button",22),s.YNc(18,e5,1,0,"br",12),s.YNc(19,t5,1,1,"input",23),s.YNc(20,n5,2,0,"button",21),s.YNc(21,r5,1,0,"br",12),s.YNc(22,s5,1,1,"input",24),s.YNc(23,o5,2,0,"button",25),s.YNc(24,a5,2,0,"button",22),s.YNc(25,l5,1,0,"br",12),s.YNc(26,c5,1,1,"input",26),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,19,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(3),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado&&!e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentarioCalificacion&&i.turnoACalificar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado&&!e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentarioCalificacion&&i.turnoACalificar.fecha.seconds==e.fecha.seconds)}}function d5(n,t){if(1&n&&(s.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),s._uU(5,"Fecha"),s.qZA(),s.TgZ(6,"th",16),s._uU(7,"Especialista"),s.qZA(),s.TgZ(8,"th",16),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",16),s._uU(11,"Paciente"),s.qZA(),s.TgZ(12,"th",16),s._uU(13,"Obra Social"),s.qZA(),s.TgZ(14,"th",16),s._uU(15,"Estado"),s.qZA(),s.TgZ(16,"th",16),s._uU(17,"Acci\xf3n"),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,u5,27,21,"tr",17),s.qZA()()()),2&n){const e=s.oxw(2);s.xp6(19),s.Q6J("ngForOf",e.turnosDelPaciente)}}function h5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function f5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function p5(n,t){1&n&&s._UZ(0,"br")}function g5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",29),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioCancelacion)}}function m5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.verComentario(r))}),s._uU(1," Ver Rese\xf1a "),s.qZA()}}function _5(n,t){1&n&&s._UZ(0,"br")}function v5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",30),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.comentarioPaciente=r)}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.comentarioPaciente)}}function y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",31),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.calificarTurno(r))}),s._uU(1," Calificar "),s.qZA()}}function b5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCalificacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function w5(n,t){1&n&&s._UZ(0,"br")}function T5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",32),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCalificacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioCalificacion)}}function C5(n,t){if(1&n&&(s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td",19)(13,"span",20),s._uU(14),s.qZA()(),s.TgZ(15,"td"),s.YNc(16,h5,2,0,"button",21),s.YNc(17,f5,2,0,"button",22),s.YNc(18,p5,1,0,"br",12),s.YNc(19,g5,1,1,"input",23),s.YNc(20,m5,2,0,"button",21),s.YNc(21,_5,1,0,"br",12),s.YNc(22,v5,1,1,"input",24),s.YNc(23,y5,2,0,"button",25),s.YNc(24,b5,2,0,"button",22),s.YNc(25,w5,1,0,"br",12),s.YNc(26,T5,1,1,"input",26),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,19,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(3),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado&&!e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentarioCalificacion&&i.turnoACalificar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado&&!e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentarioCalificacion&&i.turnoACalificar.fecha.seconds==e.fecha.seconds)}}function E5(n,t){if(1&n&&(s.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),s._uU(5,"Fecha"),s.qZA(),s.TgZ(6,"th",16),s._uU(7,"Especialista"),s.qZA(),s.TgZ(8,"th",16),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",16),s._uU(11,"Paciente"),s.qZA(),s.TgZ(12,"th",16),s._uU(13,"Obra Social"),s.qZA(),s.TgZ(14,"th",16),s._uU(15,"Estado"),s.qZA(),s.TgZ(16,"th",16),s._uU(17,"Acci\xf3n"),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,C5,27,21,"tr",17),s.qZA()()()),2&n){const e=s.oxw(2);s.xp6(19),s.Q6J("ngForOf",e.listaPorEspecialidad)}}function D5(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.nombre,", ")}}function I5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s.YNc(6,D5,2,1,"span",33),s.qZA(),s.TgZ(7,"td")(8,"button",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(3);return s.KtG(u.elegirEspecialista(o))}),s._uU(9," ELEGIR "),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.apellido),s.xp6(2),s.hij(" ",e.nombre," "),s.xp6(2),s.Q6J("ngForOf",e.especialidad)}}function S5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function A5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function x5(n,t){1&n&&s._UZ(0,"br")}function M5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",29),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioCancelacion)}}function N5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.verComentario(r))}),s._uU(1," Ver Rese\xf1a "),s.qZA()}}function O5(n,t){1&n&&s._UZ(0,"br")}function R5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",30),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.comentarioPaciente=r)}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.comentarioPaciente)}}function k5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",31),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.calificarTurno(r))}),s._uU(1," Calificar "),s.qZA()}}function P5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCalificacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function F5(n,t){1&n&&s._UZ(0,"br")}function L5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",32),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCalificacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioCalificacion)}}function U5(n,t){if(1&n&&(s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td",19)(13,"span",20),s._uU(14),s.qZA()(),s.TgZ(15,"td"),s.YNc(16,S5,2,0,"button",21),s.YNc(17,A5,2,0,"button",22),s.YNc(18,x5,1,0,"br",12),s.YNc(19,M5,1,1,"input",23),s.YNc(20,N5,2,0,"button",21),s.YNc(21,O5,1,0,"br",12),s.YNc(22,R5,1,1,"input",24),s.YNc(23,k5,2,0,"button",25),s.YNc(24,P5,2,0,"button",22),s.YNc(25,F5,1,0,"br",12),s.YNc(26,L5,1,1,"input",26),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,19,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(3),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado&&!e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentarioCalificacion&&i.turnoACalificar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado&&!e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentarioCalificacion&&i.turnoACalificar.fecha.seconds==e.fecha.seconds)}}function B5(n,t){if(1&n&&(s.TgZ(0,"div")(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),s._uU(5,"Apellido"),s.qZA(),s.TgZ(6,"th",16),s._uU(7,"Nombre"),s.qZA(),s.TgZ(8,"th",16),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",16),s._uU(11,"Acci\xf3n"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,I5,10,3,"tr",17),s.qZA()(),s.TgZ(14,"div",14)(15,"table",15)(16,"thead")(17,"tr")(18,"th",16),s._uU(19,"Fecha"),s.qZA(),s.TgZ(20,"th",16),s._uU(21,"Especialista"),s.qZA(),s.TgZ(22,"th",16),s._uU(23,"Especialidad"),s.qZA(),s.TgZ(24,"th",16),s._uU(25,"Paciente"),s.qZA(),s.TgZ(26,"th",16),s._uU(27,"Obra Social"),s.qZA(),s.TgZ(28,"th",16),s._uU(29,"Estado"),s.qZA(),s.TgZ(30,"th",16),s._uU(31,"Acci\xf3n"),s.qZA()()(),s.TgZ(32,"tbody"),s.YNc(33,U5,27,21,"tr",17),s.qZA()()()()),2&n){const e=s.oxw(2);s.xp6(13),s.Q6J("ngForOf",e.listaDeEspecialistas),s.xp6(20),s.Q6J("ngForOf",e.listaPorEspecialista)}}function V5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"h3"),s._uU(2,"MIS TURNOS"),s.qZA(),s.TgZ(3,"label"),s._uU(4,"Filtros: "),s.qZA(),s.TgZ(5,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.verBotonesEspecialidades())}),s._uU(6," Por Especialidad "),s.qZA(),s.TgZ(7,"button",9),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.verListaDeEspecialistas())}),s._uU(8," Por Especialista "),s.qZA(),s.YNc(9,JG,7,3,"div",10),s.YNc(10,d5,20,1,"div",11),s.YNc(11,E5,20,1,"div",11),s.YNc(12,B5,34,2,"div",12),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("ngClass",e.botonesEspecialidad?"btn-primary":"btn-info"),s.xp6(2),s.Q6J("ngClass",e.vistaListadoDeEspecialistas?"btn-primary":"btn-info"),s.xp6(2),s.Q6J("ngIf",e.botonesEspecialidad),s.xp6(1),s.Q6J("ngIf",!e.filtroEspecialidad&&!e.vistaListadoDeEspecialistas),s.xp6(1),s.Q6J("ngIf",e.filtroEspecialidad&&!e.vistaListadoDeEspecialistas),s.xp6(1),s.Q6J("ngIf",e.vistaListadoDeEspecialistas)}}function H5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",36),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(3);return s.KtG(u.filtrarPorEspecialidadDelEspecialista(o.nombre))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.nombre," ")}}function j5(n,t){if(1&n&&(s.TgZ(0,"div",13),s.YNc(1,H5,2,1,"button",35),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.user.especialidad)}}function $5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",44),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.cancelarTurnoEspecialista(r))}),s._uU(1," Cancelar "),s.qZA()}}function Z5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",45),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.rechazarTurno(r))}),s._uU(1," Rechazar "),s.qZA()}}function G5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",46),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacionRechazoEspecialista(r))}),s._uU(1," Confirmar "),s.qZA()}}function q5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",46),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function z5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",47),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.aceptarTurno(r))}),s._uU(1," Aceptar "),s.qZA()}}function W5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",48),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.finalizarTurno(r))}),s._uU(1," Finalizar "),s.qZA()}}function Y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarFinalizacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function K5(n,t){1&n&&s._UZ(0,"br")}function J5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",49),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioFinalizacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioFinalizacion)}}function Q5(n,t){1&n&&s._UZ(0,"br")}function X5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",50),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("placeholder",e.botonCancelar?"Comentario de cancelaci\xf3n":"Comentario de rechazo")("ngModel",e.comentarioCancelacion)}}function eq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.verComentario(r))}),s._uU(1," Ver Rese\xf1a "),s.qZA()}}function tq(n,t){1&n&&s._UZ(0,"br")}function nq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",30),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.comentarioPaciente=r)}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.comentarioPaciente)}}function iq(n,t){if(1&n&&(s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td",19)(11,"span",20),s._uU(12),s.qZA()(),s.TgZ(13,"td"),s.YNc(14,$5,2,0,"button",37),s.YNc(15,Z5,2,0,"button",38),s.YNc(16,G5,2,0,"button",39),s.YNc(17,q5,2,0,"button",39),s.YNc(18,z5,2,0,"button",40),s.YNc(19,W5,2,0,"button",41),s.YNc(20,Y5,2,0,"button",22),s.YNc(21,K5,1,0,"br",12),s.YNc(22,J5,1,1,"input",42),s.YNc(23,Q5,1,0,"br",12),s.YNc(24,X5,1,2,"input",43),s.YNc(25,eq,2,0,"button",21),s.YNc(26,tq,1,0,"br",12),s.YNc(27,nq,1,1,"input",24),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,20,e.fecha)),s.xp6(3),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(3),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&i.botonCancelar),s.xp6(1),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&i.botonRechazar),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds&&i.confirmacionRechazo),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds&&!i.confirmacionRechazo),s.xp6(1),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&!i.cancelacionTurno),s.xp6(1),s.Q6J("ngIf","aceptado"==e.estado),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds)}}function rq(n,t){if(1&n&&(s.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),s._uU(5,"Fecha"),s.qZA(),s.TgZ(6,"th",16),s._uU(7,"Especialidad"),s.qZA(),s.TgZ(8,"th",16),s._uU(9,"Paciente"),s.qZA(),s.TgZ(10,"th",16),s._uU(11,"Obra Social"),s.qZA(),s.TgZ(12,"th",16),s._uU(13,"Estado"),s.qZA(),s.TgZ(14,"th",16),s._uU(15,"Acci\xf3n"),s.qZA()()(),s.TgZ(16,"tbody"),s.YNc(17,iq,28,22,"tr",17),s.qZA()()()),2&n){const e=s.oxw(2);s.xp6(17),s.Q6J("ngForOf",e.turnosDelEspecialista)}}function sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",44),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function oq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",45),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.rechazarTurno(r))}),s._uU(1," Rechazar "),s.qZA()}}function aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",46),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacionRechazoEspecialista(r))}),s._uU(1," Confirmar "),s.qZA()}}function lq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",46),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",47),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.aceptarTurno(r))}),s._uU(1," Aceptar "),s.qZA()}}function uq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",48),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.finalizarTurno(r))}),s._uU(1," Finalizar "),s.qZA()}}function dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarFinalizacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function hq(n,t){1&n&&s._UZ(0,"br")}function fq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",49),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioFinalizacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioFinalizacion)}}function pq(n,t){1&n&&s._UZ(0,"br")}function gq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",50),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("placeholder",e.botonCancelar?"Comentario de cancelaci\xf3n":"Comentario de rechazo")("ngModel",e.comentarioCancelacion)}}function mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.verComentario(r))}),s._uU(1," Ver Rese\xf1a "),s.qZA()}}function _q(n,t){1&n&&s._UZ(0,"br")}function vq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",30),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.comentarioPaciente=r)}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.comentarioPaciente)}}function yq(n,t){if(1&n&&(s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td",19)(13,"span",20),s._uU(14),s.qZA()(),s.TgZ(15,"td"),s.YNc(16,sq,2,0,"button",37),s.YNc(17,oq,2,0,"button",38),s.YNc(18,aq,2,0,"button",39),s.YNc(19,lq,2,0,"button",39),s.YNc(20,cq,2,0,"button",40),s.YNc(21,uq,2,0,"button",41),s.YNc(22,dq,2,0,"button",22),s.YNc(23,hq,1,0,"br",12),s.YNc(24,fq,1,1,"input",42),s.YNc(25,pq,1,0,"br",12),s.YNc(26,gq,1,2,"input",43),s.YNc(27,mq,2,0,"button",21),s.YNc(28,_q,1,0,"br",12),s.YNc(29,vq,1,1,"input",24),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,22,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(3),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&i.botonCancelar),s.xp6(1),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&i.botonRechazar),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds&&i.confirmacionRechazo),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds&&!i.confirmacionRechazo),s.xp6(1),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf","aceptado"==e.estado),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds)}}function bq(n,t){if(1&n&&(s.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),s._uU(5,"Fecha"),s.qZA(),s.TgZ(6,"th",16),s._uU(7,"Especialista"),s.qZA(),s.TgZ(8,"th",16),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",16),s._uU(11,"Paciente"),s.qZA(),s.TgZ(12,"th",16),s._uU(13,"Obra Social"),s.qZA(),s.TgZ(14,"th",16),s._uU(15,"Estado"),s.qZA(),s.TgZ(16,"th",16),s._uU(17,"Acci\xf3n"),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,yq,30,24,"tr",17),s.qZA()()()),2&n){const e=s.oxw(2);s.xp6(19),s.Q6J("ngForOf",e.listaPorEspecialidad)}}function wq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td")(8,"button",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(3);return s.KtG(u.elegirPaciente(o))}),s._uU(9," ELEGIR "),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.apellido),s.xp6(2),s.hij(" ",e.nombre," "),s.xp6(2),s.Oqu(e.obraSocial)}}function Tq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",44),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function Cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",45),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.rechazarTurno(r))}),s._uU(1," Rechazar "),s.qZA()}}function Eq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",46),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacionRechazoEspecialista(r))}),s._uU(1," Confirmar "),s.qZA()}}function Dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",46),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function Iq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",47),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.aceptarTurno(r))}),s._uU(1," Aceptar "),s.qZA()}}function Sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",48),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.finalizarTurno(r))}),s._uU(1," Finalizar "),s.qZA()}}function Aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.confirmarFinalizacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function xq(n,t){1&n&&s._UZ(0,"br")}function Mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",49),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioFinalizacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngModel",e.comentarioFinalizacion)}}function Nq(n,t){1&n&&s._UZ(0,"br")}function Oq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",50),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("placeholder",e.botonCancelar?"Comentario de cancelaci\xf3n":"Comentario de rechazo")("ngModel",e.comentarioCancelacion)}}function Rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(3);return s.KtG(o.verComentario(r))}),s._uU(1," Ver Rese\xf1a "),s.qZA()}}function kq(n,t){1&n&&s._UZ(0,"br")}function Pq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",30),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.comentarioPaciente=r)}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.comentarioPaciente)}}function Fq(n,t){if(1&n&&(s.TgZ(0,"tr",18)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td",19)(11,"span",20),s._uU(12),s.qZA()(),s.TgZ(13,"td"),s.YNc(14,Tq,2,0,"button",37),s.YNc(15,Cq,2,0,"button",38),s.YNc(16,Eq,2,0,"button",39),s.YNc(17,Dq,2,0,"button",39),s.YNc(18,Iq,2,0,"button",40),s.YNc(19,Sq,2,0,"button",41),s.YNc(20,Aq,2,0,"button",22),s.YNc(21,xq,1,0,"br",12),s.YNc(22,Mq,1,1,"input",42),s.YNc(23,Nq,1,0,"br",12),s.YNc(24,Oq,1,2,"input",43),s.YNc(25,Rq,2,0,"button",21),s.YNc(26,kq,1,0,"br",12),s.YNc(27,Pq,1,1,"input",24),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,20,e.fecha)),s.xp6(3),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(3),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&i.botonCancelar),s.xp6(1),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado&&i.botonRechazar),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds&&i.confirmacionRechazo),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds&&!i.confirmacionRechazo),s.xp6(1),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf","aceptado"==e.estado),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.confirmacionFinalizacion&&i.turnoAFinalizar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",e.comentarioPaciente),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(1),s.Q6J("ngIf",i.vistaComentario&&i.turnoACancelar.fecha.seconds==e.fecha.seconds)}}function Lq(n,t){if(1&n&&(s.TgZ(0,"div")(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),s._uU(5,"Apellido"),s.qZA(),s.TgZ(6,"th",16),s._uU(7,"Nombre"),s.qZA(),s.TgZ(8,"th",16),s._uU(9,"Obra Social"),s.qZA(),s.TgZ(10,"th",16),s._uU(11,"Acci\xf3n"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,wq,10,3,"tr",17),s.qZA()(),s.TgZ(14,"div",14)(15,"table",15)(16,"thead")(17,"tr")(18,"th",16),s._uU(19,"Fecha"),s.qZA(),s.TgZ(20,"th",16),s._uU(21,"Especialidad"),s.qZA(),s.TgZ(22,"th",16),s._uU(23,"Paciente"),s.qZA(),s.TgZ(24,"th",16),s._uU(25,"Obra Social"),s.qZA(),s.TgZ(26,"th",16),s._uU(27,"Estado"),s.qZA(),s.TgZ(28,"th",16),s._uU(29,"Acci\xf3n"),s.qZA()()(),s.TgZ(30,"tbody"),s.YNc(31,Fq,28,22,"tr",17),s.qZA()()()()),2&n){const e=s.oxw(2);s.xp6(13),s.Q6J("ngForOf",e.pacientesDelEspecialista),s.xp6(18),s.Q6J("ngForOf",e.listaPorEspecialista)}}function Uq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"h3"),s._uU(2,"MIS TURNOS"),s.qZA(),s.TgZ(3,"label"),s._uU(4,"Filtros: "),s.qZA(),s.TgZ(5,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.verBotonesEspecialidades())}),s._uU(6," Por Especialidad "),s.qZA(),s.TgZ(7,"button",9),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.verListaDePacientes())}),s._uU(8," Por Paciente "),s.qZA(),s.YNc(9,j5,2,1,"div",10),s.YNc(10,rq,18,1,"div",11),s.YNc(11,bq,20,1,"div",11),s.YNc(12,Lq,32,2,"div",12),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("ngClass",e.botonesEspecialidad?"btn-primary":"btn-info"),s.xp6(2),s.Q6J("ngClass",e.vistaListadoDeEspecialistas?"btn-primary":"btn-info"),s.xp6(2),s.Q6J("ngIf",e.botonesEspecialidad),s.xp6(1),s.Q6J("ngIf",!e.filtroEspecialidad&&!e.vistaListadoDeEspecialistas),s.xp6(1),s.Q6J("ngIf",e.filtroEspecialidad&&!e.vistaListadoDeEspecialistas),s.xp6(1),s.Q6J("ngIf",e.vistaListadoDeEspecialistas)}}let Bq=(()=>{class n{constructor(e,i){this.authService=e,this.notificationService=i,this.user=null,this.isPaciente=!1,this.isEspecialista=!1,this.spinner=!1,this.turnList=[],this.currentSpecialistTurnList=[],this.botonesEspecialidad=!1,this.filtroEspecialidad=!1,this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!1,this.listaPorEspecialidad=[],this.vistaListadoDeEspecialistas=!1,this.listaDeEspecialistas=[],this.listaPorEspecialista=[],this.cancelacionTurno=!1,this.comentarioCancelacion="",this.turnoACancelar={},this.turnosDelPaciente=[],this.turnosDelEspecialista=[],this.pacientesDelEspecialista=[],this.auxPacientesDelEspecialista=[],this.vistaComentario=!1,this.turnoACalificar={},this.vistaComentarioCalificacion=!1,this.comentarioCalificacion="",this.botonCancelar=!0,this.botonRechazar=!0,this.confirmacionRechazo=!1,this.confirmacionFinalizacion=!1,this.comentarioFinalizacion="",this.turnoAFinalizar={}}ngOnInit(){this.spinner=!0,this.authService.user$.subscribe(e=>{e&&(this.spinner=!1,this.user=e,this.authService.isLogged=!0,"administrador"==this.user.perfil?this.authService.isAdmin=!0:"paciente"==this.user.perfil?this.isPaciente=!0:this.isEspecialista=!0,this.authService.getTurnList().subscribe(i=>{this.currentSpecialistTurnList=i,this.turnList=[],this.turnosDelPaciente=[],this.turnosDelEspecialista=[],this.pacientesDelEspecialista=[],this.auxPacientesDelEspecialista=[];for(let r=0;r<i.length;r++){const o=i[r].turnos;for(let u=0;u<o.length;u++){const h=o[u];"disponible"!=h.estado&&(this.turnList.push(h),h.paciente.id==this.user.id&&this.turnosDelPaciente.push(h),h.especialista.id==this.user.id&&(this.turnosDelEspecialista.push(h),this.auxPacientesDelEspecialista.push(h.paciente)))}}for(let r=0;r<this.auxPacientesDelEspecialista.length;r++){const o=this.auxPacientesDelEspecialista[r];-1==this.pacientesDelEspecialista.findIndex(h=>o.id==h.id)&&this.pacientesDelEspecialista.push(o)}}))}),this.authService.getUsers().subscribe(e=>{this.spinner=!1,e&&(this.listaDeEspecialistas=e.filter(i=>"especialista"==i.perfil&&i.aprobado),console.log(this.listaDeEspecialistas))})}verBotonesEspecialidades(){this.botonesEspecialidad=!this.botonesEspecialidad,this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!1,this.vistaListadoDeEspecialistas=!1,this.filtroEspecialidad=!1}filtrarPorEspecialidad(e){this.spinner=!0,setTimeout(()=>{this.activarBoton(e),this.spinner=!1,this.listaPorEspecialidad=[],this.filtroEspecialidad=!0;for(let i=0;i<this.turnosDelPaciente.length;i++){const r=this.turnosDelPaciente[i];r.especialidad==e&&this.listaPorEspecialidad.push(r)}},500)}filtrarPorEspecialidadDelEspecialista(e){this.spinner=!0,setTimeout(()=>{this.activarBoton(e),this.spinner=!1,this.listaPorEspecialidad=[],this.filtroEspecialidad=!0;for(let i=0;i<this.turnosDelEspecialista.length;i++){const r=this.turnosDelEspecialista[i];r.especialidad==e&&this.listaPorEspecialidad.push(r)}},500)}activarBoton(e){switch(e){case"clinico":this.btnClinico=!0,this.btnOdontologo=!1,this.btnOftalmologo=!1;break;case"odontologo":this.btnClinico=!1,this.btnOdontologo=!0,this.btnOftalmologo=!1;break;case"oftalmologo":this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!0}}verListaDeEspecialistas(){this.vistaListadoDeEspecialistas=!this.vistaListadoDeEspecialistas,this.listaPorEspecialista=[...this.turnosDelPaciente],this.botonesEspecialidad=!1,this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!1,this.filtroEspecialidad=!1}elegirEspecialista(e){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.listaPorEspecialista=[],this.filtroEspecialidad=!0;for(let i=0;i<this.turnosDelPaciente.length;i++){const r=this.turnosDelPaciente[i];r.especialista.id==e.id&&this.listaPorEspecialista.push(r)}},500)}verListaDePacientes(){this.vistaListadoDeEspecialistas=!this.vistaListadoDeEspecialistas,this.listaPorEspecialista=[...this.turnosDelEspecialista],this.botonesEspecialidad=!1,this.filtroEspecialidad=!1}elegirPaciente(e){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.listaPorEspecialista=[],this.filtroEspecialidad=!0;for(let i=0;i<this.turnosDelEspecialista.length;i++){const r=this.turnosDelEspecialista[i];r.paciente.id==e.id&&this.listaPorEspecialista.push(r)}},500)}cancelarTurno(e){this.turnoACancelar={...e},this.cancelacionTurno=!0,this.vistaComentario=!1,this.vistaComentarioCalificacion=!1,this.botonRechazar=!this.botonRechazar,this.confirmacionFinalizacion=!1,console.log(e)}confirmarCancelacion(e){if(""==this.comentarioCancelacion)this.notificationService.showWarning("Debes ingresar un comentario sobre la raz\xf3n de la cancelaci\xf3n","Turnos");else{e.estado=this.botonCancelar?"cancelado":"rechazado",e.comentarioPaciente=this.comentarioCancelacion;for(let i=0;i<this.currentSpecialistTurnList.length;i++){const r=this.currentSpecialistTurnList[i],o=r.turnos.findIndex(u=>new Date(1e3*u.fecha.seconds).getTime()==new Date(1e3*e.fecha.seconds).getTime()&&u.especialidad==e.especialidad);r.turnos[o]=e,this.authService.updateTurnList(r)}this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.turnoACancelar={},this.cancelacionTurno=!1,this.confirmacionFinalizacion=!1,this.notificationService.showSuccess("Turno Cancelado","Turnos")},1e3)}}cancelarTurnoEspecialista(e){this.turnoACancelar={...e},this.cancelacionTurno=!0,this.vistaComentario=!1,this.vistaComentarioCalificacion=!1,this.botonRechazar=!this.botonRechazar,this.confirmacionFinalizacion=!1,console.log(e)}confirmarCancelacionRechazoEspecialista(e){if(""==this.comentarioCancelacion)this.notificationService.showWarning("Debes ingresar un comentario sobre la raz\xf3n de la cancelaci\xf3n o rechazo","Turnos");else{e.estado=this.botonCancelar?"cancelado":"rechazado",e.comentario=this.comentarioCancelacion;for(let i=0;i<this.currentSpecialistTurnList.length;i++){const r=this.currentSpecialistTurnList[i],o=r.turnos.findIndex(u=>new Date(1e3*u.fecha.seconds).getTime()==new Date(1e3*e.fecha.seconds).getTime()&&u.especialidad==e.especialidad);r.turnos[o]=e,this.authService.updateTurnList(r)}this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.turnoACancelar={},this.cancelacionTurno=!1,this.confirmacionRechazo=!1,this.confirmacionFinalizacion=!1,this.notificationService.showSuccess("Turno Cancelado","Turnos")},1e3)}}calificarTurno(e){this.turnoACalificar={...e},this.vistaComentarioCalificacion=!0,this.vistaComentario=!1,this.confirmacionFinalizacion=!1}confirmarCalificacion(e){if(""==this.comentarioCalificacion)this.notificationService.showWarning("Debes ingresar un comentario para calificar.","Turnos");else{e.comentarioPaciente=this.comentarioCalificacion;for(let i=0;i<this.currentSpecialistTurnList.length;i++){const r=this.currentSpecialistTurnList[i],o=r.turnos.findIndex(u=>new Date(1e3*u.fecha.seconds).getTime()==new Date(1e3*e.fecha.seconds).getTime()&&u.especialidad==e.especialidad);r.turnos[o]=e,this.authService.updateTurnList(r)}this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.turnoACalificar={},this.vistaComentarioCalificacion=!1,this.confirmacionFinalizacion=!1,this.notificationService.showSuccess("Turno Calificado","Turnos")},1e3)}}verComentario(e){this.turnoACancelar={...e},this.vistaComentario=!0,this.cancelacionTurno=!1,this.vistaComentarioCalificacion=!1,this.botonCancelar=!0,this.confirmacionFinalizacion=!1}rechazarTurno(e){this.turnoACancelar={...e},this.botonCancelar=!this.botonCancelar,this.vistaComentario=!1,this.vistaComentarioCalificacion=!1,this.cancelacionTurno=!0,this.confirmacionRechazo=!0,this.confirmacionFinalizacion=!1}aceptarTurno(e){e.estado="aceptado";for(let i=0;i<this.currentSpecialistTurnList.length;i++){const r=this.currentSpecialistTurnList[i],o=r.turnos.findIndex(u=>new Date(1e3*u.fecha.seconds).getTime()==new Date(1e3*e.fecha.seconds).getTime()&&u.especialidad==e.especialidad);r.turnos[o]=e,this.authService.updateTurnList(r)}this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.vistaComentario=!1,this.vistaComentarioCalificacion=!1,this.cancelacionTurno=!1,this.confirmacionRechazo=!1,this.confirmacionFinalizacion=!1,this.notificationService.showSuccess("Turno Aceptado","Turnos")},1e3)}finalizarTurno(e){this.turnoAFinalizar={...e},this.confirmacionFinalizacion=!0,this.vistaComentario=!1,this.vistaComentarioCalificacion=!1}confirmarFinalizacion(e){e.estado="realizado",e.comentario=this.comentarioFinalizacion;for(let i=0;i<this.currentSpecialistTurnList.length;i++){const r=this.currentSpecialistTurnList[i],o=r.turnos.findIndex(u=>new Date(1e3*u.fecha.seconds).getTime()==new Date(1e3*e.fecha.seconds).getTime()&&u.especialidad==e.especialidad);r.turnos[o]=e,this.authService.updateTurnList(r)}this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.turnoACancelar={},this.cancelacionTurno=!1,this.confirmacionRechazo=!1,this.confirmacionFinalizacion=!1,this.notificationService.showSuccess("Turno Finalizado","Turnos")},1e3)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ql),s.Y36(vu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-mis-turnos"]],decls:6,vars:3,consts:[["class","contenedor-spinner",4,"ngIf"],["class","turnos",4,"ngIf"],[1,"turnos-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"turnos"],[1,"btn","m-2",3,"ngClass","click"],[1,"btn",3,"ngClass","click"],["class","contenedor-btn-especialidades",4,"ngIf"],["class","tabla-usuario text-focus-in",4,"ngIf"],[4,"ngIf"],[1,"contenedor-btn-especialidades"],[1,"tabla-usuario","text-focus-in"],[1,"table"],["scope","col"],["class","tr-tabla","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"tr-tabla",2,"cursor","pointer"],[2,"padding-top","1rem","padding-bottom","1rem"],[1,"estado"],["class","btn btn-secondary btn-cancelar","style","box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["class","btn btn-success btn-confirmar","style","margin-left: 1rem; box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["type","text","class","form-control","style","margin-top: 0.5rem","placeholder","Comentario de cancelaci\xf3n...",3,"ngModel","ngModelChange",4,"ngIf"],["disabled","","type","text","class","form-control","style","margin-top: 0.5rem","placeholder","Comentario de cancelaci\xf3n...",3,"ngModel","ngModelChange",4,"ngIf"],["class","btn btn-warning btn-confirmar","style","box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["type","text","class","form-control","style","margin-top: 0.5rem","placeholder","Comentario de calificaci\xf3n...",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-secondary","btn-cancelar",2,"box-shadow","2px 2px 4px #000",3,"click"],[1,"btn","btn-success","btn-confirmar",2,"margin-left","1rem","box-shadow","2px 2px 4px #000",3,"click"],["type","text","placeholder","Comentario de cancelaci\xf3n...",1,"form-control",2,"margin-top","0.5rem",3,"ngModel","ngModelChange"],["disabled","","type","text","placeholder","Comentario de cancelaci\xf3n...",1,"form-control",2,"margin-top","0.5rem",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","btn-confirmar",2,"box-shadow","2px 2px 4px #000",3,"click"],["type","text","placeholder","Comentario de calificaci\xf3n...",1,"form-control",2,"margin-top","0.5rem",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-especialista",3,"click"],["class","btn m-2 btn-warning","style","text-transform: uppercase",3,"click",4,"ngFor","ngForOf"],[1,"btn","m-2","btn-warning",2,"text-transform","uppercase",3,"click"],["class","btn btn-secondary btn-cancelar","style","box-shadow: 2px 2px 4px #000; margin-right: 1rem",3,"click",4,"ngIf"],["class","btn btn-danger btn-cancelar","style","box-shadow: 2px 2px 4px #000; margin-right: 1rem",3,"click",4,"ngIf"],["class","btn btn-success btn-confirmar","style","margin-right: 1rem; box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["class","btn btn-success btn-cancelar","style","box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["class","btn btn-warning btn-cancelar","style","box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["type","text","class","form-control","style","margin-top: 0.5rem","placeholder","Comentario de finalizaci\xf3n",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","form-control","style","margin-top: 0.5rem",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-secondary","btn-cancelar",2,"box-shadow","2px 2px 4px #000","margin-right","1rem",3,"click"],[1,"btn","btn-danger","btn-cancelar",2,"box-shadow","2px 2px 4px #000","margin-right","1rem",3,"click"],[1,"btn","btn-success","btn-confirmar",2,"margin-right","1rem","box-shadow","2px 2px 4px #000",3,"click"],[1,"btn","btn-success","btn-cancelar",2,"box-shadow","2px 2px 4px #000",3,"click"],[1,"btn","btn-warning","btn-cancelar",2,"box-shadow","2px 2px 4px #000",3,"click"],["type","text","placeholder","Comentario de finalizaci\xf3n",1,"form-control",2,"margin-top","0.5rem",3,"ngModel","ngModelChange"],["type","text",1,"form-control",2,"margin-top","0.5rem",3,"placeholder","ngModel","ngModelChange"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div"),s.YNc(2,KG,8,0,"div",0),s.YNc(3,V5,13,6,"div",1),s.YNc(4,Uq,13,6,"div",1),s._UZ(5,"div",2),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.spinner),s.xp6(1),s.Q6J("ngIf",i.isPaciente),s.xp6(1),s.Q6J("ngIf",i.isEspecialista))},dependencies:[sn,Vi,Xt,yu,Kf,z1,Xf,AN],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.turnos-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.turnos[_ngcontent-%COMP%]{position:absolute;overflow-y:scroll;width:90vw;height:80vh;top:18%;left:5%;z-index:100;padding:1rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.75)}.turnos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#fff;background:rgba(0,0,0,.534);padding:10px;border-radius:20px;box-shadow:2px 2px 4px #000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0);margin-bottom:1rem}.turnos[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.turnos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#646464;margin-bottom:1rem;text-transform:uppercase}.tabla-usuario[_ngcontent-%COMP%]{height:75%;overflow-y:scroll;z-index:100;left:5%;top:18%;background:#000;color:#fff;padding:1rem;background:rgba(182,85,85,.678);border:2px solid #fff;box-shadow:2px 2px 4px #000;text-shadow:1px 1px #000}.tabla-usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.tabla-usuario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff;font-weight:400}.tr-tabla[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);transition:background .5s}.btn-especialista[_ngcontent-%COMP%]:hover{background:rgb(0,0,0);box-shadow:2px 2px 4px #000}.btn-cancelar[_ngcontent-%COMP%]:hover{background:#ff0000;box-shadow:2px 2px 4px #000}.btn-confirmar[_ngcontent-%COMP%]:hover{background:#0099ff}.estado[_ngcontent-%COMP%]{font-weight:bolder;text-transform:uppercase;padding:.5rem;border-radius:.5rem;border:1px solid rgb(255,255,255);background:#0071b3}']}),n})();const lL="firebasestorage.googleapis.com",cL="storageBucket";class Ui extends zt.ZR{constructor(t,e,i=0){super(xN(t),`Firebase Storage: ${e} (${xN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ui.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xN(n){return"storage/"+n}function MN(){return new Ui("unknown","An unknown error occurred, please check the error payload for server response.")}function uL(){return new Ui("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function dL(){return new Ui("canceled","User canceled the upload/download.")}function hL(){return new Ui("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _y(n){return new Ui("invalid-argument",n)}function fL(){return new Ui("app-deleted","The Firebase app was deleted.")}function pL(n){return new Ui("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gw(n,t){return new Ui("invalid-format","String does not match format '"+n+"': "+t)}function mw(n){throw new Ui("internal-error","Internal error: "+n)}class ws{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ws.makeFromUrl(t,e)}catch{return new ws(t,"")}if(""===i.path)return i;throw function Yq(n){return new Ui("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Ae){Ae.path_=decodeURIComponent(Ae.path)}const I=e.replace(/[.]/g,"\\."),Fe=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Ae){"/"===Ae.path.charAt(Ae.path.length-1)&&(Ae.path_=Ae.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===lL?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ae=0;Ae<Fe.length;Ae++){const He=Fe[Ae],Ge=He.regex.exec(t);if(Ge){let Ut=Ge[He.indices.path];Ut||(Ut=""),i=new ws(Ge[He.indices.bucket],Ut),He.postModify(i);break}}if(null==i)throw function Wq(n){return new Ui("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class Xq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function GD(n){return"string"==typeof n||n instanceof String}function gL(n){return NN()&&n instanceof Blob}function NN(){return typeof Blob<"u"}function ON(n,t,e,i){if(i<t)throw _y(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw _y(`Invalid value for '${n}'. Expected ${e} or less.`)}function Jd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function mL(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var ep=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ep||(ep={})),ep))();function _L(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class sz{constructor(t,e,i,r,o,u,h,g,v,T,I,M=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=I,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,U)=>{this.resolve_=k,this.reject_=U,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function nz(n){return void 0!==n}(g)?o():o(g)}catch(g){u(g)}else if(null!==h){const g=MN();g.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,g):g)}else u(r.canceled?this.appDelete_?fL():dL():uL())};this.canceled_?e(0,new qD(!1,null,!0)):this.backoffId_=function ez(n,t,e){let i=1,r=null,o=null,u=!1,h=0;function g(){return 2===h}let v=!1;function T(...K){v||(v=!0,t.apply(null,K))}function I(K){r=setTimeout(()=>{r=null,n(k,g())},K)}function M(){o&&clearTimeout(o)}function k(K,...we){if(v)return void M();if(K)return M(),void T.call(null,K,...we);if(g()||u)return M(),void T.call(null,K,...we);let Fe;i<64&&(i*=2),1===h?(h=2,Fe=0):Fe=1e3*(i+Math.random()),I(Fe)}let U=!1;function H(K){U||(U=!0,M(),!v&&(null!==r?(K||(h=2),clearTimeout(r),I(0)):K||(h=1)))}return I(0),o=setTimeout(()=>{u=!0,H(!0)},e),H}((i,r)=>{if(r)return void i(!1,new qD(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===ep.NO_ERROR,g=o.getStatus();if((!h||_L(g,this.additionalRetryCodes_))&&this.retry){const T=o.getErrorCode()===ep.ABORT;return void i(!1,new qD(!1,null,T))}const v=-1!==this.successCodes_.indexOf(g);i(!0,new qD(v,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function tz(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function hz(...n){const t=function dz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(NN())return new Blob(n);throw new Ui("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RN{constructor(t,e){this.data=t,this.contentType=e||null}}function kN(n,t){switch(n){case ra.RAW:return new RN(vL(t));case ra.BASE64:case ra.BASE64URL:return new RN(yL(n,t));case ra.DATA_URL:return new RN(function mz(n){const t=new bL(n);return t.base64?yL(ra.BASE64,t.rest):function gz(n){let t;try{t=decodeURIComponent(n)}catch{throw gw(ra.DATA_URL,"Malformed data URL.")}return vL(t)}(t.rest)}(t),function _z(n){return new bL(n).contentType}(t))}throw MN()}function vL(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function yL(n,t){switch(n){case ra.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw gw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ra.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw gw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function pz(n){return atob(n)}(t)}catch{throw gw(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class bL{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw gw(ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function vz(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Du{constructor(t,e){let i=0,r="";gL(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(gL(this.data_)){const r=function fz(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Du(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Du(i,!0)}}static getBlob(...t){if(NN()){const e=t.map(i=>i instanceof Du?i.data_:i);return new Du(hz.apply(null,e))}{const e=t.map(u=>GD(u)?kN(ra.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new Du(r,!0)}}uploadData(){return this.data_}}function PN(n){let t;try{t=JSON.parse(n)}catch{return null}return function rz(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function wL(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function wz(n,t){return t}class Gs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||wz}}let zD=null;function _w(){if(zD)return zD;const n=[];n.push(new Gs("bucket")),n.push(new Gs("generation")),n.push(new Gs("metageneration")),n.push(new Gs("name","fullPath",!0));const e=new Gs("name");e.xform=function t(o,u){return function Tz(n){return!GD(n)||n.length<2?n:wL(n)}(u)},n.push(e);const r=new Gs("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Gs("timeCreated")),n.push(new Gs("updated")),n.push(new Gs("md5Hash",null,!0)),n.push(new Gs("cacheControl",null,!0)),n.push(new Gs("contentDisposition",null,!0)),n.push(new Gs("contentEncoding",null,!0)),n.push(new Gs("contentLanguage",null,!0)),n.push(new Gs("contentType",null,!0)),n.push(new Gs("metadata","customMetadata",!0)),zD=n,zD}function TL(n,t,e){const i=PN(t);return null===i?null:function Ez(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function Cz(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new ws(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function FN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const CL="prefixes";class Iu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Su(n){if(!n)throw MN()}function WD(n,t){return function e(i,r){const o=TL(n,r,t);return Su(null!==o),o}}function vy(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function qq(){return new Ui("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Gq(){return new Ui("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Zq(n){return new Ui("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function zq(n){return new Ui("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function vw(n){const t=vy(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function $q(n){return new Ui("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function DL(n,t,e){const r=Jd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Iu(r,"GET",WD(n,e),u);return h.errorHandler=vw(t),h}function Mz(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=Jd(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,T=new Iu(h,"GET",function Az(n,t){return function e(i,r){const o=function Sz(n,t,e){const i=PN(e);return null===i?null:function Iz(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[CL])for(const r of e[CL]){const o=r.replace(/\/$/,""),u=n._makeStorageReference(new ws(t,o));i.prefixes.push(u)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new ws(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Su(null!==o),o}}(n,t.bucket),v);return T.urlParams=o,T.errorHandler=vy(t),T}function SL(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function kz(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class YD{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function LN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Su(!1)}return Su(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Uz={STATE_CHANGED:"state_changed"},qs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UN(n){switch(n){case"running":case"pausing":case"canceling":return qs.RUNNING;case"paused":return qs.PAUSED;case"success":return qs.SUCCESS;case"canceled":return qs.CANCELED;default:return qs.ERROR}}class Bz{constructor(t,e,i){if(function iz(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function yy(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class Hz extends class Vz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ep.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ep.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ep.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw mw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Jl(){return new Hz}class NL{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=_w(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(_L(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=uL()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Pz(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u=SL(t,i,r),h={name:u.fullPath},g=Jd(o,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},I=FN(u,e),U=new Iu(g,"POST",function k(H){let K;LN(H);try{K=H.getResponseHeader("X-Goog-Upload-URL")}catch{Su(!1)}return Su(GD(K)),K},n.maxUploadRetryTime);return U.urlParams=h,U.headers=T,U.body=I,U.errorHandler=vy(t),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Jl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Fz(n,t,e,i){const g=new Iu(e,"POST",function o(v){const T=LN(v,["active","final"]);let I=null;try{I=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Su(!1)}I||Su(!1);const M=Number(I);return Su(!isNaN(M)),new YD(M,i.size(),"final"===T)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=vy(t),g}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Jl,e,i);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new YD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let u;try{u=function Lz(n,t,e,i,r,o,u,h){const g=new YD(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw function Jq(){return new Ui("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let T=v;r>0&&(T=Math.min(T,r));const I=g.current;let k="";k=0===T?"finalize":v===T?"upload, finalize":"upload";const U={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${g.current}`},H=i.slice(I,I+T);if(null===H)throw hL();const Fe=new Iu(e,"POST",function K(Ae,He){const Ge=LN(Ae,["active","final"]),ht=g.current+T,Ut=i.size();let wn;return wn="final"===Ge?WD(t,o)(Ae,He):null,new YD(ht,Ut,"final"===Ge,wn)},t.maxUploadRetryTime);return Fe.headers=U,Fe.body=H.uploadData(),Fe.progressCallback=h||null,Fe.errorHandler=vy(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Jl,r,o,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=DL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Jl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function AL(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let Fe="";for(let Ae=0;Ae<2;Ae++)Fe+=Math.random().toString().slice(2);return Fe}();u["Content-Type"]="multipart/related; boundary="+g;const v=SL(t,i,r),T=FN(v,e),k=Du.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===k)throw hL();const U={name:v.fullPath},H=Jd(o,n.host,n._protocol),we=n.maxUploadRetryTime,Se=new Iu(H,"POST",WD(n,e),we);return Se.urlParams=U,Se.headers=u,Se.body=k.uploadData(),Se.errorHandler=vy(t),Se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Jl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=dL(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=UN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Bz(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(UN(this._state)){case qs.SUCCESS:yy(this._resolve.bind(null,this.snapshot))();break;case qs.CANCELED:case qs.ERROR:yy(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(UN(this._state)){case qs.RUNNING:case qs.PAUSED:t.next&&yy(t.next.bind(t,this.snapshot))();break;case qs.SUCCESS:t.complete&&yy(t.complete.bind(t))();break;default:t.error&&yy(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class pm{constructor(t,e){this._service=t,this._location=e instanceof ws?e:ws.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new pm(t,e)}get root(){const t=new ws(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wL(this._location.path)}get storage(){return this._service}get parent(){const t=function yz(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ws(this._location.bucket,t);return new pm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw pL(t)}}function RL(n,t,e){return BN.apply(this,arguments)}function BN(){return BN=(0,me.Z)(function*(n,t,e){const r=yield kL(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield RL(n,t,r.nextPageToken))}),BN.apply(this,arguments)}function kL(n,t){null!=t&&"number"==typeof t.maxResults&&ON("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Mz(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Jl)}function Xz(n){n._throwIfRoot("getDownloadURL");const t=function Nz(n,t,e){const r=Jd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Iu(r,"GET",function xz(n,t){return function e(i,r){const o=TL(n,r,t);return Su(null!==o),function Dz(n,t,e,i){const r=PN(t);if(null===r||!GD(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(v=>{const I=n.fullPath;return Jd("/b/"+u(n.bucket)+"/o/"+u(I),e,i)+mL({alt:"media",token:v})})[0]}(o,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=vw(t),h}(n.storage,n._location,_w());return n.storage.makeRequestWithTokens(t,Jl).then(e=>{if(null===e)throw function Qq(){return new Ui("no-download-url","The given file does not have any download URLs.")}();return e})}function PL(n,t){const e=function bz(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ws(n._location.bucket,e);return new pm(n.storage,i)}function FL(n,t){if(n instanceof VN){const e=n;if(null==e._bucket)throw function Kq(){return new Ui("no-default-bucket","No default bucket found. Did you set the '"+cL+"' property when initializing the app?")}();const i=new pm(e,e._bucket);return null!=t?FL(i,t):i}return void 0!==t?PL(n,t):n}function i8(n,t){if(t&&function t8(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof VN)return function n8(n,t){return new pm(n,t)}(n,t);throw _y("To use ref(service, url), the first argument must be a Storage instance.")}return FL(n,t)}function LL(n,t){const e=t?.[cL];return null==e?null:ws.makeFromBucketSpec(e,n)}class VN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=lL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ws.makeFromBucketSpec(r,this._host):LL(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ws.makeFromBucketSpec(this._url,t):LL(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ON("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ON("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,me.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,me.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new pm(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new Xq(fL());{const u=function uz(n,t,e,i,r,o,u=!0){const h=mL(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function lz(n,t){t&&(n["X-Firebase-GMPID"]=t)}(v,t),function oz(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(v,e),function az(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(v,o),function cz(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(v,i),new sz(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var i=this;return(0,me.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const UL="@firebase/storage";function HL(n,t){return i8(n=(0,zt.m9)(n),t)}function f8(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new VN(e,i,r,t,qo.SDK_VERSION)}!function p8(){(0,qo._registerComponent)(new Zh.wA("storage",f8,"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(UL,"0.9.12",""),(0,qo.registerVersion)(UL,"0.9.12","esm2017")}();class KD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class $L{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new KD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new KD(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?u=>e(new KD(u,this,this._ref)):{next:e.next?u=>e.next(new KD(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class ZL{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Qd(t,this._service))}get items(){return this._delegate.items.map(t=>new Qd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function h8(n,t){return PL(n,t)}(this._delegate,t);return new Qd(e,this.storage)}get root(){return new Qd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Qd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new $L(function s8(n,t,e){return function Wz(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new NL(n,new Du(t),e)}(n=(0,zt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ra.RAW,i){this._throwIfRoot("putString");const r=kN(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new $L(new NL(this._delegate,new Du(r.data,!0),o),this)}listAll(){return function c8(n){return function Kz(n){const t={prefixes:[],items:[]};return RL(n,t).then(()=>t)}(n=(0,zt.m9)(n))}(this._delegate).then(t=>new ZL(t,this.storage))}list(t){return function l8(n,t){return kL(n=(0,zt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new ZL(e,this.storage))}getMetadata(){return function o8(n){return function Jz(n){n._throwIfRoot("getMetadata");const t=DL(n.storage,n._location,_w());return n.storage.makeRequestWithTokens(t,Jl)}(n=(0,zt.m9)(n))}(this._delegate)}updateMetadata(t){return function a8(n,t){return function Qz(n,t){n._throwIfRoot("updateMetadata");const e=function Oz(n,t,e,i){const o=Jd(t.fullServerUrl(),n.host,n._protocol),h=FN(e,i),v=n.maxOperationRetryTime,T=new Iu(o,"PATCH",WD(n,i),v);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=h,T.errorHandler=vw(t),T}(n.storage,n._location,t,_w());return n.storage.makeRequestWithTokens(e,Jl)}(n=(0,zt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function u8(n){return Xz(n=(0,zt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function d8(n){return function e8(n){n._throwIfRoot("deleteObject");const t=function Rz(n,t){const i=Jd(t.fullServerUrl(),n.host,n._protocol),h=new Iu(i,"DELETE",function u(g,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=vw(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Jl)}(n=(0,zt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw pL(t)}}class GL{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(qL(t))throw _y("ref() expected a child path but got a URL, use refFromURL instead.");return new Qd(HL(this._delegate,t),this)}refFromURL(t){if(!qL(t))throw _y("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ws.makeFromUrl(t,this._delegate.host)}catch{throw _y("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qd(HL(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function jL(n,t,e,i={}){!function r8(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,zt.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function qL(n){return/^[A-Za-z]+:\/\//.test(n)}function v8(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new GL(e,i)}function zL(n){const t=function b8(n){return new Rn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const o=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){o()}}).pipe(pN(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,We.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function JD(n){return{getDownloadURL:()=>Xe(void 0).pipe(Qn.fc,Cn(()=>n.getDownloadURL()),Qn.iC),getMetadata:()=>Xe(void 0).pipe(Qn.fc,Cn(()=>n.getMetadata()),Qn.iC),delete:()=>(0,ln.D)(n.delete()),child:t=>JD(n.child(t)),updateMetadata:t=>(0,ln.D)(n.updateMetadata(t)),put:(t,e)=>zL(n.put(t,e)),putString:(t,e,i)=>zL(n.putString(t,e,i)),list:t=>(0,ln.D)(n.list(t)),listAll:()=>(0,ln.D)(n.listAll())}}!function y8(n){const t={TaskState:qs,TaskEvent:Uz,StringFormat:ra,Storage:GL,Reference:Qd};n.INTERNAL.registerComponent(new Zh.wA("storage-compat",v8,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.20")}(H_.Z);const w8=new s.OlP("angularfire2.storageBucket"),T8=new s.OlP("angularfire2.storage.maxUploadRetryTime"),C8=new s.OlP("angularfire2.storage.maxOperationRetryTime"),E8=new s.OlP("angularfire2.storage.use-emulator");let QD=(()=>{class n{constructor(e,i,r,o,u,h,g,v,T,I){const M=(0,pr.on)(e,u,i);this.storage=(0,pr.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const k=u.runOutsideAngular(()=>M.storage(r||void 0)),U=T;return U&&k.useEmulator(...U),g&&k.setMaxUploadRetryTime(g),v&&k.setMaxOperationRetryTime(v),k},[g,v])}ref(e){return JD(this.storage.ref(e))}refFromURL(e){return JD(this.storage.refFromURL(e))}upload(e,i,r){return JD(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pr.Dh),s.LFG(pr.xv,8),s.LFG(w8,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Qn.HU),s.LFG(T8,8),s.LFG(C8,8),s.LFG(E8,8),s.LFG(P_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),D8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),I8=(()=>{class n{constructor(){O0.Z.registerVersion("angularfire",Qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[QD],imports:[D8]}),n})();function S8(n,t){1&n&&(s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"div",22)(3,"div",22)(4,"div",22)(5,"div",23)(6,"div",23)(7,"div",23),s.qZA()())}function A8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," El Nombre es requerido "),s.qZA())}function x8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," El Apellido es requerido "),s.qZA())}function M8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," La Edad es requerida "),s.qZA())}function N8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),s.qZA())}function O8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," El DNI es requerido "),s.qZA())}function R8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," La Obra Social es requerida "),s.qZA())}function k8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," El Email es requerido "),s.qZA())}function P8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," La contrase\xf1a es requerida "),s.qZA())}function F8(n,t){1&n&&(s.TgZ(0,"small",24),s._uU(1," El Captcha es requerido "),s.qZA())}let WL=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.angularFireStorage=i,this.notificationService=r,this.authService=o,this.newPaciente=new fm,this.spinner=!1,this.captcha="",this.formPaciente=this.formBuilder.group({nombre:["",[bi.required]],apellido:["",[bi.required]],edad:["",[bi.required]],dni:["",[bi.required]],obraSocial:["",[bi.required]],email:["",[bi.required]],password:["",[bi.required]],captcha:["",[bi.required]]}),this.captcha=this.generateRandomString(6)}ngOnInit(){}registerPaciente(){this.formPaciente.valid?this.captcha.toLocaleLowerCase().trim()==this.formPaciente.getRawValue().captcha.toLocaleLowerCase().trim()?""!=this.newPaciente.imagen1&&""!=this.newPaciente.imagen2?(this.spinner=!0,this.newPaciente.perfil="paciente",this.newPaciente.nombre=this.formPaciente.getRawValue().nombre,this.newPaciente.apellido=this.formPaciente.getRawValue().apellido,this.newPaciente.edad=this.formPaciente.getRawValue().edad,this.newPaciente.dni=this.formPaciente.getRawValue().dni,this.newPaciente.obraSocial=this.formPaciente.getRawValue().obraSocial,this.newPaciente.email=this.formPaciente.getRawValue().email,this.newPaciente.password=this.formPaciente.getRawValue().password,this.authService.registerNewUser(this.newPaciente),setTimeout(()=>{this.spinner=!1,this.formPaciente.reset(),this.newPaciente=new fm},2e3)):this.notificationService.showWarning("Debes elegir im\xe1genes para tu perfil","Registro Paciente"):this.notificationService.showWarning("El CAPTCHA no coincide","Registro Paciente"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro Paciente")}uploadImage(e,i){var r=this;return(0,me.Z)(function*(){r.spinner=!0;const o=e.target.files[0],u="img "+Date.now()+10*Math.random(),h=r.angularFireStorage.ref(u);yield h.put(o).then((0,me.Z)(function*(){yield h.getDownloadURL().subscribe(g=>{r.spinner=!1,1==i?r.newPaciente.imagen1=g:2==i&&(r.newPaciente.imagen2=g)})}))})()}generateRandomString(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r=" ";const o=i.length;for(let u=0;u<e;u++)r+=i.charAt(Math.floor(Math.random()*o));return r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wD),s.Y36(QD),s.Y36(vu),s.Y36(ql))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-form-alta-paciente"]],decls:46,vars:12,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","obraSocial","type","text","placeholder","Obra Social",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],["for","imagen2",1,"form-label"],["type","file","placeholder","Im\xe1gen Perfil 2",1,"form-control",3,"change"],[1,"col","col-3","mb-3"],[2,"font-size","2rem","text-align","center","color","blue","background","#000","padding","0.6rem","border-radius","10px","text-transform","uppercase","font-weight","bolder","text-shadow","1px 1px 1px #fff"],["formControlName","captcha","type","text","placeholder","CAPTCHA",1,"form-control"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(e,i){1&e&&(s.YNc(0,S8,8,0,"div",0),s.TgZ(1,"form",1),s.NdJ("ngSubmit",function(){return i.registerPaciente()}),s.TgZ(2,"h2"),s._uU(3,"REGISTRO DE PACIENTE"),s.qZA(),s.TgZ(4,"div",2)(5,"div",3),s._UZ(6,"input",4),s.YNc(7,A8,2,0,"small",5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6),s.YNc(10,x8,2,0,"small",5),s.qZA(),s.TgZ(11,"div",3),s._UZ(12,"input",7),s.YNc(13,M8,2,0,"small",5),s.YNc(14,N8,2,0,"small",5),s.qZA(),s.TgZ(15,"div",3),s._UZ(16,"input",8),s.YNc(17,O8,2,0,"small",5),s.qZA()(),s.TgZ(18,"div",2)(19,"div",3),s._UZ(20,"input",9),s.YNc(21,R8,2,0,"small",5),s.qZA(),s.TgZ(22,"div",3),s._UZ(23,"input",10),s.YNc(24,k8,2,0,"small",5),s.qZA(),s.TgZ(25,"div",3),s._UZ(26,"input",11),s.YNc(27,P8,2,0,"small",5),s.qZA()(),s.TgZ(28,"div",2)(29,"div",3)(30,"label",12),s._uU(31,"Im\xe1gen Perfil 1"),s.qZA(),s.TgZ(32,"input",13),s.NdJ("change",function(o){return i.uploadImage(o,1)}),s.qZA()(),s.TgZ(33,"div",3)(34,"label",14),s._uU(35,"Im\xe1gen Perfil 2"),s.qZA(),s.TgZ(36,"input",15),s.NdJ("change",function(o){return i.uploadImage(o,2)}),s.qZA()()(),s.TgZ(37,"div",2)(38,"div",16)(39,"p",17),s._uU(40),s.qZA()(),s.TgZ(41,"div",16),s._UZ(42,"input",18),s.YNc(43,F8,2,0,"small",5),s.qZA()(),s.TgZ(44,"button",19),s._uU(45,"Registrar"),s.qZA()()),2&e&&(s.Q6J("ngIf",i.spinner),s.xp6(1),s.Q6J("formGroup",i.formPaciente),s.xp6(6),s.Q6J("ngIf",(null==i.formPaciente.controls.nombre.errors?null:i.formPaciente.controls.nombre.errors.required)&&i.formPaciente.controls.nombre.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formPaciente.controls.apellido.errors?null:i.formPaciente.controls.apellido.errors.required)&&i.formPaciente.controls.apellido.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formPaciente.controls.edad.errors?null:i.formPaciente.controls.edad.errors.required)&&i.formPaciente.controls.edad.touched),s.xp6(1),s.Q6J("ngIf",(null==i.formPaciente.controls.edad.errors?null:i.formPaciente.controls.edad.errors.min)||(null==i.formPaciente.controls.edad.errors?null:i.formPaciente.controls.edad.errors.max)&&i.formPaciente.controls.edad.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formPaciente.controls.dni.errors?null:i.formPaciente.controls.dni.errors.required)&&i.formPaciente.controls.dni.touched),s.xp6(4),s.Q6J("ngIf",(null==i.formPaciente.controls.obraSocial.errors?null:i.formPaciente.controls.obraSocial.errors.required)&&i.formPaciente.controls.obraSocial.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formPaciente.controls.email.errors?null:i.formPaciente.controls.email.errors.required)&&i.formPaciente.controls.email.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formPaciente.controls.password.errors?null:i.formPaciente.controls.password.errors.required)&&i.formPaciente.controls.password.touched),s.xp6(13),s.hij(" ",i.captcha," "),s.xp6(3),s.Q6J("ngIf",(null==i.formPaciente.controls.captcha.errors?null:i.formPaciente.controls.captcha.errors.required)&&i.formPaciente.controls.captcha.touched))},dependencies:[Xt,W1,yu,ry,Kf,V1,K1,Y1,em,sy],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function L8(n,t){1&n&&(s.TgZ(0,"div",23)(1,"div",24),s._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26)(6,"div",26)(7,"div",26),s.qZA()())}function U8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," El Nombre es requerido "),s.qZA())}function B8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," El Apellido es requerido "),s.qZA())}function V8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," La Edad es requerida "),s.qZA())}function H8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),s.qZA())}function j8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," El DNI es requerido "),s.qZA())}function $8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," La especialidad es requerida "),s.qZA())}function Z8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," La Especialidad es requerida "),s.qZA())}function G8(n,t){if(1&n&&(s.TgZ(0,"div",3),s._UZ(1,"input",28),s.YNc(2,Z8,2,0,"small",5),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",(null==e.formEspecialista.controls.especialidad.errors?null:e.formEspecialista.controls.especialidad.errors.required)&&e.formEspecialista.controls.especialidad.touched)}}function q8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," El Email es requerido "),s.qZA())}function z8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," La contrase\xf1a es requerida "),s.qZA())}function W8(n,t){1&n&&(s.TgZ(0,"small",27),s._uU(1," El Captcha es requerido "),s.qZA())}let YL=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.angularFireStorage=i,this.notificationService=r,this.authService=o,this.newEspecialista=new fm,this.especialidad=!1,this.spinner=!1,this.captcha="",this.formEspecialista=this.formBuilder.group({nombre:["",[bi.required]],apellido:["",[bi.required]],edad:["",[bi.required]],dni:["",[bi.required]],especialidad:["",[bi.required]],email:["",[bi.required]],password:["",[bi.required]],captcha:["",[bi.required]]}),this.captcha=this.generateRandomString(6)}ngOnInit(){}registerEspecialista(){this.formEspecialista.valid?this.captcha.toLocaleLowerCase().trim()==this.formEspecialista.getRawValue().captcha.toLocaleLowerCase().trim()?""!=this.newEspecialista.imagen1?(this.spinner=!0,this.newEspecialista.perfil="especialista",this.newEspecialista.nombre=this.formEspecialista.getRawValue().nombre,this.newEspecialista.apellido=this.formEspecialista.getRawValue().apellido,this.newEspecialista.edad=this.formEspecialista.getRawValue().edad,this.newEspecialista.dni=this.formEspecialista.getRawValue().dni,this.newEspecialista.especialidad=this.formEspecialista.getRawValue().especialidad,this.newEspecialista.email=this.formEspecialista.getRawValue().email,this.newEspecialista.password=this.formEspecialista.getRawValue().password,this.authService.registerNewUser(this.newEspecialista),setTimeout(()=>{this.spinner=!1,this.formEspecialista.reset(),this.newEspecialista=new fm},2e3)):this.notificationService.showWarning("Debes elegir una im\xe1gen para tu perfil","Registro Especialista"):this.notificationService.showWarning("El CAPTCHA no coincide","Registro Paciente"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro Especialista")}uploadImage(e){var i=this;return(0,me.Z)(function*(){i.spinner=!0;const r=e.target.files[0],o="img "+Date.now()+10*Math.random(),u=i.angularFireStorage.ref(o);yield u.put(r).then((0,me.Z)(function*(){yield u.getDownloadURL().subscribe(h=>{i.newEspecialista.imagen1=h,i.spinner=!1})}))})()}addEspecialidad(){this.especialidad=""==this.formEspecialista.getRawValue().especialidad}generateRandomString(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r=" ";const o=i.length;for(let u=0;u<e;u++)r+=i.charAt(Math.floor(Math.random()*o));return r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wD),s.Y36(QD),s.Y36(vu),s.Y36(ql))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-form-alta-especialista"]],decls:51,vars:13,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","especialidad",1,"form-control",3,"change"],["value","","disabled",""],["value","clinico"],["value","odontologo"],["value","oftalmologo"],["value",""],["class","col-sm mb-3",4,"ngIf"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],[1,"col","col-3","mb-3"],[2,"font-size","2rem","text-align","center","color","blue","background","#000","padding","0.6rem","border-radius","10px","text-transform","uppercase","font-weight","bolder","text-shadow","1px 1px 1px #fff"],["formControlName","captcha","type","text","placeholder","CAPTCHA",1,"form-control"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"],["formControlName","especialidad","type","text","placeholder","Especialidad",1,"form-control"]],template:function(e,i){1&e&&(s.YNc(0,L8,8,0,"div",0),s.TgZ(1,"form",1),s.NdJ("ngSubmit",function(){return i.registerEspecialista()}),s.TgZ(2,"h2"),s._uU(3,"REGISTRO DE ESPECIALISTA"),s.qZA(),s.TgZ(4,"div",2)(5,"div",3),s._UZ(6,"input",4),s.YNc(7,U8,2,0,"small",5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6),s.YNc(10,B8,2,0,"small",5),s.qZA(),s.TgZ(11,"div",3),s._UZ(12,"input",7),s.YNc(13,V8,2,0,"small",5),s.YNc(14,H8,2,0,"small",5),s.qZA()(),s.TgZ(15,"div",2)(16,"div",3),s._UZ(17,"input",8),s.YNc(18,j8,2,0,"small",5),s.qZA(),s.TgZ(19,"div",3)(20,"select",9),s.NdJ("change",function(){return i.addEspecialidad()}),s.TgZ(21,"option",10),s._uU(22,"Elegir especialidad..."),s.qZA(),s.TgZ(23,"option",11),s._uU(24,"Clinico"),s.qZA(),s.TgZ(25,"option",12),s._uU(26,"Odontologo"),s.qZA(),s.TgZ(27,"option",13),s._uU(28,"Oftalmologo"),s.qZA(),s.TgZ(29,"option",14),s._uU(30,"Agregar otra especialidad"),s.qZA()(),s.YNc(31,$8,2,0,"small",5),s.qZA(),s.YNc(32,G8,3,1,"div",15),s.qZA(),s.TgZ(33,"div",2)(34,"div",3),s._UZ(35,"input",16),s.YNc(36,q8,2,0,"small",5),s.qZA(),s.TgZ(37,"div",3),s._UZ(38,"input",17),s.YNc(39,z8,2,0,"small",5),s.qZA(),s.TgZ(40,"div",3)(41,"input",18),s.NdJ("change",function(o){return i.uploadImage(o)}),s.qZA()()(),s.TgZ(42,"div",2)(43,"div",19)(44,"p",20),s._uU(45),s.qZA()(),s.TgZ(46,"div",19),s._UZ(47,"input",21),s.YNc(48,W8,2,0,"small",5),s.qZA()(),s.TgZ(49,"button",22),s._uU(50,"Registrar"),s.qZA()()),2&e&&(s.Q6J("ngIf",i.spinner),s.xp6(1),s.Q6J("formGroup",i.formEspecialista),s.xp6(6),s.Q6J("ngIf",(null==i.formEspecialista.controls.nombre.errors?null:i.formEspecialista.controls.nombre.errors.required)&&i.formEspecialista.controls.nombre.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formEspecialista.controls.apellido.errors?null:i.formEspecialista.controls.apellido.errors.required)&&i.formEspecialista.controls.apellido.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formEspecialista.controls.edad.errors?null:i.formEspecialista.controls.edad.errors.required)&&i.formEspecialista.controls.edad.touched),s.xp6(1),s.Q6J("ngIf",(null==i.formEspecialista.controls.edad.errors?null:i.formEspecialista.controls.edad.errors.min)||(null==i.formEspecialista.controls.edad.errors?null:i.formEspecialista.controls.edad.errors.max)&&i.formEspecialista.controls.edad.touched),s.xp6(4),s.Q6J("ngIf",(null==i.formEspecialista.controls.dni.errors?null:i.formEspecialista.controls.dni.errors.required)&&i.formEspecialista.controls.dni.touched),s.xp6(13),s.Q6J("ngIf",(null==i.formEspecialista.controls.especialidad.errors?null:i.formEspecialista.controls.especialidad.errors.required)&&i.formEspecialista.controls.especialidad.touched&&!i.especialidad),s.xp6(1),s.Q6J("ngIf",i.especialidad),s.xp6(4),s.Q6J("ngIf",(null==i.formEspecialista.controls.email.errors?null:i.formEspecialista.controls.email.errors.required)&&i.formEspecialista.controls.email.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formEspecialista.controls.password.errors?null:i.formEspecialista.controls.password.errors.required)&&i.formEspecialista.controls.password.touched),s.xp6(6),s.hij(" ",i.captcha," "),s.xp6(3),s.Q6J("ngIf",(null==i.formEspecialista.controls.captcha.errors?null:i.formEspecialista.controls.captcha.errors.required)&&i.formEspecialista.controls.captcha.touched))},dependencies:[Xt,W1,GP,zP,yu,ry,bD,Kf,V1,K1,Y1,em,sy],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function Y8(n,t){1&n&&(s.TgZ(0,"div",5)(1,"div",6),s._UZ(2,"div",7)(3,"div",7)(4,"div",7)(5,"div",8)(6,"div",8)(7,"div",8),s.qZA()())}function K8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",9)(1,"div",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToFormPaciente())}),s.TgZ(2,"div")(3,"h2"),s._uU(4,"Paciente"),s.qZA(),s._UZ(5,"img",11),s.qZA()(),s.TgZ(6,"div",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToFormEspecialista())}),s.TgZ(7,"div")(8,"h2"),s._uU(9,"Especialista"),s.qZA(),s._UZ(10,"img",12),s.qZA()()()}}function J8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToRegistro())}),s._uU(2,"Volver"),s.qZA(),s._UZ(3,"app-form-alta-paciente"),s.qZA()}}function Q8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15)(1,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToRegistro())}),s._uU(2,"Volver"),s.qZA(),s._UZ(3,"app-form-alta-especialista"),s.qZA()}}let X8=(()=>{class n{constructor(){this.formPaciente=!1,this.formEspecialista=!1,this.spinner=!1}ngOnInit(){}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:6,vars:4,consts:[["class","contenedor-spinner",4,"ngIf"],["class","opcion-registros",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"registro-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"opcion-registros"],[1,"row","card-form","text-focus-in",3,"click"],["src","../../../assets/paciente.png","alt","imagen paciente"],["src","../../../assets/especialista.png","alt","imagen especialista"],[1,"registro-paciente"],[1,"btn-volver","text-focus-in",3,"click"],[1,"registro-especialista"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.YNc(1,Y8,8,0,"div",0),s.YNc(2,K8,11,0,"div",1),s.YNc(3,J8,4,0,"div",2),s.YNc(4,Q8,4,0,"div",3),s._UZ(5,"div",4)),2&e&&(s.xp6(1),s.Q6J("ngIf",i.spinner),s.xp6(1),s.Q6J("ngIf",!i.formPaciente&&!i.formEspecialista),s.xp6(1),s.Q6J("ngIf",i.formPaciente),s.xp6(1),s.Q6J("ngIf",i.formEspecialista))},dependencies:[Xt,Xf,WL,YL],styles:[".registro-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-registro.07e9e02b5bb9992f.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.opcion-registros[_ngcontent-%COMP%]{z-index:100;position:absolute;top:58%;left:50%;transform:translate(-50%,-50%)}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80vw;margin-bottom:1rem;background:rgba(252,162,162,.5);border:2px solid #fff;box-shadow:2px 2px 4px #000}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px #000}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:10rem}.card-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);cursor:pointer;transition:background .5s,color .5s}.registro-paciente[_ngcontent-%COMP%], .registro-especialista[_ngcontent-%COMP%]{position:absolute;z-index:100;top:16%;left:16%}.btn-volver[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;z-index:100;color:#fff;text-shadow:1px 1px #000;background:#ff0000;border-radius:.5rem;padding:0 1rem}.btn-volver[_ngcontent-%COMP%]:hover{background:#000;transition:background .5s}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})(),eW=(()=>{class n{transform(e,...i){let r=e.getHours()+":"+e.getMinutes();return"0"==r.split(":")[1]&&(r+="0"),parseInt(r.split(":")[0])<10&&(r="0"+r),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0}),n})();function tW(n,t){1&n&&(s.TgZ(0,"div",4)(1,"div",5),s._UZ(2,"div",6)(3,"div",6)(4,"div",6)(5,"div",7)(6,"div",7)(7,"div",7),s.qZA()())}function nW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.showPatient(o))}),s._UZ(1,"img",11),s.TgZ(2,"p"),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.s9C("src",e.imagen1,s.LSH),s.xp6(2),s.AsE("",e.nombre," - ",e.apellido,"")}}function iW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"PACIENTES"),s.qZA(),s.TgZ(3,"div",8),s.YNc(4,nW,4,3,"div",9),s.qZA()()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.pacientesList)}}function rW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.showSpeciality(o))}),s.TgZ(1,"div")(2,"p",15),s._uU(3),s.qZA(),s._UZ(4,"img",16),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(3),s.AsE(" ",e.nombre," - ",e.apellido," "),s.xp6(1),s.s9C("src",e.imagen1,s.LSH)}}function sW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"ESPECIALISTAS"),s.qZA(),s.TgZ(3,"div",12),s.YNc(4,rW,5,3,"div",13),s.qZA()()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.especialistasList)}}function oW(n,t){1&n&&s._UZ(0,"img",24)}function aW(n,t){1&n&&s._UZ(0,"img",25)}function lW(n,t){1&n&&s._UZ(0,"img",26)}function cW(n,t){1&n&&s._UZ(0,"img",27)}function uW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.showTurns(o))}),s.YNc(1,oW,1,0,"img",20),s.YNc(2,aW,1,0,"img",21),s.YNc(3,lW,1,0,"img",22),s.YNc(4,cW,1,0,"img",23),s.TgZ(5,"p"),s._uU(6),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","clinico"==e.nombre),s.xp6(1),s.Q6J("ngIf","odontologo"==e.nombre),s.xp6(1),s.Q6J("ngIf","oftalmologo"==e.nombre),s.xp6(1),s.Q6J("ngIf","clinico"!=e.nombre&&"odontologo"!=e.nombre&&"oftalmologo"!=e.nombre),s.xp6(2),s.Oqu(e.nombre)}}function dW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"ESPECIALIDADES"),s.qZA(),s.TgZ(3,"div",17),s.YNc(4,uW,7,5,"div",18),s.qZA()()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.activeEspecialista.especialidad)}}function hW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.loadFreeHoursOneDay(o))}),s._uU(1),s.ALo(2,"dayDate"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.lcZ(2,1,e)," ")}}function fW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",35),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.seleccionarTurno(o))}),s._uU(1),s.ALo(2,"date"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.lcZ(2,1,e.fecha)," ")}}function pW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",36),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.solicitarTurno())}),s._uU(1," Solicitar Turno "),s.qZA()}}function gW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"SELECCI\xd3N DE TURNO"),s.qZA(),s.TgZ(3,"div",17)(4,"div",28),s._UZ(5,"img",11),s.TgZ(6,"p"),s._uU(7),s.qZA(),s.TgZ(8,"p"),s._uU(9),s.qZA()(),s.TgZ(10,"div",29),s.YNc(11,hW,3,3,"button",30),s._UZ(12,"br"),s.TgZ(13,"div",31),s.YNc(14,fW,3,3,"button",32),s.qZA(),s.YNc(15,pW,2,0,"button",33),s.qZA()()()),2&n){const e=s.oxw();s.xp6(5),s.s9C("src",e.activeEspecialista.imagen1,s.LSH),s.xp6(2),s.AsE(" ",e.activeEspecialista.nombre," - ",e.activeEspecialista.apellido," "),s.xp6(2),s.Oqu(e.speciality.nombre),s.xp6(2),s.Q6J("ngForOf",e.diasAMostrar),s.xp6(3),s.Q6J("ngForOf",e.turnosDeUnDiaAMostrar),s.xp6(1),s.Q6J("ngIf",e.botonPedirTurno)}}let mW=(()=>{class n{constructor(e,i,r){this.authService=e,this.notificationService=i,this.router=r,this.user=null,this.isPaciente=!1,this.spinner=!1,this.especialistasList=[],this.pacientesList=[],this.activeEspecialista=null,this.activePaciente=null,this.speciality=null,this.specialistSelectionMenu=!0,this.patientSelectionMenu=!1,this.turnsSelectionMenu=!1,this.currentSpecialistTurnList=[],this.turnosAMostrar=[],this.turnosDeUnDiaAMostrar=[],this.diasAMostrar=[],this.botonPedirTurno=!1,this.turnoSeleccionado=null}ngOnInit(){this.spinner=!0,this.authService.user$.subscribe(e=>{e&&(this.spinner=!1,this.user=e,this.authService.isLogged=!0,"administrador"==this.user.perfil?(this.authService.isAdmin=!0,this.patientSelectionMenu=!0):"paciente"==this.user.perfil?this.isPaciente=!0:this.router.navigate([""]),this.authService.getUsers().subscribe(i=>{this.spinner=!1,i&&(this.especialistasList=i.filter(r=>"especialista"==r.perfil&&r.aprobado),this.pacientesList=i.filter(r=>"paciente"==r.perfil),this.authService.getTurnList().subscribe(r=>{this.currentSpecialistTurnList=r}))}))})}showSpeciality(e){this.specialistSelectionMenu=!1,this.activeEspecialista=e,console.log(e)}showPatient(e){this.patientSelectionMenu=!1,this.activePaciente=e,console.log(e)}showTurns(e){this.turnsSelectionMenu=!0,this.speciality=e,this.loadFreeHours(""),this.diasAMostrar.push(this.turnosAMostrar[0].fecha),this.diasAMostrar.push(this.turnosAMostrar[this.turnosAMostrar.length-1].fecha)}loadFreeHours(e){const i=new Date,o=this.currentSpecialistTurnList.filter(h=>h.especialista.email==this.activeEspecialista.email)[0].turnos.filter(h=>h.especialidad==this.speciality.nombre&&i.getTime()<new Date(1e3*h.fecha.seconds).getTime()),u=[];for(let h=0;h<o.length;h++){const g={...o[h]};new Date(1e3*g.fecha.seconds).getTime()<=i.getTime()+1269e6&&"disponible"==g.estado&&(g.fecha=new Date(1e3*g.fecha.seconds),u.push(g))}this.turnosAMostrar=[...u]}loadFreeHoursOneDay(e){this.spinner=!0,this.turnosDeUnDiaAMostrar=[],setTimeout(()=>{const i=new Date,o=this.currentSpecialistTurnList.filter(h=>h.especialista.email==this.activeEspecialista.email)[0].turnos.filter(h=>h.especialidad==this.speciality.nombre&&i.getTime()<new Date(1e3*h.fecha.seconds).getTime()),u=[];for(let h=0;h<o.length;h++){const g={...o[h]};new Date(1e3*g.fecha.seconds).getTime()<=i.getTime()+1269e6&&new Date(1e3*g.fecha.seconds).getDate()==e.getDate()&&"disponible"==g.estado&&(g.fecha=new Date(1e3*g.fecha.seconds),u.push(g))}this.spinner=!1,this.turnosDeUnDiaAMostrar=[...u]},500)}seleccionarTurno(e){this.turnoSeleccionado=e,this.botonPedirTurno=!0,this.notificationService.showInfo("Turno seleccionado","Turnos")}solicitarTurno(){this.isPaciente?(this.turnoSeleccionado.paciente=this.user,this.turnoSeleccionado.estado="solicitado"):(this.turnoSeleccionado.paciente=this.activePaciente,this.turnoSeleccionado.estado="solicitado");for(let e=0;e<this.currentSpecialistTurnList.length;e++){const i=this.currentSpecialistTurnList[e],r=i.turnos.findIndex(o=>new Date(1e3*o.fecha.seconds).getTime()==this.turnoSeleccionado.fecha.getTime()&&o.especialidad==this.turnoSeleccionado.especialidad);i.turnos[r]=this.turnoSeleccionado,this.authService.updateTurnList(i)}this.turnosAMostrar=[],this.turnosDeUnDiaAMostrar=[],this.botonPedirTurno=!1,this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.notificationService.showSuccess("Turno Solicitado","Turnos"),this.loadFreeHours("")},1e3)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ql),s.Y36(vu),s.Y36(si))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-solicitar-turno"]],decls:9,vars:5,consts:[["class","contenedor-spinner",4,"ngIf"],[1,"solicitar-turno"],[4,"ngIf"],[1,"solicitar-turno-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"row",2,"overflow-x","scroll"],["class","col carta-especialista",3,"click",4,"ngFor","ngForOf"],[1,"col","carta-especialista",3,"click"],["alt","imagen",3,"src"],[2,"display","flex","justify-content","center"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"text-align","center","font-weight","bolder"],["alt","imagen",1,"carta-especialista",2,"border-radius","50%","width","15rem","height","15rem","display","flex","justify-content","center",3,"src"],[1,"row"],["class","col especialidades","style","border-radius: 2rem",3,"click",4,"ngFor","ngForOf"],[1,"col","especialidades",2,"border-radius","2rem",3,"click"],["src","../../../assets/clinico.png","alt","",4,"ngIf"],["src","../../../assets/odontologo.png","alt","",4,"ngIf"],["src","../../../assets/oftalmologo.png","alt","",4,"ngIf"],["src","../../../assets/especialidad-default.png","alt","",4,"ngIf"],["src","../../../assets/clinico.png","alt",""],["src","../../../assets/odontologo.png","alt",""],["src","../../../assets/oftalmologo.png","alt",""],["src","../../../assets/especialidad-default.png","alt",""],[1,"col","carta-turno"],[1,"col"],["class","btn btn-success","style","\n              text-transform: uppercase;\n              margin-left: 0.5rem;\n              margin-right: 0.5rem;\n              margin-bottom: 0.5rem;\n            ",3,"click",4,"ngFor","ngForOf"],[2,"overflow-y","scroll","height","15rem"],["class","btn btn-info","style","\n                width: 4rem;\n                height: 4rem;\n                border-radius: 1rem;\n                margin: 0.1rem;\n              ",3,"click",4,"ngFor","ngForOf"],["class","btn btn-primary","style","margin-top: 1rem; width: 100%;",3,"click",4,"ngIf"],[1,"btn","btn-success",2,"text-transform","uppercase","margin-left","0.5rem","margin-right","0.5rem","margin-bottom","0.5rem",3,"click"],[1,"btn","btn-info",2,"width","4rem","height","4rem","border-radius","1rem","margin","0.1rem",3,"click"],[1,"btn","btn-primary",2,"margin-top","1rem","width","100%",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div"),s.YNc(2,tW,8,0,"div",0),s.TgZ(3,"div",1),s.YNc(4,iW,5,1,"div",2),s.YNc(5,sW,5,1,"div",2),s.YNc(6,dW,5,1,"div",2),s.YNc(7,gW,16,7,"div",2),s.qZA(),s._UZ(8,"div",3),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.spinner),s.xp6(2),s.Q6J("ngIf",i.patientSelectionMenu),s.xp6(1),s.Q6J("ngIf",i.specialistSelectionMenu&&!i.patientSelectionMenu),s.xp6(1),s.Q6J("ngIf",i.activeEspecialista&&!i.turnsSelectionMenu),s.xp6(1),s.Q6J("ngIf",i.turnsSelectionMenu))},dependencies:[Vi,Xt,Xf,eW,AN],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.solicitar-turno-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.solicitar-turno[_ngcontent-%COMP%]{position:absolute;width:90vw;top:55%;left:50%;transform:translate(-50%,-50%);z-index:100;padding:1rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.75)}.solicitar-turno[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#fff;background:rgba(0,0,0,.534);padding:10px;border-radius:20px;box-shadow:2px 2px 4px #000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0);margin-bottom:1rem}.solicitar-turno[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.solicitar-turno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#646464;margin-bottom:1rem;text-transform:uppercase}.carta-especialista[_ngcontent-%COMP%], .carta-turno[_ngcontent-%COMP%]{height:50vh;border:2px solid #fff;background:rgb(255,137,137);box-shadow:2px 2px 4px #000;margin-left:1rem;margin-right:1rem}.carta-especialista[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .carta-turno[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:2rem;width:10rem;display:block;margin-left:auto;margin-right:auto}.carta-especialista[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .carta-turno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-weight:bolder;text-shadow:1px 1px #000;margin-top:1rem}.carta-especialista[_ngcontent-%COMP%]:hover{background:rgb(250,52,52);transition:background .5s;cursor:pointer}.carta-turno[_ngcontent-%COMP%]{height:60vh}.carta-turno[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:4rem}.especialidades[_ngcontent-%COMP%]{height:50vh;border:2px solid #fff;background:rgb(255,137,137);box-shadow:2px 2px 4px #000;margin-left:1rem;margin-right:1rem}.especialidades[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:2rem;width:10rem;height:10rem;object-fit:cover;border-radius:50%;background:#fff;border:2px solid #000;box-shadow:2px 2px 4px #000;display:block;margin-left:auto;margin-right:auto}.especialidades[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-weight:bolder;text-shadow:1px 1px #000;margin-top:1rem}.especialidades[_ngcontent-%COMP%]:hover{background:rgb(250,52,52);transition:background .5s;cursor:pointer}']}),n})();function _W(n,t){1&n&&(s.TgZ(0,"div",8)(1,"div",9),s._UZ(2,"div",10)(3,"div",10)(4,"div",10)(5,"div",11)(6,"div",11)(7,"div",11),s.qZA()())}function vW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filtrarPorEspecialidad("clinico"))}),s._uU(2," CLINICO "),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filtrarPorEspecialidad("odontologo"))}),s._uU(4," ODONTOLOGO "),s.qZA(),s.TgZ(5,"button",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filtrarPorEspecialidad("oftalmologo"))}),s._uU(6," OFTALMOLOGO "),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngClass",e.btnClinico?"btn-danger":"btn-warning"),s.xp6(2),s.Q6J("ngClass",e.btnOdontologo?"btn-danger":"btn-warning"),s.xp6(2),s.Q6J("ngClass",e.btnOftalmologo?"btn-danger":"btn-warning")}}function yW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function bW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function wW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("ngModel",e.comentarioCancelacion)}}function TW(n,t){if(1&n&&(s.TgZ(0,"tr",17)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s.YNc(15,yW,2,0,"button",18),s.YNc(16,bW,2,0,"button",19),s._UZ(17,"br"),s.YNc(18,wW,1,1,"input",20),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(s.lcZ(3,11,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(2),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(2),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds)}}function CW(n,t){if(1&n&&(s.TgZ(0,"div",13)(1,"table",14)(2,"thead")(3,"tr")(4,"th",15),s._uU(5,"Fecha"),s.qZA(),s.TgZ(6,"th",15),s._uU(7,"Especialista"),s.qZA(),s.TgZ(8,"th",15),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",15),s._uU(11,"Paciente"),s.qZA(),s.TgZ(12,"th",15),s._uU(13,"Obra Social"),s.qZA(),s.TgZ(14,"th",15),s._uU(15,"Estado"),s.qZA(),s.TgZ(16,"th",15),s._uU(17,"Acci\xf3n"),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,TW,19,13,"tr",16),s.qZA()()()),2&n){const e=s.oxw();s.xp6(19),s.Q6J("ngForOf",e.turnList)}}function EW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function DW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function IW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("ngModel",e.comentarioCancelacion)}}function SW(n,t){if(1&n&&(s.TgZ(0,"tr",17)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s.YNc(15,EW,2,0,"button",18),s.YNc(16,DW,2,0,"button",19),s._UZ(17,"br"),s.YNc(18,IW,1,1,"input",20),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(s.lcZ(3,11,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(2),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(2),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds)}}function AW(n,t){if(1&n&&(s.TgZ(0,"div",13)(1,"table",14)(2,"thead")(3,"tr")(4,"th",15),s._uU(5,"Fecha"),s.qZA(),s.TgZ(6,"th",15),s._uU(7,"Especialista"),s.qZA(),s.TgZ(8,"th",15),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",15),s._uU(11,"Paciente"),s.qZA(),s.TgZ(12,"th",15),s._uU(13,"Obra Social"),s.qZA(),s.TgZ(14,"th",15),s._uU(15,"Estado"),s.qZA(),s.TgZ(16,"th",15),s._uU(17,"Acci\xf3n"),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,SW,19,13,"tr",16),s.qZA()()()),2&n){const e=s.oxw();s.xp6(19),s.Q6J("ngForOf",e.listaPorEspecialidad)}}function xW(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.nombre,", ")}}function MW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr",17)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s.YNc(6,xW,2,1,"span",24),s.qZA(),s.TgZ(7,"td")(8,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.elegirEspecialista(o))}),s._uU(9," ELEGIR "),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.apellido),s.xp6(2),s.hij(" ",e.nombre," "),s.xp6(2),s.Q6J("ngForOf",e.especialidad)}}function NW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.cancelarTurno(r))}),s._uU(1," Cancelar "),s.qZA()}}function OW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.confirmarCancelacion(r))}),s._uU(1," Confirmar "),s.qZA()}}function RW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.comentarioCancelacion=r)}),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("ngModel",e.comentarioCancelacion)}}function kW(n,t){if(1&n&&(s.TgZ(0,"tr",17)(1,"td"),s._uU(2),s.ALo(3,"dayDate"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s.YNc(15,NW,2,0,"button",18),s.YNc(16,OW,2,0,"button",19),s._UZ(17,"br"),s.YNc(18,RW,1,1,"input",20),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(s.lcZ(3,11,e.fecha)),s.xp6(3),s.AsE(" ",e.especialista.apellido," ",e.especialista.nombre," "),s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.AsE("",e.paciente.apellido," ",e.paciente.nombre,""),s.xp6(2),s.Oqu(e.paciente.obraSocial),s.xp6(2),s.Oqu(e.estado),s.xp6(2),s.Q6J("ngIf","aceptado"!=e.estado&&"realizado"!=e.estado&&"rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(1),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds),s.xp6(2),s.Q6J("ngIf",i.cancelacionTurno&&i.turnoACancelar.fecha.seconds==e.fecha.seconds)}}function PW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"table",14)(2,"thead")(3,"tr")(4,"th",15),s._uU(5,"Apellido"),s.qZA(),s.TgZ(6,"th",15),s._uU(7,"Nombre"),s.qZA(),s.TgZ(8,"th",15),s._uU(9,"Especialidad"),s.qZA(),s.TgZ(10,"th",15),s._uU(11,"Acci\xf3n"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,MW,10,3,"tr",16),s.qZA()(),s.TgZ(14,"div",13)(15,"table",14)(16,"thead")(17,"tr")(18,"th",15),s._uU(19,"Fecha"),s.qZA(),s.TgZ(20,"th",15),s._uU(21,"Especialista"),s.qZA(),s.TgZ(22,"th",15),s._uU(23,"Especialidad"),s.qZA(),s.TgZ(24,"th",15),s._uU(25,"Paciente"),s.qZA(),s.TgZ(26,"th",15),s._uU(27,"Obra Social"),s.qZA(),s.TgZ(28,"th",15),s._uU(29,"Estado"),s.qZA(),s.TgZ(30,"th",15),s._uU(31,"Acci\xf3n"),s.qZA()()(),s.TgZ(32,"tbody"),s.YNc(33,kW,19,13,"tr",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(13),s.Q6J("ngForOf",e.listaDeEspecialistas),s.xp6(20),s.Q6J("ngForOf",e.listaPorEspecialista)}}let FW=(()=>{class n{constructor(e,i){this.authService=e,this.notificationService=i,this.spinner=!1,this.turnList=[],this.currentSpecialistTurnList=[],this.botonesEspecialidad=!1,this.filtroEspecialidad=!1,this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!1,this.listaPorEspecialidad=[],this.vistaListadoDeEspecialistas=!1,this.listaDeEspecialistas=[],this.listaPorEspecialista=[],this.cancelacionTurno=!1,this.comentarioCancelacion="",this.turnoACancelar={}}ngOnInit(){this.authService.getTurnList().subscribe(e=>{this.currentSpecialistTurnList=e,this.turnList=[];for(let i=0;i<e.length;i++){const r=e[i].turnos;for(let o=0;o<r.length;o++){const u=r[o];"disponible"!=u.estado&&this.turnList.push(u)}}}),this.authService.getUsers().subscribe(e=>{this.spinner=!1,e&&(this.listaDeEspecialistas=e.filter(i=>"especialista"==i.perfil&&i.aprobado),console.log(this.listaDeEspecialistas))})}verBotonesEspecialidades(){this.botonesEspecialidad=!this.botonesEspecialidad,this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!1,this.vistaListadoDeEspecialistas=!1,this.filtroEspecialidad=!1}filtrarPorEspecialidad(e){this.spinner=!0,setTimeout(()=>{this.activarBoton(e),this.spinner=!1,this.listaPorEspecialidad=[],this.filtroEspecialidad=!0;for(let i=0;i<this.turnList.length;i++){const r=this.turnList[i];r.especialidad==e&&this.listaPorEspecialidad.push(r)}},500)}activarBoton(e){switch(e){case"clinico":this.btnClinico=!0,this.btnOdontologo=!1,this.btnOftalmologo=!1;break;case"odontologo":this.btnClinico=!1,this.btnOdontologo=!0,this.btnOftalmologo=!1;break;case"oftalmologo":this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!0}}verListaDeEspecialistas(){this.vistaListadoDeEspecialistas=!this.vistaListadoDeEspecialistas,this.listaPorEspecialista=[...this.turnList],this.botonesEspecialidad=!1,this.btnClinico=!1,this.btnOdontologo=!1,this.btnOftalmologo=!1,this.filtroEspecialidad=!1}elegirEspecialista(e){this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.listaPorEspecialista=[],this.filtroEspecialidad=!0;for(let i=0;i<this.turnList.length;i++){const r=this.turnList[i];r.especialista.id==e.id&&this.listaPorEspecialista.push(r)}},500)}cancelarTurno(e){this.turnoACancelar={...e},this.cancelacionTurno=!0,console.log(e)}confirmarCancelacion(e){if(""==this.comentarioCancelacion)this.notificationService.showWarning("Debes ingresar un comentario sobre la raz\xf3n de la cancelaci\xf3n","Turnos");else{e.estado="cancelado",e.comentario=this.comentarioCancelacion;for(let i=0;i<this.currentSpecialistTurnList.length;i++){const r=this.currentSpecialistTurnList[i],o=r.turnos.findIndex(u=>new Date(1e3*u.fecha.seconds).getTime()==new Date(1e3*e.fecha.seconds).getTime()&&u.especialidad==e.especialidad);r.turnos[o]=e,this.authService.updateTurnList(r)}this.spinner=!0,setTimeout(()=>{this.spinner=!1,this.turnoACancelar={},this.cancelacionTurno=!1,this.notificationService.showSuccess("Turno Cancelado","Turnos")},1e3)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ql),s.Y36(vu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-turnos"]],decls:17,vars:7,consts:[["class","contenedor-spinner",4,"ngIf"],[1,"turnos"],[1,"btn","m-2",3,"ngClass","click"],[1,"btn",3,"ngClass","click"],["class","contenedor-btn-especialidades",4,"ngIf"],["class","tabla-usuario text-focus-in",4,"ngIf"],[4,"ngIf"],[1,"turnos-container"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"contenedor-btn-especialidades"],[1,"tabla-usuario","text-focus-in"],[1,"table"],["scope","col"],["class","tr-tabla","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"tr-tabla",2,"cursor","pointer"],["class","btn btn-secondary btn-cancelar","style","box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["class","btn btn-success btn-confirmar","style","margin-left: 1rem; box-shadow: 2px 2px 4px #000",3,"click",4,"ngIf"],["type","text","class","form-control","style","margin-top: 0.5rem","placeholder","Comentario de cancelaci\xf3n...",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-secondary","btn-cancelar",2,"box-shadow","2px 2px 4px #000",3,"click"],[1,"btn","btn-success","btn-confirmar",2,"margin-left","1rem","box-shadow","2px 2px 4px #000",3,"click"],["type","text","placeholder","Comentario de cancelaci\xf3n...",1,"form-control",2,"margin-top","0.5rem",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-especialista",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div"),s.YNc(2,_W,8,0,"div",0),s.TgZ(3,"div",1)(4,"h3"),s._uU(5,"GESTI\xd3N DE TURNOS"),s.qZA(),s.TgZ(6,"label"),s._uU(7,"Filtros: "),s.qZA(),s.TgZ(8,"button",2),s.NdJ("click",function(){return i.verBotonesEspecialidades()}),s._uU(9," Por Especialidad "),s.qZA(),s.TgZ(10,"button",3),s.NdJ("click",function(){return i.verListaDeEspecialistas()}),s._uU(11," Por Especialista "),s.qZA(),s.YNc(12,vW,7,3,"div",4),s.YNc(13,CW,20,1,"div",5),s.YNc(14,AW,20,1,"div",5),s.YNc(15,PW,34,2,"div",6),s.qZA(),s._UZ(16,"div",7),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.spinner),s.xp6(6),s.Q6J("ngClass",i.botonesEspecialidad?"btn-primary":"btn-info"),s.xp6(2),s.Q6J("ngClass",i.vistaListadoDeEspecialistas?"btn-primary":"btn-info"),s.xp6(2),s.Q6J("ngIf",i.botonesEspecialidad),s.xp6(1),s.Q6J("ngIf",!i.filtroEspecialidad&&!i.vistaListadoDeEspecialistas),s.xp6(1),s.Q6J("ngIf",i.filtroEspecialidad&&!i.vistaListadoDeEspecialistas),s.xp6(1),s.Q6J("ngIf",i.vistaListadoDeEspecialistas))},dependencies:[sn,Vi,Xt,yu,Kf,z1,Xf,AN],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.turnos-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-bienvenida2.3ecd76f8207c0e6a.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.turnos[_ngcontent-%COMP%]{position:absolute;overflow-y:scroll;width:90vw;height:80vh;top:18%;left:5%;z-index:100;padding:1rem;border-radius:1rem;box-shadow:2px 2px 4px #8d0000;background:rgba(255,255,255,.75)}.turnos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#fff;background:rgba(0,0,0,.534);padding:10px;border-radius:20px;box-shadow:2px 2px 4px #000;font-weight:bolder;font-family:Verdana,Geneva,Tahoma,sans-serif;text-shadow:1px 1px 2px rgb(0,0,0);margin-bottom:1rem}.turnos[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.turnos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#646464;margin-bottom:1rem;text-transform:uppercase}.tabla-usuario[_ngcontent-%COMP%]{height:75%;overflow-y:scroll;z-index:100;left:5%;top:18%;background:#000;color:#fff;padding:1rem;background:rgba(182,85,85,.678);border:2px solid #fff;box-shadow:2px 2px 4px #000;text-shadow:1px 1px #000}.tabla-usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.tabla-usuario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff;font-weight:400}.tr-tabla[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);transition:background .5s}.btn-especialista[_ngcontent-%COMP%]:hover{background:rgb(0,0,0);box-shadow:2px 2px 4px #000}.btn-cancelar[_ngcontent-%COMP%]:hover{background:#ff0000;box-shadow:2px 2px 4px #000}.btn-confirmar[_ngcontent-%COMP%]:hover{background:#0099ff}']}),n})();function LW(n,t){1&n&&(s.TgZ(0,"div",13)(1,"div",14),s._UZ(2,"div",15)(3,"div",15)(4,"div",15)(5,"div",16)(6,"div",16)(7,"div",16),s.qZA()())}function UW(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," El Nombre es requerido "),s.qZA())}function BW(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," El Apellido es requerido "),s.qZA())}function VW(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," La Edad es requerida "),s.qZA())}function HW(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," La Edad debe ser de 18 a 99 a\xf1os "),s.qZA())}function jW(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," El DNI es requerido "),s.qZA())}function $W(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," El Email es requerido "),s.qZA())}function ZW(n,t){1&n&&(s.TgZ(0,"small",17),s._uU(1," La contrase\xf1a es requerida "),s.qZA())}let GW=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.angularFireStorage=i,this.notificationService=r,this.authService=o,this.newAdministrador=new fm,this.especialidad=!1,this.spinner=!1,this.formAdministrador=this.formBuilder.group({nombre:["",[bi.required]],apellido:["",[bi.required]],edad:["",[bi.required]],dni:["",[bi.required]],email:["",[bi.required]],password:["",[bi.required]]})}ngOnInit(){}registerAdministrador(){this.formAdministrador.valid?""!=this.newAdministrador.imagen1?(this.spinner=!0,this.newAdministrador.perfil="administrador",this.newAdministrador.nombre=this.formAdministrador.getRawValue().nombre,this.newAdministrador.apellido=this.formAdministrador.getRawValue().apellido,this.newAdministrador.edad=this.formAdministrador.getRawValue().edad,this.newAdministrador.dni=this.formAdministrador.getRawValue().dni,this.newAdministrador.email=this.formAdministrador.getRawValue().email,this.newAdministrador.password=this.formAdministrador.getRawValue().password,this.authService.registerNewUser(this.newAdministrador),setTimeout(()=>{this.spinner=!1,this.formAdministrador.reset(),this.newAdministrador=new fm},2e3)):this.notificationService.showWarning("Debes elegir una im\xe1gen para el perfil","Registro Administrador"):this.notificationService.showWarning("Debes completar todos los campos requeridos","Registro newAdministrador")}uploadImage(e){var i=this;return(0,me.Z)(function*(){i.spinner=!0;const r=e.target.files[0],o="img "+Date.now()+10*Math.random(),u=i.angularFireStorage.ref(o);yield u.put(r).then((0,me.Z)(function*(){yield u.getDownloadURL().subscribe(h=>{i.newAdministrador.imagen1=h,i.spinner=!1})}))})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wD),s.Y36(QD),s.Y36(vu),s.Y36(ql))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-form-alta-administrador"]],decls:30,vars:9,consts:[["class","contenedor-spinner-alta",4,"ngIf"],[1,"contenedor-form","text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["class","mensaje-error",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control"],["type","file","placeholder","Im\xe1gen Perfil",1,"form-control",3,"change"],[1,"btn"],[1,"contenedor-spinner-alta"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"mensaje-error"]],template:function(e,i){1&e&&(s.YNc(0,LW,8,0,"div",0),s.TgZ(1,"form",1),s.NdJ("ngSubmit",function(){return i.registerAdministrador()}),s.TgZ(2,"h2"),s._uU(3,"REGISTRO DE ADMINISTRADOR"),s.qZA(),s.TgZ(4,"div",2)(5,"div",3),s._UZ(6,"input",4),s.YNc(7,UW,2,0,"small",5),s.qZA(),s.TgZ(8,"div",3),s._UZ(9,"input",6),s.YNc(10,BW,2,0,"small",5),s.qZA()(),s.TgZ(11,"div",2)(12,"div",3),s._UZ(13,"input",7),s.YNc(14,VW,2,0,"small",5),s.YNc(15,HW,2,0,"small",5),s.qZA(),s.TgZ(16,"div",3),s._UZ(17,"input",8),s.YNc(18,jW,2,0,"small",5),s.qZA()(),s.TgZ(19,"div",2)(20,"div",3),s._UZ(21,"input",9),s.YNc(22,$W,2,0,"small",5),s.qZA(),s.TgZ(23,"div",3),s._UZ(24,"input",10),s.YNc(25,ZW,2,0,"small",5),s.qZA(),s.TgZ(26,"div",3)(27,"input",11),s.NdJ("change",function(o){return i.uploadImage(o)}),s.qZA()()(),s.TgZ(28,"button",12),s._uU(29,"Registrar"),s.qZA()()),2&e&&(s.Q6J("ngIf",i.spinner),s.xp6(1),s.Q6J("formGroup",i.formAdministrador),s.xp6(6),s.Q6J("ngIf",(null==i.formAdministrador.controls.nombre.errors?null:i.formAdministrador.controls.nombre.errors.required)&&i.formAdministrador.controls.nombre.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formAdministrador.controls.apellido.errors?null:i.formAdministrador.controls.apellido.errors.required)&&i.formAdministrador.controls.apellido.touched),s.xp6(4),s.Q6J("ngIf",(null==i.formAdministrador.controls.edad.errors?null:i.formAdministrador.controls.edad.errors.required)&&i.formAdministrador.controls.edad.touched),s.xp6(1),s.Q6J("ngIf",(null==i.formAdministrador.controls.edad.errors?null:i.formAdministrador.controls.edad.errors.min)||(null==i.formAdministrador.controls.edad.errors?null:i.formAdministrador.controls.edad.errors.max)&&i.formAdministrador.controls.edad.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formAdministrador.controls.dni.errors?null:i.formAdministrador.controls.dni.errors.required)&&i.formAdministrador.controls.dni.touched),s.xp6(4),s.Q6J("ngIf",(null==i.formAdministrador.controls.email.errors?null:i.formAdministrador.controls.email.errors.required)&&i.formAdministrador.controls.email.touched),s.xp6(3),s.Q6J("ngIf",(null==i.formAdministrador.controls.password.errors?null:i.formAdministrador.controls.password.errors.required)&&i.formAdministrador.controls.password.touched))},dependencies:[Xt,W1,yu,ry,Kf,V1,K1,Y1,em,sy],styles:[".contenedor-form[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;padding:3rem;border:2px solid #fff;border-radius:1rem;background:rgba(252,162,162,.5);box-shadow:2px 2px 2px #000}.contenedor-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:1px 1px #000;background-color:#00bfa6;margin-bottom:1rem;border-radius:1rem}.contenedor-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px #000;background-color:#2b2c2c91;padding:0 10px;border-radius:5px}.mensaje-error[_ngcontent-%COMP%]{background:rgba(255,0,0,.74);color:#fff;padding:0 5px;border-radius:5px;text-shadow:1px 1px #000}.btn[_ngcontent-%COMP%]{background-color:#00bfa6;padding:14px 40px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #00bfa6;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;display:block;margin-left:auto;margin-right:auto;margin-top:1rem;text-shadow:1px 1px 1px #000}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #00bfa6;background-color:#00e1ff5d}.btn[_ngcontent-%COMP%]:active{background-color:#87dbd0}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}"]}),n})();function qW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).$implicit,o=s.oxw(2);return s.KtG(o.updateUser(r,1))}),s._uU(1," Habilitar "),s.qZA()}}function zW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).$implicit,o=s.oxw(2);return s.KtG(o.updateUser(r,2))}),s._uU(1," Deshabilitar "),s.qZA()}}function WW(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,qW,2,0,"button",16),s.YNc(2,zW,2,0,"button",17),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",!e.aprobado),s.xp6(1),s.Q6J("ngIf",e.aprobado)}}function YW(n,t){if(1&n&&(s.TgZ(0,"tr",12)(1,"td"),s._UZ(2,"img",13),s.qZA(),s.TgZ(3,"td",14),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s.YNc(10,WW,3,2,"div",15),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.s9C("src",e.imagen1,s.LSH),s.xp6(2),s.Oqu(e.perfil),s.xp6(2),s.Oqu(e.nombre),s.xp6(2),s.Oqu(e.apellido),s.xp6(2),s.Q6J("ngIf","especialista"==e.perfil)}}function KW(n,t){if(1&n&&(s.TgZ(0,"div",8)(1,"h3"),s._uU(2,"LISTADO DE USUARIOS"),s.qZA(),s.TgZ(3,"table",9)(4,"thead")(5,"tr")(6,"th",10),s._uU(7,"FOTO"),s.qZA(),s.TgZ(8,"th",10),s._uU(9,"PERFIL"),s.qZA(),s.TgZ(10,"th",10),s._uU(11,"NOMBRE"),s.qZA(),s.TgZ(12,"th",10),s._uU(13,"APELLIDO"),s.qZA(),s.TgZ(14,"th",10),s._uU(15,"ACCI\xd3N"),s.qZA()()(),s.TgZ(16,"tbody"),s.YNc(17,YW,11,5,"tr",11),s.qZA()()()),2&n){const e=s.oxw();s.xp6(17),s.Q6J("ngForOf",e.usersList)}}function JW(n,t){1&n&&(s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"div",22)(3,"div",22)(4,"div",22)(5,"div",23)(6,"div",23)(7,"div",23),s.qZA()())}function QW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.showCreateUserMenu())}),s._uU(1," Registrar Nuevo Usuario\n"),s.qZA()}}function XW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.showUserList())}),s._uU(1," Ver Listado de Usuarios\n"),s.qZA()}}function e7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToFormPaciente())}),s.TgZ(2,"div")(3,"h2"),s._uU(4,"Paciente"),s.qZA(),s._UZ(5,"img",28),s.qZA()(),s.TgZ(6,"div",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToFormEspecialista())}),s.TgZ(7,"div")(8,"h2"),s._uU(9,"Especialista"),s.qZA(),s._UZ(10,"img",29),s.qZA()(),s.TgZ(11,"div",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToFormAdministrador())}),s.TgZ(12,"div")(13,"h2"),s._uU(14,"Administrador"),s.qZA(),s._UZ(15,"img",30),s.qZA()()()}}function t7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",31)(1,"button",32),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToRegistro())}),s._uU(2," Volver "),s.qZA(),s._UZ(3,"app-form-alta-paciente"),s.qZA()}}function n7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",33)(1,"button",32),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToRegistro())}),s._uU(2," Volver "),s.qZA(),s._UZ(3,"app-form-alta-especialista"),s.qZA()}}function i7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",33)(1,"button",32),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goToRegistro())}),s._uU(2," Volver "),s.qZA(),s._UZ(3,"app-form-alta-administrador"),s.qZA()}}const r7=[{path:"registro",component:X8},{path:"login",component:jG},{path:"usuarios-admin",component:(()=>{class n{constructor(e,i){this.authService=e,this.notificationService=i,this.usersList=[],this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1,this.spinner=!1}ngOnInit(){this.spinner=!0,this.authService.getUsers().subscribe(e=>{this.spinner=!1,e&&(this.usersList=e)})}updateUser(e,i){"especialista"==e.perfil&&(1==i?(e.aprobado=!0,this.authService.updateUser(e),this.notificationService.showSuccess("Especialista Habilitado","Administrador")):2==i&&(e.aprobado=!1,this.authService.updateUser(e),this.notificationService.showSuccess("Especialista Deshabilitado","Administrador")))}showCreateUserMenu(){this.createrUserMenu=!0}showUserList(){this.createrUserMenu=!1,this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}goToFormPaciente(){this.formPaciente=!0}goToFormEspecialista(){this.formEspecialista=!0}goToFormAdministrador(){this.formAdministrador=!0}goToRegistro(){this.formPaciente=!1,this.formEspecialista=!1,this.formAdministrador=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ql),s.Y36(vu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-usuarios-admin"]],decls:10,vars:8,consts:[["class","tabla-usuario text-focus-in",4,"ngIf"],["class","contenedor-spinner",4,"ngIf"],["class","btn-habilitar btn-nuevo-usuario",3,"click",4,"ngIf"],["class","btn-habilitar btn-menu-volver",3,"click",4,"ngIf"],["class","opcion-registros row",4,"ngIf"],["class","registro-paciente",4,"ngIf"],["class","registro-especialista",4,"ngIf"],[1,"usuarios-container"],[1,"tabla-usuario","text-focus-in"],[1,"table"],["scope","col"],["class","tr-tabla","style","cursor: pointer",4,"ngFor","ngForOf"],[1,"tr-tabla",2,"cursor","pointer"],["width","50","alt","imagen",3,"src"],[2,"text-transform","upperCase"],[4,"ngIf"],["class","btn-habilitar",3,"click",4,"ngIf"],["class","btn-deshabilitar",3,"click",4,"ngIf"],[1,"btn-habilitar",3,"click"],[1,"btn-deshabilitar",3,"click"],[1,"contenedor-spinner"],[1,"wrapper"],[1,"circle"],[1,"shadow"],[1,"btn-habilitar","btn-nuevo-usuario",3,"click"],[1,"btn-habilitar","btn-menu-volver",3,"click"],[1,"opcion-registros","row"],[1,"col","text-focus-in",3,"click"],["src","../../../assets/paciente.png","alt","imagen paciente"],["src","../../../assets/especialista.png","alt","imagen especialista"],["src","../../../assets/admin.png","alt","imagen adminitrador"],[1,"registro-paciente"],[1,"btn-volver","text-focus-in",3,"click"],[1,"registro-especialista"]],template:function(e,i){1&e&&(s._UZ(0,"app-navbar"),s.YNc(1,KW,18,1,"div",0),s.YNc(2,JW,8,0,"div",1),s.YNc(3,QW,2,0,"button",2),s.YNc(4,XW,2,0,"button",3),s.YNc(5,e7,16,0,"div",4),s.YNc(6,t7,4,0,"div",5),s.YNc(7,n7,4,0,"div",6),s.YNc(8,i7,4,0,"div",6),s._UZ(9,"div",7)),2&e&&(s.xp6(1),s.Q6J("ngIf",!i.createrUserMenu),s.xp6(1),s.Q6J("ngIf",i.spinner),s.xp6(1),s.Q6J("ngIf",!i.createrUserMenu),s.xp6(1),s.Q6J("ngIf",i.createrUserMenu),s.xp6(1),s.Q6J("ngIf",!i.formPaciente&&!i.formEspecialista&&!i.formAdministrador&&i.createrUserMenu),s.xp6(1),s.Q6J("ngIf",i.formPaciente),s.xp6(1),s.Q6J("ngIf",i.formEspecialista),s.xp6(1),s.Q6J("ngIf",i.formAdministrador))},dependencies:[Vi,Xt,Xf,WL,YL,GW],styles:[".usuarios-container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(fondo-usuarios-admin.5d3337631900be50.jpg);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:cover;min-height:85vh;filter:blur(2px)}.tabla-usuario[_ngcontent-%COMP%]{position:absolute;width:90vw;height:75vh;overflow-y:scroll;z-index:100;left:5%;top:18%;background:#000;color:#fff;padding:1rem;background:rgba(182,85,85,.678);border:2px solid #fff;box-shadow:2px 2px 4px #000;text-shadow:1px 1px #000}.tabla-usuario[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.tabla-usuario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff;font-weight:400}.tr-tabla[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);transition:background .5s}.opcion-registros[_ngcontent-%COMP%]{position:absolute;z-index:100;left:6%;top:27%}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;background:rgba(252,162,162,.5);border-radius:2rem;border:2px solid #fff;box-shadow:2px 2px 4px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;text-shadow:1px 1px #000}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:20rem}.col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(201,0,0,.685);cursor:pointer;transition:background .5s,color .5s}.registro-paciente[_ngcontent-%COMP%], .registro-especialista[_ngcontent-%COMP%]{position:absolute;z-index:100;top:18%;left:16%}.btn-volver[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;z-index:100;color:#fff;text-shadow:1px 1px #000;background:#ff0000;border-radius:.5rem;padding:0 1rem}.btn-volver[_ngcontent-%COMP%]:hover{background:#000;transition:background .5s}.btn-habilitar[_ngcontent-%COMP%]{width:12rem;background-color:#209e0083;padding:5px 20px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;text-shadow:1px 1px 1px #000}.btn-habilitar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn-habilitar[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #16bb00;background-color:#09ff00e1}.btn-habilitar[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.btn-deshabilitar[_ngcontent-%COMP%]{width:12rem;background-color:#9e000083;padding:5px 20px;color:#fff;text-transform:uppercase;letter-spacing:2px;cursor:pointer;border-radius:10px;border:2px dashed #000000;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px;transition:.4s;text-shadow:1px 1px 1px #000}.btn-deshabilitar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{display:none}.btn-deshabilitar[_ngcontent-%COMP%]:hover{transition:.4s;border:2px dashed #bb1600;background-color:#ff3300e1}.btn-deshabilitar[_ngcontent-%COMP%]:active{color:#fff;background-color:#000}.text-focus-in[_ngcontent-%COMP%]{animation:text-focus-in .5s cubic-bezier(.55,.085,.68,.53) both}@keyframes text-focus-in{0%{filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}.btn-nuevo-usuario[_ngcontent-%COMP%]{width:20rem;position:absolute;z-index:200;top:18%;left:5%}.btn-menu-volver[_ngcontent-%COMP%]{width:20rem;position:absolute;z-index:200;top:18%;left:16%}"]}),n})()},{path:"mi-perfil",component:YG},{path:"solicitar-turno",component:mW},{path:"turnos",component:FW},{path:"mis-turnos",component:Bq},{path:"",component:UG}];let s7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oT.forRoot(r7),oT]}),n})(),o7=(()=>{class n{constructor(){this.title="Clinica Online"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[xl]}),n})();const KL_firebase={projectId:"clinica-online-tp2-labo-iv",appId:"1:351841093003:web:a8a480d780672b1b049b8e",storageBucket:"clinica-online-tp2-labo-iv.appspot.com",locationId:"us-central",apiKey:"AIzaSyBM7xWF_eZKdUxFVOdsKiUy-Yii_NomHB4",authDomain:"clinica-online-tp2-labo-iv.firebaseapp.com",messagingSenderId:"351841093003"};function JL(n){return new s.vHH(3e3,!1)}function H7(){return typeof window<"u"&&typeof window.document<"u"}function HN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tp(n){switch(n.length){case 0:return new B1;case 1:return n[0];default:return new $k(n)}}function QL(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let g=-1,v=null;if(i.forEach(T=>{const I=T.get("offset"),M=I==g,k=M&&v||new Map;T.forEach((U,H)=>{let K=H,we=U;if("offset"!==H)switch(K=t.normalizePropertyName(K,u),we){case"!":we=r.get(H);break;case Wd:we=o.get(H);break;default:we=t.normalizeStyleValue(H,K,we,u)}k.set(K,we)}),M||h.push(k),v=k,g=I}),u.length)throw function x7(n){return new s.vHH(3502,!1)}();return h}function jN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$N(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$N(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$N(e,"destroy",n)))}}function $N(n,t,e){const o=ZN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function ZN(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function sa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XL(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let GN=(n,t)=>!1,eU=(n,t,e)=>[],tU=null;function qN(n){const t=n.parentNode||n.host;return t===tU?null:t}(HN()||typeof Element<"u")&&(H7()?(tU=(()=>document.documentElement)(),GN=(n,t)=>{for(;t;){if(t===n)return!0;t=qN(t)}return!1}):GN=(n,t)=>n.contains(t),eU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let gm=null,nU=!1;const iU=GN,rU=eU;let sU=(()=>{class n{validateStyleProperty(e){return function $7(n){gm||(gm=function Z7(){return typeof document<"u"?document.body:null}()||{},nU=!!gm.style&&"WebkitAppearance"in gm.style);let t=!0;return gm.style&&!function j7(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gm.style,!t&&nU&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return iU(e,i)}getParentElement(e){return qN(e)}query(e,i,r){return rU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],g){return new B1(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),zN=(()=>{class n{}return n.NOOP=new sU,n})();const WN="ng-enter",XD="ng-leave",eI="ng-trigger",tI=".ng-trigger",aU="ng-animating",YN=".ng-animating";function Xd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:KN(parseFloat(t[1]),t[2])}function KN(n,t){return"s"===t?1e3*n:n}function nI(n,t,e){return n.hasOwnProperty("duration")?n:function z7(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(JL()),{duration:0,delay:0,easing:""};r=KN(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=KN(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,g=t.length;r<0&&(t.push(function a7(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function l7(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(g,0,JL())}return{duration:r,delay:o,easing:u}}(n,t,e)}function yw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function lU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function np(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function uU(n,t,e){return e?t+":"+e+";":""}function dU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uU(0,J7(e),n.style[e]));n.setAttribute("style",t)}function Au(n,t,e){n.style&&(t.forEach((i,r)=>{const o=QN(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),HN()&&dU(n))}function mm(n,t){n.style&&(t.forEach((e,i)=>{const r=QN(i);n.style[r]=""}),HN()&&dU(n))}function bw(n){return Array.isArray(n)?1==n.length?n[0]:Hk(n):n}const JN=new RegExp("{{\\s*(.+?)\\s*}}","g");function hU(n){let t=[];if("string"==typeof n){let e;for(;e=JN.exec(n);)t.push(e[1]);JN.lastIndex=0}return t}function ww(n,t,e){const i=n.toString(),r=i.replace(JN,(o,u)=>{let h=t[u];return null==h&&(e.push(function u7(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function iI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const K7=/-+([a-z0-9])/g;function QN(n){return n.replace(K7,(...t)=>t[1].toUpperCase())}function J7(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function d7(n){return new s.vHH(3004,!1)}()}}function fU(n,t){return window.getComputedStyle(n)[t]}function iY(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function rY(n,t,e){if(":"==n[0]){const g=function sY(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function D7(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function E7(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(pU(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(pU(u,r))}(i,e,t)):e.push(n),e}const aI=new Set(["true","1"]),lI=new Set(["false","0"]);function pU(n,t){const e=aI.has(n)||lI.has(n),i=aI.has(t)||lI.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?aI.has(n):lI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?aI.has(t):lI.has(t)),u&&h}}const oY=new RegExp("s*:selfs*,?","g");function XN(n,t,e,i){return new aY(n).build(t,e,i)}class aY{constructor(t){this._driver=t}build(t,e,i){const r=new uY(e);return this._resetContextStyleTimingState(r),oa(this,bw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function f7(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,o.push(this.visitState(g,e))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push(function p7(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{hU(g).forEach(v=>{u.hasOwnProperty(v)||o.add(v)})})}),o.size&&(iI(o.values()),e.errors.push(function g7(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=oa(this,bw(t.animation),e);return{type:1,matchers:iY(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:_m(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>oa(this,i,e)),options:_m(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=oa(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:_m(t.options)}}visitAnimate(t,e){const i=function hY(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eO(nI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=eO(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=nI(e,t);return eO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:_u({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=_u(v)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Wd?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(lU(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const v=e.collectedStyles.get(e.currentQuerySelector),T=v.get(g);let I=!0;T&&(o!=r&&o>=T.startTime&&r<=T.endTime&&(e.errors.push(function _7(n,t,e,i,r){return new s.vHH(3010,!1)}()),I=!1),o=T.startTime),I&&v.set(g,{startTime:o,endTime:r}),e.options&&function Y7(n,t,e){const i=t.params||{},r=hU(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function c7(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function v7(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,g=!1,v=0;const T=t.steps.map(we=>{const Se=this._makeStyleAst(we,e);let Fe=null!=Se.offset?Se.offset:function dY(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Se.styles),Ae=0;return null!=Fe&&(o++,Ae=Se.offset=Fe),g=g||Ae<0||Ae>1,h=h||Ae<v,v=Ae,u.push(Ae),Se});g&&e.errors.push(function y7(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function b7(){return new s.vHH(3200,!1)}());const I=t.steps.length;let M=0;o>0&&o<I?e.errors.push(function w7(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(I-1));const k=I-1,U=e.currentTime,H=e.currentAnimateTimings,K=H.duration;return T.forEach((we,Se)=>{const Fe=M>0?Se==k?1:M*Se:u[Se],Ae=Fe*K;e.currentTime=U+H.delay+Ae,H.duration=Ae,this._validateStyleAst(we,e),we.offset=Fe,i.styles.push(we)}),i}visitReference(t,e){return{type:8,animation:oa(this,bw(t.animation),e),options:_m(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_m(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_m(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function lY(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(oY,"")),n=n.replace(/@\*/g,tI).replace(/@\w+/g,e=>tI+"-"+e.slice(1)).replace(/:animating/g,YN),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,sa(e.collectedStyles,e.currentQuerySelector,new Map);const h=oa(this,bw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:_m(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function T7(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:nI(t.timings,e.errors,!0);return{type:12,animation:oa(this,bw(t.animation),e),timings:i,options:null}}}class uY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _m(n){return n?(n=yw(n)).params&&(n.params=function cY(n){return n?yw(n):null}(n.params)):n={},n}function eO(n,t,e){return{duration:n,delay:t,easing:e}}function tO(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class cI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gY=new RegExp(":enter","g"),_Y=new RegExp(":leave","g");function nO(n,t,e,i,r,o=new Map,u=new Map,h,g,v=[]){return(new vY).buildKeyframes(n,t,e,i,r,o,u,h,g,v)}class vY{buildKeyframes(t,e,i,r,o,u,h,g,v,T=[]){v=v||new cI;const I=new iO(t,e,v,r,o,T,[]);I.options=g;const M=g.delay?Xd(g.delay):0;I.currentTimeline.delayNextStep(M),I.currentTimeline.setStyles([u],null,I.errors,g),oa(this,i,I);const k=I.timelines.filter(U=>U.containsAnimation());if(k.length&&h.size){let U;for(let H=k.length-1;H>=0;H--){const K=k[H];if(K.element===e){U=K;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,I.errors,g)}return k.length?k.map(U=>U.buildKeyframes()):[tO(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:Xd(ww(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Xd(i.duration):null,h=null!=i.delay?Xd(i.delay):null;return 0!==u&&t.forEach(g=>{const v=e.appendInstructionToTimeline(g,u,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),oa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uI);const u=Xd(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>oa(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xd(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),oa(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return nI(e.params?ww(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uI);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((v,T)=>{e.currentQueryIndex=T;const I=e.createSubContext(t.options,v);o&&I.delayNextStep(o),v===e.element&&(g=I.currentTimeline),oa(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const T=e.currentTimeline;g&&T.delayNextStep(g);const I=T.currentTime;oa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const uI={};class iO{constructor(t,e,i,r,o,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new dI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xd(i.duration)),null!=i.delay&&(r.delay=Xd(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=ww(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new iO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=uI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new yY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(gY,"."+this._enterClassName)).replace(_Y,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&u.push(function C7(n){return new s.vHH(3014,!1)}()),h}}class dI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Wd),this._currentKeyframe.set(e,Wd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function bY(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Wd)}else np(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,g]of u){const v=ww(g,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Wd),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const v=np(h,new Map,this._backFill);v.forEach((T,I)=>{"!"===T?t.add(I):T===Wd&&e.add(I)}),i||v.set("offset",g/this.duration),r.push(v)});const o=t.size?iI(t.values()):[],u=e.size?iI(e.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return tO(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class yY extends dI{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,g=np(t[0]);g.set("offset",0),o.push(g);const v=np(t[0]);v.set("offset",_U(h)),o.push(v);const T=t.length-1;for(let I=1;I<=T;I++){let M=np(t[I]);const k=M.get("offset");M.set("offset",_U((e+k*i)/u)),o.push(M)}i=u,e=0,r="",t=o}return tO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function _U(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class rO{}const wY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class TY extends rO{normalizePropertyName(t,e){return QN(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(wY.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function h7(n,t){return new s.vHH(3005,!1)}())}return u+o}}function vU(n,t,e,i,r,o,u,h,g,v,T,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:T,totalTime:I,errors:M}}const sO={};class yU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function CY(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,g,v,T){const I=[],M=this.ast.options&&this.ast.options.params||sO,U=this.buildStyles(i,h&&h.params||sO,I),H=g&&g.params||sO,K=this.buildStyles(r,H,I),we=new Set,Se=new Map,Fe=new Map,Ae="void"===r,He={params:EY(H,M),delay:this.ast.options?.delay},Ge=T?[]:nO(t,e,this.ast.animation,o,u,U,K,He,v,I);let ht=0;if(Ge.forEach(wn=>{ht=Math.max(wn.duration+wn.delay,ht)}),I.length)return vU(e,this._triggerName,i,r,Ae,U,K,[],[],Se,Fe,ht,I);Ge.forEach(wn=>{const Ln=wn.element,Ti=sa(Se,Ln,new Set);wn.preStyleProps.forEach(Ni=>Ti.add(Ni));const ts=sa(Fe,Ln,new Set);wn.postStyleProps.forEach(Ni=>ts.add(Ni)),Ln!==e&&we.add(Ln)});const Ut=iI(we.values());return vU(e,this._triggerName,i,r,Ae,U,K,Ge,Ut,Se,Fe,ht)}}function EY(n,t){const e=yw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class DY{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=yw(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=ww(u,r,e));const g=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,g,u,e),i.set(g,u)})}),i}}class SY{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new DY(r.style,r.options&&r.options.params||{},i))}),bU(this.states,"true","1"),bU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new yU(t,r,this.states))}),this.fallbackTransition=function AY(n,t,e){return new yU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function bU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const xY=new cI;class MY{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=XN(this._driver,e,i,[]);if(i.length)throw function M7(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=QL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=nO(this._driver,e,o,WN,XD,new Map,new Map,i,xY,r),u.forEach(T=>{const I=sa(h,T.element,new Map);T.postStyleProps.forEach(M=>I.set(M,null))})):(r.push(function N7(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function O7(n){return new s.vHH(3504,!1)}();h.forEach((T,I)=>{T.forEach((M,k)=>{T.set(k,this._driver.computeStyle(I,k,Wd))})});const v=tp(u.map(T=>{const I=h.get(T.element);return this._buildPlayer(T,new Map,I)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function R7(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=ZN(e,"","","");return jN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const wU="ng-animate-queued",oO="ng-animate-disabled",PY=[],TU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},za="__ng_removed";class aO{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function VY(n){return n??null}(i?t.value:t),i){const o=yw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Tw="void",lO=new aO(Tw);class LY{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function k7(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function P7(n){return new s.vHH(3303,!1)}();if(!function HY(n){return"start"==n||"done"==n}(i))throw function F7(n,t){return new s.vHH(3400,!1)}();const o=sa(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=sa(this._engine.statesByElement,t,new Map);return h.has(e)||(Wa(t,eI),Wa(t,eI+"-"+e),h.set(e,lO)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function L7(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new cO(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Wa(t,eI),Wa(t,eI+"-"+e),this._engine.statesByElement.set(t,h=new Map));let g=h.get(e);const v=new aO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(e,v),g||(g=lO),v.value!==Tw&&g.value===v.value){if(!function ZY(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,v.params)){const H=[],K=o.matchStyles(g.value,g.params,H),we=o.matchStyles(v.value,v.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{mm(t,K),Au(t,we)})}return}const M=sa(this._engine.playersByElement,t,[]);M.forEach(H=>{H.namespaceId==this.id&&H.triggerName==e&&H.queued&&H.destroy()});let k=o.matchTransition(g.value,v.value,t,v.params),U=!1;if(!k){if(!r)return;k=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:k,fromState:g,toState:v,player:u,isFallbackTransition:U}),U||(Wa(t,wU),u.onStart(()=>{by(t,wU)})),u.onDone(()=>{let H=this.players.indexOf(u);H>=0&&this.players.splice(H,1);const K=this._engine.playersByElement.get(t);if(K){let we=K.indexOf(u);we>=0&&K.splice(we,1)}}),this.players.push(u),M.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,tI,!0);i.forEach(r=>{if(r[za])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const T=this.trigger(t,v,Tw,r);T&&h.push(T)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&tp(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,v=i.get(u)||lO,T=new aO(Tw),I=new cO(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:v,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[za];(!o||o===TU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=ZN(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,jN(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class UY{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new LY(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(hI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!hI(e))return;const o=e[za];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wa(t,oO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),by(t,oO))}removeNode(t,e,i,r){if(hI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[za]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return hI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,tI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,YN,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return tp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[za];if(e&&e.setForRemoval){if(t[za]=TU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(oO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function U7(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new cI,r=[],o=new Map,u=[],h=new Map,g=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const gt=this.driver.query(it,".ng-animate-queued",!0);for(let Mt=0;Mt<gt.length;Mt++)T.add(gt[Mt])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),k=DU(M,this.collectedEnterElements),U=new Map;let H=0;k.forEach((it,gt)=>{const Mt=WN+H++;U.set(gt,Mt),it.forEach(Qt=>Wa(Qt,Mt))});const K=[],we=new Set,Se=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const gt=this.collectedLeaveElements[it],Mt=gt[za];Mt&&Mt.setForRemoval&&(K.push(gt),we.add(gt),Mt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Qt=>we.add(Qt)):Se.add(gt))}const Fe=new Map,Ae=DU(M,Array.from(we));Ae.forEach((it,gt)=>{const Mt=XD+H++;Fe.set(gt,Mt),it.forEach(Qt=>Wa(Qt,Mt))}),t.push(()=>{k.forEach((it,gt)=>{const Mt=U.get(gt);it.forEach(Qt=>by(Qt,Mt))}),Ae.forEach((it,gt)=>{const Mt=Fe.get(gt);it.forEach(Qt=>by(Qt,Mt))}),K.forEach(it=>{this.processLeaveNode(it)})});const He=[],Ge=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(Mt=>{const Qt=Mt.player,Oi=Mt.element;if(He.push(Qt),this.collectedEnterElements.length){const Wi=Oi[za];if(Wi&&Wi.setForMove){if(Wi.previousTriggersValues&&Wi.previousTriggersValues.has(Mt.triggerName)){const zs=Wi.previousTriggersValues.get(Mt.triggerName),Ts=this.statesByElement.get(Mt.element);if(Ts&&Ts.has(Mt.triggerName)){const wy=Ts.get(Mt.triggerName);wy.value=zs,Ts.set(Mt.triggerName,wy)}}return void Qt.destroy()}}const _o=!I||!this.driver.containsElement(I,Oi),Er=Fe.get(Oi),aa=U.get(Oi),Nn=this._buildInstruction(Mt,i,aa,Er,_o);if(Nn.errors&&Nn.errors.length)return void Ge.push(Nn);if(_o)return Qt.onStart(()=>mm(Oi,Nn.fromStyles)),Qt.onDestroy(()=>Au(Oi,Nn.toStyles)),void r.push(Qt);if(Mt.isFallbackTransition)return Qt.onStart(()=>mm(Oi,Nn.fromStyles)),Qt.onDestroy(()=>Au(Oi,Nn.toStyles)),void r.push(Qt);const Ql=[];Nn.timelines.forEach(Wi=>{Wi.stretchStartingKeyframe=!0,this.disabledNodes.has(Wi.element)||Ql.push(Wi)}),Nn.timelines=Ql,i.append(Oi,Nn.timelines),u.push({instruction:Nn,player:Qt,element:Oi}),Nn.queriedElements.forEach(Wi=>sa(h,Wi,[]).push(Qt)),Nn.preStyleProps.forEach((Wi,zs)=>{if(Wi.size){let Ts=g.get(zs);Ts||g.set(zs,Ts=new Set),Wi.forEach((wy,bm)=>Ts.add(bm))}}),Nn.postStyleProps.forEach((Wi,zs)=>{let Ts=v.get(zs);Ts||v.set(zs,Ts=new Set),Wi.forEach((wy,bm)=>Ts.add(bm))})});if(Ge.length){const it=[];Ge.forEach(gt=>{it.push(function B7(n,t){return new s.vHH(3505,!1)}())}),He.forEach(gt=>gt.destroy()),this.reportError(it)}const ht=new Map,Ut=new Map;u.forEach(it=>{const gt=it.element;i.has(gt)&&(Ut.set(gt,gt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,ht))}),r.forEach(it=>{const gt=it.element;this._getPreviousPlayers(gt,!1,it.namespaceId,it.triggerName,null).forEach(Qt=>{sa(ht,gt,[]).push(Qt),Qt.destroy()})});const wn=K.filter(it=>SU(it,g,v)),Ln=new Map;EU(Ln,this.driver,Se,v,Wd).forEach(it=>{SU(it,g,v)&&wn.push(it)});const ts=new Map;k.forEach((it,gt)=>{EU(ts,this.driver,new Set(it),g,"!")}),wn.forEach(it=>{const gt=Ln.get(it),Mt=ts.get(it);Ln.set(it,new Map([...Array.from(gt?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const Ni=[],xu=[],Mu={};u.forEach(it=>{const{element:gt,player:Mt,instruction:Qt}=it;if(i.has(gt)){if(T.has(gt))return Mt.onDestroy(()=>Au(gt,Qt.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(Qt.totalTime),void r.push(Mt);let Oi=Mu;if(Ut.size>1){let Er=gt;const aa=[];for(;Er=Er.parentNode;){const Nn=Ut.get(Er);if(Nn){Oi=Nn;break}aa.push(Er)}aa.forEach(Nn=>Ut.set(Nn,Oi))}const _o=this._buildAnimation(Mt.namespaceId,Qt,ht,o,ts,Ln);if(Mt.setRealPlayer(_o),Oi===Mu)Ni.push(Mt);else{const Er=this.playersByElement.get(Oi);Er&&Er.length&&(Mt.parentPlayer=tp(Er)),r.push(Mt)}}else mm(gt,Qt.fromStyles),Mt.onDestroy(()=>Au(gt,Qt.toStyles)),xu.push(Mt),T.has(gt)&&r.push(Mt)}),xu.forEach(it=>{const gt=o.get(it.element);if(gt&&gt.length){const Mt=tp(gt);it.setRealPlayer(Mt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<K.length;it++){const gt=K[it],Mt=gt[za];if(by(gt,XD),Mt&&Mt.hasAnimation)continue;let Qt=[];if(h.size){let _o=h.get(gt);_o&&_o.length&&Qt.push(..._o);let Er=this.driver.query(gt,YN,!0);for(let aa=0;aa<Er.length;aa++){let Nn=h.get(Er[aa]);Nn&&Nn.length&&Qt.push(...Nn)}}const Oi=Qt.filter(_o=>!_o.destroyed);Oi.length?jY(this,gt,Oi):this.processLeaveNode(gt)}return K.length=0,Ni.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const gt=this.players.indexOf(it);this.players.splice(gt,1)}),it.play()}),Ni}elementContainsData(t,e){let i=!1;const r=e[za];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==Tw;h.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const v=g.element,T=v!==o,I=sa(i,v,[]);this._getPreviousPlayers(v,T,u,h,e.toState).forEach(k=>{const U=k.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),k.destroy(),I.push(k)})}mm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,g=e.element,v=[],T=new Set,I=new Set,M=e.timelines.map(U=>{const H=U.element;T.add(H);const K=H[za];if(K&&K.removedBeforeQueried)return new B1(U.duration,U.delay);const we=H!==g,Se=function $Y(n){const t=[];return IU(n,t),t}((i.get(H)||PY).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===H),Fe=o.get(H),Ae=u.get(H),He=QL(0,this._normalizer,0,U.keyframes,Fe,Ae),Ge=this._buildPlayer(U,He,Se);if(U.subTimeline&&r&&I.add(H),we){const ht=new cO(t,h,H);ht.setRealPlayer(Ge),v.push(ht)}return Ge});v.forEach(U=>{sa(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function BY(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),T.forEach(U=>Wa(U,aU));const k=tp(M);return k.onDestroy(()=>{T.forEach(U=>by(U,aU)),Au(g,e.toStyles)}),I.forEach(U=>{sa(r,U,[]).push(k)}),k}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new B1(t.duration,t.delay)}}class cO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new B1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>jN(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hI(n){return n&&1===n.nodeType}function CU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function EU(n,t,e,i,r){const o=[];e.forEach(g=>o.push(CU(g)));const u=[];i.forEach((g,v)=>{const T=new Map;g.forEach(I=>{const M=t.computeStyle(v,I,r);T.set(I,M),(!M||0==M.length)&&(v[za]=FY,u.push(v))}),n.set(v,T)});let h=0;return e.forEach(g=>CU(g,o[h++])),u}function DU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let g=o.get(h);if(g)return g;const v=h.parentNode;return g=e.has(v)?v:r.has(v)?1:u(v),o.set(h,g),g}return t.forEach(h=>{const g=u(h);1!==g&&e.get(g).push(h)}),e}function Wa(n,t){n.classList?.add(t)}function by(n,t){n.classList?.remove(t)}function jY(n,t,e){tp(e).onDone(()=>n.processLeaveNode(t))}function IU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof $k?IU(i.players,t):t.push(i)}}function SU(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class fI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new UY(t,e,i),this._timelineEngine=new MY(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],T=XN(this._driver,o,g,[]);if(g.length)throw function A7(n,t){return new s.vHH(3404,!1)}();h=function IY(n,t,e){return new SY(n,t,e)}(r,T,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=XL(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=XL(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let qY=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Au(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Au(this._element,this._initialStyles),this._endStyles&&(Au(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mm(this._element,this._endStyles),this._endStyles=null),Au(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uO(n){let t=null;return n.forEach((e,i)=>{(function zY(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class AU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:fU(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class WY{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return iU(t,e)}getParentElement(t){return qN(t)}query(t,e,i){return rU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const v=new Map,T=u.filter(k=>k instanceof AU);(function Q7(n,t){return 0===n||0===t})(i,r)&&T.forEach(k=>{k.currentSnapshot.forEach((U,H)=>v.set(H,U))});let I=function W7(n){return n.length?n[0]instanceof Map?n:n.map(t=>lU(t)):[]}(e).map(k=>np(k));I=function X7(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,fU(n,h)))}}return t}(t,I,v);const M=function GY(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=uO(t[0]),t.length>1&&(i=uO(t[t.length-1]))):t instanceof Map&&(e=uO(t)),e||i?new qY(n,e,i):null}(t,I);return new AU(t,I,g,M)}}let YY=(()=>{class n extends Vk{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Hk(e):e;return xU(this._renderer,null,i,"register",[r]),new KY(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class KY extends class D3{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new JY(this._id,t,e||{},this._renderer)}}class JY{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const MU="@.disabled";let QY=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(o);return T||(T=new NU("",o,this.engine),this._rendererCache.set(o,T)),T}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(u,h,e,T.name,T)};return i.data.animation.forEach(g),new XY(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(fI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class NU{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==MU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class XY extends NU{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==MU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function eK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function tK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let nK=(()=>{class n extends fI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(zN),s.LFG(rO),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const OU=[{provide:Vk,useClass:YY},{provide:rO,useFactory:function iK(){return new TY}},{provide:fI,useClass:nK},{provide:s.FYo,useFactory:function rK(n,t,e){return new QY(n,t,e)},deps:[Mo,fI,s.R0b]}],dO=[{provide:zN,useFactory:()=>new WY},{provide:s.QbO,useValue:"BrowserAnimations"},...OU],RU=[{provide:zN,useClass:sU},{provide:s.QbO,useValue:"NoopAnimations"},...OU];let sK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?RU:dO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:dO,imports:[xc]}),n})(),mK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kn,Eu,Eu]}),n})(),OK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Eu,Eu]}),n})(),RK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[o7]}),n.\u0275inj=s.cJS({imports:[xc,s7,RZ,nF,iF,pr.hO.initializeApp(KL_firebase),E3,k0,I8,sK,q3.forRoot({preventDuplicates:!0}),mK,L4,OK,xG]}),n})();(0,s.G48)(),Ac().bootstrapModule(RK).catch(n=>console.error(n))},5867:(mt,Ie,F)=>{F.d(Ie,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.12.1","app")},127:(mt,Ie,F)=>{F.d(Ie,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(mt,Ie,F)=>{F.r(Ie);var s=F(5861),te=F(3942),P=F(2090),le=F(9681),ce=F(1877),he=F(655),ie=F(4859);const Ce=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ce.Yd("@firebase/auth");function ft(y,...p){st.logLevel<=ce.in.ERROR&&st.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Ne(y,...p){throw ze(y,...p)}function be(y,...p){return ze(y,...p)}function De(y,p,_){const w=Object.assign(Object.assign({},lt()),{[p]:_});return new P.LL("auth","Firebase",w).create(p,{appName:y.name})}function qe(y,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ne(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(y,...p){if("string"!=typeof y){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(_,...w)}return ve.create(y,...p)}function j(y,p,..._){if(!y)throw ze(p,..._)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ft(p),new Error(p)}function W(y,p){y||_e(p)}const ee=new Map;function oe(y){W(y instanceof Function,"Expected a class definition");let p=ee.get(y);return p?(W(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ee.set(y,p),p)}function Be(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function wt(){return"http:"===on()||"https:"===on()}function on(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class mn{constructor(p,_){this.shortDelay=p,this.longDelay=_,W(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(y,p){W(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class nn{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yi=new mn(3e4,6e4);function Bt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function yn(y,p,_,w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,s.Z)(function*(y,p,_,w,x={}){return Ur(y,x,(0,s.Z)(function*(){let R={},z={};w&&("GET"===p?z=w:R={body:JSON.stringify(w)});const ue=(0,P.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/json",y.languageCode&&($e["X-Firebase-Locale"]=y.languageCode),nn.fetch()(Br(y,y.config.apiHost,_,ue),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Ur(y,p,_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(y,p,_){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},an),p);try{const x=new Dr(y),R=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const z=yield R.json();if("needConfirmation"in z)throw Ir(y,"account-exists-with-different-credential",z);if(R.ok&&!("errorMessage"in z))return z;{const ue=R.ok?z.errorMessage:z.error.message,[$e,rt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Ir(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===$e)throw Ir(y,"email-already-in-use",z);if("USER_DISABLED"===$e)throw Ir(y,"user-disabled",z);const Et=w[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw De(y,Et,rt);Ne(y,Et)}}catch(x){if(x instanceof P.ZR)throw x;Ne(y,"network-request-failed")}})).apply(this,arguments)}function or(y,p,_,w){return vo.apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(y,p,_,w,x={}){const R=yield yn(y,p,_,w,x);return"mfaPendingCredential"in R&&Ne(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Br(y,p,_,w){const x=`${p}${_}?${w}`;return y.config.emulator?Sn(y.config,x):`${y.config.apiScheme}://${x}`}class Dr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),Yi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ir(y,p,_){const w={appName:y.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const x=be(y,p,w);return x.customData._tokenResponse=_,x}function nt(){return(nt=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Bi(y,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fi(y,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ns(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function En(){return(En=(0,s.Z)(function*(y,p=!1){const _=(0,P.m9)(y),w=yield _.getIdToken(p),x=_t(w);j(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,z=R?.sign_in_provider;return{claims:x,token:w,authTime:ns(Tt(x.auth_time)),issuedAtTime:ns(Tt(x.iat)),expirationTime:ns(Tt(x.exp)),signInProvider:z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(y){return 1e3*Number(y)}function _t(y){var p;const[_,w,x]=y.split(".");if(void 0===_||void 0===w||void 0===x)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,P.tV)(w);return R?JSON.parse(R):(ft("Failed to decode base64 JWT payload"),null)}catch(R){return ft("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function Ri(y,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(y,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof P.ZR&&ar(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function ar({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Pt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){var _;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(_=w)||void 0===_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class Ys{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ns(this.lastLoginAt),this.creationTime=ns(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(y){return is.apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(y){var p;const _=y.auth,w=yield y.getIdToken(),x=yield Ri(y,fi(_,{idToken:w}));j(x?.users.length,_,"internal-error");const R=x.users[0];y._notifyReloadListener(R);const z=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?at(R.providerUserInfo):[],ue=Ji(y.providerData,z),Et=!!y.isAnonymous&&!(y.email&&R.passwordHash||ue?.length),bt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new Ys(R.createdAt,R.lastLoginAt),isAnonymous:Et};Object.assign(y,bt)})).apply(this,arguments)}function pi(){return(pi=(0,s.Z)(function*(y){const p=(0,P.m9)(y);yield dn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ji(y,p){return[...y.filter(w=>!p.some(x=>x.providerId===w.providerId)),...p]}function at(y){return y.map(p=>{var{providerId:_}=p,w=(0,he._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ot(){return(ot=(0,s.Z)(function*(y,p){const _=yield Ur(y,{},(0,s.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:R}=y.config,z=Br(y,x,"/v1/token",`key=${R}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(z,{method:"POST",headers:ue,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(typeof p.idToken<"u","internal-error"),j(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function gn(y){const p=_t(y);return j(p,"internal-error"),j(typeof p.exp<"u","internal-error"),j(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,s.Z)(function*(){return j(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,s.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:z}=yield function xe(y,p){return ot.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(x,R,Number(z))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:x,expirationTime:R}=_,z=new xt;return w&&(j("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),x&&(j("string"==typeof x,"internal-error",{appName:p}),z.accessToken=x),R&&(j("number"==typeof R,"internal-error",{appName:p}),z.expirationTime=R),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xt,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Dt(y,p){j("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:_,auth:w,stsTokenManager:x}=p,R=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ys(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,s.Z)(function*(){const w=yield Ri(_,_.stsTokenManager.getToken(_.auth,p));return j(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function ei(y){return En.apply(this,arguments)}(this,p)}reload(){return function hn(y){return pi.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,s.Z)(function*(){let x=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),x=!0),_&&(yield dn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const _=yield p.getIdToken();return yield Ri(p,function Ka(y,p){return nt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,x,R,z,ue,$e,rt,Et;const bt=null!==(w=_.displayName)&&void 0!==w?w:void 0,_n=null!==(x=_.email)&&void 0!==x?x:void 0,Rr=null!==(R=_.phoneNumber)&&void 0!==R?R:void 0,Ml=null!==(z=_.photoURL)&&void 0!==z?z:void 0,Uy=null!==(ue=_.tenantId)&&void 0!==ue?ue:void 0,pd=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,n_=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,Uh=null!==(Et=_.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:i_,emailVerified:By,isAnonymous:$c,providerData:Nl,stsTokenManager:xp}=_;j(i_&&xp,p,"internal-error");const Mp=xt.fromJSON(this.name,xp);j("string"==typeof i_,p,"internal-error"),Dt(bt,p.name),Dt(_n,p.name),j("boolean"==typeof By,p,"internal-error"),j("boolean"==typeof $c,p,"internal-error"),Dt(Rr,p.name),Dt(Ml,p.name),Dt(Uy,p.name),Dt(pd,p.name),Dt(n_,p.name),Dt(Uh,p.name);const Ia=new $t({uid:i_,auth:p,email:_n,emailVerified:By,displayName:bt,isAnonymous:$c,photoURL:Ml,phoneNumber:Rr,tenantId:Uy,stsTokenManager:Mp,createdAt:n_,lastLoginAt:Uh});return Nl&&Array.isArray(Nl)&&(Ia.providerData=Nl.map(Zc=>Object.assign({},Zc))),pd&&(Ia._redirectEventId=pd),Ia}static _fromIdTokenResponse(p,_,w=!1){return(0,s.Z)(function*(){const x=new xt;x.updateFromServerResponse(_);const R=new $t({uid:_.localId,auth:p,stsTokenManager:x,isAnonymous:w});return yield dn(R),R})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,w){var x=this;return(0,s.Z)(function*(){x.storage[_]=w})()}_get(_){var w=this;return(0,s.Z)(function*(){const x=w.storage[_];return void 0===x?null:x})()}_remove(_){var w=this;return(0,s.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return y.type="NONE",y})();function Y(y,p,_){return`firebase:${y}:${p}:${_}`}class Te{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:x,name:R}=this.auth;this.fullUserKey=Y(this.userKey,x.apiKey,R),this.fullPersistenceKey=Y("persistence",x.apiKey,R),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?$t._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,s.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,s.Z)(function*(){if(!_.length)return new Te(oe(V),p,w);const x=(yield Promise.all(_.map(function(){var rt=(0,s.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let R=x[0]||oe(V);const z=Y(w,p.config.apiKey,p.name);let ue=null;for(const rt of _)try{const Et=yield rt._get(z);if(Et){const bt=$t._fromJSON(p,Et);rt!==R&&(ue=bt),R=rt;break}}catch{}const $e=x.filter(rt=>rt._shouldAllowMigration);return R._shouldAllowMigration&&$e.length?(R=$e[0],ue&&(yield R._set(z,ue.toJSON())),yield Promise.all(_.map(function(){var rt=(0,s.Z)(function*(Et){if(Et!==R)try{yield Et._remove(z)}catch{}});return function(Et){return rt.apply(this,arguments)}}())),new Te(R,p,w)):new Te(R,p,w)})()}}function X(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Tn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Je(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ze(p))return"Blackberry";if(Ke(p))return"Webos";if(vt(p))return"Safari";if((p.includes("chrome/")||rn(p))&&!p.includes("edge/"))return"Chrome";if(en(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Je(y=(0,P.z$)()){return/firefox\//i.test(y)}function vt(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function rn(y=(0,P.z$)()){return/crios\//i.test(y)}function Tn(y=(0,P.z$)()){return/iemobile/i.test(y)}function en(y=(0,P.z$)()){return/android/i.test(y)}function Ze(y=(0,P.z$)()){return/blackberry/i.test(y)}function Ke(y=(0,P.z$)()){return/webos/i.test(y)}function qt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function yo(y=(0,P.z$)()){return qt(y)||en(y)||Ke(y)||Ze(y)||/windows phone/i.test(y)||Tn(y)}function Ks(y,p=[]){let _;switch(y){case"Browser":_=X((0,P.z$)());break;case"Worker":_=`${X((0,P.z$)())}-${y}`;break;default:_=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${w}`}class la{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=R=>new Promise((z,ue)=>{try{z(p(R))}catch($e){ue($e)}});w.onAbort=_,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,s.Z)(function*(){var w;if(_.auth.currentUser===p)return;const x=[];try{for(const R of _.queue)yield R(p),R.onAbort&&x.push(R.onAbort)}catch(R){x.reverse();for(const z of x)try{z()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Zt{constructor(p,_,w){this.app=p,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bo(this),this.idTokenSubscription=new bo(this),this.beforeStateQueue=new la(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=oe(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var x,R;if(!w._deleted&&(w.persistenceManager=yield Te.create(w,p),!w._deleted)){if(null!==(x=w._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,s.Z)(function*(){var w;const x=yield _.assertedPersistence.getCurrentUser();let R=x,z=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ue=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,$e=R?._redirectEventId,rt=yield _.tryRedirectSignIn(p);(!ue||ue===$e)&&rt?.user&&(R=rt.user,z=!0)}if(!R)return _.directlySetCurrentUser(null);if(!R._redirectEventId){if(z)try{yield _.beforeStateQueue.runMiddleware(R)}catch(ue){R=x,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ue))}return R?_.reloadAndSetCurrentUserOrClear(R):_.directlySetCurrentUser(null)}return j(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===R._redirectEventId?_.directlySetCurrentUser(R):_.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var _=this;return(0,s.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,s.Z)(function*(){var w;try{yield dn(p)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,s.Z)(function*(){const w=p?(0,P.m9)(p):null;return w&&j(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return p&&j(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,s.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(_);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&oe(p)||_._popupRedirectResolver;j(w,_,"argument-error"),_.redirectPersistenceManager=yield Te.create(_,[oe(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,s.Z)(function*(){var w,x;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,s.Z)(function*(){if(p===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,x){if(this._deleted)return()=>{};const R="function"==typeof _?_:_.next.bind(_),z=this._isInitialized?Promise.resolve():this._initializationPromise;return j(z,this,"internal-error"),z.then(()=>R(this.currentUser)),"function"==typeof _?p.addObserver(_,w,x):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ks(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function On(y){return(0,P.m9)(y)}class bo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(_=>this.observer=_)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rs(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Js(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ki{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,_){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function ii(y,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:resetPassword",Bt(y,p))})).apply(this,arguments)}function sn(y,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ou(y,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",Bt(y,p))})).apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithPassword",Bt(y,p))})).apply(this,arguments)}function Xs(y,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:sendOobCode",Bt(y,p))})).apply(this,arguments)}function Xt(y,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,s.Z)(function*(y,p){return Xs(y,p)})).apply(this,arguments)}function Ei(y,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,s.Z)(function*(y,p){return Xs(y,p)})).apply(this,arguments)}function tc(y,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(y,p){return Xs(y,p)})).apply(this,arguments)}function ku(y,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,s.Z)(function*(y,p){return Xs(y,p)})).apply(this,arguments)}function eh(){return(eh=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithEmailLink",Bt(y,p))})).apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithEmailLink",Bt(y,p))})).apply(this,arguments)}class Pu extends ki{constructor(p,_,w,x=null){super("password",w),this._email=p,this._password=_,this._tenantId=x}static _fromEmailAndPassword(p,_){return new Pu(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Pu(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function Ja(y,p){return Vi.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function sp(y,p){return eh.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ne(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return sn(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function th(y,p){return To.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:Ne(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function mi(y,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithIdp",Bt(y,p))})).apply(this,arguments)}class Es extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Es(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ne("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x}=_,R=(0,he._T)(_,["providerId","signInMethod"]);if(!w||!x)return null;const z=new Es(w,x);return z.idToken=R.idToken||void 0,z.accessToken=R.accessToken||void 0,z.secret=R.secret,z.nonce=R.nonce,z.pendingToken=R.pendingToken||null,z}_getIdTokenResponse(p){return mi(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,mi(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,mi(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,P.xO)(_)}return p}}function Cm(y,p){return ih.apply(this,arguments)}function ih(){return(ih=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:sendVerificationCode",Bt(y,p))})).apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithPhoneNumber",Bt(y,p))})).apply(this,arguments)}function rh(){return(rh=(0,s.Z)(function*(y,p){const _=yield or(y,"POST","/v1/accounts:signInWithPhoneNumber",Bt(y,p));if(_.temporaryProof)throw Ir(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Dm={USER_NOT_FOUND:"user-not-found"};function sh(){return(sh=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithPhoneNumber",Bt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Dm)})).apply(this,arguments)}class to extends ki{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new to({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new to({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Fu(y,p){return eo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Em(y,p){return rh.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Im(y,p){return sh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:x}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:x,temporaryProof:R}=p;return w||_||x||R?new to({verificationId:_,verificationCode:w,phoneNumber:x,temporaryProof:R}):null}}class nc{constructor(p){var _,w,x,R,z,ue;const $e=(0,P.zd)((0,P.pd)(p)),rt=null!==(_=$e.apiKey)&&void 0!==_?_:null,Et=null!==(w=$e.oobCode)&&void 0!==w?w:null,bt=function oh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=$e.mode)&&void 0!==x?x:null);j(rt&&Et&&bt,"argument-error"),this.apiKey=rt,this.operation=bt,this.code=Et,this.continueUrl=null!==(R=$e.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(z=$e.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ue=$e.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const _=function ah(y){const p=(0,P.zd)((0,P.pd)(y)).link,_=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||_||p||y}(p);try{return new nc(_)}catch{return null}}}let ss=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,w){return Pu._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const x=nc.parseLink(w);return j(x,"argument-error"),Pu._fromEmailAndCode(_,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ds{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Is extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Co extends Is{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return j("providerId"in _&&"signInMethod"in _,"argument-error"),Es._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Co.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Co.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:R,nonce:z,providerId:ue}=p;if(!w&&!x&&!_&&!R||!ue)return null;try{return new Co(ue)._credential({idToken:_,accessToken:w,nonce:z,pendingToken:R})}catch{return null}}}let Xa=(()=>{class y extends Is{constructor(){super("facebook.com")}static credential(_){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ic=(()=>{class y extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:x}=_;if(!w&&!x)return null;try{return y.credential(w,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Lu=(()=>{class y extends Is{constructor(){super("github.com")}static credential(_){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Kn extends ki{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return mi(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,mi(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,mi(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x,pendingToken:R}=_;return w&&x&&R&&w===x?new Kn(w,R):null}static _create(p,_){return new Kn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends Ds{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ar.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ar.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Kn.fromJSON(p);return j(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return Kn._create(w,_)}catch{return null}}}let cr=(()=>{class y extends Is{constructor(){super("twitter.com")}static credential(_,w){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=_;if(!w||!x)return null;try{return y.credential(w,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ca(y,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signUp",Bt(y,p))})).apply(this,arguments)}class Pi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,x=!1){return(0,s.Z)(function*(){const R=yield $t._fromIdTokenResponse(p,w,x),z=lp(w);return new Pi({user:R,providerId:z,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const x=lp(w);return new Pi({user:p,providerId:x,_tokenResponse:w,operationType:_})})()}}function lp(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Vn(){return(Vn=(0,s.Z)(function*(y){var p;const _=On(y);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Pi({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ca(_,{returnSecureToken:!0}),x=yield Pi._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class sc extends P.ZR{constructor(p,_,w,x){var R;super(_.code,_.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,x){return new sc(p,_,w,x)}}function up(y,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?sc._fromErrorAndOperation(y,R,p,w):R})}function xr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function oc(){return(oc=(0,s.Z)(function*(y,p){const _=(0,P.m9)(y);yield tn(!0,_,p);const{providerUserInfo:w}=yield Bi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),x=xr(w||[]);return _.providerData=_.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ua(y,p){return As.apply(this,arguments)}function As(){return(As=(0,s.Z)(function*(y,p,_=!1){const w=yield Ri(y,p._linkToIdToken(y.auth,yield y.getIdToken()),_);return Pi._forOperation(y,"link",w)})).apply(this,arguments)}function tn(y,p,_){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(y,p,_){yield dn(p);const x=!1===y?"provider-already-linked":"no-such-provider";j(xr(p.providerData).has(_)===y,p.auth,x)})).apply(this,arguments)}function Eo(y,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,s.Z)(function*(y,p,_=!1){var w;const{auth:x}=y,R="reauthenticate";try{const z=yield Ri(y,up(x,R,p,y),_);j(z.idToken,x,"internal-error");const ue=_t(z.idToken);j(ue,x,"internal-error");const{sub:$e}=ue;return j(y.uid===$e,x,"user-mismatch"),Pi._forOperation(y,R,z)}catch(z){throw"auth/user-not-found"===(null===(w=z)||void 0===w?void 0:w.code)&&Ne(x,"user-mismatch"),z}})).apply(this,arguments)}function Hr(y,p){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.Z)(function*(y,p,_=!1){const w="signIn",x=yield up(y,w,p),R=yield Pi._fromIdTokenResponse(y,w,x);return _||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Un(y,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(y,p){return Hr(On(y),p)})).apply(this,arguments)}function uc(y,p){return dp.apply(this,arguments)}function dp(){return(dp=(0,s.Z)(function*(y,p){const _=(0,P.m9)(y);return yield tn(!1,_,p.providerId),ua(_,p)})).apply(this,arguments)}function dc(y,p){return hc.apply(this,arguments)}function hc(){return(hc=(0,s.Z)(function*(y,p){return Eo((0,P.m9)(y),p)})).apply(this,arguments)}function Uu(y,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(y,p){return or(y,"POST","/v1/accounts:signInWithCustomToken",Bt(y,p))})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(y,p){const _=On(y),w=yield Uu(_,{token:p,returnSecureToken:!0}),x=yield Pi._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Me{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Kt._fromServerResponse(p,_):Ne(p,"internal-error")}}class Kt extends Me{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Kt(_)}}function fc(y,p,_){var w;j((null===(w=_.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),j(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(j(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(j(_.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Hn(){return(Hn=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y),x={requestType:"PASSWORD_RESET",email:p};_&&fc(w,x,_),yield Ei(w,x)})).apply(this,arguments)}function da(){return(da=(0,s.Z)(function*(y,p,_){yield ii((0,P.m9)(y),{oobCode:p,newPassword:_})})).apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(y,p){yield Ou((0,P.m9)(y),{oobCode:p})})).apply(this,arguments)}function nl(y,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,s.Z)(function*(y,p){const _=(0,P.m9)(y),w=yield ii(_,{oobCode:p}),x=w.requestType;switch(j(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(w.mfaInfo,_,"internal-error");default:j(w.email,_,"internal-error")}let R=null;return w.mfaInfo&&(R=Me._fromServerResponse(On(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function lh(){return(lh=(0,s.Z)(function*(y,p){const{data:_}=yield nl((0,P.m9)(y),p);return _.email})).apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(y,p,_){const w=On(y),x=yield ca(w,{returnSecureToken:!0,email:p,password:_}),R=yield Pi._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y),x={requestType:"EMAIL_SIGNIN",email:p};j(_.handleCodeInApp,w,"argument-error"),_&&fc(w,x,_),yield tc(w,x)})).apply(this,arguments)}function rl(){return(rl=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y),x=ss.credentialWithLink(p,_||Be());return j(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Un(w,x)})).apply(this,arguments)}function Am(y,p){return $u.apply(this,arguments)}function $u(){return($u=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:createAuthUri",Bt(y,p))})).apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(y,p){const w={identifier:p,continueUri:wt()?Be():"http://localhost"},{signinMethods:x}=yield Am((0,P.m9)(y),w);return x||[]})).apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(y,p){const _=(0,P.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&fc(_.auth,x,p);const{email:R}=yield Xt(_.auth,x);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function _c(){return(_c=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};_&&fc(w.auth,R,_);const{email:z}=yield ku(w.auth,R);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function vc(y,p){return qu.apply(this,arguments)}function qu(){return(qu=(0,s.Z)(function*(y,p){return yn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(y,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,P.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},z=yield Ri(w,vc(w.auth,R));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const ue=w.providerData.find(({providerId:$e})=>"password"===$e);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function So(y,p,_){return yc.apply(this,arguments)}function yc(){return(yc=(0,s.Z)(function*(y,p,_){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),_&&(R.password=_);const z=yield Ri(y,sn(w,R));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class ur{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class xn extends ur{constructor(p,_,w,x){super(p,_,w),this.username=x}}class Yu extends ur{constructor(p,_){super(p,"facebook.com",_)}}class Ku extends xn{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class hp extends ur{constructor(p,_){super(p,"google.com",_)}}class Ju extends xn{constructor(p,_,w){super(p,"twitter.com",_,w)}}function bc(y){const{user:p,_tokenResponse:_}=y;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function _i(y){var p,_;if(!y)return null;const{providerId:w}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const z=null===(_=null===(p=_t(y.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(z)return new ur(R,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new Yu(R,x);case"github.com":return new Ku(R,x);case"google.com":return new hp(R,x);case"twitter.com":return new Ju(R,x,y.screenName||null);case"custom":case"anonymous":return new ur(R,null);default:return new ur(R,w,x)}}(_)}class xo{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new xo("enroll",p,_)}static _fromMfaPendingCredential(p){return new xo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return xo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return xo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Tc{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=On(p),x=_.customData._serverResponse,R=(x.mfaInfo||[]).map(ue=>Me._fromServerResponse(w,ue));j(x.mfaPendingCredential,w,"internal-error");const z=xo._fromMfaPendingCredential(x.mfaPendingCredential);return new Tc(z,R,function(){var ue=(0,s.Z)(function*($e){const rt=yield $e._process(w,z);delete x.mfaInfo,delete x.mfaPendingCredential;const Et=Object.assign(Object.assign({},x),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const bt=yield Pi._fromIdTokenResponse(w,_.operationType,Et);return yield w._updateCurrentUser(bt.user),bt;case"reauthenticate":return j(_.user,w,"internal-error"),Pi._forOperation(_.user,_.operationType,Et);default:Ne(w,"internal-error")}});return function($e){return ue.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,s.Z)(function*(){return _.signInResolver(p)})()}}function Cc(y,p){return yn(y,"POST","/v2/accounts/mfaEnrollment:start",Bt(y,p))}class fp{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Me._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new fp(p)}getSession(){var p=this;return(0,s.Z)(function*(){return xo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,s.Z)(function*(){const x=p,R=yield w.getSession(),z=yield Ri(w.user,x._process(w.user.auth,R,_));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var _=this;return(0,s.Z)(function*(){var w;const x="string"==typeof p?p:p.uid,R=yield _.user.getIdToken(),z=yield Ri(_.user,function fh(y,p){return yn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(y,p))}(_.user.auth,{idToken:R,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ue})=>ue!==x),yield _.user._updateTokensIfNecessary(z);try{yield _.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(w=ue)||void 0===w?void 0:w.code))throw ue}})()}}const Mo=new WeakMap,No="__sak";class Dc{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ll=(()=>{class y extends Dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function al(){const y=(0,P.z$)();return vt(y)||qt(y)}()&&function An(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),R=this.localCache[w];x!==R&&_(w,R,x)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ue,$e,rt)=>{this.notifyListeners(ue,rt)});const x=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(x);if(_.newValue!==ue)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!w)return}const R=()=>{const ue=this.storage.getItem(x);!w&&this.localCache[x]===ue||this.notifyListeners(x,ue)},z=this.storage.getItem(x);!function gi(){return(0,P.w1)()&&10===document.documentMode}()||z===_.newValue||_.newValue===_.oldValue?R():setTimeout(R,10)}notifyListeners(_,w){this.localCache[_]=w;const x=this.listeners[_];if(x)for(const R of Array.from(x))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var x=()=>super._set,R=this;return(0,s.Z)(function*(){yield x().call(R,_,w),R.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,x=this;return(0,s.Z)(function*(){const R=yield w().call(x,_);return x.localCache[_]=JSON.stringify(R),R})()}_remove(_){var w=()=>super._remove,x=this;return(0,s.Z)(function*(){yield w().call(x,_),delete x.localCache[_]})()}}return y.type="LOCAL",y})(),as=(()=>{class y extends Dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return y.type="SESSION",y})();let mh=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(R=>R.isListeningto(_));if(w)return w;const x=new y(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,s.Z)(function*(){const x=_,{eventId:R,eventType:z,data:ue}=x.data,$e=w.handlersMap[z];if(!$e?.size)return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:z});const rt=Array.from($e).map(function(){var bt=(0,s.Z)(function*(_n){return _n(x.origin,ue)});return function(_n){return bt.apply(this,arguments)}}()),Et=yield function ul(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(rt);x.ports[0].postMessage({status:"done",eventId:R,eventType:z,response:Et})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function dl(y="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return y+_}class Qu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var x=this;return(0,s.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let z,ue;return new Promise(($e,rt)=>{const Et=dl("",20);R.port1.start();const bt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ue={messageChannel:R,onMessage(_n){const Rr=_n;if(Rr.data.eventId===Et)switch(Rr.data.status){case"ack":clearTimeout(bt),z=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),$e(Rr.data.response);break;default:clearTimeout(bt),clearTimeout(z),rt(new Error("invalid_response"))}}},x.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),x.target.postMessage({eventType:p,eventId:Et,data:_},[R.port2])}).finally(()=>{ue&&x.removeMessageHandler(ue)})})()}}function Jn(){return window}function Ic(){return typeof Jn().WorkerGlobalScope<"u"&&"function"==typeof Jn().importScripts}function hl(){return(hl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ro="firebaseLocalStorageDb",so="firebaseLocalStorage",xc="fbase_key";class Ro{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function fl(y,p){return y.transaction([so],p?"readwrite":"readonly").objectStore(so)}function ga(){const y=indexedDB.open(ro,1);return new Promise((p,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(so,{keyPath:xc})}catch(x){_(x)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(so)?p(w):(w.close(),yield function vh(){const y=indexedDB.deleteDatabase(ro);return new Ro(y).toPromise()}(),p(yield ga()))}))})}function Ns(y,p,_){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,s.Z)(function*(y,p,_){const w=fl(y,!0).put({[xc]:p,value:_});return new Ro(w).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,s.Z)(function*(y,p){const _=fl(y,!1).get(p),w=yield new Ro(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ko(y,p){const _=fl(y,!0).delete(p);return new Ro(_).toPromise()}const ma=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield ga()),_.db})()}_withRetries(_){var w=this;return(0,s.Z)(function*(){let x=0;for(;;)try{const R=yield w._openDb();return yield _(R)}catch(R){if(x++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Ic()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=mh._getInstance(function Ac(){return Ic()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(x,R){return{keyProcessed:(yield _._poll()).includes(R.key)}});return function(x,R){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var w,x;if(_.activeServiceWorker=yield function Oo(){return hl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Qu(_.activeServiceWorker);const R=yield _.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Sc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ga();return yield Ns(_,No,"1"),yield ko(_,No),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var x=this;return(0,s.Z)(function*(){return x._withPendingWrite((0,s.Z)(function*(){return yield x._withRetries(R=>Ns(R,_,w)),x.localCache[_]=w,x.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,s.Z)(function*(){const x=yield w._withRetries(R=>function Mc(y,p){return pl.apply(this,arguments)}(R,_));return w.localCache[_]=x,x})()}_remove(_){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(x=>ko(x,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const w=yield _._withRetries(z=>{const ue=fl(z,!1).getAll();return new Ro(ue).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:z,value:ue}of w)R.add(z),JSON.stringify(_.localCache[z])!==JSON.stringify(ue)&&(_.notifyListeners(z,ue),x.push(z));for(const z of Object.keys(_.localCache))_.localCache[z]&&!R.has(z)&&(_.notifyListeners(z,null),x.push(z));return x})()}notifyListeners(_,w){this.localCache[_]=w;const x=this.listeners[_];if(x)for(const R of Array.from(x))R(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function _a(y,p){return yn(y,"POST","/v2/accounts/mfaSignIn:start",Bt(y,p))}function oo(){return(oo=(0,s.Z)(function*(y){return(yield yn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ya(y){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=x=>{const R=be("internal-error");R.customData=x,_(R)},w.type="text/javascript",w.charset="UTF-8",function va(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Rc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const gl=1e12;class Dn{constructor(p){this.auth=p,this.counter=gl,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new xm(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||gl;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||gl))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,s.Z)(function*(){var w;return null===(w=_._widgets.get(p||gl))||void 0===w||w.execute(),""})()}}class xm{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;j(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ty(y){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mm=Rc("rcb"),Cy=new mn(3e4,6e4);class pp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Jn().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return j(function Iw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Jn().grecaptcha):new Promise((w,x)=>{const R=Jn().setTimeout(()=>{x(be(p,"network-request-failed"))},Cy.get());Jn()[Mm]=()=>{Jn().clearTimeout(R),delete Jn()[Mm];const ue=Jn().grecaptcha;if(!ue)return void x(be(p,"internal-error"));const $e=ue.render;ue.render=(rt,Et)=>{const bt=$e(rt,Et);return this.counter++,bt},this.hostLanguage=_,w(ue)},ya(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Mm,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(R),x(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Jn().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fo{load(p){return(0,s.Z)(function*(){return new Dn(p)})()}clearedOneInstance(){}}const Nm="recaptcha",Om={theme:"light",type:"image"};class Ii{constructor(p,_=Object.assign({},Om),w){this.parameters=_,this.type=Nm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(w),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;j(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fo:new pp,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(R=>{const z=ue=>{!ue||(p.tokenChangeListeners.delete(z),R(ue))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=Jn()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){j(wt()&&!Ic(),p.auth,"internal-error"),yield function ln(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function dr(y){return oo.apply(this,arguments)}(p.auth);j(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hr{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=to._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function It(){return(It=(0,s.Z)(function*(y,p,_){const w=On(y),x=yield ao(w,p,(0,P.m9)(_));return new hr(x,R=>Un(w,R))})).apply(this,arguments)}function $r(){return($r=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y);yield tn(!1,w,"phone");const x=yield ao(w.auth,p,(0,P.m9)(_));return new hr(x,R=>uc(w,R))})).apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y),x=yield ao(w.auth,p,(0,P.m9)(_));return new hr(x,R=>dc(w,R))})).apply(this,arguments)}function ao(y,p,_){return kc.apply(this,arguments)}function kc(){return(kc=(0,s.Z)(function*(y,p,_){var w;const x=yield _.verify();try{let R;if(j("string"==typeof x,y,"argument-error"),j(_.type===Nm,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const z=R.session;if("phoneNumber"in R)return j("enroll"===z.type,y,"internal-error"),(yield Cc(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{j("signin"===z.type,y,"internal-error");const ue=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return j(ue,y,"missing-multi-factor-info"),(yield _a(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Cm(y,{phoneNumber:R.phoneNumber,recaptchaToken:x});return z}}finally{_._reset()}})).apply(this,arguments)}function td(){return(td=(0,s.Z)(function*(y,p){yield ua((0,P.m9)(y),p)})).apply(this,arguments)}let _l=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=On(_)}verifyPhoneNumber(_,w){return ao(this.auth,_,(0,P.m9)(w))}static credential(_,w){return to._fromVerification(_,w)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:x}=_;return w&&x?to._fromTokenResponse(w,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Lo(y,p){return p?oe(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Rs extends ki{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return mi(p,this._buildIdpRequest())}_linkToIdToken(p,_){return mi(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return mi(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function We(y){return Hr(y.auth,new Rs(y),y.bypassAuthState)}function vl(y){const{auth:p,user:_}=y;return j(_,p,"internal-error"),Eo(_,new Rs(y),y.bypassAuthState)}function lo(y){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(y){const{auth:p,user:_}=y;return j(_,p,"internal-error"),ua(_,new Rs(y),y.bypassAuthState)})).apply(this,arguments)}class Ta{constructor(p,_,w,x,R=!1){this.auth=p,this.resolver=w,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,s.Z)(function*(w,x){p.pendingPromise={resolve:w,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,x){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:R,tenantId:z,error:ue,type:$e}=p;if(ue)return void _.reject(ue);const rt={auth:_.auth,requestUri:w,sessionId:x,tenantId:z||void 0,postBody:R||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(rt))}catch(Et){_.reject(Et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return We;case"linkViaPopup":case"linkViaRedirect":return lo;case"reauthViaPopup":case"reauthViaRedirect":return vl;default:Ne(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bn=new mn(2e3,1e4);function ks(){return(ks=(0,s.Z)(function*(y,p,_){const w=On(y);qe(y,p,Ds);const x=Lo(w,_);return new Zr(w,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function id(){return(id=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y);qe(w.auth,p,Ds);const x=Lo(w.auth,_);return new Zr(w.auth,"reauthViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y);qe(w.auth,p,Ds);const x=Lo(w.auth,_);return new Zr(w.auth,"linkViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}let Zr=(()=>{class y extends Ta{constructor(_,w,x,R,z){super(_,w,R,z),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const w=yield _.execute();return j(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,s.Z)(function*(){W(1===_.filter.length,"Popup operations only handle one event");const w=dl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(be(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,x;this.pollId=null!==(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,bn.get())};_()}}return y.currentPopupAction=null,y})();const Gr=new Map;class rd extends Ta{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,s.Z)(function*(){let w=Gr.get(_.auth._key());if(!w){try{const R=(yield function fr(y,p){return er.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(R)}catch(x){w=()=>Promise.reject(x)}Gr.set(_.auth._key(),w)}return _.bypassAuthState||Gr.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const x=yield w.auth._redirectUserForId(p.eventId);if(x)return w.user=x,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function er(){return(er=(0,s.Z)(function*(y,p){const _=Cn(p),w=Ps(y);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(_));return yield w._remove(_),x})).apply(this,arguments)}function qr(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(y,p){return Ps(y)._set(Cn(p),"true")})).apply(this,arguments)}function co(y,p){Gr.set(y._key(),p)}function Ps(y){return oe(y._redirectPersistence)}function Cn(y){return Y("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,s.Z)(function*(y,p,_){const w=On(y);qe(y,p,Ds);const x=Lo(w,_);return yield qr(x,w),x._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y);qe(w.auth,p,Ds);const x=Lo(w.auth,_);yield qr(x,w.auth);const R=yield yt(w);return x._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(y,p,_){const w=(0,P.m9)(y);qe(w.auth,p,Ds);const x=Lo(w.auth,_);yield tn(!1,w,p.providerId),yield qr(x,w.auth);const R=yield yt(w);return x._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(y,p){return yield On(y)._initializationPromise,St(y,p,!1)})).apply(this,arguments)}function St(y,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(y,p,_=!1){const w=On(y),x=Lo(w,p),z=yield new rd(w,x,_).execute();return z&&!_&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function yt(y){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(y){const p=dl(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Uo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ls(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lt(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!Lt(p)){const x=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(be(this.auth,x))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fs(p))}saveEventToCache(p){this.cachedEventUids.add(Fs(p)),this.lastProcessedEventTime=Date.now()}}function Fs(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Lt({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function uo(y){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(y,p={}){return yn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bo=/^https?/;function gp(){return(gp=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield uo(y);for(const _ of p)try{if(Pm(_))return}catch{}Ne(y,"unauthorized-domain")})).apply(this,arguments)}function Pm(y){const p=Be(),{protocol:_,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===w?"chrome-extension:"===_&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&z.hostname===w}if(!Bo.test(_))return!1;if(Ca.test(y))return w===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Fm=new mn(3e4,6e4);function Dy(){const y=Jn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let cs=null;function mp(y){return cs=cs||function vi(y){return new Promise((p,_)=>{var w,x,R;function z(){Dy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Dy(),_(be(y,"network-request-failed"))},timeout:Fm.get()})}if(null!==(x=null===(w=Jn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Jn().gapi)||void 0===R||!R.load){const ue=Rc("iframefcb");return Jn()[ue]=()=>{gapi.load?z():_(be(y,"network-request-failed"))},ya(`https://apis.google.com/js/api.js?onload=${ue}`).catch($e=>_($e))}z()}}).catch(p=>{throw cs=null,p})}(y),cs}const Lm=new mn(5e3,15e3),Iy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Um(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const _=p.emulator?Sn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},x=vp.get(y.config.apiHost);x&&(w.eid=x);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${_}?${(0,P.xO)(w).slice(1)}`}function bl(){return bl=(0,s.Z)(function*(y){const p=yield mp(y),_=Jn().gapi;return j(_,y,"internal-error"),p.open({where:document.body,url:Um(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iy,dontclear:!0},w=>new Promise(function(){var x=(0,s.Z)(function*(R,z){yield w.restyle({setHideOnLeave:!1});const ue=be(y,"network-request-failed"),$e=Jn().setTimeout(()=>{z(ue)},Lm.get());function rt(){Jn().clearTimeout($e),R(w)}w.ping(rt).then(rt,()=>{z(ue)})});return function(R,z){return x.apply(this,arguments)}}()))}),bl.apply(this,arguments)}const yh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jo(y,p,_,w,x,R){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:w,v:le.SDK_VERSION,eventId:x};if(p instanceof Ds){p.setDefaultLanguage(y.languageCode),z.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,rt]of Object.entries(R||{}))z[$e]=rt}if(p instanceof Is){const $e=p.getScopes().filter(rt=>""!==rt);$e.length>0&&(z.scopes=$e.join(","))}y.tenantId&&(z.tid=y.tenantId);const ue=z;for(const $e of Object.keys(ue))void 0===ue[$e]&&delete ue[$e];return`${function Th({config:y}){return y.emulator?Sn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(ue).slice(1)}`}const Tl="webStorageSupport";class Yr extends class Sy{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Yr(p)}_finalizeEnroll(p,_,w){return function Ec(y,p){return yn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(y,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Oc(y,p){return yn(y,"POST","/v2/accounts/mfaSignIn:finalize",Bt(y,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $o=(()=>{class y{constructor(){}static assertion(_){return Yr._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var bp="@firebase/auth",wp="0.20.10";class Ay{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{var x;p((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cl(){return window}function El(){return(El=(0,s.Z)(function*(y,p,_){var w;const{BuildInfo:x}=Cl();W(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Dl(p.sessionId),z={};return qt()?z.ibi=x.packageName:en()?z.apn=x.packageName:Ne(y,"operation-not-supported-in-this-environment"),x.displayName&&(z.appDisplayName=x.displayName),z.sessionId=R,jo(y,_,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function Lc(){return(Lc=(0,s.Z)(function*(y){const{BuildInfo:p}=Cl(),_={};qt()?_.iosBundleId=p.packageName:en()?_.androidPackageName=p.packageName:Ne(y,"operation-not-supported-in-this-environment"),yield uo(y,_)})).apply(this,arguments)}function Zm(){return(Zm=(0,s.Z)(function*(y,p,_){const{cordova:w}=Cl();let x=()=>{};try{yield new Promise((R,z)=>{let ue=null;function $e(){var bt;R();const _n=null===(bt=w.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof _n&&_n(),"function"==typeof _?.close&&_.close()}function rt(){ue||(ue=window.setTimeout(()=>{z(be(y,"redirect-cancelled-by-user"))},2e3))}function Et(){"visible"===document?.visibilityState&&rt()}p.addPassiveListener($e),document.addEventListener("resume",rt,!1),en()&&document.addEventListener("visibilitychange",Et,!1),x=()=>{p.removePassiveListener($e),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",Et,!1),ue&&window.clearTimeout(ue)}})}finally{x()}})).apply(this,arguments)}function Dl(y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,s.Z)(function*(y){const p=ad(y),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ad(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),_=new Uint8Array(p);for(let w=0;w<y.length;w++)_[w]=y.charCodeAt(w);return _}(0,P.Pz)("authIdTokenMaxAge"),function My(y){(0,le._registerComponent)(new ie.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:R,authDomain:z}=w.options;return((ue,$e)=>{j(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),j(!z?.includes(":"),"argument-error",{appName:ue.name});const rt={apiKey:R,authDomain:z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ks(y)},Et=new Zt(ue,$e,rt);return function Ve(y,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(oe);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(Et,_),Et})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ie.wA("auth-internal",p=>{const _=On(p.getProvider("auth").getImmediate());return new Ay(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(bp,wp,function xy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(bp,wp,"esm2017")}("Browser");class Tp extends Uo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function qm(y){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,s.Z)(function*(y){const p=yield Bc()._get(Go(y));return p&&(yield Bc()._remove(Go(y))),p})).apply(this,arguments)}function Eh(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Bc(){return oe(ll)}function Go(y){return Y("authEvent",y.config.apiKey,y.name)}function ld(y){if(!y?.includes("?"))return{};const[p,..._]=y.split("?");return(0,P.zd)(_.join("?"))}function Ih(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Ah(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Vc(y=(0,P.z$)()){return!("file:"!==Ah()&&"ionic:"!==Ah()&&"capacitor:"!==Ah()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qm(){try{const y=self.localStorage,p=dl();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Jm(y=(0,P.z$)()){return function Ym(){return(0,P.w1)()&&11===document?.documentMode}()||function Km(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch{return xh()&&(0,P.hl)()}return!1}function xh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mh(){return(function Nw(){return"http:"===Ah()||"https:"===Ah()}()||(0,P.ru)()||Vc())&&!function Dp(){return(0,P.b$)()||(0,P.UG)()}()&&Qm()&&!xh()}function cd(){return Vc()&&typeof document<"u"}function Nh(){return(Nh=(0,s.Z)(function*(){return!!cd()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const tr={LOCAL:"local",NONE:"none",SESSION:"session"},Or=j,Kr="persistence";function Hc(y){return jc.apply(this,arguments)}function jc(){return(jc=(0,s.Z)(function*(y){yield y._initializationPromise;const p=dd(),_=Y(Kr,y.config.apiKey,y.name);p&&p.setItem(_,y._getPersistence())})).apply(this,arguments)}function dd(){var y;try{return(null===(y=function ud(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Oh=j;class $i{constructor(){this.browserResolver=oe(class Hm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=as,this._completeRedirectFn=St,this._overrideRedirectResult=co}_openPopup(p,_,w,x){var R=this;return(0,s.Z)(function*(){var z;W(null===(z=R.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ue=jo(p,_,w,Be(),x);return function Ho(y,p,_,w=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const $e=Object.assign(Object.assign({},yh),{width:w.toString(),height:x.toString(),top:R,left:z}),rt=(0,P.z$)().toLowerCase();_&&(ue=rn(rt)?"_blank":_),Je(rt)&&(p=p||"http://localhost",$e.scrollbars="yes");const Et=Object.entries($e).reduce((_n,[Rr,Ml])=>`${_n}${Rr}=${Ml},`,"");if(function lr(y=(0,P.z$)()){var p;return qt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ue)return function Vm(y,p){const _=document.createElement("a");_.href=y,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",ue),new sd(null);const bt=window.open(p||"",ue,Et);j(bt,y,"popup-blocked");try{bt.focus()}catch{}return new sd(bt)}(p,ue,dl())})()}_openRedirect(p,_,w,x){var R=this;return(0,s.Z)(function*(){return yield R._originValidation(p),function jr(y){Jn().location.href=y}(jo(p,_,w,Be(),x)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:x,promise:R}=this.eventManagers[_];return x?Promise.resolve(x):(W(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,s.Z)(function*(){const w=yield function Bm(y){return bl.apply(this,arguments)}(p),x=new Uo(p);return w.register("authEvent",R=>(j(R?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:x},_.iframes[p._key()]=w,x})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Tl,{type:Tl},x=>{var R;const z=null===(R=x?.[0])||void 0===R?void 0:R[Tl];void 0!==z&&_(!!z),Ne(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Wr(y){return gp.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return yo()||vt()||qt()}}),this.cordovaResolver=oe(class Dh{constructor(){this._redirectPersistence=as,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=St,this._overrideRedirectResult=co}_initialize(p){var _=this;return(0,s.Z)(function*(){const w=p._key();let x=_.eventManagers.get(w);return x||(x=new Tp(p),_.eventManagers.set(w,x),_.attachCallbackListeners(p,x)),x})()}_openPopup(p){Ne(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,w,x){var R=this;return(0,s.Z)(function*(){!function Mw(y){var p,_,w,x,R,z,ue,$e,rt,Et;const bt=Cl();j("function"==typeof(null===(p=bt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(_=bt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(R=null===(x=null===(w=bt?.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===($e=null===(ue=null===(z=bt?.cordova)||void 0===z?void 0:z.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===$e?void 0:$e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Et=null===(rt=bt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===Et?void 0:Et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const z=yield R._initialize(p);yield z.initialized(),z.resetRedirect(),function Zn(){Gr.clear()}(),yield R._originValidation(p);const ue=function Gm(y,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:Eh(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,w,x);yield function Uc(y,p){return Bc()._set(Go(y),p)}(p,ue);const $e=yield function us(y,p,_){return El.apply(this,arguments)}(p,ue,_),rt=yield function Oy(y){const{cordova:p}=Cl();return new Promise(_=>{p.plugins.browsertab.isAvailable(w=>{let x=null;w?p.plugins.browsertab.openUrl(y):x=p.InAppBrowser.open(y,function Ci(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(x)})})}($e);return function xw(y,p,_){return Zm.apply(this,arguments)}(p,z,rt)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ea(y){return Lc.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:w,handleOpenURL:x,BuildInfo:R}=Cl(),z=setTimeout((0,s.Z)(function*(){yield qm(p),_.onEvent(Ih())}),500),ue=function(){var Et=(0,s.Z)(function*(bt){clearTimeout(z);const _n=yield qm(p);let Rr=null;_n&&bt?.url&&(Rr=function Ep(y,p){var _,w;const x=function Gn(y){const p=ld(y),_=p.link?decodeURIComponent(p.link):void 0,w=ld(_).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ld(x).link||x||w||_||y}(p);if(x.includes("/__/auth/callback")){const R=ld(x),z=R.firebaseError?function ky(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(w=null===(_=z?.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],$e=ue?be(ue):null;return $e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(_n,bt.url)),_.onEvent(Rr||Ih())});return function(_n){return Et.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const $e=x,rt=`${R.packageName.toLowerCase()}://`;Cl().handleOpenURL=function(){var Et=(0,s.Z)(function*(bt){if(bt.toLowerCase().startsWith(rt)&&ue({url:bt}),"function"==typeof $e)try{$e(bt)}catch(_n){console.error(_n)}});return function(bt){return Et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=as,this._completeRedirectFn=St,this._overrideRedirectResult=co}_initialize(p){var _=this;return(0,s.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,w,x){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,_,w,x)})()}_openRedirect(p,_,w,x){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,_,w,x)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return cd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const _=yield function Ow(){return Nh.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Rh(y){return y.unwrap()}function e_(y){return fd(y)}function fd(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return _l.credentialFromResult(y);const _=p.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=ic;break;case"facebook.com":w=Xa;break;case"github.com":w=Lu;break;case"twitter.com":w=cr;break;default:const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:z,pendingToken:ue,nonce:$e}=p;return R||z||x||ue?ue?_.startsWith("saml.")?Kn._create(_,ue):Es._fromParams({providerId:_,signInMethod:_,pendingToken:ue,idToken:x,accessToken:R}):new Co(_).credential({idToken:x,accessToken:R,rawNonce:$e}):null}return y instanceof P.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Si(y,p){return p.catch(_=>{throw _ instanceof P.ZR&&function Ip(y,p){var _,w;const x=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Fy(y,function $n(y,p){var _;const w=(0,P.m9)(y),x=p;return j(p.customData.operationType,w,"argument-error"),j(null===(_=x.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Tc._fromError(w,x)}(y,p));else if(x){const R=fd(p),z=p;R&&(z.credential=R,z.tenantId=x.tenantId||void 0,z.email=x.email||void 0,z.phoneNumber=x.phoneNumber||void 0)}}(y,_),_}).then(_=>{const x=_.user;return{operationType:_.operationType,credential:e_(_),additionalUserInfo:bc(_),user:Ls.getOrCreate(x)}})}function Al(y,p){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,s.Z)(function*(y,p){const _=yield p;return{verificationId:_.verificationId,confirm:w=>Si(y,_.confirm(w))}})).apply(this,arguments)}class Fy{constructor(p,_){this.resolver=_,this.auth=function hd(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Si(Rh(this.auth),this.resolver.resolveSignIn(p))}}class Ls{constructor(p){this._delegate=p,this.multiFactor=function pa(y){const p=(0,P.m9)(y);return Mo.has(p)||Mo.set(p,fp._fromUser(p)),Mo.get(p)}(p)}static getOrCreate(p){return Ls.USER_MAP.has(p)||Ls.USER_MAP.set(p,new Ls(p)),Ls.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,s.Z)(function*(){return Si(_.auth,uc(_._delegate,p))})()}linkWithPhoneNumber(p,_){var w=this;return(0,s.Z)(function*(){return Al(w.auth,function cn(y,p,_){return $r.apply(this,arguments)}(w._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,s.Z)(function*(){return Si(_.auth,function Pc(y,p,_){return yl.apply(this,arguments)}(_._delegate,p,$i))})()}linkWithRedirect(p){var _=this;return(0,s.Z)(function*(){return yield Hc(On(_.auth)),function Q(y,p,_){return function se(y,p,_){return Ee.apply(this,arguments)}(y,p,_)}(_._delegate,p,$i)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,s.Z)(function*(){return Si(_.auth,dc(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return Al(this.auth,function ml(y,p,_){return Rn.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Si(this.auth,function km(y,p,_){return id.apply(this,arguments)}(this._delegate,p,$i))}reauthenticateWithRedirect(p){var _=this;return(0,s.Z)(function*(){return yield Hc(On(_.auth)),function S(y,p,_){return function N(y,p,_){return B.apply(this,arguments)}(y,p,_)}(_._delegate,p,$i)})()}sendEmailVerification(p){return function Zu(y,p){return ol.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,s.Z)(function*(){return yield function Xi(y,p){return oc.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function ch(y,p){return So((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Io(y,p){return So((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Rm(y,p){return td.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function zu(y,p){return Wu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function Gu(y,p,_){return _c.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const Da=j;let Ap=(()=>{class y{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=_.options;Da(x,"invalid-api-key",{appName:_.name}),Da(x,"invalid-api-key",{appName:_.name});const R=typeof window<"u"?$i:void 0;this._delegate=w.initialize({options:{persistence:t_(x,_.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function Xl(y,p,_){const w=On(y);j(w._canInitEmulator,w,"emulator-config-failed"),j(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const x=!!_?.disableWarnings,R=rs(p),{host:z,port:ue}=function ni(y){const p=rs(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const R=x[1];return{host:R,port:Js(w.substr(R.length+1))}}{const[R,z]=w.split(":");return{host:R,port:Js(z)}}}(p);w.config.emulator={url:`${R}//${z}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Qs(){function y(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,w)}applyActionCode(_){return function Mr(y,p){return tl.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return nl(this._delegate,_)}confirmPasswordReset(_,w){return function gc(y,p,_){return da.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var x=this;return(0,s.Z)(function*(){return Si(x._delegate,function il(y,p,_){return jn.apply(this,arguments)}(x._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function mc(y,p){return sl.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ms(y,p){return"EMAIL_SIGNIN"===nc.parseLink(p)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,s.Z)(function*(){Da(Mh(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function Pe(y,p){return ct.apply(this,arguments)}(_._delegate,$i);return w?Si(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Il(y,p){On(y)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,w,x){const{next:R,error:z,complete:ue}=kh(_,w,x);return this._delegate.onAuthStateChanged(R,z,ue)}onIdTokenChanged(_,w,x){const{next:R,error:z,complete:ue}=kh(_,w,x);return this._delegate.onIdTokenChanged(R,z,ue)}sendSignInLinkToEmail(_,w){return function ju(y,p,_){return Do.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function pc(y,p,_){return Hn.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,s.Z)(function*(){let x;switch(function Xm(y,p){Or(Object.values(tr).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Or(p!==tr.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Or(p===tr.NONE,y,"unsupported-persistence-type"):xh()?Or(p===tr.NONE||p===tr.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Or(p===tr.NONE||Qm(),y,"unsupported-persistence-type")}(w._delegate,_),_){case tr.SESSION:x=as;break;case tr.LOCAL:x=(yield oe(ma)._isAvailable())?ma:ll;break;case tr.NONE:x=V;break;default:return Ne("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Si(this._delegate,function cp(y){return Vn.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Si(this._delegate,Un(this._delegate,_))}signInWithCustomToken(_){return Si(this._delegate,function Bu(y,p){return el.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return Si(this._delegate,function os(y,p,_){return Un((0,P.m9)(y),ss.credential(p,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return Si(this._delegate,function Sm(y,p,_){return rl.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Al(this._delegate,function Xe(y,p,_){return It.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,s.Z)(function*(){return Da(Mh(),w._delegate,"operation-not-supported-in-this-environment"),Si(w._delegate,function nd(y,p,_){return ks.apply(this,arguments)}(w._delegate,_,$i))})()}signInWithRedirect(_){var w=this;return(0,s.Z)(function*(){return Da(Mh(),w._delegate,"operation-not-supported-in-this-environment"),yield Hc(w._delegate),function Vt(y,p,_){return function zr(y,p,_){return D.apply(this,arguments)}(y,p,_)}(w._delegate,_,$i)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Hu(y,p){return lh.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=tr,y})();function kh(y,p,_){let w=y;"function"!=typeof y&&({next:w,error:p,complete:_}=y);const x=w;return{next:z=>x(z&&Ls.getOrCreate(z)),error:p,complete:_}}function t_(y,p){const _=function Sl(y,p){const _=dd();if(!_)return[];const w=Y(Kr,y,p);switch(_.getItem(w)){case tr.NONE:return[V];case tr.LOCAL:return[ma,as];case tr.SESSION:return[as];default:return[]}}(y,p);if(typeof self<"u"&&!_.includes(ma)&&_.push(ma),typeof window<"u")for(const w of[ll,as])_.includes(w)||_.push(w);return _.includes(V)||_.push(V),_}class Ph{constructor(){this.providerId="phone",this._delegate=new _l(Rh(te.Z.auth()))}static credential(p,_){return _l.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}Ph.PHONE_SIGN_IN_METHOD=_l.PHONE_SIGN_IN_METHOD,Ph.PROVIDER_ID=_l.PROVIDER_ID;const Fh=j;class Lh{constructor(p,_,w=te.Z.app()){var x;Fh(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ii(p,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ly(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Ap(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ss,FacebookAuthProvider:Xa,GithubAuthProvider:Lu,GoogleAuthProvider:ic,OAuthProvider:Co,SAMLAuthProvider:Ar,PhoneAuthProvider:Ph,PhoneMultiFactorGenerator:$o,RecaptchaVerifier:Lh,TwitterAuthProvider:cr,Auth:Ap,AuthCredential:ki,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(te.Z)},9751:(mt,Ie,F)=>{F.d(Ie,{y:()=>fe});var s=F(930),te=F(727),P=F(8822),le=F(9635),ce=F(2416),he=F(576),ie=F(2806);let fe=(()=>{class J{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ce=new J;return Ce.source=this,Ce.operator=Re,Ce}subscribe(Re,Ce,lt){const ve=function Z(J){return J&&J instanceof s.Lv||function $(J){return J&&(0,he.m)(J.next)&&(0,he.m)(J.error)&&(0,he.m)(J.complete)}(J)&&(0,te.Nn)(J)}(Re)?Re:new s.Hp(Re,Ce,lt);return(0,ie.x)(()=>{const{operator:ge,source:st}=this;ve.add(ge?ge.call(ve,st):st?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ce){Re.error(Ce)}}forEach(Re,Ce){return new(Ce=pe(Ce))((lt,ve)=>{const ge=new s.Hp({next:st=>{try{Re(st)}catch(ft){ve(ft),ge.unsubscribe()}},error:ve,complete:lt});this.subscribe(ge)})}_subscribe(Re){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Re)}[P.L](){return this}pipe(...Re){return(0,le.U)(Re)(this)}toPromise(Re){return new(Re=pe(Re))((Ce,lt)=>{let ve;this.subscribe(ge=>ve=ge,ge=>lt(ge),()=>Ce(ve))})}}return J.create=je=>new J(je),J})();function pe(J){var je;return null!==(je=J??ce.v.Promise)&&void 0!==je?je:Promise}},7579:(mt,Ie,F)=>{F.d(Ie,{x:()=>ie});var s=F(9751),te=F(727);const le=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(8737),he=F(2806);let ie=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const J=new fe(this,this);return J.operator=Z,J}_throwIfClosed(){if(this.closed)throw new le}next(Z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Z)}})}error(Z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:J}=this;for(;J.length;)J.shift().error(Z)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:J,isStopped:je,observers:Re}=this;return J||je?te.Lc:(this.currentObservers=null,Re.push(Z),new te.w0(()=>{this.currentObservers=null,(0,ce.P)(Re,Z)}))}_checkFinalizedStatuses(Z){const{hasError:J,thrownError:je,isStopped:Re}=this;J?Z.error(je):Re&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return pe.create=($,Z)=>new fe($,Z),pe})();class fe extends ie{constructor($,Z){super(),this.destination=$,this.source=Z}next($){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===J||J.call(Z,$)}error($){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===J||J.call(Z,$)}complete(){var $,Z;null===(Z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===Z||Z.call($)}_subscribe($){var Z,J;return null!==(J=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe($))&&void 0!==J?J:te.Lc}}},930:(mt,Ie,F)=>{F.d(Ie,{Hp:()=>lt,Lv:()=>J});var s=F(576),te=F(727),P=F(2416),le=F(7849),ce=F(5032);const he=pe("C",void 0,void 0);function pe(Ne,be,De){return{kind:Ne,value:be,error:De}}var $=F(3410),Z=F(2806);class J extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=ft}static create(be,De,qe){return new lt(be,De,qe)}next(be){this.isStopped?st(function fe(Ne){return pe("N",Ne,void 0)}(be),this):this._next(be)}error(be){this.isStopped?st(function ie(Ne){return pe("E",void 0,Ne)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?st(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Re(Ne,be){return je.call(Ne,be)}class Ce{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(qe){ve(qe)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(qe){ve(qe)}else ve(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){ve(De)}}}class lt extends J{constructor(be,De,qe){let ze;if(super(),(0,s.m)(be)||!be)ze={next:be??void 0,error:De??void 0,complete:qe??void 0};else{let j;this&&P.v.useDeprecatedNextContext?(j=Object.create(be),j.unsubscribe=()=>this.unsubscribe(),ze={next:be.next&&Re(be.next,j),error:be.error&&Re(be.error,j),complete:be.complete&&Re(be.complete,j)}):ze=be}this.destination=new Ce(ze)}}function ve(Ne){P.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ne):(0,le.h)(Ne)}function st(Ne,be){const{onStoppedNotification:De}=P.v;De&&$.z.setTimeout(()=>De(Ne,be))}const ft={closed:!0,next:ce.Z,error:function ge(Ne){throw Ne},complete:ce.Z}},727:(mt,Ie,F)=>{F.d(Ie,{Lc:()=>he,w0:()=>ce,Nn:()=>ie});var s=F(576);const P=(0,F(3888).d)(pe=>function(Z){pe(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((J,je)=>`${je+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var le=F(8737);class ce{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Re of Z)Re.remove(this);else Z.remove(this);const{initialTeardown:J}=this;if((0,s.m)(J))try{J()}catch(Re){$=Re instanceof P?Re.errors:[Re]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Re of je)try{fe(Re)}catch(Ce){$=$??[],Ce instanceof P?$=[...$,...Ce.errors]:$.push(Ce)}}if($)throw new P($)}}add($){var Z;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof ce){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push($)}}_hasParent($){const{_parentage:Z}=this;return Z===$||Array.isArray(Z)&&Z.includes($)}_addParent($){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push($),Z):Z?[Z,$]:$}_removeParent($){const{_parentage:Z}=this;Z===$?this._parentage=null:Array.isArray(Z)&&(0,le.P)(Z,$)}remove($){const{_finalizers:Z}=this;Z&&(0,le.P)(Z,$),$ instanceof ce&&$._removeParent(this)}}ce.EMPTY=(()=>{const pe=new ce;return pe.closed=!0,pe})();const he=ce.EMPTY;function ie(pe){return pe instanceof ce||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function fe(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(mt,Ie,F)=>{F.d(Ie,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ie,F)=>{F.d(Ie,{E:()=>te});const te=new(F(9751).y)(ce=>ce.complete())},8996:(mt,Ie,F)=>{F.d(Ie,{D:()=>be});var s=F(8421),te=F(5363),P=F(9468),he=F(9751),fe=F(2202),pe=F(576),$=F(9672);function J(De,qe){if(!De)throw new Error("Iterable cannot be null");return new he.y(ze=>{(0,$.f)(ze,qe,()=>{const j=De[Symbol.asyncIterator]();(0,$.f)(ze,qe,()=>{j.next().then(_e=>{_e.done?ze.complete():ze.next(_e.value)})},0,!0)})})}var je=F(3670),Re=F(8239),Ce=F(1144),lt=F(6495),ve=F(2206),ge=F(4532),st=F(3260);function be(De,qe){return qe?function Ne(De,qe){if(null!=De){if((0,je.c)(De))return function le(De,qe){return(0,s.Xf)(De).pipe((0,P.R)(qe),(0,te.Q)(qe))}(De,qe);if((0,Ce.z)(De))return function ie(De,qe){return new he.y(ze=>{let j=0;return qe.schedule(function(){j===De.length?ze.complete():(ze.next(De[j++]),ze.closed||this.schedule())})})}(De,qe);if((0,Re.t)(De))return function ce(De,qe){return(0,s.Xf)(De).pipe((0,P.R)(qe),(0,te.Q)(qe))}(De,qe);if((0,ve.D)(De))return J(De,qe);if((0,lt.T)(De))return function Z(De,qe){return new he.y(ze=>{let j;return(0,$.f)(ze,qe,()=>{j=De[fe.h](),(0,$.f)(ze,qe,()=>{let _e,W;try{({value:_e,done:W}=j.next())}catch(ee){return void ze.error(ee)}W?ze.complete():ze.next(_e)},0,!0)}),()=>(0,pe.m)(j?.return)&&j.return()})}(De,qe);if((0,st.L)(De))return function ft(De,qe){return J((0,st.Q)(De),qe)}(De,qe)}throw(0,ge.z)(De)}(De,qe):(0,s.Xf)(De)}},8421:(mt,Ie,F)=>{F.d(Ie,{Xf:()=>je});var s=F(655),te=F(1144),P=F(8239),le=F(9751),ce=F(3670),he=F(2206),ie=F(4532),fe=F(6495),pe=F(3260),$=F(576),Z=F(7849),J=F(8822);function je(Ne){if(Ne instanceof le.y)return Ne;if(null!=Ne){if((0,ce.c)(Ne))return function Re(Ne){return new le.y(be=>{const De=Ne[J.L]();if((0,$.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,te.z)(Ne))return function Ce(Ne){return new le.y(be=>{for(let De=0;De<Ne.length&&!be.closed;De++)be.next(Ne[De]);be.complete()})}(Ne);if((0,P.t)(Ne))return function lt(Ne){return new le.y(be=>{Ne.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,Z.h)})}(Ne);if((0,he.D)(Ne))return ge(Ne);if((0,fe.T)(Ne))return function ve(Ne){return new le.y(be=>{for(const De of Ne)if(be.next(De),be.closed)return;be.complete()})}(Ne);if((0,pe.L)(Ne))return function st(Ne){return ge((0,pe.Q)(Ne))}(Ne)}throw(0,ie.z)(Ne)}function ge(Ne){return new le.y(be=>{(function ft(Ne,be){var De,qe,ze,j;return(0,s.mG)(this,void 0,void 0,function*(){try{for(De=(0,s.KL)(Ne);!(qe=yield De.next()).done;)if(be.next(qe.value),be.closed)return}catch(_e){ze={error:_e}}finally{try{qe&&!qe.done&&(j=De.return)&&(yield j.call(De))}finally{if(ze)throw ze.error}}be.complete()})})(Ne,be).catch(De=>be.error(De))})}},6451:(mt,Ie,F)=>{F.d(Ie,{T:()=>he});var s=F(8189),te=F(8421),P=F(515),le=F(3269),ce=F(8996);function he(...ie){const fe=(0,le.yG)(ie),pe=(0,le._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,te.Xf)($[0]):(0,s.J)(pe)((0,ce.D)($,fe)):P.E}},5403:(mt,Ie,F)=>{F.d(Ie,{x:()=>te});var s=F(930);function te(le,ce,he,ie,fe){return new P(le,ce,he,ie,fe)}class P extends s.Lv{constructor(ce,he,ie,fe,pe,$){super(ce),this.onFinalize=pe,this.shouldUnsubscribe=$,this._next=he?function(Z){try{he(Z)}catch(J){ce.error(J)}}:super._next,this._error=fe?function(Z){try{fe(Z)}catch(J){ce.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(Z){ce.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(mt,Ie,F)=>{F.d(Ie,{U:()=>P});var s=F(4482),te=F(5403);function P(le,ce){return(0,s.e)((he,ie)=>{let fe=0;he.subscribe((0,te.x)(ie,pe=>{ie.next(le.call(ce,pe,fe++))}))})}},8189:(mt,Ie,F)=>{F.d(Ie,{J:()=>P});var s=F(5577),te=F(4671);function P(le=1/0){return(0,s.z)(te.y,le)}},5577:(mt,Ie,F)=>{F.d(Ie,{z:()=>fe});var s=F(4004),te=F(8421),P=F(4482),le=F(9672),ce=F(5403),ie=F(576);function fe(pe,$,Z=1/0){return(0,ie.m)($)?fe((J,je)=>(0,s.U)((Re,Ce)=>$(J,Re,je,Ce))((0,te.Xf)(pe(J,je))),Z):("number"==typeof $&&(Z=$),(0,P.e)((J,je)=>function he(pe,$,Z,J,je,Re,Ce,lt){const ve=[];let ge=0,st=0,ft=!1;const Ne=()=>{ft&&!ve.length&&!ge&&$.complete()},be=qe=>ge<J?De(qe):ve.push(qe),De=qe=>{Re&&$.next(qe),ge++;let ze=!1;(0,te.Xf)(Z(qe,st++)).subscribe((0,ce.x)($,j=>{je?.(j),Re?be(j):$.next(j)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ge--;ve.length&&ge<J;){const j=ve.shift();Ce?(0,le.f)($,Ce,()=>De(j)):De(j)}Ne()}catch(j){$.error(j)}}))};return pe.subscribe((0,ce.x)($,be,()=>{ft=!0,Ne()})),()=>{lt?.()}}(J,je,pe,Z)))}},5363:(mt,Ie,F)=>{F.d(Ie,{Q:()=>le});var s=F(9672),te=F(4482),P=F(5403);function le(ce,he=0){return(0,te.e)((ie,fe)=>{ie.subscribe((0,P.x)(fe,pe=>(0,s.f)(fe,ce,()=>fe.next(pe),he),()=>(0,s.f)(fe,ce,()=>fe.complete(),he),pe=>(0,s.f)(fe,ce,()=>fe.error(pe),he)))})}},3099:(mt,Ie,F)=>{F.d(Ie,{B:()=>ce});var s=F(8421),te=F(7579),P=F(930),le=F(4482);function ce(ie={}){const{connector:fe=(()=>new te.x),resetOnError:pe=!0,resetOnComplete:$=!0,resetOnRefCountZero:Z=!0}=ie;return J=>{let je,Re,Ce,lt=0,ve=!1,ge=!1;const st=()=>{Re?.unsubscribe(),Re=void 0},ft=()=>{st(),je=Ce=void 0,ve=ge=!1},Ne=()=>{const be=je;ft(),be?.unsubscribe()};return(0,le.e)((be,De)=>{lt++,!ge&&!ve&&st();const qe=Ce=Ce??fe();De.add(()=>{lt--,0===lt&&!ge&&!ve&&(Re=he(Ne,Z))}),qe.subscribe(De),!je&&lt>0&&(je=new P.Hp({next:ze=>qe.next(ze),error:ze=>{ge=!0,st(),Re=he(ft,pe,ze),qe.error(ze)},complete:()=>{ve=!0,st(),Re=he(ft,$),qe.complete()}}),(0,s.Xf)(be).subscribe(je))})(J)}}function he(ie,fe,...pe){if(!0===fe)return void ie();if(!1===fe)return;const $=new P.Hp({next:()=>{$.unsubscribe(),ie()}});return fe(...pe).subscribe($)}},9468:(mt,Ie,F)=>{F.d(Ie,{R:()=>te});var s=F(4482);function te(P,le=0){return(0,s.e)((ce,he)=>{he.add(P.schedule(()=>ce.subscribe(he),le))})}},8505:(mt,Ie,F)=>{F.d(Ie,{b:()=>ce});var s=F(576),te=F(4482),P=F(5403),le=F(4671);function ce(he,ie,fe){const pe=(0,s.m)(he)||ie||fe?{next:he,error:ie,complete:fe}:he;return pe?(0,te.e)(($,Z)=>{var J;null===(J=pe.subscribe)||void 0===J||J.call(pe);let je=!0;$.subscribe((0,P.x)(Z,Re=>{var Ce;null===(Ce=pe.next)||void 0===Ce||Ce.call(pe,Re),Z.next(Re)},()=>{var Re;je=!1,null===(Re=pe.complete)||void 0===Re||Re.call(pe),Z.complete()},Re=>{var Ce;je=!1,null===(Ce=pe.error)||void 0===Ce||Ce.call(pe,Re),Z.error(Re)},()=>{var Re,Ce;je&&(null===(Re=pe.unsubscribe)||void 0===Re||Re.call(pe)),null===(Ce=pe.finalize)||void 0===Ce||Ce.call(pe)}))}):le.y}},4408:(mt,Ie,F)=>{F.d(Ie,{o:()=>ce});var s=F(727);class te extends s.w0{constructor(ie,fe){super()}schedule(ie,fe=0){return this}}const P={setInterval(he,ie,...fe){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(he,ie,...fe):setInterval(he,ie,...fe)},clearInterval(he){const{delegate:ie}=P;return(ie?.clearInterval||clearInterval)(he)},delegate:void 0};var le=F(8737);class ce extends te{constructor(ie,fe){super(ie,fe),this.scheduler=ie,this.work=fe,this.pending=!1}schedule(ie,fe=0){var pe;if(this.closed)return this;this.state=ie;const $=this.id,Z=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(Z,$,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(Z,this.id,fe),this}requestAsyncId(ie,fe,pe=0){return P.setInterval(ie.flush.bind(ie,this),pe)}recycleAsyncId(ie,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ie,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,fe){let $,pe=!1;try{this.work(ie)}catch(Z){pe=!0,$=Z||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(pe,this),null!=ie&&(this.id=this.recycleAsyncId(fe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Ie,F)=>{F.d(Ie,{v:()=>P});var s=F(6063);class te{constructor(ce,he=te.now){this.schedulerActionCtor=ce,this.now=he}schedule(ce,he=0,ie){return new this.schedulerActionCtor(this,ce).schedule(ie,he)}}te.now=s.l.now;class P extends te{constructor(ce,he=te.now){super(ce,he),this.actions=[],this._active=!1}flush(ce){const{actions:he}=this;if(this._active)return void he.push(ce);let ie;this._active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=he.shift());if(this._active=!1,ie){for(;ce=he.shift();)ce.unsubscribe();throw ie}}}},4986:(mt,Ie,F)=>{F.d(Ie,{P:()=>le,z:()=>P});var s=F(4408);const P=new(F(7565).v)(s.o),le=P},6063:(mt,Ie,F)=>{F.d(Ie,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(mt,Ie,F)=>{F.d(Ie,{z:()=>s});const s={setTimeout(te,P,...le){const{delegate:ce}=s;return ce?.setTimeout?ce.setTimeout(te,P,...le):setTimeout(te,P,...le)},clearTimeout(te){const{delegate:P}=s;return(P?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(mt,Ie,F)=>{F.d(Ie,{h:()=>te});const te=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ie,F)=>{F.d(Ie,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ie,F)=>{F.d(Ie,{_6:()=>he,jO:()=>le,yG:()=>ce});var s=F(576),te=F(3532);function P(ie){return ie[ie.length-1]}function le(ie){return(0,s.m)(P(ie))?ie.pop():void 0}function ce(ie){return(0,te.K)(P(ie))?ie.pop():void 0}function he(ie,fe){return"number"==typeof P(ie)?ie.pop():fe}},8737:(mt,Ie,F)=>{function s(te,P){if(te){const le=te.indexOf(P);0<=le&&te.splice(le,1)}}F.d(Ie,{P:()=>s})},3888:(mt,Ie,F)=>{function s(te){const le=te(ce=>{Error.call(ce),ce.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ie,{d:()=>s})},2806:(mt,Ie,F)=>{F.d(Ie,{O:()=>le,x:()=>P});var s=F(2416);let te=null;function P(ce){if(s.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),ce(),he){const{errorThrown:ie,error:fe}=te;if(te=null,ie)throw fe}}else ce()}function le(ce){s.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ce)}},9672:(mt,Ie,F)=>{function s(te,P,le,ce=0,he=!1){const ie=P.schedule(function(){le(),he?te.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(te.add(ie),!he)return ie}F.d(Ie,{f:()=>s})},4671:(mt,Ie,F)=>{function s(te){return te}F.d(Ie,{y:()=>s})},1144:(mt,Ie,F)=>{F.d(Ie,{z:()=>s});const s=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(mt,Ie,F)=>{F.d(Ie,{D:()=>te});var s=F(576);function te(P){return Symbol.asyncIterator&&(0,s.m)(P?.[Symbol.asyncIterator])}},576:(mt,Ie,F)=>{function s(te){return"function"==typeof te}F.d(Ie,{m:()=>s})},3670:(mt,Ie,F)=>{F.d(Ie,{c:()=>P});var s=F(8822),te=F(576);function P(le){return(0,te.m)(le[s.L])}},6495:(mt,Ie,F)=>{F.d(Ie,{T:()=>P});var s=F(2202),te=F(576);function P(le){return(0,te.m)(le?.[s.h])}},8239:(mt,Ie,F)=>{F.d(Ie,{t:()=>te});var s=F(576);function te(P){return(0,s.m)(P?.then)}},3260:(mt,Ie,F)=>{F.d(Ie,{L:()=>le,Q:()=>P});var s=F(655),te=F(576);function P(ce){return(0,s.FC)(this,arguments,function*(){const ie=ce.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,s.qq)(ie.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(fe)}}finally{ie.releaseLock()}})}function le(ce){return(0,te.m)(ce?.getReader)}},3532:(mt,Ie,F)=>{F.d(Ie,{K:()=>te});var s=F(576);function te(P){return P&&(0,s.m)(P.schedule)}},4482:(mt,Ie,F)=>{F.d(Ie,{A:()=>te,e:()=>P});var s=F(576);function te(le){return(0,s.m)(le?.lift)}function P(le){return ce=>{if(te(ce))return ce.lift(function(he){try{return le(he,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ie,F)=>{function s(){}F.d(Ie,{Z:()=>s})},9635:(mt,Ie,F)=>{F.d(Ie,{U:()=>P,z:()=>te});var s=F(4671);function te(...le){return P(le)}function P(le){return 0===le.length?s.y:1===le.length?le[0]:function(he){return le.reduce((ie,fe)=>fe(ie),he)}}},7849:(mt,Ie,F)=>{F.d(Ie,{h:()=>P});var s=F(2416),te=F(3410);function P(le){te.z.setTimeout(()=>{const{onUnhandledError:ce}=s.v;if(!ce)throw le;ce(le)})}},4532:(mt,Ie,F)=>{function s(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>s})},655:(mt,Ie,F)=>{function le(W,ee){var oe={};for(var re in W)Object.prototype.hasOwnProperty.call(W,re)&&ee.indexOf(re)<0&&(oe[re]=W[re]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(re=Object.getOwnPropertySymbols(W);Ve<re.length;Ve++)ee.indexOf(re[Ve])<0&&Object.prototype.propertyIsEnumerable.call(W,re[Ve])&&(oe[re[Ve]]=W[re[Ve]])}return oe}function fe(W,ee,oe,re){return new(oe||(oe=Promise))(function(Be,wt){function on(mn){try{tt(re.next(mn))}catch(Sn){wt(Sn)}}function Wt(mn){try{tt(re.throw(mn))}catch(Sn){wt(Sn)}}function tt(mn){mn.done?Be(mn.value):function Ve(Be){return Be instanceof oe?Be:new oe(function(wt){wt(Be)})}(mn.value).then(on,Wt)}tt((re=re.apply(W,ee||[])).next())})}function ve(W){return this instanceof ve?(this.v=W,this):new ve(W)}function ge(W,ee,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,re=oe.apply(W,ee||[]),Be=[];return Ve={},wt("next"),wt("throw"),wt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function wt(nn){re[nn]&&(Ve[nn]=function(an){return new Promise(function(Yi,Bt){Be.push([nn,an,Yi,Bt])>1||on(nn,an)})})}function on(nn,an){try{!function Wt(nn){nn.value instanceof ve?Promise.resolve(nn.value.v).then(tt,mn):Sn(Be[0][2],nn)}(re[nn](an))}catch(Yi){Sn(Be[0][3],Yi)}}function tt(nn){on("next",nn)}function mn(nn){on("throw",nn)}function Sn(nn,an){nn(an),Be.shift(),Be.length&&on(Be[0][0],Be[0][1])}}function ft(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=W[Symbol.asyncIterator];return ee?ee.call(W):(W=function J(W){var ee="function"==typeof Symbol&&Symbol.iterator,oe=ee&&W[ee],re=0;if(oe)return oe.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&re>=W.length&&(W=void 0),{value:W&&W[re++],done:!W}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),oe={},re("next"),re("throw"),re("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function re(Be){oe[Be]=W[Be]&&function(wt){return new Promise(function(on,Wt){!function Ve(Be,wt,on,Wt){Promise.resolve(Wt).then(function(tt){Be({value:tt,done:on})},wt)}(on,Wt,(wt=W[Be](wt)).done,wt.value)})}}}F.d(Ie,{FC:()=>ge,KL:()=>ft,_T:()=>le,mG:()=>fe,qq:()=>ve})},4650:(mt,Ie,F)=>{F.d(Ie,{$8M:()=>Oc,$Z:()=>dT,AFp:()=>vE,ALo:()=>kb,AaK:()=>fe,AsE:()=>hf,BQk:()=>Ai,CHM:()=>fc,CRH:()=>Rg,CZH:()=>Nv,CqO:()=>qT,D6c:()=>FA,EJc:()=>bE,EiD:()=>Bc,EpF:()=>ig,F$t:()=>KT,F4k:()=>GT,FYo:()=>x,FiY:()=>Pe,G48:()=>Vd,Gf:()=>Rd,GfV:()=>$e,Gpc:()=>Z,Hsn:()=>sg,Ikx:()=>bg,JOm:()=>Sa,JVY:()=>wp,KtG:()=>pc,L6k:()=>Ay,LAX:()=>My,LFG:()=>Vt,LMc:()=>HA,LSH:()=>Dh,Lbi:()=>Xb,Lck:()=>GC,MAs:()=>ZT,MGl:()=>af,MMx:()=>fv,NdJ:()=>J_,O4$:()=>Yu,OlP:()=>Dn,Oqu:()=>Yo,PXZ:()=>CA,Q6J:()=>W_,QGY:()=>rg,QP$:()=>rn,QbO:()=>ja,Qsj:()=>R,QtT:()=>ps,R0b:()=>wr,RDi:()=>Um,Rgc:()=>Ag,SBq:()=>p,SDv:()=>Cf,Sil:()=>Lg,Suo:()=>Lr,TTD:()=>Is,TgZ:()=>tg,Tol:()=>tb,Udp:()=>ug,VKq:()=>If,W1O:()=>Bb,WLB:()=>Ob,X6Q:()=>Bd,XFs:()=>nt,Xpm:()=>xe,Xts:()=>Dp,Y36:()=>Gh,YKP:()=>nu,YNc:()=>$0,Yjl:()=>Te,Yz7:()=>an,Z0I:()=>Cs,ZZ4:()=>$v,_Bn:()=>Ul,_UZ:()=>ng,_Vd:()=>xl,_c5:()=>kA,_uU:()=>Qc,aQg:()=>du,c2e:()=>t1,cJS:()=>Bt,cg1:()=>ub,d8E:()=>iv,dDg:()=>EE,dqk:()=>gn,eBb:()=>xy,eFA:()=>d1,ekj:()=>dg,eoX:()=>DE,f3M:()=>D,g9A:()=>Gi,h0i:()=>Ef,hGG:()=>PA,hij:()=>Ed,iGM:()=>Iv,ifc:()=>_t,ip1:()=>_E,jDz:()=>xb,kEZ:()=>Bl,kL8:()=>bC,lG2:()=>Y,lcZ:()=>Pb,lqb:()=>$i,lri:()=>l1,mCW:()=>Fc,n5z:()=>Os,n_E:()=>Ba,oAB:()=>$t,oJD:()=>ld,oxw:()=>X_,pB0:()=>Ch,pQV:()=>cv,q3G:()=>Gn,q4F:()=>rt,qLn:()=>Np,qOj:()=>P0,qZA:()=>K_,qzn:()=>$o,rWj:()=>Ug,s9C:()=>og,sBO:()=>p1,sIi:()=>Kp,s_b:()=>Ng,soG:()=>au,tb:()=>e1,tp0:()=>St,uIk:()=>Qp,vHH:()=>Ce,vpe:()=>Ua,wAp:()=>At,xp6:()=>aT,ynx:()=>sf,z2F:()=>ta,z3N:()=>Yr,zSh:()=>Hc,zs3:()=>Rl});var s=F(7579),te=F(727),P=F(9751),le=F(6451),ce=F(3099);function he(a){for(let l in a)if(a[l]===he)return l;throw Error("Could not find renamed property on target object.")}function ie(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const $=he({__forward_ref__:he});function Z(a){return a.__forward_ref__=Z,a.toString=function(){return fe(this())},a}function J(a){return je(a)?a():a}function je(a){return"function"==typeof a&&a.hasOwnProperty($)&&a.__forward_ref__===Z}class Ce extends Error{constructor(l,c){super(function lt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function ve(a){return"string"==typeof a?a:null==a?"":String(a)}function be(a,l){throw new Ce(-201,!1)}function tt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function an(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Bt(a){return{providers:a.providers||[],imports:a.imports||[]}}function yn(a){return Ur(a,Br)||Ur(a,Ir)}function Cs(a){return null!==yn(a)}function Ur(a,l){return a.hasOwnProperty(l)?a[l]:null}function vo(a){return a&&(a.hasOwnProperty(Dr)||a.hasOwnProperty(Ka))?a[Dr]:null}const Br=he({\u0275prov:he}),Dr=he({\u0275inj:he}),Ir=he({ngInjectableDef:he}),Ka=he({ngInjectorDef:he});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Bi;function fi(a){const l=Bi;return Bi=a,l}function Sr(a,l,c){const d=yn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&nt.Optional?null:void 0!==l?l:void be(fe(a))}function Yn(a){return{toString:a}.toString()}var ei=(()=>((ei=ei||{})[ei.OnPush=0]="OnPush",ei[ei.Default=1]="Default",ei))(),_t=(()=>{return(a=_t||(_t={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",_t;var a})();const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ar={},Pt=[],Ys=he({\u0275cmp:he}),dn=he({\u0275dir:he}),is=he({\u0275pipe:he}),hn=he({\u0275mod:he}),pi=he({\u0275fac:he}),Ji=he({__NG_ELEMENT_ID__:he});let at=0;function xe(a){return Yn(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ei.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Pt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||_t.Emulated,id:"c"+at++,styles:a.styles||Pt,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,b=a.features;return f.inputs=V(a.inputs,d),f.outputs=V(a.outputs),b&&b.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(xt).filter(Dt):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(vt).filter(Dt):null,f})}function xt(a){return X(a)||Je(a)}function Dt(a){return null!==a}function $t(a){return Yn(()=>({type:a.type,bootstrap:a.bootstrap||Pt,declarations:a.declarations||Pt,imports:a.imports||Pt,exports:a.exports||Pt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function V(a,l){if(null==a)return ar;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const Y=xe;function Te(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function X(a){return a[Ys]||null}function Je(a){return a[dn]||null}function vt(a){return a[is]||null}function rn(a){const l=X(a)||Je(a)||vt(a);return null!==l&&l.standalone}function Tn(a,l){const c=a[hn]||null;if(!c&&!0===l)throw new Error(`Type ${fe(a)} does not have '\u0275mod' property.`);return c}function Ei(a){return Array.isArray(a)&&"object"==typeof a[1]}function Qi(a){return Array.isArray(a)&&!0===a[1]}function tc(a){return 0!=(8&a.flags)}function Qa(a){return 2==(2&a.flags)}function ku(a){return 1==(1&a.flags)}function Hi(a){return null!==a.template}function sp(a){return 0!=(256&a[2])}function ss(a,l){return a.hasOwnProperty(pi)?a[pi]:null}class Ds{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Is(){return Co}function Co(a){return a.type.prototype.ngOnChanges&&(a.setInput=ic),Xa}function Xa(){const a=ap(this),l=a?.current;if(l){const c=a.previous;if(c===ar)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function ic(a,l,c,d){const f=ap(a)||function Kn(a,l){return a[Lu]=l}(a,{previous:ar,current:null}),m=f.current||(f.current={}),b=f.previous,C=this.declaredInputs[c],E=b[C];m[C]=new Ds(E&&E.currentValue,l,b===ar),a[d]=l}Is.ngInherit=!0;const Lu="__ngSimpleChanges__";function ap(a){return a[Lu]||null}function Vn(a){for(;Array.isArray(a);)a=a[0];return a}function xr(a,l){return Vn(l[a])}function Xi(a,l){return Vn(l[a.index])}function ua(a,l){return a.data[l]}function As(a,l){return a[l]}function tn(a,l){const c=l[a];return Ei(c)?c:c[0]}function Eo(a){return 64==(64&a[2])}function Hr(a,l){return null==l?null:a[l]}function cc(a){a[18]=0}function Un(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Nt={lFrame:zu(null),bindingsEnabled:!0};function xs(){return Nt.bindingsEnabled}function Me(){return Nt.lFrame.lView}function Kt(){return Nt.lFrame.tView}function fc(a){return Nt.lFrame.contextLView=a,a[8]}function pc(a){return Nt.lFrame.contextLView=null,a}function Hn(){let a=gc();for(;null!==a&&64===a.type;)a=a.parent;return a}function gc(){return Nt.lFrame.currentTNode}function da(){const a=Nt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Mr(a,l){const c=Nt.lFrame;c.currentTNode=a,c.isParent=l}function tl(){return Nt.lFrame.isParent}function nl(){Nt.lFrame.isParent=!1}function jn(){const a=Nt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function os(){return Nt.lFrame.bindingIndex}function Do(){return Nt.lFrame.bindingIndex++}function Ms(a){const l=Nt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function rl(a){Nt.lFrame.inI18n=a}function Am(a,l){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=a,mc(l)}function mc(a){Nt.lFrame.currentDirectiveIndex=a}function sl(a){const l=Nt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Zu(){return Nt.lFrame.currentQueryIndex}function ol(a){Nt.lFrame.currentQueryIndex=a}function Gu(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function _c(a,l,c){if(c&nt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&nt.Host||(f=Gu(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=Nt.lFrame=qu();return d.currentTNode=l,d.lView=a,!0}function vc(a){const l=qu(),c=a[1];Nt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function qu(){const a=Nt.lFrame,l=null===a?null:a.child;return null===l?zu(a):l}function zu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Wu(){const a=Nt.lFrame;return Nt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ch=Wu;function Io(){const a=Wu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function _i(){return Nt.lFrame.selectedIndex}function ur(a){Nt.lFrame.selectedIndex=a}function xn(){const a=Nt.lFrame;return ua(a.tView,a.selectedIndex)}function Yu(){Nt.lFrame.currentNamespace="svg"}function wc(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:O}=m;b&&(a.contentHooks||(a.contentHooks=[])).push(-c,b),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),A&&((a.viewHooks||(a.viewHooks=[])).push(c,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,A)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(c,O)}}function Ao(a,l,c){fa(a,l,3,c)}function ha(a,l,c,d){(3&a[2])===c&&fa(a,l,c,d)}function dh(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function fa(a,l,c,d){const m=d??-1,b=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<b;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<m||-1==m)&&(hh(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function hh(a,l,c,d){const f=c[d]<0,m=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class io{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function pa(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],b=c[d++],C=c[d++];a.setAttribute(l,b,C,m)}else{const m=f,b=c[++d];Dc(m)?a.setProperty(l,m,b):a.setAttribute(l,m,b),d++}}return d}function No(a){return 3===a||4===a||6===a}function Dc(a){return 64===a.charCodeAt(0)}function al(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||ph(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function ph(a,l,c,d,f){let m=0,b=a.length;if(-1===l)b=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){b=-1;break}if(C>l){b=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==b&&(a.splice(b,0,l),m=b+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function gh(a){return-1!==a}function Di(a){return 32767&a}function cl(a,l){let c=function ll(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let as=!0;function ul(a){const l=as;return as=a,l}let Jn=0;const jr={};function Oo(a,l){const c=Sc(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,hl(d.data,a),hl(l,null),hl(d.blueprint,null));const f=Ac(a,l),m=a.injectorIndex;if(gh(f)){const b=Di(f),C=cl(f,l),E=C[1].data;for(let A=0;A<8;A++)l[m+A]=C[b+A]|E[b+A]}return l[m+8]=f,m}function hl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Sc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ac(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=_a(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ro(a,l,c){!function Ic(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ji)&&(d=c[Ji]),null==d&&(d=c[Ji]=Jn++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function so(a,l,c){if(c&nt.Optional||void 0!==a)return a;be()}function xc(a,l,c,d){if(c&nt.Optional&&void 0===d&&(d=null),0==(c&(nt.Self|nt.Host))){const f=a[9],m=fi(void 0);try{return f?f.get(l,d,c&nt.Optional):Sr(l,d,c&nt.Optional)}finally{fi(m)}}return so(d,0,c)}function Ro(a,l,c,d=nt.Default,f){if(null!==a){if(1024&l[2]){const b=function ma(a,l,c,d,f){let m=a,b=l;for(;null!==m&&null!==b&&1024&b[2]&&!(256&b[2]);){const C=fl(m,b,c,d|nt.Self,jr);if(C!==jr)return C;let E=m.parent;if(!E){const A=b[21];if(A){const O=A.get(c,jr,d);if(O!==jr)return O}E=_a(b),b=b[15]}m=E}return f}(a,l,c,d,jr);if(b!==jr)return b}const m=fl(a,l,c,d,jr);if(m!==jr)return m}return xc(l,c,d,f)}function fl(a,l,c,d,f){const m=function Xu(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ji)?a[Ji]:void 0;return"number"==typeof l?l>=0?255&l:ed:l}(c);if("function"==typeof m){if(!_c(l,a,d))return d&nt.Host?so(f,0,d):xc(l,c,d,f);try{const b=m(d);if(null!=b||d&nt.Optional)return b;be()}finally{ch()}}else if("number"==typeof m){let b=null,C=Sc(a,l),E=-1,A=d&nt.Host?l[16][6]:null;for((-1===C||d&nt.SkipSelf)&&(E=-1===C?Ac(a,l):l[C+8],-1!==E&&pl(d,!1)?(b=l[1],C=Di(E),l=cl(E,l)):C=-1);-1!==C;){const O=l[1];if(Mc(m,C,O.data)){const L=vh(C,l,c,b,d,A);if(L!==jr)return L}E=l[C+8],-1!==E&&pl(d,l[1].data[C+8]===A)&&Mc(m,C,l)?(b=O,C=Di(E),l=cl(E,l)):C=-1}}return f}function vh(a,l,c,d,f,m){const b=l[1],C=b.data[a+8],O=ga(C,b,c,null==d?Qa(C)&&as:d!=b&&0!=(3&C.type),f&nt.Host&&m===C);return null!==O?Ns(l,b,O,C):jr}function ga(a,l,c,d,f){const m=a.providerIndexes,b=l.data,C=1048575&m,E=a.directiveStart,O=m>>20,q=f?C+O:a.directiveEnd;for(let ne=d?C:C+O;ne<q;ne++){const ye=b[ne];if(ne<E&&c===ye||ne>=E&&ye.type===c)return ne}if(f){const ne=b[E];if(ne&&Hi(ne)&&ne.type===c)return E}return null}function Ns(a,l,c,d){let f=a[c];const m=l.data;if(function xo(a){return a instanceof io}(f)){const b=f;b.resolving&&function st(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${a}${c}`)}(function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ve(a)}(m[c]));const C=ul(b.canSeeViewProviders);b.resolving=!0;const E=b.injectImpl?fi(b.injectImpl):null;_c(a,d,nt.Default);try{f=a[c]=b.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function uh(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const b=Co(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==E&&fi(E),ul(C),b.resolving=!1,ch()}}return f}function Mc(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function pl(a,l){return!(a&nt.Self||a&nt.Host&&l)}class ko{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Ro(this._tNode,this._lView,l,d,c)}}function ed(){return new ko(Hn(),Me())}function Os(a){return Yn(()=>{const l=a.prototype.constructor,c=l[pi]||Nc(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[pi]||Nc(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Nc(a){return je(a)?()=>{const l=Nc(J(a));return l&&l()}:ss(a)}function _a(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function Oc(a){return function _h(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(No(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(Hn(),a)}const oo="__parameters__";function ba(a,l,c){return Yn(()=>{const d=function Rc(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const b=new f(...m);return C.annotation=b,C;function C(E,A,O){const L=E.hasOwnProperty(oo)?E[oo]:Object.defineProperty(E,oo,{value:[]})[oo];for(;L.length<=O;)L.push(null);return(L[O]=L[O]||[]).push(b),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Dn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),cn(d,l)):l!==a&&l.push(d)}return l}function $r(a,l){a.forEach(c=>Array.isArray(c)?$r(c,l):l(c))}function ml(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Rn(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ao(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function We(a,l,c){let d=lo(a,l);return d>=0?a[1|d]=c:(d=~d,function td(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function vl(a,l){const c=lo(a,l);if(c>=0)return a[1|c]}function lo(a,l){return function Ta(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),b=a[m<<c];if(l===b)return m<<c;b>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const Gr={},rd="__NG_DI_FLAG__",fr="ngTempTokenPath",qr=/\n/gm,Zn="__source";let co;function Ps(a){const l=co;return co=a,l}function Cn(a,l=nt.Default){if(void 0===co)throw new Ce(-203,!1);return null===co?Sr(a,void 0,l):co.get(a,l&nt.Optional?null:void 0,l)}function Vt(a,l=nt.Default){return(function Ws(){return Bi}()||Cn)(J(a),l)}function D(a,l=nt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Vt(a,l)}function S(a){const l=[];for(let c=0;c<a.length;c++){const d=J(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,m=nt.Default;for(let b=0;b<d.length;b++){const C=d[b],E=B(C);"number"==typeof E?-1===E?f=C.token:m|=E:f=C}l.push(Vt(f,m))}else l.push(Vt(d))}return l}function N(a,l){return a[rd]=l,a.prototype[rd]=l,a}function B(a){return a[rd]}const Pe=N(ba("Optional"),8),St=N(ba("SkipSelf"),4);let vp,bl,sd;function Um(a){vp=a}function Bm(){return void 0!==vp?vp:typeof document<"u"?document:void 0}function Vo(a){return function yh(){if(void 0===bl&&(bl=null,gn.trustedTypes))try{bl=gn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return bl}()?.createHTML(a)||a}function Vm(a){return function Ho(){if(void 0===sd&&(sd=null,gn.trustedTypes))try{sd=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return sd}()?.createHTML(a)||a}class jo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Th extends jo{getTypeName(){return"HTML"}}class Tl extends jo{getTypeName(){return"Style"}}class Hm extends jo{getTypeName(){return"Script"}}class od extends jo{getTypeName(){return"URL"}}class Sy extends jo{getTypeName(){return"ResourceURL"}}function Yr(a){return a instanceof jo?a.changingThisBreaksApplicationSecurity:a}function $o(a,l){const c=function bp(a){return a instanceof jo&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function wp(a){return new Th(a)}function Ay(a){return new Tl(a)}function xy(a){return new Hm(a)}function My(a){return new od(a)}function Ch(a){return new Sy(a)}function jm(a){const l=new Ny(a);return function Aw(){try{return!!(new window.DOMParser).parseFromString(Vo(""),"text/html")}catch{return!1}}()?new $m(l):l}class $m{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Vo(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Ny{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Vo(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Vo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Cl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fc(a){return(a=String(a)).match(Cl)?a:"unsafe:"+a}function us(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function El(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Ea=us("area,br,col,hr,img,wbr"),Lc=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oy=us("rp,rt"),Dl=El(Ea,El(Lc,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),El(Oy,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),El(Oy,Lc)),Zo=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tp=El(Zo,us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gm=us("script,style,template");class Uc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Dl.hasOwnProperty(c))return this.sanitizedSomething=!0,!Gm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),b=m.name,C=b.toLowerCase();if(!Tp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;Zo[C]&&(E=Fc(E)),this.buf.push(" ",b,'="',Ep(E),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Dl.hasOwnProperty(c)&&!Ea.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Ep(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const qm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cp=/([^\#-~ |!])/g;function Ep(a){return a.replace(/&/g,"&amp;").replace(qm,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Cp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Eh;function Bc(a,l){let c=null;try{Eh=Eh||jm(a);let d=l?String(l):"";c=Eh.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Eh.getInertBodyElement(d)}while(d!==m);return Vo((new Uc).sanitizeChildren(Go(c)||c))}finally{if(c){const d=Go(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Go(a){return"content"in a&&function ky(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function ld(a){const l=Vc();return l?Vm(l.sanitize(Gn.HTML,a)||""):$o(a,"HTML")?Vm(Yr(a)):Bc(Bm(),ve(a))}function Dh(a){const l=Vc();return l?l.sanitize(Gn.URL,a)||"":$o(a,"URL")?Yr(a):Fc(ve(a))}function Vc(){const a=Me();return a&&a[12]}const Dp=new Dn("ENVIRONMENT_INITIALIZER"),Ym=new Dn("INJECTOR",-1),Km=new Dn("INJECTOR_DEF_TYPES");class Jm{get(l,c=Gr){if(c===Gr){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return c}}function Qm(...a){return{\u0275providers:xh(0,a)}}function xh(a,...l){const c=[],d=new Set;let f;return $r(l,m=>{const b=m;cd(b,c,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&Mh(f,c),c}function Mh(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];$r(f,m=>{l.push(m)})}}function cd(a,l,c,d){if(!(a=J(a)))return!1;let f=null,m=vo(a);const b=!m&&X(a);if(m||b){if(b&&!b.standalone)return!1;f=a}else{const E=a.ngModule;if(m=vo(E),!m)return!1;f=E}const C=d.has(f);if(b){if(C)return!1;if(d.add(f),b.dependencies){const E="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const A of E)cd(A,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let A;d.add(f);try{$r(m.imports,O=>{cd(O,l,c,d)&&(A||(A=[]),A.push(O))})}finally{}void 0!==A&&Mh(A,l)}if(!C){const A=ss(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:Pt},{provide:Km,useValue:f,multi:!0},{provide:Dp,useValue:()=>Vt(f),multi:!0})}const E=m.providers;null==E||C||$r(E,O=>{l.push(O)})}}return f!==a&&void 0!==a.providers}const Nh=he({provide:String,useValue:he});function ud(a){return null!==a&&"object"==typeof a&&Nh in a}function Kr(a){return"function"==typeof a}const Hc=new Dn("Set Injector scope."),jc={},Sl={};let dd;function Oh(){return void 0===dd&&(dd=new Jm),dd}class $i{}class Rh extends $i{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Da(l,b=>this.processProvider(b)),this.records.set(Ym,Si(void 0,this)),f.has("environment")&&this.records.set($i,Si(void 0,this));const m=this.records.get(Hc);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Km.multi,Pt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Ps(this),d=fi(void 0);try{return l()}finally{Ps(c),fi(d)}}get(l,c=Gr,d=nt.Default){this.assertNotDestroyed();const f=Ps(this),m=fi(void 0);try{if(!(d&nt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function Fy(a){return"function"==typeof a||"object"==typeof a&&a instanceof Dn}(l)&&yn(l);C=E&&this.injectableDefInScope(E)?Si(hd(l),jc):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&nt.Self?Oh():this.parent).get(l,c=d&nt.Optional&&c===Gr?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[fr]=b[fr]||[]).unshift(fe(l)),f)throw b;return function Q(a,l,c,d){const f=a[fr];throw l[Zn]&&f.unshift(l[Zn]),a.message=function se(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let m=[];for(let b in l)if(l.hasOwnProperty(b)){let C=l[b];m.push(b+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(qr,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[fr]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{fi(m),Ps(f)}}resolveInjectorInitializers(){const l=Ps(this),c=fi(void 0);try{const d=this.get(Dp.multi,Pt,nt.Self);for(const f of d)f()}finally{Ps(l),fi(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(fe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(l){let c=Kr(l=J(l))?l:J(l&&l.provide);const d=function Ip(a){return ud(a)?Si(void 0,a.useValue):Si(fd(a),jc)}(l);if(Kr(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Si(void 0,jc,!0),f.factory=()=>S(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===jc&&(c.value=Sl,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Sp(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=J(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function hd(a){const l=yn(a),c=null!==l?l.factory:ss(a);if(null!==c)return c;if(a instanceof Dn)throw new Ce(204,!1);if(a instanceof Function)return function e_(a){const l=a.length;if(l>0)throw ao(l,"?"),new Ce(204,!1);const c=function Ki(a){const l=a&&(a[Br]||a[Ir]);if(l){const c=function or(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Ce(204,!1)}function fd(a,l,c){let d;if(Kr(a)){const f=J(a);return ss(f)||hd(f)}if(ud(a))d=()=>J(a.useValue);else if(function Or(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...S(a.deps||[]));else if(function tr(a){return!(!a||!a.useExisting)}(a))d=()=>Vt(J(a.useExisting));else{const f=J(a&&(a.useClass||a.provide));if(!function Al(a){return!!a.deps}(a))return ss(f)||hd(f);d=()=>new f(...S(a.deps))}return d}function Si(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Ls(a){return!!a.\u0275providers}function Da(a,l){for(const c of a)Array.isArray(c)?Da(c,l):Ls(c)?Da(c.\u0275providers,l):l(c)}class kh{}class Lh{resolveComponentFactory(l){throw function t_(a){const l=Error(`No component factory found for ${fe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let xl=(()=>{class a{}return a.NULL=new Lh,a})();function Ly(){return y(Hn(),Me())}function y(a,l){return new p(Xi(a,l))}let p=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Ly,a})();function _(a){return a instanceof p?a.nativeElement:a}class x{}let R=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function z(){const a=Me(),c=tn(Hn().index,a);return(Ei(c)?c:a)[11]}(),a})(),ue=(()=>{class a{}return a.\u0275prov=an({token:a,providedIn:"root",factory:()=>null}),a})();class $e{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const rt=new $e("14.2.6"),Et={};function Hy(a){return a.ngOriginalError}class Np{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Hy(l);for(;c&&Hy(c);)c=Hy(c);return c||null}}const bI=/^>|^->|<!--|-->|--!>|<!-$/g,_O=/(<|>)/;const jy=new Map;let EI=0;const a_="__ngContext__";function nr(a,l){Ei(l)?(a[a_]=l[20],function II(a){jy.set(a[20],a)}(l)):a[a_]=l}function Ol(a){return a instanceof Function?a():a}var Sa=(()=>((Sa=Sa||{})[Sa.Important=1]="Important",Sa[Sa.DashCase=2]="DashCase",Sa))();let qy;function zy(a,l){return qy(a,l)}function Hh(a){const l=a[3];return Qi(l)?l[3]:l}function u_(a){return $w(a[13])}function d_(a){return $w(a[4])}function $w(a){for(;null!==a&&!Qi(a);)a=a[4];return a}function jh(a,l,c,d,f){if(null!=d){let m,b=!1;Qi(d)?m=d:Ei(d)&&(b=!0,d=d[0]);const C=Vn(d);0===a&&null!==c?null==f?Kw(l,c,C):Aa(l,c,C,f||null,!0):1===a&&null!==c?Aa(l,c,C,f||null,!0):2===a?VI(l,C,b):3===a&&l.destroyNode(C),null!=m&&function CO(a,l,c,d,f){const m=c[7];m!==Vn(c)&&jh(l,a,d,m,f);for(let C=10;C<c.length;C++){const E=c[C];gd(E[1],E,a,l,d,m)}}(l,a,m,c,f)}}function Yy(a,l){return a.createText(l)}function Zw(a,l,c){a.setValue(l,c)}function FI(a,l){return a.createComment(function r_(a){return a.replace(bI,l=>l.replace(_O,"\u200b$1\u200b"))}(l))}function h_(a,l,c){return a.createElement(l,c)}function zw(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Un(f,-1)),c.splice(d,1)}function Jy(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&zw(f,d),l>0&&(a[c-1][4]=d[4]);const m=Rn(a,10+l);!function Ky(a,l){gd(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const b=m[19];null!==b&&b.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function kp(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&gd(a,l,c,3,null,null),function wO(a){let l=a[13];if(!l)return f_(a[1],a);for(;l;){let c=null;if(Ei(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Ei(l)&&f_(l[1],l),l=l[3];null===l&&(l=a),Ei(l)&&f_(l[1],l),c=l&&l[4]}l=c}}(l)}}function f_(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Xy(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof io)){const m=c[d+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const C=f[m[b]],E=m[b+1];try{E.call(C)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function Qy(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+1],C="function"==typeof b?b(l):Vn(l[b]),E=d[f=c[m+2]],A=c[m+3];"boolean"==typeof A?C.removeEventListener(c[m],E,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),m+=2}else{const b=d[f=c[m+1]];c[m].call(b)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&Qi(l[3])){c!==l[3]&&zw(c,l);const d=l[19];null!==d&&d.detachView(a)}!function SI(a){jy.delete(a[20])}(l)}}function Ww(a,l,c){return Yw(a,l.parent,c)}function Yw(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===_t.None||f===_t.Emulated)return null}return Xi(d,c)}function Aa(a,l,c,d,f){a.insertBefore(l,c,d,f)}function Kw(a,l,c){a.appendChild(l,c)}function Jw(a,l,c,d,f){null!==d?Aa(a,l,c,d,f):Kw(a,l,c)}function p_(a,l){return a.parentNode(l)}function si(a,l,c){return e0(a,l,c)}function Xw(a,l,c){return 40&a.type?Xi(a,c):null}let Pp,e0=Xw;function Fp(a,l){e0=a,Pp=l}function g_(a,l,c,d){const f=Ww(a,d,l),m=l[11],C=si(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Jw(m,f,c[E],C,!1);else Jw(m,f,c,C,!1);void 0!==Pp&&Pp(m,d,l,c,f)}function m_(a,l){if(null!==l){const c=l.type;if(3&c)return Xi(l,a);if(4&c)return eT(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return m_(a,d);{const f=a[l.index];return Qi(f)?eT(-1,f):Vn(f)}}if(32&c)return zy(l,a)()||Vn(a[l.index]);{const d=t0(a,l);return null!==d?Array.isArray(d)?d[0]:m_(Hh(a[16]),d):m_(a,l.next)}}return null}function t0(a,l){return null!==l?a[16][6].projection[l.projection]:null}function eT(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return m_(d,f)}return l[7]}function VI(a,l,c){const d=p_(a,l);d&&function BI(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}function n0(a,l,c,d,f,m,b){for(;null!=c;){const C=d[c.index],E=c.type;if(b&&0===l&&(C&&nr(Vn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)n0(a,l,c.child,d,f,m,!1),jh(l,a,f,C,m);else if(32&E){const A=zy(c,d);let O;for(;O=A();)jh(l,a,f,O,m);jh(l,a,f,C,m)}else 16&E?Lp(a,l,d,c,f,m):jh(l,a,f,C,m);c=b?c.projectionNext:c.next}}function gd(a,l,c,d,f,m){n0(c,d,a.firstChild,l,f,m,!1)}function Lp(a,l,c,d,f,m){const b=c[16],E=b[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)jh(l,a,f,E[A],m);else n0(a,l,E,b[3],f,m,!0)}function md(a,l,c){a.setAttribute(l,"style",c)}function Up(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function HI(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const r0="ng-template";function s0(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==HI(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function iT(a){return 4===a.type&&a.value!==r0}function $I(a,l,c){return l===(4!==a.type||c?a.value:r0)}function ZI(a,l,c){let d=4;const f=a.attrs||[],m=function EO(a){for(let l=0;l<a.length;l++)if(No(a[l]))return l;return a.length}(f);let b=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!b)if(4&d){if(d=2|1&d,""!==E&&!$I(a,E,c)||""===E&&1===l.length){if(fo(d))return!1;b=!0}}else{const A=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!s0(a.attrs,A,c)){if(fo(d))return!1;b=!0}continue}const L=GI(8&d?"class":E,f,iT(a),c);if(-1===L){if(fo(d))return!1;b=!0;continue}if(""!==A){let q;q=L>m?"":f[L+1].toLowerCase();const ne=8&d?q:null;if(ne&&-1!==HI(ne,A,0)||2&d&&A!==q){if(fo(d))return!1;b=!0}}}}else{if(!b&&!fo(d)&&!fo(E))return!1;if(b&&fo(E))continue;b=!1,d=E|1&d}}return fo(d)||b}function fo(a){return 0==(1&a)}function GI(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function rT(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function qI(a,l,c=!1){for(let d=0;d<l.length;d++)if(ZI(a,l[d],c))return!0;return!1}function zI(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function sT(a,l){return a?":not("+l.trim()+")":l}function oT(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let b=a[c];if("string"==typeof b)if(2&d){const C=a[++c];f+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!fo(b)&&(l+=sT(m,f),f=""),d=b,m=m||!fo(d);c++}return""!==f&&(l+=sT(m,f)),l}const Gt={};function aT(a){lT(Kt(),Me(),_i()+a,!1)}function lT(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Ao(l,m,c)}else{const m=a.preOrderHooks;null!==m&&ha(l,m,0,c)}ur(c)}function a0(a,l=null,c=null,d){const f=l0(a,l,c,d);return f.resolveInjectorInitializers(),f}function l0(a,l=null,c=null,d,f=new Set){const m=[c||Pt,Qm(a)];return d=d||("object"==typeof a?void 0:fe(a)),new Rh(m,l||Oh(),d||null,f)}let Rl=(()=>{class a{static create(c,d){if(Array.isArray(c))return a0({name:""},d,c,"");{const f=c.name??"";return a0({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=Gr,a.NULL=new Jm,a.\u0275prov=an({token:a,providedIn:"any",factory:()=>Vt(Ym)}),a.__NG_ELEMENT_ID__=-1,a})();function Gh(a,l=nt.Default){const c=Me();return null===c?Vt(a,l):Ro(Hn(),c,J(a),l)}function dT(){throw new Error("invalid")}function Hp(a,l){return a<<17|l<<2}function zo(a){return a>>17&32767}function f0(a){return 2|a}function oi(a){return(131068&a)>>2}function qh(a,l){return-131069&a|l<<2}function jp(a){return 1|a}function CT(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const b=a.data[m];ol(f),b.contentQueries(2,l[m],m)}}}function R_(a,l,c,d,f,m,b,C,E,A,O){const L=l.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==O||a&&1024&a[2])&&(L[2]|=1024),cc(L),L[3]=L[15]=a,L[8]=c,L[10]=b||a&&a[10],L[11]=C||a&&a[11],L[12]=E||a&&a[12]||null,L[9]=A||a&&a[9]||null,L[6]=m,L[20]=function DI(){return EI++}(),L[21]=O,L[16]=2==l.type?a[16]:L,L}function zh(a,l,c,d,f){let m=a.data[l];if(null===m)m=T0(a,l,c,d,f),function Sm(){return Nt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const b=da();m.injectorIndex=null===b?-1:b.injectorIndex}return Mr(m,!0),m}function T0(a,l,c,d,f){const m=gc(),b=tl(),E=a.data[l]=function ST(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==m&&(b?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}function Wh(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function C0(a,l,c){vc(l);try{const d=a.viewQuery;null!==d&&k0(1,d,c);const f=a.template;null!==f&&E0(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&CT(a,l),a.staticViewQueries&&k0(2,a.viewQuery,c);const m=a.components;null!==m&&function fS(a,l){for(let c=0;c<l.length;c++)kT(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Io()}}function vd(a,l,c,d){const f=l[2];if(128!=(128&f)){vc(l);try{cc(l),function ju(a){return Nt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&E0(a,l,c,2,d);const b=3==(3&f);if(b){const A=a.preOrderCheckHooks;null!==A&&Ao(l,A,null)}else{const A=a.preOrderHooks;null!==A&&ha(l,A,0,null),dh(l,0)}if(function yS(a){for(let l=u_(a);null!==l;l=d_(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&Un(m,1),f[2]|=512}}}(l),function O0(a){for(let l=u_(a);null!==l;l=d_(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Eo(d)&&vd(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&CT(a,l),b){const A=a.contentCheckHooks;null!==A&&Ao(l,A)}else{const A=a.contentHooks;null!==A&&ha(l,A,1),dh(l,1)}!function dS(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)ur(~f);else{const m=f,b=c[++d],C=c[++d];Am(b,m),C(2,l[m])}}}finally{ur(-1)}}(a,l);const C=a.components;null!==C&&function hS(a,l){for(let c=0;c<l.length;c++)RT(a,l[c])}(l,C);const E=a.viewQuery;if(null!==E&&k0(2,E,d),b){const A=a.viewCheckHooks;null!==A&&Ao(l,A)}else{const A=a.viewHooks;null!==A&&ha(l,A,2),dh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Un(l[3],-1))}finally{Io()}}}function E0(a,l,c,d,f){const m=_i(),b=2&d;try{ur(-1),b&&l.length>22&&lT(a,l,22,!1),c(d,f)}finally{ur(m)}}function D0(a,l,c){if(tc(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const b=a.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}function Zp(a,l,c){!xs()||(function P_(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||Oo(c,l),nr(d,l);const b=c.initialInputs;for(let C=f;C<m;C++){const E=a.data[C],A=Hi(E);A&&$O(l,c,E);const O=Ns(l,a,C,c);nr(O,l),null!==b&&ZO(0,C-f,O,E,0,b),A&&(tn(c.index,l)[8]=O)}}(a,l,c,Xi(c,l)),128==(128&c.flags)&&function VO(a,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,b=function $u(){return Nt.lFrame.currentDirectiveIndex}();try{ur(m);for(let C=d;C<f;C++){const E=a.data[C],A=l[C];mc(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&F_(E,A)}}finally{ur(-1),mc(b)}}(a,l,c))}function I0(a,l,c=Xi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const b=d[m+1],C=-1===b?c(l,a):a[b];a[f++]=C}}}function ET(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=S0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function S0(a,l,c,d,f,m,b,C,E,A){const O=22+d,L=O+f,q=function DT(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Gt);return c}(O,L),ne="function"==typeof A?A():A;return q[1]={type:a,blueprint:q,template:c,queries:null,viewQuery:C,declTNode:l,data:q.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:E,consts:ne,incompleteFirstPass:!1}}function A0(a,l,c,d){const f=V_(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Yh(a).push(d,f.length-1))}function gS(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function AT(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,b=[];let C=null,E=null;for(let A=l.directiveStart;A<d;A++){const O=f[A],L=O.inputs,q=null===m||iT(l)?null:GO(L,m);b.push(q),C=gS(L,A,C),E=gS(O.outputs,A,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=C,l.outputs=E}function po(a,l,c,d,f,m,b,C){const E=Xi(l,c);let O,A=l.inputs;!C&&null!=A&&(O=A[d])?(H_(a,c,O,d,f),Qa(l)&&k_(c,l.index)):3&l.type&&(d=function LO(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=b?b(f,l.value||"",d):f,m.setProperty(E,d,f))}function k_(a,l){const c=tn(l,a);16&c[2]||(c[2]|=32)}function x0(a,l,c,d){let f=!1;if(xs()){const m=function HO(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const b=d[m];qI(c,b.selectors,!1)&&(f||(f=[]),ro(Oo(c,l),a,b.type),Hi(b)?(MT(a,c),f.unshift(b)):f.push(b))}return f}(a,l,c),b=null===d?null:{"":-1};if(null!==m){f=!0,NT(c,a.data.length,m.length);for(let O=0;O<m.length;O++){const L=m[O];L.providersResolver&&L.providersResolver(L)}let C=!1,E=!1,A=Wh(a,l,m.length,null);for(let O=0;O<m.length;O++){const L=m[O];c.mergedAttrs=al(c.mergedAttrs,L.hostAttrs),_S(a,c,l,A,L),mS(A,L,b),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const q=L.type.prototype;!C&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),A++}AT(a,c)}b&&function jO(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new Ce(-301,!1);d.push(l[f],m)}}}(c,d,b)}return c.mergedAttrs=al(c.mergedAttrs,c.attrs),f}function M0(a,l,c,d,f,m){const b=m.hostBindings;if(b){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function N0(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,b)}}function F_(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function MT(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function mS(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Hi(l)&&(c[""]=a)}}function NT(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function _S(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=ss(f.type)),b=new io(m,Hi(f),Gh);a.blueprint[d]=b,c[d]=b,M0(a,l,0,d,Wh(a,c,f.hostVars,Gt),f)}function $O(a,l,c){const d=Xi(l,a),f=ET(c),m=a[10],b=Gp(a,R_(a,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));a[l.index]=b}function OT(a,l,c,d,f,m,b){if(null==m)a.removeAttribute(l,f,c);else{const C=null==b?ve(m):b(m,d||"",f);a.setAttribute(l,f,C,c)}}function ZO(a,l,c,d,f,m){const b=m[l];if(null!==b){const C=d.setInput;for(let E=0;E<b.length;){const A=b[E++],O=b[E++],L=b[E++];null!==C?d.setInput(c,L,A,O):c[O]=L}}}function GO(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function vS(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function RT(a,l){const c=tn(l,a);if(Eo(c)){const d=c[1];48&c[2]?vd(d,c,d.template,c[8]):c[5]>0&&L_(c)}}function L_(a){for(let d=u_(a);null!==d;d=d_(d))for(let f=10;f<d.length;f++){const m=d[f];if(Eo(m))if(512&m[2]){const b=m[1];vd(b,m,b.template,m[8])}else m[5]>0&&L_(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=tn(c[d],a);Eo(f)&&f[5]>0&&L_(f)}}function kT(a,l){const c=tn(l,a),d=c[1];(function PT(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),C0(d,c,c[8])}function Gp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function U_(a){for(;a;){a[2]|=32;const l=Hh(a);if(sp(a)&&!l)return a;a=l}return null}function qp(a,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{vd(a,l,a.template,c)}catch(b){throw d&&bS(l,b),b}finally{f.end&&f.end()}}function k0(a,l,c){ol(0),l(a,c)}function V_(a){return a[7]||(a[7]=[])}function Yh(a){return a.cleanup||(a.cleanup=[])}function bS(a,l){const c=a[9],d=c?c.get(Np,null):null;d&&d.handleError(l)}function H_(a,l,c,d,f){for(let m=0;m<c.length;){const b=c[m++],C=c[m++],E=l[b],A=a.data[b];null!==A.setInput?A.setInput(E,f,d,C):E[C]=f}}function Pl(a,l,c){const d=xr(l,a);Zw(a[11],d,c)}function go(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let b=0;b<l.length;b++){const C=l[b];"number"==typeof C?m=C:1==m?f=pe(f,C):2==m&&(d=pe(d,C+": "+l[++b]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function pt(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(Vn(m)),Qi(m))for(let C=10;C<m.length;C++){const E=m[C],A=E[1].firstChild;null!==A&&pt(E[1],E,A,d)}const b=c.type;if(8&b)pt(a,l,c.child,d);else if(32&b){const C=zy(c,l);let E;for(;E=C();)d.push(E)}else if(16&b){const C=t0(l,c);if(Array.isArray(C))d.push(...C);else{const E=Hh(l[16]);pt(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class yd{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return pt(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Qi(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Jy(l,d),Rn(c,d))}this._attachedToViewContainer=!1}kp(this._lView[1],this._lView)}onDestroy(l){A0(this._lView[1],this._lView,null,l)}markForCheck(){U_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qw(a,l){gd(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=l}}class Ht extends yd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;qp(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Kh extends xl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=X(l);return new bd(c,this.ngModule)}}function zp(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class wS{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Et,d);return f!==Et||c===Et?f:this.parentInjector.get(l,c,d)}}class bd extends kh{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function WI(a){return a.map(oT).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return zp(this.componentDef.inputs)}get outputs(){return zp(this.componentDef.outputs)}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof $i?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new wS(l,m):l,C=b.get(x,null);if(null===C)throw new Ce(407,!1);const E=b.get(ue,null),A=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",L=d?function IT(a,l,c){return a.selectRootElement(l,c===_t.ShadowDom)}(A,d,this.componentDef.encapsulation):h_(C.createRenderer(null,this.componentDef),O,function Wp(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(O)),q=this.componentDef.onPush?288:272,ne=S0(0,null,null,1,0,null,null,null,null,null),ye=R_(null,ne,null,q,null,null,C,A,E,b,null);let Ue,Ye;vc(ye);try{const ut=function j_(a,l,c,d,f,m){const b=c[1];c[22]=a;const E=zh(b,22,2,"#host",null),A=E.mergedAttrs=l.hostAttrs;null!==A&&(go(E,A,!0),null!==a&&(pa(f,a,A),null!==E.classes&&Up(f,a,E.classes),null!==E.styles&&md(f,a,E.styles)));const O=d.createRenderer(a,l),L=R_(c,ET(l),null,l.onPush?32:16,c[22],E,d,O,m||null,null,null);return b.firstCreatePass&&(ro(Oo(E,c),b,l.type),MT(b,E),NT(E,c.length,1)),Gp(c,L),c[22]=L}(L,this.componentDef,ye,C,A);if(L)if(d)pa(A,L,["ng-version",rt.full]);else{const{attrs:Ct,classes:Oe}=function YI(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!fo(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ct&&pa(A,L,Ct),Oe&&Oe.length>0&&Up(A,L,Oe.join(" "))}if(Ye=ua(ne,22),void 0!==c){const Ct=Ye.projection=[];for(let Oe=0;Oe<this.ngContentSelectors.length;Oe++){const kt=c[Oe];Ct.push(null!=kt?Array.from(kt):null)}}Ue=function mr(a,l,c,d){const f=c[1],m=function xT(a,l,c){const d=Hn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),_S(a,d,l,Wh(a,l,1,null),c),AT(a,d));const f=Ns(l,a,d.directiveStart,d);nr(f,l);const m=Xi(d,l);return m&&nr(m,l),f}(f,c,l);if(a[8]=c[8]=m,null!==d)for(const C of d)C(m,l);if(l.contentQueries){const C=Hn();l.contentQueries(1,m,C.directiveStart)}const b=Hn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ur(b.index),M0(c[1],b,0,b.directiveStart,b.directiveEnd,l),F_(l,m)),m}(ut,this.componentDef,ye,[Wc]),C0(ne,ye,null)}finally{Io()}return new CS(this.componentType,Ue,y(Ye,ye),ye,Ye)}}class CS extends class Ap{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new Ht(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;H_(m[1],m,f,l,c),k_(m,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Wc(){const a=Hn();wc(Me()[1],a)}function P0(a){let l=function LT(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Hi(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ce(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const b=a;b.inputs=Yp(a.inputs),b.declaredInputs=Yp(a.declaredInputs),b.outputs=Yp(a.outputs);const C=f.hostBindings;C&&ES(a,C);const E=f.viewQuery,A=f.contentQueries;if(E&&BT(a,E),A&&Pr(a,A),ie(a.inputs,f.inputs),ie(a.declaredInputs,f.declaredInputs),ie(a.outputs,f.outputs),Hi(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const C=m[b];C&&C.ngInherit&&C(a),C===P0&&(c=!1)}}l=Object.getPrototypeOf(l)}!function UT(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=al(f.hostAttrs,c=al(c,f.hostAttrs))}}(d)}function Yp(a){return a===ar?{}:a===Pt?[]:a}function BT(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function Pr(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function ES(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let wd=null;function Fr(){if(!wd){const a=gn.Symbol;if(a&&a.iterator)wd=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(wd=d)}}}return wd}function Kp(a){return!!Z_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Fr()in a)}function Z_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Wo(a,l,c){return a[l]=c}function _r(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function Ma(a,l,c,d){const f=_r(a,l,c);return _r(a,l+1,d)||f}function Qp(a,l,c,d){const f=Me();return _r(f,Do(),l)&&(Kt(),function xa(a,l,c,d,f,m){const b=Xi(a,l);OT(l[11],b,m,a.value,c,d,f)}(xn(),f,a,l,c,d)),Qp}function ef(a,l,c,d){return _r(a,Do(),c)?l+ve(c)+d:Gt}function $0(a,l,c,d,f,m,b,C){const E=Me(),A=Kt(),O=a+22,L=A.firstCreatePass?function j0(a,l,c,d,f,m,b,C,E){const A=l.consts,O=zh(l,a,4,b||null,Hr(A,C));x0(l,c,O,Hr(A,E)),wc(l,O);const L=O.tViews=S0(2,O,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,O),L.queries=l.queries.embeddedTView(O)),O}(O,A,E,l,c,d,f,m,b):A.data[O];Mr(L,!1);const q=E[11].createComment("");g_(A,E,q,L),nr(q,E),Gp(E,E[O]=vS(q,E,q,L)),ku(L)&&Zp(A,E,L),null!=b&&I0(E,L,C)}function ZT(a){return As(function Hu(){return Nt.lFrame.contextLView}(),22+a)}function W_(a,l,c){const d=Me();return _r(d,Do(),l)&&po(Kt(),xn(),d,a,l,d[11],c,!1),W_}function Y_(a,l,c,d,f){const b=f?"class":"style";H_(a,c,l.inputs[b],b,d)}function tg(a,l,c,d){const f=Me(),m=Kt(),b=22+a,C=f[11],E=f[b]=h_(C,l,function bc(){return Nt.lFrame.currentNamespace}()),A=m.firstCreatePass?function Z0(a,l,c,d,f,m,b){const C=l.consts,A=zh(l,a,2,f,Hr(C,m));return x0(l,c,A,Hr(C,b)),null!==A.attrs&&go(A,A.attrs,!1),null!==A.mergedAttrs&&go(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(b,m,f,0,l,c,d):m.data[b];Mr(A,!0);const O=A.mergedAttrs;null!==O&&pa(C,E,O);const L=A.classes;null!==L&&Up(C,E,L);const q=A.styles;return null!==q&&md(C,E,q),64!=(64&A.flags)&&g_(m,f,E,A),0===function dc(){return Nt.lFrame.elementDepthCount}()&&nr(E,f),function hc(){Nt.lFrame.elementDepthCount++}(),ku(A)&&(Zp(m,f,A),D0(m,A,f)),null!==d&&I0(f,A),tg}function K_(){let a=Hn();tl()?nl():(a=a.parent,Mr(a,!1));const l=a;!function Uu(){Nt.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(wc(c,a),tc(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ec(a){return 0!=(16&a.flags)}(l)&&Y_(c,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function fh(a){return 0!=(32&a.flags)}(l)&&Y_(c,l,Me(),l.stylesWithoutHost,!1),K_}function ng(a,l,c,d){return tg(a,l,c,d),K_(),ng}function sf(a,l,c){const d=Me(),f=Kt(),m=a+22,b=f.firstCreatePass?function G0(a,l,c,d,f){const m=l.consts,b=Hr(m,d),C=zh(l,a,8,"ng-container",b);return null!==b&&go(C,b,!0),x0(l,c,C,Hr(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,d,l,c):f.data[m];Mr(b,!0);const C=d[m]=d[11].createComment("");return g_(f,d,C,b),nr(C,d),ku(b)&&(Zp(f,d,b),D0(f,b,d)),null!=c&&I0(d,b),sf}function Ai(){let a=Hn();const l=Kt();return tl()?nl():(a=a.parent,Mr(a,!1)),l.firstCreatePass&&(wc(l,a),tc(a)&&l.queries.elementEnd(a)),Ai}function ig(){return Me()}function rg(a){return!!a&&"function"==typeof a.then}function GT(a){return!!a&&"function"==typeof a.subscribe}const qT=GT;function J_(a,l,c,d){const f=Me(),m=Kt(),b=Hn();return function q0(a,l,c,d,f,m,b,C){const E=ku(d),O=a.firstCreatePass&&Yh(a),L=l[8],q=V_(l);let ne=!0;if(3&d.type||C){const Ye=Xi(d,l),ut=C?C(Ye):Ye,Ct=q.length,Oe=C?vn=>C(Vn(vn[d.index])):d.index;let kt=null;if(!C&&E&&(kt=function IS(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===c&&f[m+1]===d){const C=l[7],E=f[m+2];return C.length>E?C[E]:null}"string"==typeof b&&(m+=2)}return null}(a,l,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,ne=!1;else{m=WT(d,l,L,m,!1);const vn=c.listen(ut,f,m);q.push(m,vn),O&&O.push(f,Oe,Ct,Ct+1)}}else m=WT(d,l,L,m,!1);const ye=d.outputs;let Ue;if(ne&&null!==ye&&(Ue=ye[f])){const Ye=Ue.length;if(Ye)for(let ut=0;ut<Ye;ut+=2){const Wn=l[Ue[ut]][Ue[ut+1]].subscribe(m),Gl=q.length;q.push(m,Wn),O&&O.push(f,d.index,Gl,-(Gl+1))}}}(m,f,f[11],b,a,l,0,d),J_}function Q_(a,l,c,d){try{return!1!==c(d)}catch(f){return bS(a,f),!1}}function WT(a,l,c,d,f){return function m(b){if(b===Function)return d;U_(2&a.flags?tn(a.index,l):l);let E=Q_(l,0,d,b),A=m.__ngNextListenerFn__;for(;A;)E=Q_(l,0,A,b)&&E,A=A.__ngNextListenerFn__;return f&&!1===E&&(b.preventDefault(),b.returnValue=!1),E}}function X_(a=1){return function So(a){return(Nt.lFrame.contextLView=function yc(a,l){for(;a>0;)l=l[15],a--;return l}(a,Nt.lFrame.contextLView))[8]}(a)}function YT(a,l){let c=null;const d=function __(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?qI(a,m,!0):zI(d,m))return f}else c=f}return c}function KT(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=ao(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const b=a?YT(m,a):0;null!==b&&(f[b]?f[b].projectionNext=m:d[b]=m,f[b]=m),m=m.next}}}function sg(a,l=0,c){const d=Me(),f=Kt(),m=zh(f,22+a,16,null,c||null);null===m.projection&&(m.projection=l),nl(),64!=(64&m.flags)&&function tT(a,l,c){Lp(l[11],0,l,c,Ww(a,c,l),si(c.parent||l[6],c,l))}(f,d,m)}function og(a,l,c){return af(a,"",l,"",c),og}function af(a,l,c,d,f){const m=Me(),b=ef(m,l,c,d);return b!==Gt&&po(Kt(),xn(),m,a,b,m[11],f,!1),af}function XT(a,l,c,d,f){const m=a[c+1],b=null===l;let C=d?zo(m):oi(m),E=!1;for(;0!==C&&(!1===E||b);){const O=a[C+1];Cd(a[C],l)&&(E=!0,a[C+1]=d?jp(O):f0(O)),C=d?zo(O):oi(O)}E&&(a[c+1]=d?f0(m):jp(m))}function Cd(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&lo(a,l)>=0}const Li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lg(a){return a.substring(Li.key,Li.keyEnd)}function J0(a,l){const c=Li.textEnd;return c===l?-1:(l=Li.keyEnd=function tC(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Li.key=l,c),Fl(a,l,c))}function Fl(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function ug(a,l,c){return Bs(a,l,c,!1),ug}function dg(a,l){return Bs(a,l,null,!0),dg}function tb(a){!function fs(a,l,c,d){const f=Kt(),m=Ms(2);f.firstUpdatePass&&nb(f,null,m,d);const b=Me();if(c!==Gt&&_r(b,m,c)){const C=f.data[_i()];if(cC(C,d)&&!ev(f,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=pe(E,c||"")),Y_(f,C,b,c,d)}else!function ib(a,l,c,d,f,m,b,C){f===Gt&&(f=Pt);let E=0,A=0,O=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==O||null!==L;){const q=E<f.length?f[E+1]:void 0,ne=A<m.length?m[A+1]:void 0;let Ue,ye=null;O===L?(E+=2,A+=2,q!==ne&&(ye=L,Ue=ne)):null===L||null!==O&&O<L?(E+=2,ye=O):(A+=2,ye=L,Ue=ne),null!==ye&&oC(a,l,c,d,ye,Ue,b,C),O=E<f.length?f[E]:null,L=A<m.length?m[A]:null}}(f,C,b,b[11],b[m+1],b[m+1]=function pg(a,l,c){if(null==c||""===c)return Pt;const d=[],f=Yr(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}(We,Ra,a,!0)}function Ra(a,l){for(let c=function cg(a){return function uf(a){Li.key=0,Li.keyEnd=0,Li.value=0,Li.valueEnd=0,Li.textEnd=a.length}(a),J0(a,Fl(a,0,Li.textEnd))}(l);c>=0;c=J0(l,c))We(a,lg(l),!0)}function Bs(a,l,c,d){const f=Me(),m=Kt(),b=Ms(2);m.firstUpdatePass&&nb(m,a,b,d),l!==Gt&&_r(f,b,l)&&oC(m,m.data[_i()],f,f[11],a,f[b+1]=function lC(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=fe(Yr(a)))),a}(l,c),d,b)}function ev(a,l){return l>=a.expandoStartIndex}function nb(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[_i()],b=ev(a,c);cC(m,d)&&null===l&&!b&&(l=!1),l=function rC(a,l,c,d){const f=sl(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Kc(c=tv(null,a,l,c,d),l.attrs,d),m=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(c=tv(f,a,l,c,d),null===m){let E=function sC(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==oi(d))return a[zo(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=tv(null,a,l,E[1],d),E=Kc(E,l.attrs,d),function AS(a,l,c,d){a[zo(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else m=function fg(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Kc(d,a[m].hostAttrs,c);return Kc(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function cf(a,l,c,d,f,m){let b=m?l.classBindings:l.styleBindings,C=zo(b),E=oi(b);a[d]=c;let O,A=!1;if(Array.isArray(c)){const L=c;O=L[1],(null===O||lo(L,O)>0)&&(A=!0)}else O=c;if(f)if(0!==E){const q=zo(a[C+1]);a[d+1]=Hp(q,C),0!==q&&(a[q+1]=qh(a[q+1],d)),a[C+1]=function rS(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Hp(C,0),0!==C&&(a[C+1]=qh(a[C+1],d)),C=d;else a[d+1]=Hp(E,0),0===C?C=d:a[E+1]=qh(a[E+1],d),E=d;A&&(a[d+1]=f0(a[d+1])),XT(a,O,d,!0),XT(a,O,d,!1),function SS(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&lo(m,l)>=0&&(c[d+1]=jp(c[d+1]))}(l,O,a,d,m),b=Hp(C,E),m?l.classBindings=b:l.styleBindings=b}(f,m,l,c,b,d)}}function tv(a,l,c,d,f){let m=null;const b=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<b&&(m=l[C],d=Kc(d,m.hostAttrs,f),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Kc(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const b=l[m];"number"==typeof b?f=b:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),We(a,b,!!c||l[++m]))}return void 0===a?null:a}function oC(a,l,c,d,f,m,b,C){if(!(3&l.type))return;const E=a.data,A=E[C+1];gg(function p0(a){return 1==(1&a)}(A)?aC(E,l,c,f,oi(A),b):void 0)||(gg(m)||function fT(a){return 2==(2&a)}(A)&&(m=aC(E,null,c,f,C,b)),function nT(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Sa.DashCase;null==f?a.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Sa.Important),a.setStyle(c,d,f,m))}}(d,b,xr(_i(),c),f,m))}function aC(a,l,c,d,f,m){const b=null===l;let C;for(;f>0;){const E=a[f],A=Array.isArray(E),O=A?E[1]:E,L=null===O;let q=c[f+1];q===Gt&&(q=L?Pt:void 0);let ne=L?vl(q,d):O===d?q:void 0;if(A&&!gg(ne)&&(ne=vl(E,d)),gg(ne)&&(C=ne,b))return C;const ye=a[f+1];f=b?zo(ye):oi(ye)}if(null!==l){let E=m?l.residualClasses:l.residualStyles;null!=E&&(C=vl(E,d))}return C}function gg(a){return void 0!==a}function cC(a,l){return 0!=(a.flags&(l?16:32))}function Qc(a,l=""){const c=Me(),d=Kt(),f=a+22,m=d.firstCreatePass?zh(d,f,1,l,null):d.data[f],b=c[f]=Yy(c[11],l);g_(d,c,b,m),Mr(m,!1)}function Yo(a){return Ed("",a,""),Yo}function Ed(a,l,c){const d=Me(),f=ef(d,a,l,c);return f!==Gt&&Pl(d,_i(),f),Ed}function hf(a,l,c,d,f){const m=Me(),b=function Yc(a,l,c,d,f,m){const C=Ma(a,os(),c,f);return Ms(2),C?l+ve(c)+d+ve(f)+m:Gt}(m,a,l,c,d,f);return b!==Gt&&Pl(m,_i(),b),hf}function bg(a,l,c){const d=Me();return _r(d,Do(),l)&&po(Kt(),xn(),d,a,l,d[11],c,!0),bg}function iv(a,l,c){const d=Me();if(_r(d,Do(),l)){const m=Kt(),b=xn();po(m,b,d,a,l,function FT(a,l,c){return(null===a||Hi(a))&&(c=function sc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}(sl(m.data),b,d),c,!0)}return iv}const Ko=void 0;var FS=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wg(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Pn={};function ub(a){const l=function rv(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=db(l);if(c)return c;const d=l.split("-")[0];if(c=db(d),c)return c;if("en"===d)return FS;throw new Ce(701,!1)}function bC(a){return ub(a)[At.PluralCase]}function db(a){return a in Pn||(Pn[a]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[a]),Pn[a]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const wC=["zero","one","two","few","many"],Dd="en-US",_f={marker:"element"},eu={marker:"ICU"};var ai=(()=>((ai=ai||{})[ai.SHIFT=2]="SHIFT",ai[ai.APPEND_EAGERLY=1]="APPEND_EAGERLY",ai[ai.COMMENT=2]="COMMENT",ai))();let Tg=Dd;function hb(a){(function Wt(a,l){null==a&&tt(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Tg=a.toLowerCase().replace(/_/g,"-"))}function EC(a,l,c){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?Xw(a,0,c):Vn(c[f])}function fb(a,l,c,d,f){const m=l.insertBeforeIndex;if(Array.isArray(m)){let b=d,C=null;if(3&l.type||(C=b,b=f),null!==b&&0==(2&l.flags))for(let E=1;E<m.length;E++)Aa(a,b,c[m[E]],C,!1)}}function vf(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];pb(d)||DC(d,l)&&null===gb(d)&&mb(d,l.index)}}function pb(a){return!(64&a.type)}function DC(a,l){return pb(l)||a.index>l.index}function gb(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function mb(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(Fp(EC,fb),a.insertBeforeIndex=l)}function yf(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function SC(a,l,c){const d=T0(a,c,64,null,null);return vf(l,d),d}function ka(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function _b(a){return a>>>17}function vb(a){return(131070&a)>>>1}let tu=0,vr=0;function NC(a,l,c,d){const f=c[11];let b,m=null;for(let C=0;C<l.length;C++){const E=l[C];if("string"==typeof E){const A=l[++C];null===c[A]&&(c[A]=Yy(f,E))}else if("number"==typeof E)switch(1&E){case 0:const A=_b(E);let O,L;if(null===m&&(m=A,b=p_(f,d)),A===m?(O=d,L=b):(O=null,L=Vn(c[A])),null!==L){const Ue=vb(E);Aa(f,L,c[Ue],O,!1);const ut=yf(a,Ue);if(null!==ut&&"object"==typeof ut){const Ct=ka(ut,c);null!==Ct&&NC(a,ut.create[Ct],c,c[ut.anchorIdx])}}break;case 1:const ne=l[++C],ye=l[++C];OT(f,xr(E>>>1,c),null,null,ne,ye,null)}else switch(E){case eu:const A=l[++C],O=l[++C];null===c[O]&&nr(c[O]=FI(f,A),c);break;case _f:const L=l[++C],q=l[++C];null===c[q]&&nr(c[q]=h_(f,L,null),c)}}}function OC(a,l,c,d,f){for(let m=0;m<c.length;m++){const b=c[m],C=c[++m];if(b&f){let E="";for(let A=m+1;A<=m+C;A++){const O=c[A];if("string"==typeof O)E+=O;else if("number"==typeof O)if(O<0)E+=ve(l[d-O]);else{const L=O>>>2;switch(3&O){case 1:const q=c[++A],ne=c[++A],ye=a.data[L];"string"==typeof ye?OT(l[11],l[L],null,ye,q,E,ne):po(a,ye,l,q,E,l[11],ne,!1);break;case 0:const Ue=l[L];null!==Ue&&Zw(l[11],Ue,E);break;case 2:BS(a,yf(a,L),l,E);break;case 3:av(a,yf(a,L),d,l)}}}}else{const E=c[m+1];if(E>0&&3==(3&E)){const O=yf(a,E>>>2);l[O.currentCaseLViewIndex]<0&&av(a,O,d,l)}}m+=C}}function av(a,l,c,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let m=tu;f<0&&(f=d[l.currentCaseLViewIndex]=~f,m=-1),OC(a,d,l.update[f],c,m)}}function BS(a,l,c,d){const f=function kC(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function Ll(a,l){const c=bC(l)(parseInt(a,10)),d=wC[c];return void 0!==d?d:"other"}(l,function sv(){return Tg}());c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(ka(l,c)!==f&&(RC(a,l,c),c[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=c[l.anchorIdx];b&&NC(a,l.create[f],c,b)}}function RC(a,l,c){let d=ka(l,c);if(null!==d){const f=l.remove[d];for(let m=0;m<f.length;m++){const b=f[m];if(b>0){const C=xr(b,c);null!==C&&VI(c[11],C)}else RC(a,yf(a,~b),c)}}}function VS(){const a=[];let c,d,l=-1;function m(C,E){l=0;const A=ka(C,E);d=null!==A?C.remove[A]:Pt}function b(){if(l<d.length){const C=d[l++];return C>0?c[C]:(a.push(l,d),m(c[1].data[~C],c),b())}return 0===a.length?null:(d=a.pop(),l=a.pop(),b())}return function f(C,E){for(c=E;a.length;)a.pop();return m(C.value,E),b}}const Jo=/\ufffd(\d+):?\d*\ufffd/gi,jS=/\ufffd(\d+)\ufffd/,Le=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Sd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Tb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dt=/\uE500/g;function et(a,l,c,d,f,m,b){const C=Wh(a,d,1,null);let E=C<<ai.SHIFT,A=da();l===A&&(A=null),null===A&&(E|=ai.APPEND_EAGERLY),b&&(E|=ai.COMMENT,function kI(a){void 0===qy&&(qy=a())}(VS)),f.push(E,null===m?"":m);const O=T0(a,C,b?32:1,null===m?"":m,null);vf(c,O);const L=O.index;return Mr(O,!1),null!==A&&l!==A&&function IC(a,l){let c=a.insertBeforeIndex;null===c?(Fp(EC,fb),c=a.insertBeforeIndex=[null,l]):(function _e(a,l,c){a!=l&&tt(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(A,L),O}function de(a,l,c,d,f,m,b){const C=b.match(Jo),E=et(a,l,c,m,d,C?null:b,!1);C&&li(f,b,E.index,null,0,null)}function li(a,l,c,d,f,m){const b=a.length,C=b+1;a.push(null,null);const E=b+2,A=l.split(Jo);let O=0;for(let L=0;L<A.length;L++){const q=A[L];if(1&L){const ne=f+parseInt(q,10);a.push(-1-ne),O|=FC(ne)}else""!==q&&a.push(q)}return a.push(c<<2|(d?1:0)),d&&a.push(d,m),a[b]=O,a[C]=a.length-E,O}function FC(a){return 1<<Math.min(a,31)}function LC(a){let l,m,c="",d=0,f=!1;for(;null!==(l=Sd.exec(a));)f?l[0]===`\ufffd/*${m}\ufffd`&&(d=l.index,f=!1):(c+=a.substring(d,l.index+l[0].length),m=l[1],f=!0);return c+=a.slice(d),c}function UC(a,l,c,d,f,m){let b=0;const C={type:f.type,currentCaseLViewIndex:Wh(a,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function wf(a,l,c){a.push(FC(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,f,m),function ov(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,m,C);const E=f.values;for(let A=0;A<E.length;A++){const O=E[A],L=[];for(let q=0;q<O.length;q++){const ne=O[q];if("string"!=typeof ne){const ye=L.push(ne)-1;O[q]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}b=KO(a,C,l,c,d,f.cases[A],O.join(""),L)|b}b&&function HC(a,l,c){a.push(l,1,c<<2|3)}(c,b,m)}function BC(a){const l=[],c=[];let d=1,f=0;const m=Cb(a=a.replace(Le,function(b,C,E){return d="select"===E?0:1,f=parseInt(C.slice(1),10),""}));for(let b=0;b<m.length;){let C=m[b++].trim();1===d&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&l.push(C);const E=Cb(m[b++]);l.length>c.length&&c.push(E)}return{type:d,mainBinding:f,cases:l,values:c}}function Cb(a){if(!a)return[];let l=0;const c=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(a);){const C=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const E=a.substring(l,C);Le.test(E)?d.push(BC(E)):d.push(E),l=C+1}}else{if(0==c.length){const E=a.substring(l,C);d.push(E),l=C+1}c.push("{")}}const b=a.substring(l);return d.push(b),d}function KO(a,l,c,d,f,m,b,C){const E=[],A=[],O=[];l.cases.push(m),l.create.push(E),l.remove.push(A),l.update.push(O);const q=jm(Bm()).getInertBodyElement(b),ne=Go(q)||q;return ne?VC(a,l,c,d,E,A,O,ne,f,C,0):0}function VC(a,l,c,d,f,m,b,C,E,A,O){let L=0,q=C.firstChild;for(;q;){const ne=Wh(a,c,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const ye=q,Ue=ye.tagName.toLowerCase();if(Dl.hasOwnProperty(Ue)){Bn(f,_f,Ue,E,ne),a.data[ne]=Ue;const Oe=ye.attributes;for(let kt=0;kt<Oe.length;kt++){const vn=Oe.item(kt),Wn=vn.name.toLowerCase();vn.value.match(Jo)?Tp.hasOwnProperty(Wn)&&li(b,vn.value,ne,vn.name,0,Zo[Wn]?Fc:null):Rt(f,ne,vn)}L=VC(a,l,c,d,f,m,b,q,ne,A,O+1)|L,Eb(m,ne,O)}break;case Node.TEXT_NODE:const Ye=q.textContent||"",ut=Ye.match(Jo);Bn(f,null,ut?"":Ye,E,ne),Eb(m,ne,O),ut&&(L=li(b,Ye,ne,null,0,null)|L);break;case Node.COMMENT_NODE:const Ct=jS.exec(q.textContent||"");if(Ct){const kt=A[parseInt(Ct[1],10)];Bn(f,eu,"",E,ne),UC(a,c,d,E,kt,ne),jt(m,ne,O)}}q=q.nextSibling}return L}function Eb(a,l,c){0===c&&a.push(l)}function jt(a,l,c){0===c&&(a.push(~l),a.push(l))}function Bn(a,l,c,d,f){null!==l&&a.push(l),a.push(c,f,function AC(a,l,c){return a|l<<17|c<<1}(0,d,f))}function Rt(a,l,c){a.push(l<<1|1,c.name,c.value)}function Cg(a,l,c=-1){const d=Kt(),f=Me(),m=22+a,b=Hr(d.consts,l),C=da();d.firstCreatePass&&function $S(a,l,c,d,f,m){const b=da(),C=[],E=[],A=[[]];f=function GS(a,l){if(function ZS(a){return-1===a}(l))return LC(a);{const c=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return LC(a.substring(c,d))}}(f,m);const O=function Ot(a){return a.replace(dt," ")}(f).split(Tb);for(let L=0;L<O.length;L++){let q=O[L];if(0==(1&L)){const ne=Cb(q);for(let ye=0;ye<ne.length;ye++){let Ue=ne[ye];if(0==(1&ye)){const Ye=Ue;""!==Ye&&de(a,b,A[0],C,E,c,Ye)}else{const Ye=Ue;if("object"!=typeof Ye)throw new Error(`Unable to parse ICU expression in "${f}" message.`);UC(a,c,E,l,Ye,et(a,b,A[0],c,C,"",!0).index)}}}else{const ne=47===q.charCodeAt(0),Ue=(q.charCodeAt(ne?1:0),22+Number.parseInt(q.substring(ne?2:1)));if(ne)A.shift(),Mr(da(),!1);else{const Ye=SC(a,A[0],Ue);A.unshift([]),Mr(Ye,!0)}}}a.data[d]={create:C,update:E}}(d,null===C?0:C.index,f,m,b,c);const E=d.data[m],O=Yw(d,C===f[6]?null:C,f);(function bf(a,l,c,d){const f=a[11];for(let m=0;m<l.length;m++){const b=l[m++],C=l[m],E=(b&ai.COMMENT)===ai.COMMENT,A=(b&ai.APPEND_EAGERLY)===ai.APPEND_EAGERLY,O=b>>>ai.SHIFT;let L=a[O];null===L&&(L=a[O]=E?f.createComment(C):Yy(f,C)),A&&null!==c&&Aa(f,c,L,d,!1)}})(f,E.create,O,C&&8&C.type?f[C.index]:null),rl(!0)}function Cf(a,l,c){Cg(a,l,c),function jC(){rl(!1)}()}function cv(a){return function xC(a){a&&(tu|=1<<Math.min(vr,31)),vr++}(_r(Me(),Do(),a)),cv}function ps(a){!function MC(a,l,c){if(vr>0){const d=a.data[c];OC(a,l,Array.isArray(d)?d:d.update,os()-vr-1,tu)}tu=0,vr=0}(Kt(),Me(),a+22)}function uv(a,l,c,d,f){if(a=J(a),Array.isArray(a))for(let m=0;m<a.length;m++)uv(a[m],l,c,d,f);else{const m=Kt(),b=Me();let C=Kr(a)?a:J(a.provide),E=fd(a);const A=Hn(),O=1048575&A.providerIndexes,L=A.directiveStart,q=A.providerIndexes>>20;if(Kr(a)||!a.multi){const ne=new io(E,f,Gh),ye=ae(C,l,f?O:O+q,L);-1===ye?(ro(Oo(A,b),m,C),Pa(m,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ne),b.push(ne)):(c[ye]=ne,b[ye]=ne)}else{const ne=ae(C,l,O+q,L),ye=ae(C,l,O,O+q),Ue=ne>=0&&c[ne],Ye=ye>=0&&c[ye];if(f&&!Ye||!f&&!Ue){ro(Oo(A,b),m,C);const ut=function Eg(a,l,c,d,f){const m=new io(a,c,Gh);return m.multi=[],m.index=l,m.componentProviders=0,dv(m,f,d&&!c),m}(f?Qo:hv,c.length,f,d,E);!f&&Ye&&(c[ye].providerFactory=ut),Pa(m,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ut),b.push(ut)}else Pa(m,a,ne>-1?ne:ye,dv(c[f?ye:ne],E,!f&&d));!f&&d&&Ye&&c[ye].componentProviders++}}}function Pa(a,l,c,d){const f=Kr(l),m=function Xm(a){return!!a.useClass}(l);if(f||m){const E=(m?J(l.useClass):l).prototype.ngOnDestroy;if(E){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=A.indexOf(c);-1===O?A.push(c,[d,E]):A[O+1].push(d,E)}else A.push(c,E)}}}function dv(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function ae(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function hv(a,l,c,d){return Sb(this.multi,[])}function Qo(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=Ns(c,c[1],this.providerFactory.index,d);m=C.slice(0,b),Sb(f,m);for(let E=b;E<C.length;E++)m.push(C[E])}else m=[],Sb(f,m);return m}function Sb(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Ul(a,l=[]){return c=>{c.providersResolver=(d,f)=>function ZC(a,l,c){const d=Kt();if(d.firstCreatePass){const f=Hi(a);uv(c,d.data,d.blueprint,f,!0),uv(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Ef{}class nu{}function GC(a,l){return new zC(a,l??null)}class zC extends Ef{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);const d=Tn(l);this._bootstrapComponents=Ol(d.bootstrap),this._r3Injector=l0(l,c,[{provide:Ef,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],fe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Ab extends nu{constructor(l){super(),this.moduleType=l}create(l){return new zC(this.moduleType,l)}}class gs extends Ef{constructor(l,c,d){super(),this.componentFactoryResolver=new Kh(this),this.instance=null;const f=new Rh([...l,{provide:Ef,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],c||Oh(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function fv(a,l,c=null){return new gs(a,l,c).injector}let xd=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=xh(0,c.type),f=d.length>0?fv([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=an({token:a,providedIn:"environment",factory:()=>new a(Vt($i))}),a})();function xb(a){a.getStandaloneInjector=l=>l.get(xd).getOrCreateStandaloneInjector(a)}function If(a,l,c,d){return mv(Me(),jn(),a,l,c,d)}function Ob(a,l,c,d,f){return function su(a,l,c,d,f,m,b){const C=l+c;return Ma(a,C,f,m)?Wo(a,C+2,b?d.call(b,f,m):d(f,m)):La(a,C+2)}(Me(),jn(),a,l,c,d,f)}function Bl(a,l,c,d,f,m){return function _v(a,l,c,d,f,m,b,C){const E=l+c;return function Qh(a,l,c,d,f){const m=Ma(a,l,c,d);return _r(a,l+2,f)||m}(a,E,f,m,b)?Wo(a,E+3,C?d.call(C,f,m,b):d(f,m,b)):La(a,E+3)}(Me(),jn(),a,l,c,d,f,m)}function La(a,l){const c=a[l];return c===Gt?void 0:c}function mv(a,l,c,d,f,m){const b=l+c;return _r(a,b,f)?Wo(a,b+1,m?d.call(m,f):d(f)):La(a,b+1)}function kb(a,l){const c=Kt();let d;const f=a+22;c.firstCreatePass?(d=function vv(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=ss(d.type)),b=fi(Gh);try{const C=ul(!1),E=m();return ul(C),function $T(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Me(),f,E),E}finally{fi(b)}}function Pb(a,l,c){const d=a+22,f=Me(),m=As(f,d);return function xi(a,l){return a[1].data[l].pure}(f,d)?mv(f,jn(),l,m.transform,c,m):m.transform(c)}function Mn(a){return l=>{setTimeout(a,void 0,l)}}const Ua=class QC extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),b=d;if(l&&"object"==typeof l){const E=l;f=E.next?.bind(E),m=E.error?.bind(E),b=E.complete?.bind(E)}this.__isAsync&&(m=Mn(m),f&&(f=Mn(f)),b&&(b=Mn(b)));const C=super.subscribe({next:f,error:m,complete:b});return l instanceof te.w0&&l.add(C),C}};function XC(){return this._results[Fr()]()}class Ba{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Fr(),d=Ba.prototype;d[c]||(d[c]=XC)}get changes(){return this._changes||(this._changes=new Ua)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=cn(l);(this._changesDetected=!function It(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ag=(()=>{class a{}return a.__NG_ELEMENT_ID__=wv,a})();const xg=Ag,bv=class extends xg{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=R_(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(d)),C0(d,f,l),new yd(f)}};function wv(){return Mg(Hn(),Me())}function Mg(a,l){return 4&a.type?new bv(l,a,y(a,l)):null}let Ng=(()=>{class a{}return a.__NG_ELEMENT_ID__=br,a})();function br(){return nE(Hn(),Me())}const XS=Ng,eE=class extends XS{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ac(this._hostTNode,this._hostLView);if(gh(l)){const c=cl(l,this._hostLView),d=Di(l);return new ko(c[1].data[d+8],c)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=tE(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const b=l.createEmbeddedView(c||{},m);return this.insert(b,f),b}createComponent(l,c,d,f,m){const b=l&&!function hr(a){return"function"==typeof a}(l);let C;if(b)C=c;else{const L=c||{};C=L.index,d=L.injector,f=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const E=b?l:new bd(X(l)),A=d||this.parentInjector;if(!m&&null==E.ngModule){const q=(b?A:this.parentInjector).get($i,null);q&&(m=q)}const O=E.create(A,f,void 0,m);return this.insert(O.hostView,C),O}insert(l,c){const d=l._lView,f=d[1];if(function lc(a){return Qi(a[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const L=d[3],q=new eE(L,L[6],L[3]);q.detach(q.indexOf(l))}}const m=this._adjustIndex(c),b=this._lContainer;!function LI(a,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],ml(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const b=l[17];null!==b&&c!==b&&function UI(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(b,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,d,b,m);const C=eT(m,b),E=d[11],A=p_(E,b[7]);return null!==A&&function Gw(a,l,c,d,f,m){d[0]=f,d[6]=l,gd(a,d,c,1,f,m)}(f,b[6],E,d,A,C),l.attachToViewContainerRef(),ml(Tv(b),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=tE(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Jy(this._lContainer,c);d&&(Rn(Tv(this._lContainer),c),kp(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Jy(this._lContainer,c);return d&&null!=Rn(Tv(this._lContainer),c)?new yd(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function tE(a){return a[8]}function Tv(a){return a[8]||(a[8]=[])}function nE(a,l){let c;const d=l[a.index];if(Qi(d))c=d;else{let f;if(8&a.type)f=Vn(d);else{const m=l[11];f=m.createComment("");const b=Xi(a,l);Aa(m,p_(m,b),f,function Qw(a,l){return a.nextSibling(l)}(m,b),!1)}l[a.index]=c=vS(d,l,f,a),Gp(l,c)}return new eE(c,a,l)}class Va{constructor(l){this.queryList=l,this.matches=null}clone(){return new Va(this.queryList)}setDirty(){this.queryList.setDirty()}}class ou{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const b=c.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new ou(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==Ub(l,c).matches&&this.queries[c].setDirty()}}class iE{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Cv{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new Cv(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Ev{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Ev(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,Vl(c,m)),this.matchTNodeWithReadOption(l,c,ga(c,l,m,!1,!1))}else d===Ag?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,ga(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===p||f===Ng||f===Ag&&4&c.type)this.addMatch(c.index,-2);else{const m=ga(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Vl(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function Af(a,l,c,d){return-1===c?function rE(a,l){return 11&a.type?y(a,l):4&a.type?Mg(a,l):null}(l,a):-2===c?function sE(a,l,c){return c===p?y(l,a):c===Ag?Mg(l,a):c===Ng?nE(l,a):void 0}(a,l,d):Ns(a,a[1],c,l)}function Dv(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,b=c.matches,C=[];for(let E=0;E<b.length;E+=2){const A=b[E];C.push(A<0?null:Af(l,m[A],b[E+1],c.metadata.read))}f.matches=C}return f.matches}function Og(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const b=Dv(a,l,f,c);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(b[C/2]);else{const A=m[C+1],O=l[-E];for(let L=10;L<O.length;L++){const q=O[L];q[17]===q[3]&&Og(q[1],q,A,d)}if(null!==O[9]){const L=O[9];for(let q=0;q<L.length;q++){const ne=L[q];Og(ne[1],ne,A,d)}}}}}return d}function Iv(a){const l=Me(),c=Kt(),d=Zu();ol(d+1);const f=Ub(c,d);if(a.dirty&&function ac(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Og(c,l,d,[]):Dv(c,l,f,d);a.reset(m,_),a.notifyOnChanges()}return!0}return!1}function Rd(a,l,c){const d=Kt();d.firstCreatePass&&(Sv(d,new iE(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Fb(d,Me(),l)}function Lr(a,l,c,d){const f=Kt();if(f.firstCreatePass){const m=Hn();Sv(f,new iE(l,c,d),m.index),function Lb(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Fb(f,Me(),c)}function Rg(){return function kg(a,l){return a[19].queries[l].queryList}(Me(),Zu())}function Fb(a,l,c){const d=new Ba(4==(4&c));A0(a,l,d,d.destroy),null===l[19]&&(l[19]=new ou),l[19].queries.push(new Va(d))}function Sv(a,l,c){null===a.queries&&(a.queries=new Cv),a.queries.track(new Ev(l,c))}function Ub(a,l){return a.queries.getByIndex(l)}function Bb(a,l){return Mg(a,l)}function Fg(...a){}const _E=new Dn("Application Initializer");let Nv=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Fg,this.reject=Fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(rg(m))c.push(m);else if(qT(m)){const b=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Vt(_E,8))},a.\u0275prov=an({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const vE=new Dn("AppId",{providedIn:"root",factory:function Pf(){return`${Qb()}${Qb()}${Qb()}`}});function Qb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gi=new Dn("Platform Initializer"),Xb=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e1=new Dn("appBootstrapListener"),ja=new Dn("AnimationModuleType");let t1=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=an({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const au=new Dn("LocaleId",{providedIn:"root",factory:()=>D(au,nt.Optional|nt.SkipSelf)||function yE(){return typeof $localize<"u"&&$localize.locale||Dd}()}),bE=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mA{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Lg=(()=>{class a{compileModuleSync(c){return new Ab(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Ol(Tn(c).declarations).reduce((b,C)=>{const E=X(C);return E&&b.push(new bd(E)),b},[]);return new mA(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=an({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const _A=(()=>Promise.resolve(0))();function s1(a){typeof Zone>"u"?_A.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class wr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ua(!1),this.onMicrotaskEmpty=new Ua(!1),this.onStable=new Ua(!1),this.onError=new Ua(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ff(){let a=gn.requestAnimationFrame,l=gn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function TE(a){const l=()=>{!function yA(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(gn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Tr(a),a.isCheckStableRunning=!0,o1(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Tr(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,b,C)=>{try{return CE(a),c.invokeTask(f,m,b,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),a1(a)}},onInvoke:(c,d,f,m,b,C,E)=>{try{return CE(a),c.invoke(f,m,b,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),a1(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Tr(a),o1(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wr.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(wr.isInAngularZone())throw new Ce(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,l,vA,Fg,Fg);try{return m.runTask(b,c,d)}finally{m.cancelTask(b)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const vA={};function o1(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Tr(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function CE(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function a1(a){a._nesting--,o1(a)}class $a{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ua,this.onMicrotaskEmpty=new Ua,this.onStable=new Ua,this.onError=new Ua}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const l1=new Dn(""),Ug=new Dn("");let c1,EE=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c1||(function bA(a){c1=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wr.assertNotInAngularZone(),s1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())s1(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Vt(wr),Vt(DE),Vt(Ug))},a.\u0275prov=an({token:a,factory:a.\u0275fac}),a})(),DE=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return c1?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=an({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),lu=null;const IE=new Dn("AllowMultipleToken"),u1=new Dn("PlatformDestroyListeners");class CA{constructor(l,c){this.name=l,this.token=c}}function d1(a,l,c=[]){const d=`Platform: ${l}`,f=new Dn(d);return(m=[])=>{let b=f1();if(!b||b.injector.get(IE,!1)){const C=[...c,...m,{provide:f,useValue:!0}];a?a(C):function EA(a){if(lu&&!lu.get(IE,!1))throw new Ce(400,!1);lu=a;const l=a.get(kv);(function SE(a){const l=a.get(Gi,null);l&&l.forEach(c=>c())})(a)}(function h1(a=[],l){return Rl.create({name:l,providers:[{provide:Hc,useValue:"platform"},{provide:u1,useValue:new Set([()=>lu=null])},...a]})}(C,d))}return function IA(a){const l=f1();if(!l)throw new Ce(401,!1);return l}()}}function f1(){return lu?.get(kv)??null}let kv=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function Pv(a,l){let c;return c="noop"===a?new $a:("zone.js"===a?void 0:a)||new wr(l),c}(d?.ngZone,function qi(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:wr,useValue:f}];return f.run(()=>{const b=Rl.create({providers:m,parent:this.injector,name:c.moduleType.name}),C=c.create(b),E=C.injector.get(Np,null);if(!E)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:O=>{E.handleError(O)}});C.onDestroy(()=>{Bg(this._modules,C),A.unsubscribe()})}),function Fv(a,l,c){try{const d=c();return rg(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(E,f,()=>{const A=C.injector.get(Nv);return A.runInitializers(),A.donePromise.then(()=>(hb(C.injector.get(au,Dd)||Dd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=Lv({},d);return function wA(a,l,c){const d=new Ab(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(ta);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ce(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(u1,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Vt(Rl))},a.\u0275prov=an({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Lv(a,l){return Array.isArray(l)?l.reduce(Lv,a):{...a,...l}}let ta=(()=>{class a{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new P.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{wr.assertNotInAngularZone(),s1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{wr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,le.T)(m,b.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof kh;if(!this._injector.get(Nv).done)throw!f&&rn(c),new Ce(405,false);let b;b=f?c:this._injector.get(xl).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const C=function TA(a){return a.isBoundToModule}(b)?void 0:this._injector.get(Ef),A=b.create(Rl.NULL,[],d||b.selector,C),O=A.location.nativeElement,L=A.injector.get(l1,null);return L?.registerApplication(O),A.onDestroy(()=>{this.detachView(A.hostView),Bg(this.components,A),L?.unregisterApplication(O)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Bg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(e1,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Bg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ce(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(Vt(wr),Vt($i),Vt(Np))},a.\u0275prov=an({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Bg(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let Vg=!0,cu=!1;function Bd(){return cu=!0,Vg}function Vd(){if(cu)throw new Error("Cannot enable prod mode after platform setup.");Vg=!1}let p1=(()=>{class a{}return a.__NG_ELEMENT_ID__=ME,a})();function ME(a){return function NE(a,l,c){if(Qa(a)&&!c){const d=tn(a.index,l);return new yd(d,d)}return 47&a.type?new yd(l[16],l):null}(Hn(),Me(),16==(16&a))}class Hg{constructor(){}supports(l){return Kp(l)}create(l){return new PE(l)}}const jg=(a,l)=>l;class PE{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||jg}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const b=!d||c&&c.currentIndex<$g(d,f,m)?c:d,C=$g(b,f,m),E=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{m||(m=[]);const A=C-f,O=E-f;if(A!=O){for(let q=0;q<A;q++){const ne=q<m.length?m[q]:m[q]=0,ye=ne+q;O<=ye&&ye<A&&(m[q]=ne+1)}m[b.previousIndex]=O-A}}C!==E&&l(b,C,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Kp(l))throw new Ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,b,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],b=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,m,b,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,C),d=!0),c=c._next}else f=0,function Jh(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Fr()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{b=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,C,b,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,b,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new FE(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new y1),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new y1),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class FE{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _s{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class y1{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new _s,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $g(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class Zg{constructor(){}supports(l){return l instanceof Map||Z_(l)}create(){return new LE}}class LE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Z_(l)))throw new Ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const d=new uu(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class uu{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $d(){return new $v([new Hg])}let $v=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||$d()),deps:[[a,new St,new Pe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ce(901,!1)}}return a.\u0275prov=an({token:a,providedIn:"root",factory:$d}),a})();function UE(){return new du([new Zg])}let du=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||UE()),deps:[[a,new St,new Pe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ce(901,!1)}}return a.\u0275prov=an({token:a,providedIn:"root",factory:UE}),a})();const kA=d1(null,"core",[]);let PA=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Vt(ta))},a.\u0275mod=$t({type:a}),a.\u0275inj=Bt({}),a})();function FA(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function HA(a,l){const c=X(a),d=l.elementInjector||Oh();return new bd(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},3942:(mt,Ie,F)=>{F.d(Ie,{Z:()=>Ce});var s=F(2090),te=F(4859),P=F(9681),le=F(1877);class ce{constructor(ve,ge){this._delegate=ve,this.firebase=ge,(0,P._addComponent)(ve,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ve,ge=P._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(ve);return!ft.isInitialized()&&"EXPLICIT"===(null===(st=ft.getComponent())||void 0===st?void 0:st.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:ge})}_removeServiceInstance(ve,ge=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ge)}_addComponent(ve){(0,P._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,P._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function pe(){const lt=function fe(lt){const ve={},ge={__esModule:!0,initializeApp:function Ne(ze,j={}){const _e=P.initializeApp(ze,j);if((0,s.r3)(ve,_e.name))return ve[_e.name];const W=new lt(_e,ge);return ve[_e.name]=W,W},app:ft,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(ze){const j=ze.name,_e=j.replace("-compat","");if(P._registerComponent(ze)&&"PUBLIC"===ze.type){const W=(ee=ft())=>{if("function"!=typeof ee[_e])throw ie.create("invalid-app-argument",{appName:j});return ee[_e]()};void 0!==ze.serviceProps&&(0,s.ZB)(W,ze.serviceProps),ge[_e]=W,lt.prototype[_e]=function(...ee){return this._getService.bind(this,j).apply(this,ze.multipleInstances?ee:[])}}return"PUBLIC"===ze.type?ge[_e]:null},removeApp:function st(ze){delete ve[ze]},useAsService:function qe(ze,j){return"serverAuth"===j?null:j},modularAPIs:P}};function ft(ze){if(!(0,s.r3)(ve,ze=ze||P._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ze});return ve[ze]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function be(){return Object.keys(ve).map(ze=>ve[ze])}}),ft.App=lt,ge}(ce);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ve(ge){(0,s.ZB)(lt,ge)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),lt}(),Z=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function Re(lt){(0,P.registerVersion)("@firebase/app-compat","0.1.37",lt)}()},9681:(mt,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>vo,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>an,_apps:()=>mn,_clearComponents:()=>Cs,_components:()=>Sn,_getProvider:()=>Bt,_registerComponent:()=>Yi,_removeServiceInstance:()=>yn,deleteApp:()=>Ka,getApp:()=>Dr,getApps:()=>Ir,initializeApp:()=>Br,onLog:()=>Ws,registerVersion:()=>Bi,setLogLevel:()=>fi});var s=F(5861),te=F(4859),P=F(1877),le=F(2090),ce=F(8766);class he{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function ie(at){return"VERSION"===at.getComponent()?.type}(ot)){const xt=ot.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(ot=>ot).join(" ")}}const fe="@firebase/app",$=new P.Yd("@firebase/app"),Wt="[DEFAULT]",tt={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Sn=new Map;function nn(at,xe){try{at.container.addComponent(xe)}catch(ot){$.debug(`Component ${xe.name} failed to register with FirebaseApp ${at.name}`,ot)}}function an(at,xe){at.container.addOrOverwriteComponent(xe)}function Yi(at){const xe=at.name;if(Sn.has(xe))return $.debug(`There were multiple attempts to register component ${xe}.`),!1;Sn.set(xe,at);for(const ot of mn.values())nn(ot,at);return!0}function Bt(at,xe){const ot=at.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),at.container.getProvider(xe)}function yn(at,xe,ot=Wt){Bt(at,xe).clearInstance(ot)}function Cs(){Sn.clear()}const Ki=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class or{constructor(xe,ot,xt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const vo="9.12.1";function Br(at,xe={}){let ot=at;"object"!=typeof xe&&(xe={name:xe});const xt=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},xe),Dt=xt.name;if("string"!=typeof Dt||!Dt)throw Ki.create("bad-app-name",{appName:String(Dt)});if(ot||(ot=(0,le.aH)()),!ot)throw Ki.create("no-options");const $t=mn.get(Dt);if($t){if((0,le.vZ)(ot,$t.options)&&(0,le.vZ)(xt,$t.config))return $t;throw Ki.create("duplicate-app",{appName:Dt})}const G=new te.H0(Dt);for(const Y of Sn.values())G.addComponent(Y);const V=new or(ot,xt,G);return mn.set(Dt,V),V}function Dr(at=Wt){const xe=mn.get(at);if(!xe&&at===Wt)return Br();if(!xe)throw Ki.create("no-app",{appName:at});return xe}function Ir(){return Array.from(mn.values())}function Ka(at){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(at){const xe=at.name;mn.has(xe)&&(mn.delete(xe),yield Promise.all(at.container.getProviders().map(ot=>ot.delete())),at.isDeleted=!0)})).apply(this,arguments)}function Bi(at,xe,ot){var xt;let Dt=null!==(xt=tt[at])&&void 0!==xt?xt:at;ot&&(Dt+=`-${ot}`);const $t=Dt.match(/\s|\//),G=xe.match(/\s|\//);if($t||G){const V=[`Unable to register library "${Dt}" with version "${xe}":`];return $t&&V.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),$t&&G&&V.push("and"),G&&V.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void $.warn(V.join(" "))}Yi(new te.wA(`${Dt}-version`,()=>({library:Dt,version:xe}),"VERSION"))}function Ws(at,xe){if(null!==at&&"function"!=typeof at)throw Ki.create("invalid-log-argument");(0,P.Am)(at,xe)}function fi(at){(0,P.Ub)(at)}const Yn="firebase-heartbeat-store";let ei=null;function En(){return ei||(ei=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(at,xe)=>{0===xe&&at.createObjectStore(Yn)}}).catch(at=>{throw Ki.create("idb-open",{originalErrorMessage:at.message})})),ei}function _t(){return(_t=(0,s.Z)(function*(at){var xe;try{return(yield En()).transaction(Yn).objectStore(Yn).get(ti(at))}catch(ot){if(ot instanceof le.ZR)$.warn(ot.message);else{const xt=Ki.create("idb-get",{originalErrorMessage:null===(xe=ot)||void 0===xe?void 0:xe.message});$.warn(xt.message)}}})).apply(this,arguments)}function gn(at,xe){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(at,xe){var ot;try{const Dt=(yield En()).transaction(Yn,"readwrite");return yield Dt.objectStore(Yn).put(xe,ti(at)),Dt.done}catch(xt){if(xt instanceof le.ZR)$.warn(xt.message);else{const Dt=Ki.create("idb-set",{originalErrorMessage:null===(ot=xt)||void 0===ot?void 0:ot.message});$.warn(Dt.message)}}})).apply(this,arguments)}function ti(at){return`${at.name}!${at.options.appId}`}class Ys{constructor(xe){this.container=xe,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new hn(ot),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var xe=this;return(0,s.Z)(function*(){const xt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=dn();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!xe._heartbeatsCache.heartbeats.some($t=>$t.date===Dt))return xe._heartbeatsCache.heartbeats.push({date:Dt,agent:xt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter($t=>{const G=new Date($t.date).valueOf();return Date.now()-G<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,s.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const ot=dn(),{heartbeatsToSend:xt,unsentEntries:Dt}=function is(at,xe=1024){const ot=[];let xt=at.slice();for(const Dt of at){const $t=ot.find(G=>G.agent===Dt.agent);if($t){if($t.dates.push(Dt.date),pi(ot)>xe){$t.dates.pop();break}}else if(ot.push({agent:Dt.agent,dates:[Dt.date]}),pi(ot)>xe){ot.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:xt}}(xe._heartbeatsCache.heartbeats),$t=(0,le.L)(JSON.stringify({version:2,heartbeats:xt}));return xe._heartbeatsCache.lastSentHeartbeatDate=ot,Dt.length>0?(xe._heartbeatsCache.heartbeats=Dt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),$t})()}}function dn(){return(new Date).toISOString().substring(0,10)}class hn{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,s.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Tt(at){return _t.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var ot=this;return(0,s.Z)(function*(){var xt;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return gn(ot.app,{lastSentHeartbeatDate:null!==(xt=xe.lastSentHeartbeatDate)&&void 0!==xt?xt:$t.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var ot=this;return(0,s.Z)(function*(){var xt;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return gn(ot.app,{lastSentHeartbeatDate:null!==(xt=xe.lastSentHeartbeatDate)&&void 0!==xt?xt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...xe.heartbeats]})}})()}}function pi(at){return(0,le.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Ji(at){Yi(new te.wA("platform-logger",xe=>new he(xe),"PRIVATE")),Yi(new te.wA("heartbeat",xe=>new Ys(xe),"PRIVATE")),Bi(fe,"0.8.2",at),Bi(fe,"0.8.2","esm2017"),Bi("fire-js","")}("")},4859:(mt,Ie,F)=>{F.d(Ie,{H0:()=>fe,wA:()=>P});var s=F(5861),te=F(2090);class P{constructor($,Z,J){this.name=$,this.instanceFactory=Z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class ce{constructor($,Z){this.name=$,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const Z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(Z)){const J=new te.BH;if(this.instancesDeferred.set(Z,J),this.isInitialized(Z)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:Z});je&&J.resolve(je)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate($){var Z;const J=this.normalizeInstanceIdentifier($?.identifier),je=null!==(Z=$?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Re){if(je)return null;throw Re}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(pe){return"EAGER"===pe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Z,J]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(Z);try{const Re=this.getOrInitializeService({instanceIdentifier:je});J.resolve(Re)}catch{}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,s.Z)(function*(){const Z=Array.from($.instances.values());yield Promise.all([...Z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:Z={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:J,options:Z});for(const[Re,Ce]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Re)&&Ce.resolve(je);return je}onInit($,Z){var J;const je=this.normalizeInstanceIdentifier(Z),Re=null!==(J=this.onInitCallbacks.get(je))&&void 0!==J?J:new Set;Re.add($),this.onInitCallbacks.set(je,Re);const Ce=this.instances.get(je);return Ce&&$(Ce,je),()=>{Re.delete($)}}invokeOnInitCallbacks($,Z){const J=this.onInitCallbacks.get(Z);if(J)for(const je of J)try{je($,Z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:Z={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=$,pe===le?void 0:pe),options:Z}),this.instances.set($,J),this.instancesOptions.set($,Z),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch{}var pe;return J||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const Z=this.getProvider($.name);if(Z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);Z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const Z=new ce($,this);return this.providers.set($,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Ie,F)=>{F.d(Ie,{Am:()=>pe,Ub:()=>fe,Yd:()=>ie,in:()=>te});const s=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const P={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,ce={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=($,Z,...J)=>{if(Z<$.logLevel)return;const je=(new Date).toISOString(),Re=ce[Z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Re](`[${je}]  ${$.name}:`,...J)};class ie{constructor(Z){this.name=Z,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in te))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?P[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...Z),this._logHandler(this,te.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...Z),this._logHandler(this,te.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,te.INFO,...Z),this._logHandler(this,te.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,te.WARN,...Z),this._logHandler(this,te.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...Z),this._logHandler(this,te.ERROR,...Z)}}function fe($){s.forEach(Z=>{Z.setLogLevel($)})}function pe($,Z){for(const J of s){let je=null;Z&&Z.level&&(je=P[Z.level]),J.userLogHandler=null===$?null:(Re,Ce,...lt)=>{const ve=lt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(je??Re.logLevel)&&$({level:te[Ce].toLowerCase(),message:ve,args:lt,type:Re.name})}}}},8766:(mt,Ie,F)=>{F.d(Ie,{Lj:()=>Ne,X3:()=>ft});var s=F(5861);let P,le;const ie=new WeakMap,fe=new WeakMap,pe=new WeakMap,$=new WeakMap,Z=new WeakMap;let Re={get(j,_e,W){if(j instanceof IDBTransaction){if("done"===_e)return fe.get(j);if("objectStoreNames"===_e)return j.objectStoreNames||pe.get(j);if("store"===_e)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ge(j[_e])},set:(j,_e,W)=>(j[_e]=W,!0),has:(j,_e)=>j instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in j};function ve(j){return"function"==typeof j?function lt(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(..._e){return j.apply(st(this),_e),ge(ie.get(this))}:function(..._e){return ge(j.apply(st(this),_e))}:function(_e,...W){const ee=j.call(st(this),_e,...W);return pe.set(ee,_e.sort?_e.sort():[_e]),ge(ee)}}(j):(j instanceof IDBTransaction&&function je(j){if(fe.has(j))return;const _e=new Promise((W,ee)=>{const oe=()=>{j.removeEventListener("complete",re),j.removeEventListener("error",Ve),j.removeEventListener("abort",Ve)},re=()=>{W(),oe()},Ve=()=>{ee(j.error||new DOMException("AbortError","AbortError")),oe()};j.addEventListener("complete",re),j.addEventListener("error",Ve),j.addEventListener("abort",Ve)});fe.set(j,_e)}(j),((j,_e)=>_e.some(W=>j instanceof W))(j,function ce(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Re):j)}function ge(j){if(j instanceof IDBRequest)return function J(j){const _e=new Promise((W,ee)=>{const oe=()=>{j.removeEventListener("success",re),j.removeEventListener("error",Ve)},re=()=>{W(ge(j.result)),oe()},Ve=()=>{ee(j.error),oe()};j.addEventListener("success",re),j.addEventListener("error",Ve)});return _e.then(W=>{W instanceof IDBCursor&&ie.set(W,j)}).catch(()=>{}),Z.set(_e,j),_e}(j);if($.has(j))return $.get(j);const _e=ve(j);return _e!==j&&($.set(j,_e),Z.set(_e,j)),_e}const st=j=>Z.get(j);function ft(j,_e,{blocked:W,upgrade:ee,blocking:oe,terminated:re}={}){const Ve=indexedDB.open(j,_e),Be=ge(Ve);return ee&&Ve.addEventListener("upgradeneeded",wt=>{ee(ge(Ve.result),wt.oldVersion,wt.newVersion,ge(Ve.transaction))}),W&&Ve.addEventListener("blocked",()=>W()),Be.then(wt=>{re&&wt.addEventListener("close",()=>re()),oe&&wt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Be}function Ne(j,{blocked:_e}={}){const W=indexedDB.deleteDatabase(j);return _e&&W.addEventListener("blocked",()=>_e()),ge(W).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],qe=new Map;function ze(j,_e){if(!(j instanceof IDBDatabase)||_e in j||"string"!=typeof _e)return;if(qe.get(_e))return qe.get(_e);const W=_e.replace(/FromIndex$/,""),ee=_e!==W,oe=De.includes(W);if(!(W in(ee?IDBIndex:IDBObjectStore).prototype)||!oe&&!be.includes(W))return;const re=function(){var Ve=(0,s.Z)(function*(Be,...wt){const on=this.transaction(Be,oe?"readwrite":"readonly");let Wt=on.store;return ee&&(Wt=Wt.index(wt.shift())),(yield Promise.all([Wt[W](...wt),oe&&on.done]))[0]});return function(wt){return Ve.apply(this,arguments)}}();return qe.set(_e,re),re}!function Ce(j){Re=j(Re)}(j=>({...j,get:(_e,W,ee)=>ze(_e,W)||j.get(_e,W,ee),has:(_e,W)=>!!ze(_e,W)||j.has(_e,W)}))},5861:(mt,Ie,F)=>{function s(P,le,ce,he,ie,fe,pe){try{var $=P[fe](pe),Z=$.value}catch(J){return void ce(J)}$.done?le(Z):Promise.resolve(Z).then(he,ie)}function te(P){return function(){var le=this,ce=arguments;return new Promise(function(he,ie){var fe=P.apply(le,ce);function pe(Z){s(fe,he,ie,pe,$,"next",Z)}function $(Z){s(fe,he,ie,pe,$,"throw",Z)}pe(void 0)})}}F.d(Ie,{Z:()=>te})}},mt=>{mt(mt.s=6868)}]);